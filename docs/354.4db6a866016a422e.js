"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[354],{9354:(b,p,o)=>{o.r(p),o.d(p,{AuthModule:()=>F});var f=o(6019),g=o(1659),l=o(9133),t=o(3668),U=o(5299),v=o(4613),r=o(888),h=o(8167),a=o(138),u=o(86),e=o(9112);function c(n,m){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"\u0426\u0435 \u043f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435"),t.qZA())}function A(n,m){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442"),t.qZA())}function Z(n,m){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"\u0426\u0435 \u043f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435"),t.qZA())}const C=[{path:"",component:(()=>{class n{constructor(s,i,d){this.loginService=s,this.router=i,this.notifierService=d,this.hide=!0}ngOnInit(){this.loginForm=new l.cw({password:new l.NI("",[l.kI.required,l.kI.minLength(5)]),email:new l.NI("",[l.kI.required,l.kI.email])})}ngOnDestroy(){this.aSUb&&this.aSUb.unsubscribe()}resetDialog(){this.loginForm.reset()}onSubmit(){this.aSUb=this.loginService.login({email:this.loginForm.value.email,password:this.loginForm.value.password}).subscribe(i=>{i&&(this.router.navigate(["/admin"]),this.notifierService.showSuccessNotification("\u0412\u0456\u0442\u0430\u0454\u043c\u043e \u0432 \u043e\u0441\u043e\u0431\u0438\u0441\u0442\u043e\u043c\u0443 \u043a\u0430\u0431\u0456\u043d\u0435\u0442\u0456","Ok"))}),setTimeout(()=>this.loginForm.reset(),500)}}return n.\u0275fac=function(s){return new(s||n)(t.Y36(U.u),t.Y36(g.F0),t.Y36(v.l))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-auth"]],decls:24,vars:9,consts:[["align","center",1,"example-card"],["align","center"],["action","",3,"formGroup","ngSubmit"],["appearance","fill"],["formControlName","email","matInput","","placeholder","pat@example.com","required",""],[4,"ngIf"],["formControlName","password","matInput","",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["mat-button","","type","submit",3,"disabled","click"],["mat-button","",3,"click"]],template:function(s,i){1&s&&(t.TgZ(0,"mat-card",0),t.TgZ(1,"mat-card-title"),t._uU(2,"Login"),t.qZA(),t.TgZ(3,"mat-card-content",1),t.TgZ(4,"form",2),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(5,"mat-form-field",3),t.TgZ(6,"mat-label"),t._uU(7,"Email"),t.qZA(),t._UZ(8,"input",4),t.YNc(9,c,2,0,"mat-error",5),t.YNc(10,A,2,0,"mat-error",5),t.qZA(),t.TgZ(11,"mat-form-field",3),t.TgZ(12,"mat-label"),t._uU(13,"\u041f\u0430\u0440\u043e\u043b\u044c"),t.qZA(),t._UZ(14,"input",6),t.TgZ(15,"button",7),t.NdJ("click",function(){return i.hide=!i.hide}),t.TgZ(16,"mat-icon"),t._uU(17),t.qZA(),t.qZA(),t.YNc(18,Z,2,0,"mat-error",5),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"mat-card-actions"),t.TgZ(20,"button",8),t.NdJ("click",function(){return i.onSubmit()}),t._uU(21,"\u0423\u0432\u0456\u0439\u0442\u0438"),t.qZA(),t.TgZ(22,"button",9),t.NdJ("click",function(){return i.resetDialog()}),t._uU(23,"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438"),t.qZA(),t.qZA(),t.qZA()),2&s&&(t.xp6(4),t.Q6J("formGroup",i.loginForm),t.xp6(5),t.Q6J("ngIf",i.loginForm.controls.email.hasError("required")),t.xp6(1),t.Q6J("ngIf",i.loginForm.controls.email.hasError("email")),t.xp6(4),t.Q6J("type",i.hide?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",i.hide),t.xp6(2),t.Oqu(i.hide?"visibility_off":"visibility"),t.xp6(1),t.Q6J("ngIf",i.loginForm.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",i.loginForm.invalid||i.loginForm.disabled))},directives:[r.a8,r.n5,r.dn,l._Y,l.JL,l.sg,h.KE,h.hX,l.Fj,a.Nt,l.JJ,l.u,l.Q7,f.O5,u.lW,h.R9,e.Hw,r.hq,h.TO],styles:[".example-card[_ngcontent-%COMP%]{max-width:400px;background-color:#60b4f034;margin:200px auto;border:1px solid #4788b6}mat-form-field[_ngcontent-%COMP%]{width:280px}mat-label[_ngcontent-%COMP%]{color:#4788b6}mat-card-title[_ngcontent-%COMP%]{margin-bottom:50px;color:#d68427}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#4788b6}mat-form-field[_ngcontent-%COMP%]{margin-bottom:10px}mat-form-field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#d68427}"]}),n})()}];let I=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz.forChild(C)],g.Bz]}),n})();var T=o(5304);let F=(()=>{class n{}return n.\u0275fac=function(s){return new(s||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[f.ez,I,r.QW,h.lN,l.UX,a.c,e.Ps,u.ot,T.Is]]}),n})()},5299:(b,p,o)=>{o.d(p,{u:()=>h});var f=o(273),g=o(7384),t=o(3668),U=o(4522),v=o(2924);let r=new class{constructor(){this.reset()}baseUrl(){return this.url+="http://localhost:3200/api",this}animal(){return this.url+="/animals",this}filter(u){return this.url+=`/filter//?${u}`,this}vetfilter(u){return this.url+=`/filter/vetfilter/?${u}`,this}vet(){return this.url+="/vet",this}addId(u){return this.url+=`/${u}`,this}services(){return this.url+="/services",this}login(){return this.url+="/login",this}volonteers(){return this.url+="/volunteers",this}countElements(){return this.url+="/countElements",this}getUrl(){let u=this.url;return this.reset(),u}reset(){this.url=""}},h=(()=>{class a{constructor(e,c){this.http=e,this.loginService=c,this.error=new f.x}getAnimalsFilterInfo(e){return this.http.get(r.baseUrl().animal().filter(e).getUrl())}getVetsFilterInfo(e){return this.http.get(r.baseUrl().vet().vetfilter(e).getUrl())}getAnimalsInfo(){return this.http.get(r.baseUrl().animal().getUrl())}getAnimalsUnitInfo(e){return this.http.get(r.baseUrl().animal().addId(e).getUrl())}postNewAnimal(e){return this.http.post(r.baseUrl().animal().getUrl(),e)}putEditAnimal(e){return this.http.put(r.baseUrl().animal().getUrl(),e)}deleteAnimal(e){return this.http.delete(r.baseUrl().animal().addId(e).getUrl())}getCounts(){return this.http.get(r.baseUrl().countElements().getUrl())}getVetDetails(){return this.http.get(r.baseUrl().vet().getUrl())}getVetsUnitInfo(e){return this.http.get(r.baseUrl().vet().addId(e).getUrl())}postNewClinic(e){return this.http.post(r.baseUrl().vet().getUrl(),e)}getVetServices(){return this.http.get(r.baseUrl().services().getUrl())}deleteClinic(e){return this.http.delete(r.baseUrl().vet().addId(e).getUrl())}putUpdateVet(e){return this.http.put(r.baseUrl().vet().getUrl(),e)}getVolonteersInfo(){return this.http.get(r.baseUrl().volonteers().getUrl())}getVolonteersUnitInfo(e){return this.http.get(r.baseUrl().volonteers().addId(e).getUrl())}putEditVolunteer(e){return this.http.put(r.baseUrl().volonteers().getUrl(),e)}deleteVolunteer(e){return this.http.delete(r.baseUrl().volonteers().addId(e).getUrl())}postNewVolunteer(e){return this.http.post(r.baseUrl().volonteers().getUrl(),e)}login(e){return this.http.post(r.baseUrl().login().getUrl(),e).pipe((0,g.b)(({token:c})=>{localStorage.setItem("token",c),this.loginService.setToken(c)}))}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(U.eN),t.LFG(v.r))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);