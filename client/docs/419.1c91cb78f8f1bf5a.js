var iP=Object.defineProperty,qw=Object.getOwnPropertySymbols,nP=Object.prototype.hasOwnProperty,rP=Object.prototype.propertyIsEnumerable,$w=(we,_e,Xt)=>_e in we?iP(we,_e,{enumerable:!0,configurable:!0,writable:!0,value:Xt}):we[_e]=Xt,Ad=(we,_e)=>{for(var Xt in _e||(_e={}))nP.call(_e,Xt)&&$w(we,Xt,_e[Xt]);if(qw)for(var Xt of qw(_e))rP.call(_e,Xt)&&$w(we,Xt,_e[Xt]);return we};(self.webpackChunkclient=self.webpackChunkclient||[]).push([[419],{7905:(we,_e,Xt)=>{"use strict";Xt.d(_e,{hO:()=>N,xv:()=>J,Dh:()=>rt,GT:()=>$,cc:()=>O,on:()=>K,pX:()=>Y});var Nt=Xt(3668),qt=Xt(7892),wt=Xt(7233);we=Xt.hmd(we);const o=["ngOnDestroy"],Y=(v,_,T,y={})=>new Proxy(v,{get:(C,M)=>T.runOutsideAngular(()=>{var D;if(v[M])return(null===(D=null==y?void 0:y.spy)||void 0===D?void 0:D.get)&&y.spy.get(M,v[M]),v[M];if(o.indexOf(M)>-1)return()=>{};const x=_.toPromise().then(f=>{const m=f&&f[M];return"function"==typeof m?m.bind(f):m&&m.then?m.then(r=>T.run(()=>r)):T.run(()=>m)});return new Proxy(()=>{},{get:(f,m)=>x[m],apply:(f,m,r)=>x.then(p=>{var a;const n=p&&p(...r);return(null===(a=null==y?void 0:y.spy)||void 0===a?void 0:a.apply)&&y.spy.apply(M,r,n),n})})})}),$=(v,_)=>{_.forEach(T=>{Object.getOwnPropertyNames(T.prototype||T).forEach(y=>{Object.defineProperty(v.prototype,y,Object.getOwnPropertyDescriptor(T.prototype||T,y))})})};class q{constructor(_){return _}}const rt=new Nt.OlP("angularfire2.app.options"),J=new Nt.OlP("angularfire2.app.name");function K(v,_,T){const C="object"==typeof T&&T||{};C.name=C.name||"string"==typeof T&&T||"[DEFAULT]";const D=qt.Z.apps.filter(x=>x&&x.name===C.name)[0]||_.runOutsideAngular(()=>qt.Z.initializeApp(v,C));try{JSON.stringify(v)!==JSON.stringify(D.options)&&X("error",`${D.name} Firebase App already initialized with different options${we.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(x){}return new q(D)}const X=(v,..._)=>{(0,Nt.X6Q)()&&"undefined"!=typeof console&&console[v](..._)},F={provide:q,useFactory:K,deps:[rt,Nt.R0b,[new Nt.FiY,J]]};let N=(()=>{class v{constructor(T){qt.Z.registerVersion("angularfire",wt.q4.full,"core"),qt.Z.registerVersion("angularfire",wt.q4.full,"app-compat"),qt.Z.registerVersion("angular",Nt.q4F.full,T.toString())}static initializeApp(T,y){return{ngModule:v,providers:[{provide:rt,useValue:T},{provide:J,useValue:y}]}}}return v.\u0275fac=function(T){return new(T||v)(Nt.LFG(Nt.Lbi))},v.\u0275mod=Nt.oAB({type:v}),v.\u0275inj=Nt.cJS({providers:[F]}),v})();function O(v,_,T,y,C){const[,M,D]=globalThis.\u0275AngularfireInstanceCache.find(x=>x[0]===v)||[];if(M)return function(v,_){try{return v.toString()===_.toString()}catch(T){return v===_}}(C,D)||(d("error",`${_} was already initialized on the ${T} Firebase App with different settings.${g?" You may need to reload as Firebase is not HMR aware.":""}`),d("warn",{is:C,was:D})),M;{const x=y();return globalThis.\u0275AngularfireInstanceCache.push([v,x,C]),x}}const g=!!we.hot,d=(v,..._)=>{(0,Nt.X6Q)()&&"undefined"!=typeof console&&console[v](..._)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7233:(we,_e,Xt)=>{"use strict";Xt.d(_e,{q4:()=>tc,iC:()=>gs,fc:()=>po,HU:()=>pr,vb:()=>tu,JM:()=>ec});var Nt=Xt(3668),qt=Xt(7713),wt=Xt(4553),o=Xt(1572),Y=Xt(4213),$=Xt(1177),q=Xt(3855),rt=Xt(4995);const J="@firebase/installations",K="0.5.5",F=`w:${K}`,N="FIS_v2",_=new Y.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function T(xt){return xt instanceof Y.ZR&&xt.code.includes("request-failed")}function y({projectId:xt}){return`https://firebaseinstallations.googleapis.com/v1/projects/${xt}/installations`}function C(xt){return{token:xt.token,requestStatus:2,expiresIn:p(xt.expiresIn),creationTime:Date.now()}}function M(xt,St){return D.apply(this,arguments)}function D(){return(D=(0,wt.Z)(function*(xt,St){const Bt=(yield St.json()).error;return _.create("request-failed",{requestName:xt,serverCode:Bt.code,serverMessage:Bt.message,serverStatus:Bt.status})})).apply(this,arguments)}function x({apiKey:xt}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":xt})}function f(xt,{refreshToken:St}){const Ot=x(xt);return Ot.append("Authorization",function(xt){return`${N} ${xt}`}(St)),Ot}function m(xt){return r.apply(this,arguments)}function r(){return(r=(0,wt.Z)(function*(xt){const St=yield xt();return St.status>=500&&St.status<600?xt():St})).apply(this,arguments)}function p(xt){return Number(xt.replace("s","000"))}function n(xt,St){return h.apply(this,arguments)}function h(){return(h=(0,wt.Z)(function*(xt,{fid:St}){const Ot=y(xt),$t={method:"POST",headers:x(xt),body:JSON.stringify({fid:St,authVersion:N,appId:xt.appId,sdkVersion:F})},re=yield m(()=>fetch(Ot,$t));if(re.ok){const fe=yield re.json();return{fid:fe.fid||St,registrationStatus:2,refreshToken:fe.refreshToken,authToken:C(fe.authToken)}}throw yield M("Create Installation",re)})).apply(this,arguments)}function l(xt){return new Promise(St=>{setTimeout(St,xt)})}const P=/^[cdef][\w-]{21}$/;function L(){try{const xt=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(xt),xt[0]=112+xt[0]%16;const Ot=function(xt){return function(xt){return btoa(String.fromCharCode(...xt)).replace(/\+/g,"-").replace(/\//g,"_")}(xt).substr(0,22)}(xt);return P.test(Ot)?Ot:""}catch(xt){return""}}function B(xt){return`${xt.appName}!${xt.appId}`}const c=new Map;function u(xt,St){const Ot=B(xt);G(Ot,St),function(xt,St){const Ot=(!b&&"BroadcastChannel"in self&&(b=new BroadcastChannel("[Firebase] FID Change"),b.onmessage=xt=>{G(xt.data.key,xt.data.fid)}),b);Ot&&Ot.postMessage({key:xt,fid:St}),0===c.size&&b&&(b.close(),b=null)}(Ot,St)}function G(xt,St){const Ot=c.get(xt);if(Ot)for(const Bt of Ot)Bt(St)}let b=null;const nt="firebase-installations-store";let it=null;function ot(){return it||(it=(0,rt.openDb)("firebase-installations-database",1,xt=>{0===xt.oldVersion&&xt.createObjectStore(nt)})),it}function at(xt,St){return mt.apply(this,arguments)}function mt(){return(mt=(0,wt.Z)(function*(xt,St){const Ot=B(xt),Yt=(yield ot()).transaction(nt,"readwrite"),$t=Yt.objectStore(nt),re=yield $t.get(Ot);return yield $t.put(St,Ot),yield Yt.complete,(!re||re.fid!==St.fid)&&u(xt,St.fid),St})).apply(this,arguments)}function _t(xt){return yt.apply(this,arguments)}function yt(){return(yt=(0,wt.Z)(function*(xt){const St=B(xt),Bt=(yield ot()).transaction(nt,"readwrite");yield Bt.objectStore(nt).delete(St),yield Bt.complete})).apply(this,arguments)}function ut(xt,St){return ct.apply(this,arguments)}function ct(){return(ct=(0,wt.Z)(function*(xt,St){const Ot=B(xt),Yt=(yield ot()).transaction(nt,"readwrite"),$t=Yt.objectStore(nt),re=yield $t.get(Ot),fe=St(re);return void 0===fe?yield $t.delete(Ot):yield $t.put(fe,Ot),yield Yt.complete,fe&&(!re||re.fid!==fe.fid)&&u(xt,fe.fid),fe})).apply(this,arguments)}function H(xt){return tt.apply(this,arguments)}function tt(){return(tt=(0,wt.Z)(function*(xt){let St;const Ot=yield ut(xt,Bt=>{const Yt=lt(Bt),$t=dt(xt,Yt);return St=$t.registrationPromise,$t.installationEntry});return""===Ot.fid?{installationEntry:yield St}:{installationEntry:Ot,registrationPromise:St}})).apply(this,arguments)}function lt(xt){return Rt(xt||{fid:L(),registrationStatus:0})}function dt(xt,St){if(0===St.registrationStatus){if(!navigator.onLine)return{installationEntry:St,registrationPromise:Promise.reject(_.create("app-offline"))};const Ot={fid:St.fid,registrationStatus:1,registrationTime:Date.now()},Bt=function(xt,St){return bt.apply(this,arguments)}(xt,Ot);return{installationEntry:Ot,registrationPromise:Bt}}return 1===St.registrationStatus?{installationEntry:St,registrationPromise:Tt(xt)}:{installationEntry:St}}function bt(){return(bt=(0,wt.Z)(function*(xt,St){try{return at(xt,yield n(xt,St))}catch(Ot){throw T(Ot)&&409===Ot.customData.serverCode?yield _t(xt):yield at(xt,{fid:St.fid,registrationStatus:0}),Ot}})).apply(this,arguments)}function Tt(xt){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,wt.Z)(function*(xt){let St=yield jt(xt);for(;1===St.registrationStatus;)yield l(100),St=yield jt(xt);if(0===St.registrationStatus){const{installationEntry:Ot,registrationPromise:Bt}=yield H(xt);return Bt||Ot}return St})).apply(this,arguments)}function jt(xt){return ut(xt,St=>{if(!St)throw _.create("installation-not-found");return Rt(St)})}function Rt(xt){return function(xt){return 1===xt.registrationStatus&&xt.registrationTime+1e4<Date.now()}(xt)?{fid:xt.fid,registrationStatus:0}:xt}function Ht(xt,St){return It.apply(this,arguments)}function It(){return(It=(0,wt.Z)(function*({appConfig:xt,platformLoggerProvider:St},Ot){const Bt=Pt(xt,Ot),Yt=f(xt,Ot),$t=St.getImmediate({optional:!0});$t&&Yt.append("x-firebase-client",$t.getPlatformInfoString());const fe={method:"POST",headers:Yt,body:JSON.stringify({installation:{sdkVersion:F}})},ge=yield m(()=>fetch(Bt,fe));if(ge.ok)return C(yield ge.json());throw yield M("Generate Auth Token",ge)})).apply(this,arguments)}function Pt(xt,{fid:St}){return`${y(xt)}/${St}/authTokens:generate`}function kt(xt){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,wt.Z)(function*(xt,St=!1){let Ot;const Bt=yield ut(xt.appConfig,$t=>{if(!de($t))throw _.create("not-registered");const re=$t.authToken;if(!St&&Ae(re))return $t;if(1===re.requestStatus)return Ot=zt(xt,St),$t;{if(!navigator.onLine)throw _.create("app-offline");const fe=xi($t);return Ot=pe(xt,fe),fe}});return Ot?yield Ot:Bt.authToken})).apply(this,arguments)}function zt(xt,St){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,wt.Z)(function*(xt,St){let Ot=yield ie(xt.appConfig);for(;1===Ot.authToken.requestStatus;)yield l(100),Ot=yield ie(xt.appConfig);const Bt=Ot.authToken;return 0===Bt.requestStatus?kt(xt,St):Bt})).apply(this,arguments)}function ie(xt){return ut(xt,St=>{if(!de(St))throw _.create("not-registered");return function(xt){return 1===xt.requestStatus&&xt.requestTime+1e4<Date.now()}(St.authToken)?Object.assign(Object.assign({},St),{authToken:{requestStatus:0}}):St})}function pe(xt,St){return ne.apply(this,arguments)}function ne(){return(ne=(0,wt.Z)(function*(xt,St){try{const Ot=yield Ht(xt,St),Bt=Object.assign(Object.assign({},St),{authToken:Ot});return yield at(xt.appConfig,Bt),Ot}catch(Ot){if(!T(Ot)||401!==Ot.customData.serverCode&&404!==Ot.customData.serverCode){const Bt=Object.assign(Object.assign({},St),{authToken:{requestStatus:0}});yield at(xt.appConfig,Bt)}else yield _t(xt.appConfig);throw Ot}})).apply(this,arguments)}function de(xt){return void 0!==xt&&2===xt.registrationStatus}function Ae(xt){return 2===xt.requestStatus&&!function(xt){const St=Date.now();return St<xt.creationTime||xt.creationTime+xt.expiresIn<St+36e5}(xt)}function xi(xt){const St={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},xt),{authToken:St})}function Is(){return(Is=(0,wt.Z)(function*(xt){const St=xt,{installationEntry:Ot,registrationPromise:Bt}=yield H(St.appConfig);return Bt?Bt.catch(console.error):kt(St).catch(console.error),Ot.fid})).apply(this,arguments)}function Vr(){return(Vr=(0,wt.Z)(function*(xt,St=!1){const Ot=xt;return yield Ed(Ot.appConfig),(yield kt(Ot,St)).token})).apply(this,arguments)}function Ed(xt){return un.apply(this,arguments)}function un(){return(un=(0,wt.Z)(function*(xt){const{registrationPromise:St}=yield H(xt);St&&(yield St)})).apply(this,arguments)}function Lo(xt){return _.create("missing-app-config-values",{valueName:xt})}const Rh="installations";(0,o._registerComponent)(new $.wA(Rh,xt=>{const St=xt.getProvider("app").getImmediate(),Ot=function(xt){if(!xt||!xt.options)throw Lo("App Configuration");if(!xt.name)throw Lo("App Name");const St=["projectId","apiKey","appId"];for(const Ot of St)if(!xt.options[Ot])throw Lo(Ot);return{appName:xt.name,projectId:xt.options.projectId,apiKey:xt.options.apiKey,appId:xt.options.appId}}(St);return{app:St,appConfig:Ot,platformLoggerProvider:(0,o._getProvider)(St,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new $.wA("installations-internal",xt=>{const St=xt.getProvider("app").getImmediate(),Ot=(0,o._getProvider)(St,Rh).getImmediate();return{getId:()=>function(xt){return Is.apply(this,arguments)}(Ot),getToken:Yt=>function(xt){return Vr.apply(this,arguments)}(Ot,Yt)}},"PRIVATE")),(0,o.registerVersion)(J,K),(0,o.registerVersion)(J,K,"esm2017");const wn="@firebase/remote-config",fi=new Y.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Bh{constructor(St,Ot,Bt,Yt){this.client=St,this.storage=Ot,this.storageCache=Bt,this.logger=Yt}isCachedDataFresh(St,Ot){if(!Ot)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Bt=Date.now()-Ot,Yt=Bt<=St;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Bt}. Cache max age millis (minimumFetchIntervalMillis setting): ${St}. Is cache hit: ${Yt}.`),Yt}fetch(St){var Ot=this;return(0,wt.Z)(function*(){const[Bt,Yt]=yield Promise.all([Ot.storage.getLastSuccessfulFetchTimestampMillis(),Ot.storage.getLastSuccessfulFetchResponse()]);if(Yt&&Ot.isCachedDataFresh(St.cacheMaxAgeMillis,Bt))return Yt;St.eTag=Yt&&Yt.eTag;const $t=yield Ot.client.fetch(St),re=[Ot.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===$t.status&&re.push(Ot.storage.setLastSuccessfulFetchResponse($t)),yield Promise.all(re),$t})()}}function Qa(xt=navigator){return xt.languages&&xt.languages[0]||xt.language}class Cn{constructor(St,Ot,Bt,Yt,$t,re){this.firebaseInstallations=St,this.sdkVersion=Ot,this.namespace=Bt,this.projectId=Yt,this.apiKey=$t,this.appId=re}fetch(St){var Ot=this;return(0,wt.Z)(function*(){const[Bt,Yt]=yield Promise.all([Ot.firebaseInstallations.getId(),Ot.firebaseInstallations.getToken()]),re=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ot.projectId}/namespaces/${Ot.namespace}:fetch?key=${Ot.apiKey}`,fe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":St.eTag||"*"},ge={sdk_version:Ot.sdkVersion,app_instance_id:Bt,app_instance_id_token:Yt,app_id:Ot.appId,language_code:Qa()},Ie={method:"POST",headers:fe,body:JSON.stringify(ge)},Le=fetch(re,Ie),Si=new Promise((vn,Fr)=>{St.signal.addEventListener(()=>{const jl=new Error("The operation was aborted.");jl.name="AbortError",Fr(jl)})});let mi;try{yield Promise.race([Le,Si]),mi=yield Le}catch(vn){let Fr="fetch-client-network";throw"AbortError"===vn.name&&(Fr="fetch-timeout"),fi.create(Fr,{originalErrorMessage:vn.message})}let ti=mi.status;const fr=mi.headers.get("ETag")||void 0;let gr,Br;if(200===mi.status){let vn;try{vn=yield mi.json()}catch(Fr){throw fi.create("fetch-client-parse",{originalErrorMessage:Fr.message})}gr=vn.entries,Br=vn.state}if("INSTANCE_STATE_UNSPECIFIED"===Br?ti=500:"NO_CHANGE"===Br?ti=304:("NO_TEMPLATE"===Br||"EMPTY_CONFIG"===Br)&&(gr={}),304!==ti&&200!==ti)throw fi.create("fetch-status",{httpStatus:ti});return{status:ti,eTag:fr,config:gr}})()}}class Ls{constructor(St,Ot){this.client=St,this.storage=Ot}fetch(St){var Ot=this;return(0,wt.Z)(function*(){const Bt=(yield Ot.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ot.attemptFetch(St,Bt)})()}attemptFetch(St,{throttleEndTimeMillis:Ot,backoffCount:Bt}){var Yt=this;return(0,wt.Z)(function*(){yield function(xt,St){return new Promise((Ot,Bt)=>{const Yt=Math.max(St-Date.now(),0),$t=setTimeout(Ot,Yt);xt.addEventListener(()=>{clearTimeout($t),Bt(fi.create("fetch-throttle",{throttleEndTimeMillis:St}))})})}(St.signal,Ot);try{const $t=yield Yt.client.fetch(St);return yield Yt.storage.deleteThrottleMetadata(),$t}catch($t){if(!function(xt){if(!(xt instanceof Y.ZR&&xt.customData))return!1;const St=Number(xt.customData.httpStatus);return 429===St||500===St||503===St||504===St}($t))throw $t;const re={throttleEndTimeMillis:Date.now()+(0,Y.$s)(Bt),backoffCount:Bt+1};return yield Yt.storage.setThrottleMetadata(re),Yt.attemptFetch(St,re)}})()}}class jo{constructor(St,Ot,Bt,Yt,$t){this.app=St,this._client=Ot,this._storageCache=Bt,this._storage=Yt,this._logger=$t,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sr(xt,St){const Ot=xt.target.error||void 0;return fi.create(St,{originalErrorMessage:Ot&&Ot.message})}const Cr="app_namespace_store";class Jr{constructor(St,Ot,Bt,Yt=function(){return new Promise((xt,St)=>{try{const Ot=indexedDB.open("firebase_remote_config",1);Ot.onerror=Bt=>{St(sr(Bt,"storage-open"))},Ot.onsuccess=Bt=>{xt(Bt.target.result)},Ot.onupgradeneeded=Bt=>{0===Bt.oldVersion&&Bt.target.result.createObjectStore(Cr,{keyPath:"compositeKey"})}}catch(Ot){St(fi.create("storage-open",{originalErrorMessage:Ot}))}})}()){this.appId=St,this.appName=Ot,this.namespace=Bt,this.openDbPromise=Yt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(St){return this.set("last_fetch_status",St)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(St){return this.set("last_successful_fetch_timestamp_millis",St)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(St){return this.set("last_successful_fetch_response",St)}getActiveConfig(){return this.get("active_config")}setActiveConfig(St){return this.set("active_config",St)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(St){return this.set("active_config_etag",St)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(St){return this.set("throttle_metadata",St)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(St){var Ot=this;return(0,wt.Z)(function*(){const Bt=yield Ot.openDbPromise;return new Promise((Yt,$t)=>{const fe=Bt.transaction([Cr],"readonly").objectStore(Cr),ge=Ot.createCompositeKey(St);try{const Ie=fe.get(ge);Ie.onerror=Le=>{$t(sr(Le,"storage-get"))},Ie.onsuccess=Le=>{const Si=Le.target.result;Yt(Si?Si.value:void 0)}}catch(Ie){$t(fi.create("storage-get",{originalErrorMessage:Ie&&Ie.message}))}})})()}set(St,Ot){var Bt=this;return(0,wt.Z)(function*(){const Yt=yield Bt.openDbPromise;return new Promise(($t,re)=>{const ge=Yt.transaction([Cr],"readwrite").objectStore(Cr),Ie=Bt.createCompositeKey(St);try{const Le=ge.put({compositeKey:Ie,value:Ot});Le.onerror=Si=>{re(sr(Si,"storage-set"))},Le.onsuccess=()=>{$t()}}catch(Le){re(fi.create("storage-set",{originalErrorMessage:Le&&Le.message}))}})})()}delete(St){var Ot=this;return(0,wt.Z)(function*(){const Bt=yield Ot.openDbPromise;return new Promise((Yt,$t)=>{const fe=Bt.transaction([Cr],"readwrite").objectStore(Cr),ge=Ot.createCompositeKey(St);try{const Ie=fe.delete(ge);Ie.onerror=Le=>{$t(sr(Le,"storage-delete"))},Ie.onsuccess=()=>{Yt()}}catch(Ie){$t(fi.create("storage-delete",{originalErrorMessage:Ie&&Ie.message}))}})})()}createCompositeKey(St){return[this.appId,this.appName,this.namespace,St].join()}}class Fo{constructor(St){this.storage=St}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var St=this;return(0,wt.Z)(function*(){const Ot=St.storage.getLastFetchStatus(),Bt=St.storage.getLastSuccessfulFetchTimestampMillis(),Yt=St.storage.getActiveConfig(),$t=yield Ot;$t&&(St.lastFetchStatus=$t);const re=yield Bt;re&&(St.lastSuccessfulFetchTimestampMillis=re);const fe=yield Yt;fe&&(St.activeConfig=fe)})()}setLastFetchStatus(St){return this.lastFetchStatus=St,this.storage.setLastFetchStatus(St)}setLastSuccessfulFetchTimestampMillis(St){return this.lastSuccessfulFetchTimestampMillis=St,this.storage.setLastSuccessfulFetchTimestampMillis(St)}setActiveConfig(St){return this.activeConfig=St,this.storage.setActiveConfig(St)}}function Ji(){return ts.apply(this,arguments)}function ts(){return(ts=(0,wt.Z)(function*(){if(!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch(xt){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new $.wA("remote-config",function(St,{instanceIdentifier:Ot}){const Bt=St.getProvider("app").getImmediate(),Yt=St.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw fi.create("registration-window");if(!(0,Y.hl)())throw fi.create("indexed-db-unavailable");const{projectId:$t,apiKey:re,appId:fe}=Bt.options;if(!$t)throw fi.create("registration-project-id");if(!re)throw fi.create("registration-api-key");if(!fe)throw fi.create("registration-app-id");const ge=new Jr(fe,Bt.name,Ot=Ot||"firebase"),Ie=new Fo(ge),Le=new q.Yd(wn);Le.logLevel=q.in.ERROR;const Si=new Cn(Yt,o.SDK_VERSION,Ot,$t,re,fe),mi=new Ls(Si,ge),ti=new Bh(mi,ge,Ie,Le),fr=new jo(Bt,ti,Ie,ge,Le);return function(xt){const St=(0,Y.m9)(xt);St._initializePromise||(St._initializePromise=St._storageCache.loadFromStorage().then(()=>{St._isInitializationComplete=!0}))}(fr),fr},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(wn,"0.3.4"),(0,o.registerVersion)(wn,"0.3.4","esm2017");const es="/firebase-messaging-sw.js",zo="/firebase-cloud-messaging-push-scope",or="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bs="google.c.a.c_id",Fs="google.c.a.c_l",zn="google.c.a.ts",tl="google.c.a.e";var bi=(()=>{return(xt=bi||(bi={})).PUSH_RECEIVED="push-received",xt.NOTIFICATION_CLICKED="notification-clicked",bi;var xt})();function Gn(xt){const St=new Uint8Array(xt);return btoa(String.fromCharCode(...St)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function el(xt){const Ot=(xt+"=".repeat((4-xt.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Bt=atob(Ot),Yt=new Uint8Array(Bt.length);for(let $t=0;$t<Bt.length;++$t)Yt[$t]=Bt.charCodeAt($t);return Yt}const il="fcm_token_details_db",nl="fcm_token_object_Store";function kr(xt){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,wt.Z)(function*(xt){if("databases"in indexedDB&&!(yield indexedDB.databases()).map($t=>$t.name).includes(il))return null;let St=null;return(yield(0,rt.openDb)(il,5,function(){var Bt=(0,wt.Z)(function*(Yt){var $t;if(Yt.oldVersion<2||!Yt.objectStoreNames.contains(nl))return;const re=Yt.transaction.objectStore(nl),fe=yield re.index("fcmSenderId").get(xt);if(yield re.clear(),fe)if(2===Yt.oldVersion){const ge=fe;if(!ge.auth||!ge.p256dh||!ge.endpoint)return;St={token:ge.fcmToken,createTime:null!==($t=ge.createTime)&&void 0!==$t?$t:Date.now(),subscriptionOptions:{auth:ge.auth,p256dh:ge.p256dh,endpoint:ge.endpoint,swScope:ge.swScope,vapidKey:"string"==typeof ge.vapidKey?ge.vapidKey:Gn(ge.vapidKey)}}}else if(3===Yt.oldVersion){const ge=fe;St={token:ge.fcmToken,createTime:ge.createTime,subscriptionOptions:{auth:Gn(ge.auth),p256dh:Gn(ge.p256dh),endpoint:ge.endpoint,swScope:ge.swScope,vapidKey:Gn(ge.vapidKey)}}}else if(4===Yt.oldVersion){const ge=fe;St={token:ge.fcmToken,createTime:ge.createTime,subscriptionOptions:{auth:Gn(ge.auth),p256dh:Gn(ge.p256dh),endpoint:ge.endpoint,swScope:ge.swScope,vapidKey:Gn(ge.vapidKey)}}}});return function(Yt){return Bt.apply(this,arguments)}}())).close(),yield(0,rt.deleteDb)(il),yield(0,rt.deleteDb)("fcm_vapid_details_db"),yield(0,rt.deleteDb)("undefined"),zs(St)?St:null}),Ar.apply(this,arguments)}function zs(xt){if(!xt||!xt.subscriptionOptions)return!1;const{subscriptionOptions:St}=xt;return"number"==typeof xt.createTime&&xt.createTime>0&&"string"==typeof xt.token&&xt.token.length>0&&"string"==typeof St.auth&&St.auth.length>0&&"string"==typeof St.p256dh&&St.p256dh.length>0&&"string"==typeof St.endpoint&&St.endpoint.length>0&&"string"==typeof St.swScope&&St.swScope.length>0&&"string"==typeof St.vapidKey&&St.vapidKey.length>0}const Ir="firebase-messaging-store";let Or=null;function gn(){return Or||(Or=(0,rt.openDb)("firebase-messaging-database",1,xt=>{0===xt.oldVersion&&xt.createObjectStore(Ir)})),Or}function rl(xt){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,wt.Z)(function*(xt){const St=Hs(xt),Bt=yield(yield gn()).transaction(Ir).objectStore(Ir).get(St);if(Bt)return Bt;{const Yt=yield kr(xt.appConfig.senderId);if(Yt)return yield tn(xt,Yt),Yt}})).apply(this,arguments)}function tn(xt,St){return mn.apply(this,arguments)}function mn(){return(mn=(0,wt.Z)(function*(xt,St){const Ot=Hs(xt),Yt=(yield gn()).transaction(Ir,"readwrite");return yield Yt.objectStore(Ir).put(St,Ot),yield Yt.complete,St})).apply(this,arguments)}function Dr(xt){return Us.apply(this,arguments)}function Us(){return(Us=(0,wt.Z)(function*(xt){const St=Hs(xt),Bt=(yield gn()).transaction(Ir,"readwrite");yield Bt.objectStore(Ir).delete(St),yield Bt.complete})).apply(this,arguments)}function Hs({appConfig:xt}){return xt.appId}const si=new Y.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Tn(xt,St){return ar.apply(this,arguments)}function ar(){return(ar=(0,wt.Z)(function*(xt,St){const Ot=yield Hn(xt),Bt=Vs(St),Yt={method:"POST",headers:Ot,body:JSON.stringify(Bt)};let $t;try{$t=yield(yield fetch(_i(xt.appConfig),Yt)).json()}catch(re){throw si.create("token-subscribe-failed",{errorInfo:re})}if($t.error)throw si.create("token-subscribe-failed",{errorInfo:$t.error.message});if(!$t.token)throw si.create("token-subscribe-no-token");return $t.token})).apply(this,arguments)}function Un(xt,St){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,wt.Z)(function*(xt,St){const Ot=yield Hn(xt),Bt=Vs(St.subscriptionOptions),Yt={method:"PATCH",headers:Ot,body:JSON.stringify(Bt)};let $t;try{$t=yield(yield fetch(`${_i(xt.appConfig)}/${St.token}`,Yt)).json()}catch(re){throw si.create("token-update-failed",{errorInfo:re})}if($t.error)throw si.create("token-update-failed",{errorInfo:$t.error.message});if(!$t.token)throw si.create("token-update-no-token");return $t.token})).apply(this,arguments)}function lr(xt,St){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,wt.Z)(function*(xt,St){const Bt={method:"DELETE",headers:yield Hn(xt)};try{const $t=yield(yield fetch(`${_i(xt.appConfig)}/${St}`,Bt)).json();if($t.error)throw si.create("token-unsubscribe-failed",{errorInfo:$t.error.message})}catch(Yt){throw si.create("token-unsubscribe-failed",{errorInfo:Yt})}})).apply(this,arguments)}function _i({projectId:xt}){return`https://fcmregistrations.googleapis.com/v1/projects/${xt}/registrations`}function Hn(xt){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,wt.Z)(function*({appConfig:xt,installations:St}){const Ot=yield St.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":xt.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ot}`})})).apply(this,arguments)}function Vs({p256dh:xt,auth:St,endpoint:Ot,vapidKey:Bt}){const Yt={web:{endpoint:Ot,auth:St,p256dh:xt}};return Bt!==or&&(Yt.web.applicationPubKey=Bt),Yt}const hr=6048e5;function ns(xt){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,wt.Z)(function*(xt){const St=yield ol(xt.swRegistration,xt.vapidKey),Ot={vapidKey:xt.vapidKey,swScope:xt.swRegistration.scope,endpoint:St.endpoint,auth:Gn(St.getKey("auth")),p256dh:Gn(St.getKey("p256dh"))},Bt=yield rl(xt.firebaseDependencies);if(Bt){if(Uo(Bt.subscriptionOptions,Ot))return Date.now()>=Bt.createTime+hr?Go(xt,{token:Bt.token,createTime:Date.now(),subscriptionOptions:Ot}):Bt.token;try{yield lr(xt.firebaseDependencies,Bt.token)}catch(Yt){console.warn(Yt)}return ss(xt.firebaseDependencies,Ot)}return ss(xt.firebaseDependencies,Ot)})).apply(this,arguments)}function rs(xt){return cr.apply(this,arguments)}function cr(){return(cr=(0,wt.Z)(function*(xt){const St=yield rl(xt.firebaseDependencies);St&&(yield lr(xt.firebaseDependencies,St.token),yield Dr(xt.firebaseDependencies));const Ot=yield xt.swRegistration.pushManager.getSubscription();return!Ot||Ot.unsubscribe()})).apply(this,arguments)}function Go(xt,St){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,wt.Z)(function*(xt,St){try{const Ot=yield Un(xt.firebaseDependencies,St),Bt=Object.assign(Object.assign({},St),{token:Ot,createTime:Date.now()});return yield tn(xt.firebaseDependencies,Bt),Ot}catch(Ot){throw yield rs(xt),Ot}})).apply(this,arguments)}function ss(xt,St){return os.apply(this,arguments)}function os(){return(os=(0,wt.Z)(function*(xt,St){const Bt={token:yield Tn(xt,St),createTime:Date.now(),subscriptionOptions:St};return yield tn(xt,Bt),Bt.token})).apply(this,arguments)}function ol(xt,St){return dr.apply(this,arguments)}function dr(){return(dr=(0,wt.Z)(function*(xt,St){return(yield xt.pushManager.getSubscription())||xt.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:el(St)})})).apply(this,arguments)}function Uo(xt,St){return St.vapidKey===xt.vapidKey&&St.endpoint===xt.endpoint&&St.auth===xt.auth&&St.p256dh===xt.p256dh}function Zs(xt){const St={from:xt.from,collapseKey:xt.collapse_key,messageId:xt.fcmMessageId};return function(xt,St){if(!St.notification)return;xt.notification={};const Ot=St.notification.title;Ot&&(xt.notification.title=Ot);const Bt=St.notification.body;Bt&&(xt.notification.body=Bt);const Yt=St.notification.image;Yt&&(xt.notification.image=Yt)}(St,xt),function(xt,St){!St.data||(xt.data=St.data)}(St,xt),function(xt,St){if(!St.fcmOptions)return;xt.fcmOptions={};const Ot=St.fcmOptions.link;Ot&&(xt.fcmOptions.link=Ot);const Bt=St.fcmOptions.analytics_label;Bt&&(xt.fcmOptions.analyticsLabel=Bt)}(St,xt),St}function $s(xt){return"object"==typeof xt&&!!xt&&Bs in xt}function Wo(xt,St){const Ot=[];for(let Bt=0;Bt<xt.length;Bt++)Ot.push(xt.charAt(Bt)),Bt<St.length&&Ot.push(St.charAt(Bt));return Ot.join("")}function Ks(xt){return si.create("missing-app-config-values",{valueName:xt})}Wo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vo{constructor(St,Ot,Bt){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Yt=function(xt){if(!xt||!xt.options)throw Ks("App Configuration Object");if(!xt.name)throw Ks("App Name");const St=["projectId","apiKey","appId","messagingSenderId"],{options:Ot}=xt;for(const Bt of St)if(!Ot[Bt])throw Ks(Bt);return{appName:xt.name,projectId:Ot.projectId,apiKey:Ot.apiKey,appId:Ot.appId,senderId:Ot.messagingSenderId}}(St);this.firebaseDependencies={app:St,appConfig:Yt,installations:Ot,analyticsProvider:Bt}}_delete(){return Promise.resolve()}}function hl(xt){return as.apply(this,arguments)}function as(){return(as=(0,wt.Z)(function*(xt){try{xt.swRegistration=yield navigator.serviceWorker.register(es,{scope:zo}),xt.swRegistration.update().catch(()=>{})}catch(St){throw si.create("failed-service-worker-registration",{browserErrorMessage:St.message})}})).apply(this,arguments)}function Qs(xt,St){return ls.apply(this,arguments)}function ls(){return(ls=(0,wt.Z)(function*(xt,St){if(!St&&!xt.swRegistration&&(yield hl(xt)),St||!xt.swRegistration){if(!(St instanceof ServiceWorkerRegistration))throw si.create("invalid-sw-registration");xt.swRegistration=St}})).apply(this,arguments)}function Js(xt,St){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,wt.Z)(function*(xt,St){St?xt.vapidKey=St:xt.vapidKey||(xt.vapidKey=or)})).apply(this,arguments)}function Xo(){return(Xo=(0,wt.Z)(function*(xt,St){if(!navigator)throw si.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw si.create("permission-blocked");return yield Js(xt,null==St?void 0:St.vapidKey),yield Qs(xt,null==St?void 0:St.serviceWorkerRegistration),ns(xt)})).apply(this,arguments)}function Xe(xt,St,Ot){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,wt.Z)(function*(xt,St,Ot){const Bt=qo(St);(yield xt.firebaseDependencies.analyticsProvider.get()).logEvent(Bt,{message_id:Ot[Bs],message_name:Ot[Fs],message_time:Ot[zn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qo(xt){switch(xt){case bi.NOTIFICATION_CLICKED:return"notification_open";case bi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function hs(){return(hs=(0,wt.Z)(function*(xt,St){const Ot=St.data;if(!Ot.isFirebaseMessaging)return;xt.onMessageHandler&&Ot.messageType===bi.PUSH_RECEIVED&&("function"==typeof xt.onMessageHandler?xt.onMessageHandler(Zs(Ot)):xt.onMessageHandler.next(Zs(Ot)));const Bt=Ot.data;$s(Bt)&&"1"===Bt[tl]&&(yield Xe(xt,Ot.messageType,Bt))})).apply(this,arguments)}const dl="@firebase/messaging";function ul(){return no.apply(this,arguments)}function no(){return(no=(0,wt.Z)(function*(){try{yield(0,Y.eu)()}catch(xt){return!1}return"undefined"!=typeof window&&(0,Y.hl)()&&(0,Y.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new $.wA("messaging",xt=>{const St=new Vo(xt.getProvider("app").getImmediate(),xt.getProvider("installations-internal").getImmediate(),xt.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ot=>function(xt,St){return hs.apply(this,arguments)}(St,Ot)),St},"PUBLIC")),(0,o._registerComponent)(new $.wA("messaging-internal",xt=>{const St=xt.getProvider("messaging").getImmediate();return{getToken:Bt=>function(xt,St){return Xo.apply(this,arguments)}(St,Bt)}},"PRIVATE")),(0,o.registerVersion)(dl,"0.9.8"),(0,o.registerVersion)(dl,"0.9.8","esm2017");const ds="analytics",Rd="firebase_id",ml="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Uh="https://www.googletagmanager.com/gtag/js",Qe=new q.Yd("@firebase/analytics");function Hh(xt){return Promise.all(xt.map(St=>St.catch(Ot=>Ot)))}function jd(xt,St){const Ot=document.createElement("script");Ot.src=`${Uh}?l=${xt}&id=${St}`,Ot.async=!0,document.head.appendChild(Ot)}function yl(xt,St,Ot,Bt,Yt,$t){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,wt.Z)(function*(xt,St,Ot,Bt,Yt,$t){const re=Bt[Yt];try{if(re)yield St[re];else{const ge=(yield Hh(Ot)).find(Ie=>Ie.measurementId===Yt);ge&&(yield St[ge.appId])}}catch(fe){Qe.error(fe)}xt("config",Yt,$t)})).apply(this,arguments)}function Rr(xt,St,Ot,Bt,Yt){return ro.apply(this,arguments)}function ro(){return(ro=(0,wt.Z)(function*(xt,St,Ot,Bt,Yt){try{let $t=[];if(Yt&&Yt.send_to){let re=Yt.send_to;Array.isArray(re)||(re=[re]);const fe=yield Hh(Ot);for(const ge of re){const Ie=fe.find(Si=>Si.measurementId===ge),Le=Ie&&St[Ie.appId];if(!Le){$t=[];break}$t.push(Le)}}0===$t.length&&($t=Object.values(St)),yield Promise.all($t),xt("event",Bt,Yt||{})}catch($t){Qe.error($t)}})).apply(this,arguments)}function zd(){const xt=window.document.getElementsByTagName("script");for(const St of Object.values(xt))if(St.src&&St.src.includes(Uh))return St;return null}const ji=new Y.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ud=new class{constructor(St={},Ot=1e3){this.throttleMetadata=St,this.intervalMillis=Ot}getThrottleMetadata(St){return this.throttleMetadata[St]}setThrottleMetadata(St,Ot){this.throttleMetadata[St]=Ot}deleteThrottleMetadata(St){delete this.throttleMetadata[St]}};function bf(xt){return new Headers({Accept:"application/json","x-goog-api-key":xt})}function _f(xt){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,wt.Z)(function*(xt){var St;const{appId:Ot,apiKey:Bt}=xt,Yt={method:"GET",headers:bf(Bt)},$t=ml.replace("{app-id}",Ot),re=yield fetch($t,Yt);if(200!==re.status&&304!==re.status){let fe="";try{const ge=yield re.json();(null===(St=ge.error)||void 0===St?void 0:St.message)&&(fe=ge.error.message)}catch(ge){}throw ji.create("config-fetch-failed",{httpStatus:re.status,responseMessage:fe})}return re.json()})).apply(this,arguments)}function vl(xt){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,wt.Z)(function*(xt,St=Ud,Ot){const{appId:Bt,apiKey:Yt,measurementId:$t}=xt.options;if(!Bt)throw ji.create("no-app-id");if(!Yt){if($t)return{measurementId:$t,appId:Bt};throw ji.create("no-api-key")}const re=St.getThrottleMetadata(Bt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},fe=new Vd;return setTimeout((0,wt.Z)(function*(){fe.abort()}),void 0!==Ot?Ot:6e4),ta({appId:Bt,apiKey:Yt,measurementId:$t},re,fe,St)})).apply(this,arguments)}function ta(xt,St,Ot){return xl.apply(this,arguments)}function xl(){return(xl=(0,wt.Z)(function*(xt,{throttleEndTimeMillis:St,backoffCount:Ot},Bt,Yt=Ud){const{appId:$t,measurementId:re}=xt;try{yield Hd(Bt,St)}catch(fe){if(re)return Qe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${re} provided in the "measurementId" field in the local Firebase config. [${fe.message}]`),{appId:$t,measurementId:re};throw fe}try{const fe=yield _f(xt);return Yt.deleteThrottleMetadata($t),fe}catch(fe){if(!Wd(fe)){if(Yt.deleteThrottleMetadata($t),re)return Qe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${re} provided in the "measurementId" field in the local Firebase config. [${fe.message}]`),{appId:$t,measurementId:re};throw fe}const ge=503===Number(fe.customData.httpStatus)?(0,Y.$s)(Ot,Yt.intervalMillis,30):(0,Y.$s)(Ot,Yt.intervalMillis),Ie={throttleEndTimeMillis:Date.now()+ge,backoffCount:Ot+1};return Yt.setThrottleMetadata($t,Ie),Qe.debug(`Calling attemptFetch again in ${ge} millis`),ta(xt,Ie,Bt,Yt)}})).apply(this,arguments)}function Hd(xt,St){return new Promise((Ot,Bt)=>{const Yt=Math.max(St-Date.now(),0),$t=setTimeout(Ot,Yt);xt.addEventListener(()=>{clearTimeout($t),Bt(ji.create("fetch-throttle",{throttleEndTimeMillis:St}))})})}function Wd(xt){if(!(xt instanceof Y.ZR&&xt.customData))return!1;const St=Number(xt.customData.httpStatus);return 429===St||500===St||503===St||504===St}class Vd{constructor(){this.listeners=[]}addEventListener(St){this.listeners.push(St)}abort(){this.listeners.forEach(St=>St())}}function bl(){return so.apply(this,arguments)}function so(){return(so=(0,wt.Z)(function*(){if(!(0,Y.hl)())return Qe.warn(ji.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Y.eu)()}catch(xt){return Qe.warn(ji.create("indexeddb-unavailable",{errorInfo:xt}).message),!1}return!0})).apply(this,arguments)}function us(){return(us=(0,wt.Z)(function*(xt,St,Ot,Bt,Yt,$t,re){var fe;const ge=vl(xt);ge.then(ti=>{Ot[ti.measurementId]=ti.appId,xt.options.measurementId&&ti.measurementId!==xt.options.measurementId&&Qe.warn(`The measurement ID in the local Firebase config (${xt.options.measurementId}) does not match the measurement ID fetched from the server (${ti.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ti=>Qe.error(ti)),St.push(ge);const Ie=bl().then(ti=>{if(ti)return Bt.getId()}),[Le,Si]=yield Promise.all([ge,Ie]);zd()||jd($t,Le.measurementId),Yt("js",new Date);const mi=null!==(fe=null==re?void 0:re.config)&&void 0!==fe?fe:{};return mi.origin="firebase",mi.update=!0,null!=Si&&(mi[Rd]=Si),Yt("config",Le.measurementId,mi),Le.measurementId})).apply(this,arguments)}class Yh{constructor(St){this.app=St}_delete(){return delete Vn[this.app.options.appId],Promise.resolve()}}let Vn={},Xh=[];const Zh={};let Xd,en,_l="dataLayer",wl=!1;function Zd(xt,St,Ot){!function(){const xt=[];if((0,Y.ru)()&&xt.push("This is a browser extension environment."),(0,Y.zI)()||xt.push("Cookies are not available."),xt.length>0){const St=xt.map((Bt,Yt)=>`(${Yt+1}) ${Bt}`).join(" "),Ot=ji.create("invalid-analytics-context",{errorInfo:St});Qe.warn(Ot.message)}}();const Bt=xt.options.appId;if(!Bt)throw ji.create("no-app-id");if(!xt.options.apiKey){if(!xt.options.measurementId)throw ji.create("no-api-key");Qe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${xt.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vn[Bt])throw ji.create("already-exists",{id:Bt});if(!wl){!function(xt){let St=[];Array.isArray(window[xt])?St=window[xt]:window[xt]=St}(_l);const{wrappedGtag:$t,gtagCore:re}=function(xt,St,Ot,Bt,Yt){let $t=function(...re){window[Bt].push(arguments)};return window[Yt]&&"function"==typeof window[Yt]&&($t=window[Yt]),window[Yt]=function(xt,St,Ot,Bt){function $t(){return($t=(0,wt.Z)(function*(re,fe,ge){try{"event"===re?yield Rr(xt,St,Ot,fe,ge):"config"===re?yield yl(xt,St,Ot,Bt,fe,ge):xt("set",fe)}catch(Ie){Qe.error(Ie)}})).apply(this,arguments)}return function(re,fe,ge){return $t.apply(this,arguments)}}($t,xt,St,Ot),{gtagCore:$t,wrappedGtag:window[Yt]}}(Vn,Xh,Zh,_l,"gtag");en=$t,Xd=re,wl=!0}return Vn[Bt]=function(xt,St,Ot,Bt,Yt,$t,re){return us.apply(this,arguments)}(xt,Xh,Zh,St,Xd,_l,Ot),new Yh(xt)}function Sl(){return(Sl=(0,wt.Z)(function*(xt,St,Ot,Bt,Yt){if(Yt&&Yt.global)xt("event",Ot,Bt);else{const $t=yield St;xt("event",Ot,Object.assign(Object.assign({},Bt),{send_to:$t}))}})).apply(this,arguments)}function ia(){return kl.apply(this,arguments)}function kl(){return(kl=(0,wt.Z)(function*(){if((0,Y.ru)()||!(0,Y.zI)()||!(0,Y.hl)())return!1;try{return yield(0,Y.eu)()}catch(xt){return!1}})).apply(this,arguments)}const ra="@firebase/analytics";(0,o._registerComponent)(new $.wA(ds,(St,{options:Ot})=>Zd(St.getProvider("app").getImmediate(),St.getProvider("installations-internal").getImmediate(),Ot),"PUBLIC")),(0,o._registerComponent)(new $.wA("analytics-internal",function(St){try{const Ot=St.getProvider(ds).getImmediate();return{logEvent:(Bt,Yt,$t)=>function(xt,St,Ot,Bt){xt=(0,Y.m9)(xt),function(xt,St,Ot,Bt,Yt){return Sl.apply(this,arguments)}(en,Vn[xt.app.options.appId],St,Ot,Bt).catch(Yt=>Qe.error(Yt))}(Ot,Bt,Yt,$t)}}catch(Ot){throw ji.create("interop-component-reg-failed",{reason:Ot})}},"PRIVATE")),(0,o.registerVersion)(ra,"0.7.5"),(0,o.registerVersion)(ra,"0.7.5","esm2017");var Al=Xt(2869),Kd=Xt(8843);const Qh=new class extends Kd.v{}(class extends Al.o{constructor(St,Ot){super(St,Ot),this.scheduler=St,this.work=Ot}schedule(St,Ot=0){return Ot>0?super.schedule(St,Ot):(this.delay=Ot,this.state=St,this.scheduler.flush(this),this)}execute(St,Ot){return Ot>0||this.closed?super.execute(St,Ot):this._execute(St,Ot)}requestAsyncId(St,Ot,Bt=0){return null!=Bt&&Bt>0||null==Bt&&this.delay>0?super.requestAsyncId(St,Ot,Bt):St.flush(this)}});var Jh=Xt(2210),Pl=Xt(7384),sa=Xt(4763),oa=Xt(5222);const tc=new Nt.GfV("7.2.1"),jr="__angularfire_symbol__analyticsIsSupportedValue",Il="__angularfire_symbol__analyticsIsSupported",aa="__angularfire_symbol__remoteConfigIsSupportedValue",Ol="__angularfire_symbol__remoteConfigIsSupported",uo="__angularfire_symbol__messagingIsSupportedValue",Dl="__angularfire_symbol__messagingIsSupported";function ec(xt,St,Ot){if(St){if(1===St.length)return St[0];const $t=St.filter(re=>re.app===Ot);if(1===$t.length)return $t[0]}return Ot.container.getProvider(xt).getImmediate({optional:!0})}globalThis[Il]||(globalThis[Il]=ia().then(xt=>globalThis[jr]=xt).catch(()=>globalThis[jr]=!1)),globalThis[Dl]||(globalThis[Dl]=ul().then(xt=>globalThis[uo]=xt).catch(()=>globalThis[uo]=!1)),globalThis[Ol]||(globalThis[Ol]=Ji().then(xt=>globalThis[aa]=xt).catch(()=>globalThis[aa]=!1));const tu=(xt,St)=>{const Ot=St?[St]:(0,qt.C6)(),Bt=[];return Ot.forEach(Yt=>{Yt.container.getProvider(xt).instances.forEach(re=>{Bt.includes(re)||Bt.push(re)})}),Bt};function fs(){}class Ll{constructor(St,Ot=Qh){this.zone=St,this.delegate=Ot}now(){return this.delegate.now()}schedule(St,Ot,Bt){const Yt=this.zone;return this.delegate.schedule(function(re){Yt.runGuarded(()=>{St.apply(this,[re])})},Ot,Bt)}}class ha{constructor(St){this.zone=St,this.task=null}call(St,Ot){const Bt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fs,{},fs,fs)),Ot.pipe((0,Pl.b)({next:Bt,complete:Bt,error:Bt})).subscribe(St).add(Bt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pr=(()=>{class xt{constructor(Ot){this.ngZone=Ot,this.outsideAngular=Ot.runOutsideAngular(()=>new Ll(Zone.current)),this.insideAngular=Ot.run(()=>new Ll(Zone.current,Jh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return xt.\u0275fac=function(Ot){return new(Ot||xt)(Nt.LFG(Nt.R0b))},xt.\u0275prov=Nt.Yz7({token:xt,factory:xt.\u0275fac,providedIn:"root"}),xt})();function An(){const xt=globalThis.\u0275AngularFireScheduler;if(!xt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return xt}function po(xt){return xt.pipe((0,sa.Q)(An().outsideAngular))}function gs(xt){return An(),function(xt){return function(Ot){return(Ot=Ot.lift(new ha(xt.ngZone))).pipe((0,oa.R)(xt.outsideAngular),(0,sa.Q)(xt.insideAngular))}}(An())(xt)}},4213:(we,_e,Xt)=>{"use strict";Xt.d(_e,{BH:()=>N,LL:()=>h,ZR:()=>n,zI:()=>r,US:()=>$,tV:()=>J,$s:()=>jt,r3:()=>E,Sg:()=>O,ne:()=>it,vZ:()=>b,ZB:()=>X,pd:()=>Z,m9:()=>Ht,z$:()=>k,jU:()=>v,ru:()=>_,d:()=>y,xb:()=>G,w1:()=>C,hl:()=>f,uI:()=>g,UG:()=>d,b$:()=>T,G6:()=>x,Mn:()=>M,xO:()=>R,zd:()=>V,eu:()=>m});const o=function(It){const Pt=[];let kt=0;for(let Ut=0;Ut<It.length;Ut++){let zt=It.charCodeAt(Ut);zt<128?Pt[kt++]=zt:zt<2048?(Pt[kt++]=zt>>6|192,Pt[kt++]=63&zt|128):55296==(64512&zt)&&Ut+1<It.length&&56320==(64512&It.charCodeAt(Ut+1))?(zt=65536+((1023&zt)<<10)+(1023&It.charCodeAt(++Ut)),Pt[kt++]=zt>>18|240,Pt[kt++]=zt>>12&63|128,Pt[kt++]=zt>>6&63|128,Pt[kt++]=63&zt|128):(Pt[kt++]=zt>>12|224,Pt[kt++]=zt>>6&63|128,Pt[kt++]=63&zt|128)}return Pt},$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(It,Pt){if(!Array.isArray(It))throw Error("encodeByteArray takes an array as a parameter");this.init_();const kt=Pt?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ut=[];for(let zt=0;zt<It.length;zt+=3){const Vt=It[zt],ie=zt+1<It.length,pe=ie?It[zt+1]:0,ne=zt+2<It.length,de=ne?It[zt+2]:0;let xi=(15&pe)<<2|de>>6,Es=63&de;ne||(Es=64,ie||(xi=64)),Ut.push(kt[Vt>>2],kt[(3&Vt)<<4|pe>>4],kt[xi],kt[Es])}return Ut.join("")},encodeString(It,Pt){return this.HAS_NATIVE_SUPPORT&&!Pt?btoa(It):this.encodeByteArray(o(It),Pt)},decodeString(It,Pt){return this.HAS_NATIVE_SUPPORT&&!Pt?atob(It):function(It){const Pt=[];let kt=0,Ut=0;for(;kt<It.length;){const zt=It[kt++];if(zt<128)Pt[Ut++]=String.fromCharCode(zt);else if(zt>191&&zt<224){const Vt=It[kt++];Pt[Ut++]=String.fromCharCode((31&zt)<<6|63&Vt)}else if(zt>239&&zt<365){const ne=((7&zt)<<18|(63&It[kt++])<<12|(63&It[kt++])<<6|63&It[kt++])-65536;Pt[Ut++]=String.fromCharCode(55296+(ne>>10)),Pt[Ut++]=String.fromCharCode(56320+(1023&ne))}else{const Vt=It[kt++],ie=It[kt++];Pt[Ut++]=String.fromCharCode((15&zt)<<12|(63&Vt)<<6|63&ie)}}return Pt.join("")}(this.decodeStringToByteArray(It,Pt))},decodeStringToByteArray(It,Pt){this.init_();const kt=Pt?this.charToByteMapWebSafe_:this.charToByteMap_,Ut=[];for(let zt=0;zt<It.length;){const Vt=kt[It.charAt(zt++)],pe=zt<It.length?kt[It.charAt(zt)]:0;++zt;const de=zt<It.length?kt[It.charAt(zt)]:64;++zt;const De=zt<It.length?kt[It.charAt(zt)]:64;if(++zt,null==Vt||null==pe||null==de||null==De)throw Error();Ut.push(Vt<<2|pe>>4),64!==de&&(Ut.push(pe<<4&240|de>>2),64!==De&&Ut.push(de<<6&192|De))}return Ut},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let It=0;It<this.ENCODED_VALS.length;It++)this.byteToCharMap_[It]=this.ENCODED_VALS.charAt(It),this.charToByteMap_[this.byteToCharMap_[It]]=It,this.byteToCharMapWebSafe_[It]=this.ENCODED_VALS_WEBSAFE.charAt(It),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[It]]=It,It>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(It)]=It,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(It)]=It)}}},rt=function(It){return function(It){const Pt=o(It);return $.encodeByteArray(Pt,!0)}(It).replace(/\./g,"")},J=function(It){try{return $.decodeString(It,!0)}catch(Pt){console.error("base64Decode failed: ",Pt)}return null};function X(It,Pt){if(!(Pt instanceof Object))return Pt;switch(Pt.constructor){case Date:return new Date(Pt.getTime());case Object:void 0===It&&(It={});break;case Array:It=[];break;default:return Pt}for(const kt in Pt)!Pt.hasOwnProperty(kt)||!F(kt)||(It[kt]=X(It[kt],Pt[kt]));return It}function F(It){return"__proto__"!==It}class N{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Pt,kt)=>{this.resolve=Pt,this.reject=kt})}wrapCallback(Pt){return(kt,Ut)=>{kt?this.reject(kt):this.resolve(Ut),"function"==typeof Pt&&(this.promise.catch(()=>{}),1===Pt.length?Pt(kt):Pt(kt,Ut))}}}function O(It,Pt){if(It.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ut=Pt||"demo-project",zt=It.iat||0,Vt=It.sub||It.user_id;if(!Vt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ie=Object.assign({iss:`https://securetoken.google.com/${Ut}`,aud:Ut,iat:zt,exp:zt+3600,auth_time:zt,sub:Vt,user_id:Vt,firebase:{sign_in_provider:"custom",identities:{}}},It);return[rt(JSON.stringify({alg:"none",type:"JWT"})),rt(JSON.stringify(ie)),""].join(".")}function k(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(k())}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(It){return!1}}function v(){return"object"==typeof self&&self.self===self}function _(){const It="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof It&&void 0!==It.id}function T(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return k().indexOf("Electron/")>=0}function C(){const It=k();return It.indexOf("MSIE ")>=0||It.indexOf("Trident/")>=0}function M(){return k().indexOf("MSAppHost/")>=0}function x(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f(){return"object"==typeof indexedDB}function m(){return new Promise((It,Pt)=>{try{let kt=!0;const Ut="validate-browser-context-for-indexeddb-analytics-module",zt=self.indexedDB.open(Ut);zt.onsuccess=()=>{zt.result.close(),kt||self.indexedDB.deleteDatabase(Ut),It(!0)},zt.onupgradeneeded=()=>{kt=!1},zt.onerror=()=>{var Vt;Pt((null===(Vt=zt.error)||void 0===Vt?void 0:Vt.message)||"")}}catch(kt){Pt(kt)}})}function r(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class n extends Error{constructor(Pt,kt,Ut){super(kt),this.code=Pt,this.customData=Ut,this.name="FirebaseError",Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h.prototype.create)}}class h{constructor(Pt,kt,Ut){this.service=Pt,this.serviceName=kt,this.errors=Ut}create(Pt,...kt){const Ut=kt[0]||{},zt=`${this.service}/${Pt}`,Vt=this.errors[Pt],ie=Vt?function(It,Pt){return It.replace(w,(kt,Ut)=>{const zt=Pt[Ut];return null!=zt?String(zt):`<${Ut}?>`})}(Vt,Ut):"Error";return new n(zt,`${this.serviceName}: ${ie} (${zt}).`,Ut)}}const w=/\{\$([^}]+)}/g;function E(It,Pt){return Object.prototype.hasOwnProperty.call(It,Pt)}function G(It){for(const Pt in It)if(Object.prototype.hasOwnProperty.call(It,Pt))return!1;return!0}function b(It,Pt){if(It===Pt)return!0;const kt=Object.keys(It),Ut=Object.keys(Pt);for(const zt of kt){if(!Ut.includes(zt))return!1;const Vt=It[zt],ie=Pt[zt];if(z(Vt)&&z(ie)){if(!b(Vt,ie))return!1}else if(Vt!==ie)return!1}for(const zt of Ut)if(!kt.includes(zt))return!1;return!0}function z(It){return null!==It&&"object"==typeof It}function R(It){const Pt=[];for(const[kt,Ut]of Object.entries(It))Array.isArray(Ut)?Ut.forEach(zt=>{Pt.push(encodeURIComponent(kt)+"="+encodeURIComponent(zt))}):Pt.push(encodeURIComponent(kt)+"="+encodeURIComponent(Ut));return Pt.length?"&"+Pt.join("&"):""}function V(It){const Pt={};return It.replace(/^\?/,"").split("&").forEach(Ut=>{if(Ut){const[zt,Vt]=Ut.split("=");Pt[decodeURIComponent(zt)]=decodeURIComponent(Vt)}}),Pt}function Z(It){const Pt=It.indexOf("?");if(!Pt)return"";const kt=It.indexOf("#",Pt);return It.substring(Pt,kt>0?kt:void 0)}function it(It,Pt){const kt=new ot(It,Pt);return kt.subscribe.bind(kt)}class ot{constructor(Pt,kt){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=kt,this.task.then(()=>{Pt(this)}).catch(Ut=>{this.error(Ut)})}next(Pt){this.forEachObserver(kt=>{kt.next(Pt)})}error(Pt){this.forEachObserver(kt=>{kt.error(Pt)}),this.close(Pt)}complete(){this.forEachObserver(Pt=>{Pt.complete()}),this.close()}subscribe(Pt,kt,Ut){let zt;if(void 0===Pt&&void 0===kt&&void 0===Ut)throw new Error("Missing Observer.");zt=function(It,Pt){if("object"!=typeof It||null===It)return!1;for(const kt of["next","error","complete"])if(kt in It&&"function"==typeof It[kt])return!0;return!1}(Pt)?Pt:{next:Pt,error:kt,complete:Ut},void 0===zt.next&&(zt.next=_t),void 0===zt.error&&(zt.error=_t),void 0===zt.complete&&(zt.complete=_t);const Vt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?zt.error(this.finalError):zt.complete()}catch(ie){}}),this.observers.push(zt),Vt}unsubscribeOne(Pt){void 0===this.observers||void 0===this.observers[Pt]||(delete this.observers[Pt],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Pt){if(!this.finalized)for(let kt=0;kt<this.observers.length;kt++)this.sendOne(kt,Pt)}sendOne(Pt,kt){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Pt])try{kt(this.observers[Pt])}catch(Ut){"undefined"!=typeof console&&console.error&&console.error(Ut)}})}close(Pt){this.finalized||(this.finalized=!0,void 0!==Pt&&(this.finalError=Pt),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _t(){}function jt(It,Pt=1e3,kt=2){const Ut=Pt*Math.pow(kt,It),zt=Math.round(.5*Ut*(Math.random()-.5)*2);return Math.min(144e5,Ut+zt)}function Ht(It){return It&&It._delegate?It._delegate:It}},7713:(we,_e,Xt)=>{"use strict";Xt.d(_e,{Mq:()=>Nt.getApp,C6:()=>Nt.getApps});var Nt=Xt(1572);(0,Nt.registerVersion)("firebase","9.6.7","app")},7892:(we,_e,Xt)=>{"use strict";Xt.d(_e,{Z:()=>Nt.Z});var Nt=Xt(6293);Nt.Z.registerVersion("firebase","9.6.7","app-compat")},8694:(we,_e,Xt)=>{"use strict";Xt.r(_e);var Nt=Xt(4553),qt=Xt(6293),wt=Xt(4213),o=Xt(1572);function rt(ht,Q){var et={};for(var pt in ht)Object.prototype.hasOwnProperty.call(ht,pt)&&Q.indexOf(pt)<0&&(et[pt]=ht[pt]);if(null!=ht&&"function"==typeof Object.getOwnPropertySymbols){var Ct=0;for(pt=Object.getOwnPropertySymbols(ht);Ct<pt.length;Ct++)Q.indexOf(pt[Ct])<0&&Object.prototype.propertyIsEnumerable.call(ht,pt[Ct])&&(et[pt[Ct]]=ht[pt[Ct]])}return et}var n=Xt(3855),h=Xt(1177);const c=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},u=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},E=new wt.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),G=new n.Yd("@firebase/auth");function W(ht,...Q){G.logLevel<=n.in.ERROR&&G.error(`Auth (${o.SDK_VERSION}): ${ht}`,...Q)}function b(ht,...Q){throw Z(ht,...Q)}function z(ht,...Q){return Z(ht,...Q)}function R(ht,Q,et){const pt=Object.assign(Object.assign({},u()),{[Q]:et});return new wt.LL("auth","Firebase",pt).create(Q,{appName:ht.name})}function V(ht,Q,et){if(!(Q instanceof et))throw et.name!==Q.constructor.name&&b(ht,"argument-error"),R(ht,"argument-error",`Type of ${Q.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Z(ht,...Q){if("string"!=typeof ht){const et=Q[0],pt=[...Q.slice(1)];return pt[0]&&(pt[0].appName=ht.name),ht._errorFactory.create(et,...pt)}return E.create(ht,...Q)}function nt(ht,Q,...et){if(!ht)throw Z(Q,...et)}function it(ht){const Q="INTERNAL ASSERTION FAILED: "+ht;throw W(Q),new Error(Q)}function ot(ht,Q){ht||it(Q)}const at=new Map;function mt(ht){ot(ht instanceof Function,"Expected a class definition");let Q=at.get(ht);return Q?(ot(Q instanceof ht,"Instance stored in cache mismatched with class"),Q):(Q=new ht,at.set(ht,Q),Q)}function ut(){var ht;return"undefined"!=typeof self&&(null===(ht=self.location)||void 0===ht?void 0:ht.href)||""}function ct(){return"http:"===H()||"https:"===H()}function H(){var ht;return"undefined"!=typeof self&&(null===(ht=self.location)||void 0===ht?void 0:ht.protocol)||null}class dt{constructor(Q,et){this.shortDelay=Q,this.longDelay=et,ot(et>Q,"Short delay should be less than long delay!"),this.isMobile=(0,wt.uI)()||(0,wt.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ct()||(0,wt.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ft(ht,Q){ot(ht.emulator,"Emulator should always be set here");const{url:et}=ht.emulator;return Q?`${et}${Q.startsWith("/")?Q.slice(1):Q}`:et}class bt{static initialize(Q,et,pt){this.fetchImpl=Q,et&&(this.headersImpl=et),pt&&(this.responseImpl=pt)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void it("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void it("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void it("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Lt=new dt(3e4,6e4);function jt(ht,Q){return ht.tenantId&&!Q.tenantId?Object.assign(Object.assign({},Q),{tenantId:ht.tenantId}):Q}function Rt(ht,Q,et,pt){return Et.apply(this,arguments)}function Et(){return(Et=(0,Nt.Z)(function*(ht,Q,et,pt,Ct={}){return Ht(ht,Ct,(0,Nt.Z)(function*(){let At={},Gt={};pt&&("GET"===Q?Gt=pt:At={body:JSON.stringify(pt)});const Zt=(0,wt.xO)(Object.assign({key:ht.config.apiKey},Gt)).slice(1),ae=yield ht._getAdditionalHeaders();return ae["Content-Type"]="application/json",ht.languageCode&&(ae["X-Firebase-Locale"]=ht.languageCode),bt.fetch()(Ut(ht,ht.config.apiHost,et,Zt),Object.assign({method:Q,headers:ae,referrerPolicy:"no-referrer"},At))}))})).apply(this,arguments)}function Ht(ht,Q,et){return It.apply(this,arguments)}function It(){return(It=(0,Nt.Z)(function*(ht,Q,et){ht._canInitEmulator=!1;const pt=Object.assign(Object.assign({},Tt),Q);try{const Ct=new zt(ht),At=yield Promise.race([et(),Ct.promise]);Ct.clearNetworkTimeout();const Gt=yield At.json();if("needConfirmation"in Gt)throw Vt(ht,"account-exists-with-different-credential",Gt);if(At.ok&&!("errorMessage"in Gt))return Gt;{const Zt=At.ok?Gt.errorMessage:Gt.error.message,[ae,oe]=Zt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ae)throw Vt(ht,"credential-already-in-use",Gt);if("EMAIL_EXISTS"===ae)throw Vt(ht,"email-already-in-use",Gt);const xe=pt[ae]||ae.toLowerCase().replace(/[_\s]+/g,"-");if(oe)throw R(ht,xe,oe);b(ht,xe)}}catch(Ct){if(Ct instanceof wt.ZR)throw Ct;b(ht,"network-request-failed")}})).apply(this,arguments)}function Pt(ht,Q,et,pt){return kt.apply(this,arguments)}function kt(){return(kt=(0,Nt.Z)(function*(ht,Q,et,pt,Ct={}){const At=yield Rt(ht,Q,et,pt,Ct);return"mfaPendingCredential"in At&&b(ht,"multi-factor-auth-required",{_serverResponse:At}),At})).apply(this,arguments)}function Ut(ht,Q,et,pt){const Ct=`${Q}${et}?${pt}`;return ht.config.emulator?ft(ht.config,Ct):`${ht.config.apiScheme}://${Ct}`}class zt{constructor(Q){this.auth=Q,this.timer=null,this.promise=new Promise((et,pt)=>{this.timer=setTimeout(()=>pt(z(this.auth,"network-request-failed")),Lt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vt(ht,Q,et){const pt={appName:ht.name};et.email&&(pt.email=et.email),et.phoneNumber&&(pt.phoneNumber=et.phoneNumber);const Ct=z(ht,Q,pt);return Ct.customData._tokenResponse=et,Ct}function pe(){return(pe=(0,Nt.Z)(function*(ht,Q){return Rt(ht,"POST","/v1/accounts:delete",Q)})).apply(this,arguments)}function ne(ht,Q){return de.apply(this,arguments)}function de(){return(de=(0,Nt.Z)(function*(ht,Q){return Rt(ht,"POST","/v1/accounts:update",Q)})).apply(this,arguments)}function Ae(ht,Q){return De.apply(this,arguments)}function De(){return(De=(0,Nt.Z)(function*(ht,Q){return Rt(ht,"POST","/v1/accounts:lookup",Q)})).apply(this,arguments)}function xi(ht){if(ht)try{const Q=new Date(Number(ht));if(!isNaN(Q.getTime()))return Q.toUTCString()}catch(Q){}}function Is(){return(Is=(0,Nt.Z)(function*(ht,Q=!1){const et=(0,wt.m9)(ht),pt=yield et.getIdToken(Q),Ct=Vr(pt);nt(Ct&&Ct.exp&&Ct.auth_time&&Ct.iat,et.auth,"internal-error");const At="object"==typeof Ct.firebase?Ct.firebase:void 0,Gt=null==At?void 0:At.sign_in_provider;return{claims:Ct,token:pt,authTime:xi(Xa(Ct.auth_time)),issuedAtTime:xi(Xa(Ct.iat)),expirationTime:xi(Xa(Ct.exp)),signInProvider:Gt||null,signInSecondFactor:(null==At?void 0:At.sign_in_second_factor)||null}})).apply(this,arguments)}function Xa(ht){return 1e3*Number(ht)}function Vr(ht){const[Q,et,pt]=ht.split(".");if(void 0===Q||void 0===et||void 0===pt)return W("JWT malformed, contained fewer than 3 sections"),null;try{const Ct=(0,wt.tV)(et);return Ct?JSON.parse(Ct):(W("Failed to decode base64 JWT payload"),null)}catch(Ct){return W("Caught error parsing JWT payload as JSON",Ct),null}}function un(ht,Q){return Za.apply(this,arguments)}function Za(){return(Za=(0,Nt.Z)(function*(ht,Q,et=!1){if(et)return Q;try{return yield Q}catch(pt){throw pt instanceof wt.ZR&&qa(pt)&&ht.auth.currentUser===ht&&(yield ht.auth.signOut()),pt}})).apply(this,arguments)}function qa({code:ht}){return"auth/user-disabled"===ht||"auth/user-token-expired"===ht}class Pd{constructor(Q){this.user=Q,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(Q){var et;if(Q){const pt=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),pt}{this.errorBackoff=3e4;const Ct=(null!==(et=this.user.stsTokenManager.expirationTime)&&void 0!==et?et:0)-Date.now()-3e5;return Math.max(0,Ct)}}schedule(Q=!1){var et=this;if(!this.isRunning)return;const pt=this.getInterval(Q);this.timerId=setTimeout((0,Nt.Z)(function*(){yield et.iteration()}),pt)}iteration(){var Q=this;return(0,Nt.Z)(function*(){try{yield Q.user.getIdToken(!0)}catch(et){return void("auth/network-request-failed"===et.code&&Q.schedule(!0))}Q.schedule()})()}}class Id{constructor(Q,et){this.createdAt=Q,this.lastLoginAt=et,this._initializeTime()}_initializeTime(){this.lastSignInTime=xi(this.lastLoginAt),this.creationTime=xi(this.createdAt)}_copy(Q){this.createdAt=Q.createdAt,this.lastLoginAt=Q.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function wr(ht){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,Nt.Z)(function*(ht){var Q;const et=ht.auth,pt=yield ht.getIdToken(),Ct=yield un(ht,Ae(et,{idToken:pt}));nt(null==Ct?void 0:Ct.users.length,et,"internal-error");const At=Ct.users[0];ht._notifyReloadListener(At);const Gt=(null===(Q=At.providerUserInfo)||void 0===Q?void 0:Q.length)?Rh(At.providerUserInfo):[],Zt=Lo(ht.providerData,Gt),xe=!!ht.isAnonymous&&!(ht.email&&At.passwordHash||(null==Zt?void 0:Zt.length)),ye={uid:At.localId,displayName:At.displayName||null,photoURL:At.photoUrl||null,email:At.email||null,emailVerified:At.emailVerified||!1,phoneNumber:At.phoneNumber||null,tenantId:At.tenantId||null,providerData:Zt,metadata:new Id(At.createdAt,At.lastLoginAt),isAnonymous:xe};Object.assign(ht,ye)})).apply(this,arguments)}function $a(){return($a=(0,Nt.Z)(function*(ht){const Q=(0,wt.m9)(ht);yield wr(Q),yield Q.auth._persistUserIfCurrent(Q),Q.auth._notifyListenersIfCurrent(Q)})).apply(this,arguments)}function Lo(ht,Q){return[...ht.filter(pt=>!Q.some(Ct=>Ct.providerId===pt.providerId)),...Q]}function Rh(ht){return ht.map(Q=>{var{providerId:et}=Q,pt=rt(Q,["providerId"]);return{providerId:et,uid:pt.rawId||"",displayName:pt.displayName||null,email:pt.email||null,phoneNumber:pt.phoneNumber||null,photoURL:pt.photoUrl||null}})}function Ka(){return(Ka=(0,Nt.Z)(function*(ht,Q){const et=yield Ht(ht,{},(0,Nt.Z)(function*(){const pt=(0,wt.xO)({grant_type:"refresh_token",refresh_token:Q}).slice(1),{tokenApiHost:Ct,apiKey:At}=ht.config,Gt=Ut(ht,Ct,"/v1/token",`key=${At}`),Zt=yield ht._getAdditionalHeaders();return Zt["Content-Type"]="application/x-www-form-urlencoded",bt.fetch()(Gt,{method:"POST",headers:Zt,body:pt})}));return{accessToken:et.access_token,expiresIn:et.expires_in,refreshToken:et.refresh_token}})).apply(this,arguments)}class Yr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(Q){nt(Q.idToken,"internal-error"),nt(void 0!==Q.idToken,"internal-error"),nt(void 0!==Q.refreshToken,"internal-error");const et="expiresIn"in Q&&void 0!==Q.expiresIn?Number(Q.expiresIn):function(ht){const Q=Vr(ht);return nt(Q,"internal-error"),nt(void 0!==Q.exp,"internal-error"),nt(void 0!==Q.iat,"internal-error"),Number(Q.exp)-Number(Q.iat)}(Q.idToken);this.updateTokensAndExpiration(Q.idToken,Q.refreshToken,et)}getToken(Q,et=!1){var pt=this;return(0,Nt.Z)(function*(){return nt(!pt.accessToken||pt.refreshToken,Q,"user-token-expired"),et||!pt.accessToken||pt.isExpired?pt.refreshToken?(yield pt.refresh(Q,pt.refreshToken),pt.accessToken):null:pt.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(Q,et){var pt=this;return(0,Nt.Z)(function*(){const{accessToken:Ct,refreshToken:At,expiresIn:Gt}=yield function(ht,Q){return Ka.apply(this,arguments)}(Q,et);pt.updateTokensAndExpiration(Ct,At,Number(Gt))})()}updateTokensAndExpiration(Q,et,pt){this.refreshToken=et||null,this.accessToken=Q||null,this.expirationTime=Date.now()+1e3*pt}static fromJSON(Q,et){const{refreshToken:pt,accessToken:Ct,expirationTime:At}=et,Gt=new Yr;return pt&&(nt("string"==typeof pt,"internal-error",{appName:Q}),Gt.refreshToken=pt),Ct&&(nt("string"==typeof Ct,"internal-error",{appName:Q}),Gt.accessToken=Ct),At&&(nt("number"==typeof At,"internal-error",{appName:Q}),Gt.expirationTime=At),Gt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(Q){this.accessToken=Q.accessToken,this.refreshToken=Q.refreshToken,this.expirationTime=Q.expirationTime}_clone(){return Object.assign(new Yr,this.toJSON())}_performRefresh(){return it("not implemented")}}function Nn(ht,Q){nt("string"==typeof ht||void 0===ht,"internal-error",{appName:Q})}class wn{constructor(Q){var{uid:et,auth:pt,stsTokenManager:Ct}=Q,At=rt(Q,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=et,this.auth=pt,this.stsTokenManager=Ct,this.accessToken=Ct.accessToken,this.displayName=At.displayName||null,this.email=At.email||null,this.emailVerified=At.emailVerified||!1,this.phoneNumber=At.phoneNumber||null,this.photoURL=At.photoURL||null,this.isAnonymous=At.isAnonymous||!1,this.tenantId=At.tenantId||null,this.providerData=At.providerData?[...At.providerData]:[],this.metadata=new Id(At.createdAt||void 0,At.lastLoginAt||void 0)}getIdToken(Q){var et=this;return(0,Nt.Z)(function*(){const pt=yield un(et,et.stsTokenManager.getToken(et.auth,Q));return nt(pt,et.auth,"internal-error"),et.accessToken!==pt&&(et.accessToken=pt,yield et.auth._persistUserIfCurrent(et),et.auth._notifyListenersIfCurrent(et)),pt})()}getIdTokenResult(Q){return function(ht){return Is.apply(this,arguments)}(this,Q)}reload(){return function(ht){return $a.apply(this,arguments)}(this)}_assign(Q){this!==Q&&(nt(this.uid===Q.uid,this.auth,"internal-error"),this.displayName=Q.displayName,this.photoURL=Q.photoURL,this.email=Q.email,this.emailVerified=Q.emailVerified,this.phoneNumber=Q.phoneNumber,this.isAnonymous=Q.isAnonymous,this.tenantId=Q.tenantId,this.providerData=Q.providerData.map(et=>Object.assign({},et)),this.metadata._copy(Q.metadata),this.stsTokenManager._assign(Q.stsTokenManager))}_clone(Q){return new wn(Object.assign(Object.assign({},this),{auth:Q,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(Q){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=Q,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(Q){this.reloadListener?this.reloadListener(Q):this.reloadUserInfo=Q}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(Q,et=!1){var pt=this;return(0,Nt.Z)(function*(){let Ct=!1;Q.idToken&&Q.idToken!==pt.stsTokenManager.accessToken&&(pt.stsTokenManager.updateFromServerResponse(Q),Ct=!0),et&&(yield wr(pt)),yield pt.auth._persistUserIfCurrent(pt),Ct&&pt.auth._notifyListenersIfCurrent(pt)})()}delete(){var Q=this;return(0,Nt.Z)(function*(){const et=yield Q.getIdToken();return yield un(Q,function(ht,Q){return pe.apply(this,arguments)}(Q.auth,{idToken:et})),Q.stsTokenManager.clearRefreshToken(),Q.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(Q=>Object.assign({},Q)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(Q,et){var pt,Ct,At,Gt,Zt,ae,oe,xe;const ye=null!==(pt=et.displayName)&&void 0!==pt?pt:void 0,Pe=null!==(Ct=et.email)&&void 0!==Ct?Ct:void 0,oi=null!==(At=et.phoneNumber)&&void 0!==At?At:void 0,vr=null!==(Gt=et.photoURL)&&void 0!==Gt?Gt:void 0,Cc=null!==(Zt=et.tenantId)&&void 0!==Zt?Zt:void 0,Lu=null!==(ae=et._redirectEventId)&&void 0!==ae?ae:void 0,cg=null!==(oe=et.createdAt)&&void 0!==oe?oe:void 0,Ru=null!==(xe=et.lastLoginAt)&&void 0!==xe?xe:void 0,{uid:Tc,emailVerified:Nu,isAnonymous:ju,providerData:Mc,stsTokenManager:Bu}=et;nt(Tc&&Bu,Q,"internal-error");const dg=Yr.fromJSON(this.name,Bu);nt("string"==typeof Tc,Q,"internal-error"),Nn(ye,Q.name),Nn(Pe,Q.name),nt("boolean"==typeof Nu,Q,"internal-error"),nt("boolean"==typeof ju,Q,"internal-error"),Nn(oi,Q.name),Nn(vr,Q.name),Nn(Cc,Q.name),Nn(Lu,Q.name),Nn(cg,Q.name),Nn(Ru,Q.name);const $l=new wn({uid:Tc,auth:Q,email:Pe,emailVerified:Nu,displayName:ye,isAnonymous:ju,photoURL:vr,phoneNumber:oi,tenantId:Cc,stsTokenManager:dg,createdAt:cg,lastLoginAt:Ru});return Mc&&Array.isArray(Mc)&&($l.providerData=Mc.map(ug=>Object.assign({},ug))),Lu&&($l._redirectEventId=Lu),$l}static _fromIdTokenResponse(Q,et,pt=!1){return(0,Nt.Z)(function*(){const Ct=new Yr;Ct.updateFromServerResponse(et);const At=new wn({uid:et.localId,auth:Q,stsTokenManager:Ct,isAnonymous:pt});return yield wr(At),At})()}}const Xr=(()=>{class ht{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,Nt.Z)(function*(){return!0})()}_set(et,pt){var Ct=this;return(0,Nt.Z)(function*(){Ct.storage[et]=pt})()}_get(et){var pt=this;return(0,Nt.Z)(function*(){const Ct=pt.storage[et];return void 0===Ct?null:Ct})()}_remove(et){var pt=this;return(0,Nt.Z)(function*(){delete pt.storage[et]})()}_addListener(et,pt){}_removeListener(et,pt){}}return ht.type="NONE",ht})();function rr(ht,Q,et){return`firebase:${ht}:${Q}:${et}`}class Zr{constructor(Q,et,pt){this.persistence=Q,this.auth=et,this.userKey=pt;const{config:Ct,name:At}=this.auth;this.fullUserKey=rr(this.userKey,Ct.apiKey,At),this.fullPersistenceKey=rr("persistence",Ct.apiKey,At),this.boundEventHandler=et._onStorageEvent.bind(et),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(Q){return this.persistence._set(this.fullUserKey,Q.toJSON())}getCurrentUser(){var Q=this;return(0,Nt.Z)(function*(){const et=yield Q.persistence._get(Q.fullUserKey);return et?wn._fromJSON(Q.auth,et):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(Q){var et=this;return(0,Nt.Z)(function*(){if(et.persistence===Q)return;const pt=yield et.getCurrentUser();return yield et.removeCurrentUser(),et.persistence=Q,pt?et.setCurrentUser(pt):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(Q,et,pt="authUser"){return(0,Nt.Z)(function*(){if(!et.length)return new Zr(mt(Xr),Q,pt);const Ct=(yield Promise.all(et.map(function(){var oe=(0,Nt.Z)(function*(xe){if(yield xe._isAvailable())return xe});return function(xe){return oe.apply(this,arguments)}}()))).filter(oe=>oe);let At=Ct[0]||mt(Xr);const Gt=rr(pt,Q.config.apiKey,Q.name);let Zt=null;for(const oe of et)try{const xe=yield oe._get(Gt);if(xe){const ye=wn._fromJSON(Q,xe);oe!==At&&(Zt=ye),At=oe;break}}catch(xe){}const ae=Ct.filter(oe=>oe._shouldAllowMigration);return At._shouldAllowMigration&&ae.length?(At=ae[0],Zt&&(yield At._set(Gt,Zt.toJSON())),yield Promise.all(et.map(function(){var oe=(0,Nt.Z)(function*(xe){if(xe!==At)try{yield xe._remove(Gt)}catch(ye){}});return function(xe){return oe.apply(this,arguments)}}())),new Zr(At,Q,pt)):new Zr(At,Q,pt)})()}}function fi(ht){const Q=ht.toLowerCase();if(Q.includes("opera/")||Q.includes("opr/")||Q.includes("opios/"))return"Opera";if(Ni(Q))return"IEMobile";if(Q.includes("msie")||Q.includes("trident/"))return"IE";if(Q.includes("edge/"))return"Edge";if(pn(Q))return"Firefox";if(Q.includes("silk/"))return"Silk";if(jn(Q))return"Blackberry";if(Ro(Q))return"Webos";if(Sr(Q))return"Safari";if((Q.includes("chrome/")||gi(Q))&&!Q.includes("edge/"))return"Chrome";if(Sn(Q))return"Android";{const pt=ht.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==pt?void 0:pt.length))return pt[1]}return"Other"}function pn(ht=(0,wt.z$)()){return/firefox\//i.test(ht)}function Sr(ht=(0,wt.z$)()){const Q=ht.toLowerCase();return Q.includes("safari/")&&!Q.includes("chrome/")&&!Q.includes("crios/")&&!Q.includes("android")}function gi(ht=(0,wt.z$)()){return/crios\//i.test(ht)}function Ni(ht=(0,wt.z$)()){return/iemobile/i.test(ht)}function Sn(ht=(0,wt.z$)()){return/android/i.test(ht)}function jn(ht=(0,wt.z$)()){return/blackberry/i.test(ht)}function Ro(ht=(0,wt.z$)()){return/webos/i.test(ht)}function Bn(ht=(0,wt.z$)()){return/iphone|ipad|ipod/i.test(ht)}function Os(ht=(0,wt.z$)()){return Bn(ht)||Sn(ht)||Ro(ht)||jn(ht)||/windows phone/i.test(ht)||Ni(ht)}function No(ht,Q=[]){let et;switch(ht){case"Browser":et=fi((0,wt.z$)());break;case"Worker":et=`${fi((0,wt.z$)())}-${ht}`;break;default:et=ht}const pt=Q.length?Q.join(","):"FirebaseCore-web";return`${et}/JsCore/${o.SDK_VERSION}/${pt}`}class qr{constructor(Q,et){this.app=Q,this.config=et,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fn(this),this.idTokenSubscription=new fn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=Q.name,this.clientVersion=et.sdkClientVersion}_initializeWithPersistence(Q,et){var pt=this;return et&&(this._popupRedirectResolver=mt(et)),this._initializationPromise=this.queue((0,Nt.Z)(function*(){var Ct,At;if(!pt._deleted&&(pt.persistenceManager=yield Zr.create(pt,Q),!pt._deleted)){if(null===(Ct=pt._popupRedirectResolver)||void 0===Ct?void 0:Ct._shouldInitProactively)try{yield pt._popupRedirectResolver._initialize(pt)}catch(Gt){}yield pt.initializeCurrentUser(et),pt.lastNotifiedUid=(null===(At=pt.currentUser)||void 0===At?void 0:At.uid)||null,!pt._deleted&&(pt._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var Q=this;return(0,Nt.Z)(function*(){if(Q._deleted)return;const et=yield Q.assertedPersistence.getCurrentUser();if(Q.currentUser||et){if(Q.currentUser&&et&&Q.currentUser.uid===et.uid)return Q._currentUser._assign(et),void(yield Q.currentUser.getIdToken());yield Q._updateCurrentUser(et)}})()}initializeCurrentUser(Q){var et=this;return(0,Nt.Z)(function*(){var pt;let Ct=yield et.assertedPersistence.getCurrentUser();if(Q&&et.config.authDomain){yield et.getOrInitRedirectPersistenceManager();const At=null===(pt=et.redirectUser)||void 0===pt?void 0:pt._redirectEventId,Gt=null==Ct?void 0:Ct._redirectEventId,Zt=yield et.tryRedirectSignIn(Q);(!At||At===Gt)&&(null==Zt?void 0:Zt.user)&&(Ct=Zt.user)}return Ct?Ct._redirectEventId?(nt(et._popupRedirectResolver,et,"argument-error"),yield et.getOrInitRedirectPersistenceManager(),et.redirectUser&&et.redirectUser._redirectEventId===Ct._redirectEventId?et.directlySetCurrentUser(Ct):et.reloadAndSetCurrentUserOrClear(Ct)):et.reloadAndSetCurrentUserOrClear(Ct):et.directlySetCurrentUser(null)})()}tryRedirectSignIn(Q){var et=this;return(0,Nt.Z)(function*(){let pt=null;try{pt=yield et._popupRedirectResolver._completeRedirectFn(et,Q,!0)}catch(Ct){yield et._setRedirectUser(null)}return pt})()}reloadAndSetCurrentUserOrClear(Q){var et=this;return(0,Nt.Z)(function*(){try{yield wr(Q)}catch(pt){if("auth/network-request-failed"!==pt.code)return et.directlySetCurrentUser(null)}return et.directlySetCurrentUser(Q)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const ht=navigator;return ht.languages&&ht.languages[0]||ht.language||null}()}_delete(){var Q=this;return(0,Nt.Z)(function*(){Q._deleted=!0})()}updateCurrentUser(Q){var et=this;return(0,Nt.Z)(function*(){const pt=Q?(0,wt.m9)(Q):null;return pt&&nt(pt.auth.config.apiKey===et.config.apiKey,et,"invalid-user-token"),et._updateCurrentUser(pt&&pt._clone(et))})()}_updateCurrentUser(Q){var et=this;return(0,Nt.Z)(function*(){if(!et._deleted)return Q&&nt(et.tenantId===Q.tenantId,et,"tenant-id-mismatch"),et.queue((0,Nt.Z)(function*(){yield et.directlySetCurrentUser(Q),et.notifyAuthListeners()}))})()}signOut(){var Q=this;return(0,Nt.Z)(function*(){return(Q.redirectPersistenceManager||Q._popupRedirectResolver)&&(yield Q._setRedirectUser(null)),Q._updateCurrentUser(null)})()}setPersistence(Q){var et=this;return this.queue((0,Nt.Z)(function*(){yield et.assertedPersistence.setPersistence(mt(Q))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(Q){this._errorFactory=new wt.LL("auth","Firebase",Q())}onAuthStateChanged(Q,et,pt){return this.registerStateListener(this.authStateSubscription,Q,et,pt)}onIdTokenChanged(Q,et,pt){return this.registerStateListener(this.idTokenSubscription,Q,et,pt)}toJSON(){var Q;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(Q=this._currentUser)||void 0===Q?void 0:Q.toJSON()}}_setRedirectUser(Q,et){var pt=this;return(0,Nt.Z)(function*(){const Ct=yield pt.getOrInitRedirectPersistenceManager(et);return null===Q?Ct.removeCurrentUser():Ct.setCurrentUser(Q)})()}getOrInitRedirectPersistenceManager(Q){var et=this;return(0,Nt.Z)(function*(){if(!et.redirectPersistenceManager){const pt=Q&&mt(Q)||et._popupRedirectResolver;nt(pt,et,"argument-error"),et.redirectPersistenceManager=yield Zr.create(et,[mt(pt._redirectPersistence)],"redirectUser"),et.redirectUser=yield et.redirectPersistenceManager.getCurrentUser()}return et.redirectPersistenceManager})()}_redirectUserForId(Q){var et=this;return(0,Nt.Z)(function*(){var pt,Ct;return et._isInitialized&&(yield et.queue((0,Nt.Z)(function*(){}))),(null===(pt=et._currentUser)||void 0===pt?void 0:pt._redirectEventId)===Q?et._currentUser:(null===(Ct=et.redirectUser)||void 0===Ct?void 0:Ct._redirectEventId)===Q?et.redirectUser:null})()}_persistUserIfCurrent(Q){var et=this;return(0,Nt.Z)(function*(){if(Q===et.currentUser)return et.queue((0,Nt.Z)(function*(){return et.directlySetCurrentUser(Q)}))})()}_notifyListenersIfCurrent(Q){Q===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var Q,et;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const pt=null!==(et=null===(Q=this.currentUser)||void 0===Q?void 0:Q.uid)&&void 0!==et?et:null;this.lastNotifiedUid!==pt&&(this.lastNotifiedUid=pt,this.authStateSubscription.next(this.currentUser))}registerStateListener(Q,et,pt,Ct){if(this._deleted)return()=>{};const At="function"==typeof et?et:et.next.bind(et),Gt=this._isInitialized?Promise.resolve():this._initializationPromise;return nt(Gt,this,"internal-error"),Gt.then(()=>At(this.currentUser)),"function"==typeof et?Q.addObserver(et,pt,Ct):Q.addObserver(et)}directlySetCurrentUser(Q){var et=this;return(0,Nt.Z)(function*(){et.currentUser&&et.currentUser!==Q&&(et._currentUser._stopProactiveRefresh(),Q&&et.isProactiveRefreshEnabled&&Q._startProactiveRefresh()),et.currentUser=Q,Q?yield et.assertedPersistence.setCurrentUser(Q):yield et.assertedPersistence.removeCurrentUser()})()}queue(Q){return this.operations=this.operations.then(Q,Q),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(Q){!Q||this.frameworks.includes(Q)||(this.frameworks.push(Q),this.frameworks.sort(),this.clientVersion=No(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var Q=this;return(0,Nt.Z)(function*(){const et={"X-Client-Version":Q.clientVersion};return Q.app.options.appId&&(et["X-Firebase-gmpid"]=Q.app.options.appId),et})()}}function ri(ht){return(0,wt.m9)(ht)}class fn{constructor(Q){this.auth=Q,this.observer=null,this.addObserver=(0,wt.ne)(et=>this.observer=et)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kr(ht){const Q=ht.indexOf(":");return Q<0?"":ht.substr(0,Q+1)}function Qa(ht){if(!ht)return null;const Q=Number(ht);return isNaN(Q)?null:Q}class Fn{constructor(Q,et){this.providerId=Q,this.signInMethod=et}toJSON(){return it("not implemented")}_getIdTokenResponse(Q){return it("not implemented")}_linkToIdToken(Q,et){return it("not implemented")}_getReauthenticationResolver(Q){return it("not implemented")}}function Ds(ht,Q){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,Nt.Z)(function*(ht,Q){return Rt(ht,"POST","/v1/accounts:resetPassword",jt(ht,Q))})).apply(this,arguments)}function Rs(ht,Q){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,Nt.Z)(function*(ht,Q){return Rt(ht,"POST","/v1/accounts:update",Q)})).apply(this,arguments)}function jo(ht,Q){return sr.apply(this,arguments)}function sr(){return(sr=(0,Nt.Z)(function*(ht,Q){return Rt(ht,"POST","/v1/accounts:update",jt(ht,Q))})).apply(this,arguments)}function Qr(){return(Qr=(0,Nt.Z)(function*(ht,Q){return Pt(ht,"POST","/v1/accounts:signInWithPassword",jt(ht,Q))})).apply(this,arguments)}function js(ht,Q){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,Nt.Z)(function*(ht,Q){return Rt(ht,"POST","/v1/accounts:sendOobCode",jt(ht,Q))})).apply(this,arguments)}function Jr(ht,Q){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,Nt.Z)(function*(ht,Q){return js(ht,Q)})).apply(this,arguments)}function Fh(ht,Q){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,Nt.Z)(function*(ht,Q){return js(ht,Q)})).apply(this,arguments)}function Mr(ht,Q){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,Nt.Z)(function*(ht,Q){return js(ht,Q)})).apply(this,arguments)}function ts(ht,Q){return es.apply(this,arguments)}function es(){return(es=(0,Nt.Z)(function*(ht,Q){return js(ht,Q)})).apply(this,arguments)}function or(){return(or=(0,Nt.Z)(function*(ht,Q){return Pt(ht,"POST","/v1/accounts:signInWithEmailLink",jt(ht,Q))})).apply(this,arguments)}function Bs(){return(Bs=(0,Nt.Z)(function*(ht,Q){return Pt(ht,"POST","/v1/accounts:signInWithEmailLink",jt(ht,Q))})).apply(this,arguments)}class Fs extends Fn{constructor(Q,et,pt,Ct=null){super("password",pt),this._email=Q,this._password=et,this._tenantId=Ct}static _fromEmailAndPassword(Q,et){return new Fs(Q,et,"password")}static _fromEmailAndCode(Q,et,pt=null){return new Fs(Q,et,"emailLink",pt)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(Q){const et="string"==typeof Q?JSON.parse(Q):Q;if((null==et?void 0:et.email)&&(null==et?void 0:et.password)){if("password"===et.signInMethod)return this._fromEmailAndPassword(et.email,et.password);if("emailLink"===et.signInMethod)return this._fromEmailAndCode(et.email,et.password,et.tenantId)}return null}_getIdTokenResponse(Q){var et=this;return(0,Nt.Z)(function*(){switch(et.signInMethod){case"password":return function(ht,Q){return Qr.apply(this,arguments)}(Q,{returnSecureToken:!0,email:et._email,password:et._password});case"emailLink":return function(ht,Q){return or.apply(this,arguments)}(Q,{email:et._email,oobCode:et._password});default:b(Q,"internal-error")}})()}_linkToIdToken(Q,et){var pt=this;return(0,Nt.Z)(function*(){switch(pt.signInMethod){case"password":return Rs(Q,{idToken:et,returnSecureToken:!0,email:pt._email,password:pt._password});case"emailLink":return function(ht,Q){return Bs.apply(this,arguments)}(Q,{idToken:et,email:pt._email,oobCode:pt._password});default:b(Q,"internal-error")}})()}_getReauthenticationResolver(Q){return this._getIdTokenResponse(Q)}}function zn(ht,Q){return tl.apply(this,arguments)}function tl(){return(tl=(0,Nt.Z)(function*(ht,Q){return Pt(ht,"POST","/v1/accounts:signInWithIdp",jt(ht,Q))})).apply(this,arguments)}class bi extends Fn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(Q){const et=new bi(Q.providerId,Q.signInMethod);return Q.idToken||Q.accessToken?(Q.idToken&&(et.idToken=Q.idToken),Q.accessToken&&(et.accessToken=Q.accessToken),Q.nonce&&!Q.pendingToken&&(et.nonce=Q.nonce),Q.pendingToken&&(et.pendingToken=Q.pendingToken)):Q.oauthToken&&Q.oauthTokenSecret?(et.accessToken=Q.oauthToken,et.secret=Q.oauthTokenSecret):b("argument-error"),et}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(Q){const et="string"==typeof Q?JSON.parse(Q):Q,{providerId:pt,signInMethod:Ct}=et,At=rt(et,["providerId","signInMethod"]);if(!pt||!Ct)return null;const Gt=new bi(pt,Ct);return Gt.idToken=At.idToken||void 0,Gt.accessToken=At.accessToken||void 0,Gt.secret=At.secret,Gt.nonce=At.nonce,Gt.pendingToken=At.pendingToken||null,Gt}_getIdTokenResponse(Q){return zn(Q,this.buildRequest())}_linkToIdToken(Q,et){const pt=this.buildRequest();return pt.idToken=et,zn(Q,pt)}_getReauthenticationResolver(Q){const et=this.buildRequest();return et.autoCreate=!1,zn(Q,et)}buildRequest(){const Q={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)Q.pendingToken=this.pendingToken;else{const et={};this.idToken&&(et.id_token=this.idToken),this.accessToken&&(et.access_token=this.accessToken),this.secret&&(et.oauth_token_secret=this.secret),et.providerId=this.providerId,this.nonce&&!this.pendingToken&&(et.nonce=this.nonce),Q.postBody=(0,wt.xO)(et)}return Q}}function Gn(ht,Q){return el.apply(this,arguments)}function el(){return(el=(0,Nt.Z)(function*(ht,Q){return Rt(ht,"POST","/v1/accounts:sendVerificationCode",jt(ht,Q))})).apply(this,arguments)}function is(){return(is=(0,Nt.Z)(function*(ht,Q){return Pt(ht,"POST","/v1/accounts:signInWithPhoneNumber",jt(ht,Q))})).apply(this,arguments)}function kr(){return(kr=(0,Nt.Z)(function*(ht,Q){const et=yield Pt(ht,"POST","/v1/accounts:signInWithPhoneNumber",jt(ht,Q));if(et.temporaryProof)throw Vt(ht,"account-exists-with-different-credential",et);return et})).apply(this,arguments)}const Ar={USER_NOT_FOUND:"user-not-found"};function Er(){return(Er=(0,Nt.Z)(function*(ht,Q){return Pt(ht,"POST","/v1/accounts:signInWithPhoneNumber",jt(ht,Object.assign(Object.assign({},Q),{operation:"REAUTH"})),Ar)})).apply(this,arguments)}class Pr extends Fn{constructor(Q){super("phone","phone"),this.params=Q}static _fromVerification(Q,et){return new Pr({verificationId:Q,verificationCode:et})}static _fromTokenResponse(Q,et){return new Pr({phoneNumber:Q,temporaryProof:et})}_getIdTokenResponse(Q){return function(ht,Q){return is.apply(this,arguments)}(Q,this._makeVerificationRequest())}_linkToIdToken(Q,et){return function(ht,Q){return kr.apply(this,arguments)}(Q,Object.assign({idToken:et},this._makeVerificationRequest()))}_getReauthenticationResolver(Q){return function(ht,Q){return Er.apply(this,arguments)}(Q,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:Q,phoneNumber:et,verificationId:pt,verificationCode:Ct}=this.params;return Q&&et?{temporaryProof:Q,phoneNumber:et}:{sessionInfo:pt,code:Ct}}toJSON(){const Q={providerId:this.providerId};return this.params.phoneNumber&&(Q.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(Q.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(Q.verificationCode=this.params.verificationCode),this.params.verificationId&&(Q.verificationId=this.params.verificationId),Q}static fromJSON(Q){"string"==typeof Q&&(Q=JSON.parse(Q));const{verificationId:et,verificationCode:pt,phoneNumber:Ct,temporaryProof:At}=Q;return pt||et||Ct||At?new Pr({verificationId:et,verificationCode:pt,phoneNumber:Ct,temporaryProof:At}):null}}class gn{constructor(Q){var et,pt,Ct,At,Gt,Zt;const ae=(0,wt.zd)((0,wt.pd)(Q)),oe=null!==(et=ae.apiKey)&&void 0!==et?et:null,xe=null!==(pt=ae.oobCode)&&void 0!==pt?pt:null,ye=function(ht){switch(ht){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Ct=ae.mode)&&void 0!==Ct?Ct:null);nt(oe&&xe&&ye,"argument-error"),this.apiKey=oe,this.operation=ye,this.code=xe,this.continueUrl=null!==(At=ae.continueUrl)&&void 0!==At?At:null,this.languageCode=null!==(Gt=ae.languageCode)&&void 0!==Gt?Gt:null,this.tenantId=null!==(Zt=ae.tenantId)&&void 0!==Zt?Zt:null}static parseLink(Q){const et=function(ht){const Q=(0,wt.zd)((0,wt.pd)(ht)).link,et=Q?(0,wt.zd)((0,wt.pd)(Q)).deep_link_id:null,pt=(0,wt.zd)((0,wt.pd)(ht)).deep_link_id;return(pt?(0,wt.zd)((0,wt.pd)(pt)).link:null)||pt||et||Q||ht}(Q);try{return new gn(et)}catch(pt){return null}}}let Gs=(()=>{class ht{constructor(){this.providerId=ht.PROVIDER_ID}static credential(et,pt){return Fs._fromEmailAndPassword(et,pt)}static credentialWithLink(et,pt){const Ct=gn.parseLink(pt);return nt(Ct,"argument-error"),Fs._fromEmailAndCode(et,Ct.code,Ct.tenantId)}}return ht.PROVIDER_ID="password",ht.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ht.EMAIL_LINK_SIGN_IN_METHOD="emailLink",ht})();class tn{constructor(Q){this.providerId=Q,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(Q){this.defaultLanguageCode=Q}setCustomParameters(Q){return this.customParameters=Q,this}getCustomParameters(){return this.customParameters}}class mn extends tn{constructor(){super(...arguments),this.scopes=[]}addScope(Q){return this.scopes.includes(Q)||this.scopes.push(Q),this}getScopes(){return[...this.scopes]}}class Dr extends mn{static credentialFromJSON(Q){const et="string"==typeof Q?JSON.parse(Q):Q;return nt("providerId"in et&&"signInMethod"in et,"argument-error"),bi._fromParams(et)}credential(Q){return this._credential(Object.assign(Object.assign({},Q),{nonce:Q.rawNonce}))}_credential(Q){return nt(Q.idToken||Q.accessToken,"argument-error"),bi._fromParams(Object.assign(Object.assign({},Q),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(Q){return Dr.oauthCredentialFromTaggedObject(Q)}static credentialFromError(Q){return Dr.oauthCredentialFromTaggedObject(Q.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:Q}){if(!Q)return null;const{oauthIdToken:et,oauthAccessToken:pt,oauthTokenSecret:Ct,pendingToken:At,nonce:Gt,providerId:Zt}=Q;if(!pt&&!Ct&&!et&&!At||!Zt)return null;try{return new Dr(Zt)._credential({idToken:et,accessToken:pt,nonce:Gt,pendingToken:At})}catch(ae){return null}}}let Us=(()=>{class ht extends mn{constructor(){super("facebook.com")}static credential(et){return bi._fromParams({providerId:ht.PROVIDER_ID,signInMethod:ht.FACEBOOK_SIGN_IN_METHOD,accessToken:et})}static credentialFromResult(et){return ht.credentialFromTaggedObject(et)}static credentialFromError(et){return ht.credentialFromTaggedObject(et.customData||{})}static credentialFromTaggedObject({_tokenResponse:et}){if(!et||!("oauthAccessToken"in et)||!et.oauthAccessToken)return null;try{return ht.credential(et.oauthAccessToken)}catch(pt){return null}}}return ht.FACEBOOK_SIGN_IN_METHOD="facebook.com",ht.PROVIDER_ID="facebook.com",ht})(),Hs=(()=>{class ht extends mn{constructor(){super("google.com"),this.addScope("profile")}static credential(et,pt){return bi._fromParams({providerId:ht.PROVIDER_ID,signInMethod:ht.GOOGLE_SIGN_IN_METHOD,idToken:et,accessToken:pt})}static credentialFromResult(et){return ht.credentialFromTaggedObject(et)}static credentialFromError(et){return ht.credentialFromTaggedObject(et.customData||{})}static credentialFromTaggedObject({_tokenResponse:et}){if(!et)return null;const{oauthIdToken:pt,oauthAccessToken:Ct}=et;if(!pt&&!Ct)return null;try{return ht.credential(pt,Ct)}catch(At){return null}}}return ht.GOOGLE_SIGN_IN_METHOD="google.com",ht.PROVIDER_ID="google.com",ht})(),sl=(()=>{class ht extends mn{constructor(){super("github.com")}static credential(et){return bi._fromParams({providerId:ht.PROVIDER_ID,signInMethod:ht.GITHUB_SIGN_IN_METHOD,accessToken:et})}static credentialFromResult(et){return ht.credentialFromTaggedObject(et)}static credentialFromError(et){return ht.credentialFromTaggedObject(et.customData||{})}static credentialFromTaggedObject({_tokenResponse:et}){if(!et||!("oauthAccessToken"in et)||!et.oauthAccessToken)return null;try{return ht.credential(et.oauthAccessToken)}catch(pt){return null}}}return ht.GITHUB_SIGN_IN_METHOD="github.com",ht.PROVIDER_ID="github.com",ht})();class Tn extends Fn{constructor(Q,et){super(Q,Q),this.pendingToken=et}_getIdTokenResponse(Q){return zn(Q,this.buildRequest())}_linkToIdToken(Q,et){const pt=this.buildRequest();return pt.idToken=et,zn(Q,pt)}_getReauthenticationResolver(Q){const et=this.buildRequest();return et.autoCreate=!1,zn(Q,et)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(Q){const et="string"==typeof Q?JSON.parse(Q):Q,{providerId:pt,signInMethod:Ct,pendingToken:At}=et;return pt&&Ct&&At&&pt===Ct?new Tn(pt,At):null}static _create(Q,et){return new Tn(Q,et)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Un extends tn{constructor(Q){nt(Q.startsWith("saml."),"argument-error"),super(Q)}static credentialFromResult(Q){return Un.samlCredentialFromTaggedObject(Q)}static credentialFromError(Q){return Un.samlCredentialFromTaggedObject(Q.customData||{})}static credentialFromJSON(Q){const et=Tn.fromJSON(Q);return nt(et,"argument-error"),et}static samlCredentialFromTaggedObject({_tokenResponse:Q}){if(!Q)return null;const{pendingToken:et,providerId:pt}=Q;if(!et||!pt)return null;try{return Tn._create(pt,et)}catch(Ct){return null}}}let Ws=(()=>{class ht extends mn{constructor(){super("twitter.com")}static credential(et,pt){return bi._fromParams({providerId:ht.PROVIDER_ID,signInMethod:ht.TWITTER_SIGN_IN_METHOD,oauthToken:et,oauthTokenSecret:pt})}static credentialFromResult(et){return ht.credentialFromTaggedObject(et)}static credentialFromError(et){return ht.credentialFromTaggedObject(et.customData||{})}static credentialFromTaggedObject({_tokenResponse:et}){if(!et)return null;const{oauthAccessToken:pt,oauthTokenSecret:Ct}=et;if(!pt||!Ct)return null;try{return ht.credential(pt,Ct)}catch(At){return null}}}return ht.TWITTER_SIGN_IN_METHOD="twitter.com",ht.PROVIDER_ID="twitter.com",ht})();function lr(ht,Q){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,Nt.Z)(function*(ht,Q){return Pt(ht,"POST","/v1/accounts:signUp",jt(ht,Q))})).apply(this,arguments)}class _i{constructor(Q){this.user=Q.user,this.providerId=Q.providerId,this._tokenResponse=Q._tokenResponse,this.operationType=Q.operationType}static _fromIdTokenResponse(Q,et,pt,Ct=!1){return(0,Nt.Z)(function*(){const At=yield wn._fromIdTokenResponse(Q,pt,Ct),Gt=Hn(pt);return new _i({user:At,providerId:Gt,_tokenResponse:pt,operationType:et})})()}static _forOperation(Q,et,pt){return(0,Nt.Z)(function*(){yield Q._updateTokensIfNecessary(pt,!0);const Ct=Hn(pt);return new _i({user:Q,providerId:Ct,_tokenResponse:pt,operationType:et})})()}}function Hn(ht){return ht.providerId?ht.providerId:"phoneNumber"in ht?"phone":null}function Vs(){return(Vs=(0,Nt.Z)(function*(ht){var Q;const et=ri(ht);if(yield et._initializationPromise,null===(Q=et.currentUser)||void 0===Q?void 0:Q.isAnonymous)return new _i({user:et.currentUser,providerId:null,operationType:"signIn"});const pt=yield lr(et,{returnSecureToken:!0}),Ct=yield _i._fromIdTokenResponse(et,"signIn",pt,!0);return yield et._updateCurrentUser(Ct.user),Ct})).apply(this,arguments)}class hr extends wt.ZR{constructor(Q,et,pt,Ct){var At;super(et.code,et.message),this.operationType=pt,this.user=Ct,Object.setPrototypeOf(this,hr.prototype),this.customData={appName:Q.name,tenantId:null!==(At=Q.tenantId)&&void 0!==At?At:void 0,_serverResponse:et.customData._serverResponse,operationType:pt}}static _fromErrorAndOperation(Q,et,pt,Ct){return new hr(Q,et,pt,Ct)}}function ns(ht,Q,et,pt){return("reauthenticate"===Q?et._getReauthenticationResolver(ht):et._getIdTokenResponse(ht)).catch(At=>{throw"auth/multi-factor-auth-required"===At.code?hr._fromErrorAndOperation(ht,At,Q,pt):At})}function Ys(ht){return new Set(ht.map(({providerId:Q})=>Q).filter(Q=>!!Q))}function cr(){return(cr=(0,Nt.Z)(function*(ht,Q){const et=(0,wt.m9)(ht);yield ss(!0,et,Q);const{providerUserInfo:pt}=yield ne(et.auth,{idToken:yield et.getIdToken(),deleteProvider:[Q]}),Ct=Ys(pt||[]);return et.providerData=et.providerData.filter(At=>Ct.has(At.providerId)),Ct.has("phone")||(et.phoneNumber=null),yield et.auth._persistUserIfCurrent(et),et})).apply(this,arguments)}function Go(ht,Q){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,Nt.Z)(function*(ht,Q,et=!1){const pt=yield un(ht,Q._linkToIdToken(ht.auth,yield ht.getIdToken()),et);return _i._forOperation(ht,"link",pt)})).apply(this,arguments)}function ss(ht,Q,et){return os.apply(this,arguments)}function os(){return(os=(0,Nt.Z)(function*(ht,Q,et){yield wr(Q);const Ct=!1===ht?"provider-already-linked":"no-such-provider";nt(Ys(Q.providerData).has(et)===ht,Q.auth,Ct)})).apply(this,arguments)}function ol(ht,Q){return dr.apply(this,arguments)}function dr(){return(dr=(0,Nt.Z)(function*(ht,Q,et=!1){const{auth:pt}=ht,Ct="reauthenticate";try{const At=yield un(ht,ns(pt,Ct,Q,ht),et);nt(At.idToken,pt,"internal-error");const Gt=Vr(At.idToken);nt(Gt,pt,"internal-error");const{sub:Zt}=Gt;return nt(ht.uid===Zt,pt,"user-mismatch"),_i._forOperation(ht,Ct,At)}catch(At){throw"auth/user-not-found"===(null==At?void 0:At.code)&&b(pt,"user-mismatch"),At}})).apply(this,arguments)}function Uo(ht,Q){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,Nt.Z)(function*(ht,Q,et=!1){const Ct=yield ns(ht,"signIn",Q),At=yield _i._fromIdTokenResponse(ht,"signIn",Ct);return et||(yield ht._updateCurrentUser(At.user)),At})).apply(this,arguments)}function qs(ht,Q){return al.apply(this,arguments)}function al(){return(al=(0,Nt.Z)(function*(ht,Q){return Uo(ri(ht),Q)})).apply(this,arguments)}function Ho(ht,Q){return $s.apply(this,arguments)}function $s(){return($s=(0,Nt.Z)(function*(ht,Q){const et=(0,wt.m9)(ht);return yield ss(!1,et,Q.providerId),Go(et,Q)})).apply(this,arguments)}function Wo(ht,Q){return ll.apply(this,arguments)}function ll(){return(ll=(0,Nt.Z)(function*(ht,Q){return ol((0,wt.m9)(ht),Q)})).apply(this,arguments)}function Ks(ht,Q){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,Nt.Z)(function*(ht,Q){return Pt(ht,"POST","/v1/accounts:signInWithCustomToken",jt(ht,Q))})).apply(this,arguments)}function as(){return(as=(0,Nt.Z)(function*(ht,Q){const et=ri(ht),pt=yield Ks(et,{token:Q,returnSecureToken:!0}),Ct=yield _i._fromIdTokenResponse(et,"signIn",pt);return yield et._updateCurrentUser(Ct.user),Ct})).apply(this,arguments)}class Qs{constructor(Q,et){this.factorId=Q,this.uid=et.mfaEnrollmentId,this.enrollmentTime=new Date(et.enrolledAt).toUTCString(),this.displayName=et.displayName}static _fromServerResponse(Q,et){return"phoneInfo"in et?ls._fromServerResponse(Q,et):b(Q,"internal-error")}}class ls extends Qs{constructor(Q){super("phone",Q),this.phoneNumber=Q.phoneInfo}static _fromServerResponse(Q,et){return new ls(et)}}function Js(ht,Q,et){var pt;nt((null===(pt=et.url)||void 0===pt?void 0:pt.length)>0,ht,"invalid-continue-uri"),nt(void 0===et.dynamicLinkDomain||et.dynamicLinkDomain.length>0,ht,"invalid-dynamic-link-domain"),Q.continueUrl=et.url,Q.dynamicLinkDomain=et.dynamicLinkDomain,Q.canHandleCodeInApp=et.handleCodeInApp,et.iOS&&(nt(et.iOS.bundleId.length>0,ht,"missing-ios-bundle-id"),Q.iOSBundleId=et.iOS.bundleId),et.android&&(nt(et.android.packageName.length>0,ht,"missing-android-pkg-name"),Q.androidInstallApp=et.android.installApp,Q.androidMinimumVersionCode=et.android.minimumVersion,Q.androidPackageName=et.android.packageName)}function to(){return(to=(0,Nt.Z)(function*(ht,Q,et){const pt=(0,wt.m9)(ht),Ct={requestType:"PASSWORD_RESET",email:Q};et&&Js(pt,Ct,et),yield Fh(pt,Ct)})).apply(this,arguments)}function Xe(){return(Xe=(0,Nt.Z)(function*(ht,Q,et){yield Ds((0,wt.m9)(ht),{oobCode:Q,newPassword:et})})).apply(this,arguments)}function qo(){return(qo=(0,Nt.Z)(function*(ht,Q){yield jo((0,wt.m9)(ht),{oobCode:Q})})).apply(this,arguments)}function cl(ht,Q){return hs.apply(this,arguments)}function hs(){return(hs=(0,Nt.Z)(function*(ht,Q){const et=(0,wt.m9)(ht),pt=yield Ds(et,{oobCode:Q}),Ct=pt.requestType;switch(nt(Ct,et,"internal-error"),Ct){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":nt(pt.newEmail,et,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":nt(pt.mfaInfo,et,"internal-error");default:nt(pt.email,et,"internal-error")}let At=null;return pt.mfaInfo&&(At=Qs._fromServerResponse(ri(et),pt.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===pt.requestType?pt.newEmail:pt.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===pt.requestType?pt.email:pt.newEmail)||null,multiFactorInfo:At},operation:Ct}})).apply(this,arguments)}function eo(){return(eo=(0,Nt.Z)(function*(ht,Q){const{data:et}=yield cl((0,wt.m9)(ht),Q);return et.email})).apply(this,arguments)}function $o(){return($o=(0,Nt.Z)(function*(ht,Q,et){const pt=ri(ht),Ct=yield lr(pt,{returnSecureToken:!0,email:Q,password:et}),At=yield _i._fromIdTokenResponse(pt,"signIn",Ct);return yield pt._updateCurrentUser(At.user),At})).apply(this,arguments)}function no(){return(no=(0,Nt.Z)(function*(ht,Q,et){const pt=(0,wt.m9)(ht),Ct={requestType:"EMAIL_SIGNIN",email:Q};nt(et.handleCodeInApp,pt,"argument-error"),et&&Js(pt,Ct,et),yield Mr(pt,Ct)})).apply(this,arguments)}function Qo(){return(Qo=(0,Nt.Z)(function*(ht,Q,et){const pt=(0,wt.m9)(ht),Ct=Gs.credentialWithLink(Q,et||ut());return nt(Ct._tenantId===(pt.tenantId||null),pt,"tenant-id-mismatch"),qs(pt,Ct)})).apply(this,arguments)}function cs(ht,Q){return pl.apply(this,arguments)}function pl(){return(pl=(0,Nt.Z)(function*(ht,Q){return Rt(ht,"POST","/v1/accounts:createAuthUri",jt(ht,Q))})).apply(this,arguments)}function fl(){return(fl=(0,Nt.Z)(function*(ht,Q){const pt={identifier:Q,continueUri:ct()?ut():"http://localhost"},{signinMethods:Ct}=yield cs((0,wt.m9)(ht),pt);return Ct||[]})).apply(this,arguments)}function ds(){return(ds=(0,Nt.Z)(function*(ht,Q){const et=(0,wt.m9)(ht),Ct={requestType:"VERIFY_EMAIL",idToken:yield ht.getIdToken()};Q&&Js(et.auth,Ct,Q);const{email:At}=yield Jr(et.auth,Ct);At!==ht.email&&(yield ht.reload())})).apply(this,arguments)}function gl(){return(gl=(0,Nt.Z)(function*(ht,Q,et){const pt=(0,wt.m9)(ht),At={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield ht.getIdToken(),newEmail:Q};et&&Js(pt.auth,At,et);const{email:Gt}=yield ts(pt.auth,At);Gt!==ht.email&&(yield ht.reload())})).apply(this,arguments)}function Nd(ht,Q){return ml.apply(this,arguments)}function ml(){return(ml=(0,Nt.Z)(function*(ht,Q){return Rt(ht,"POST","/v1/accounts:update",Q)})).apply(this,arguments)}function Qe(){return(Qe=(0,Nt.Z)(function*(ht,{displayName:Q,photoURL:et}){if(void 0===Q&&void 0===et)return;const pt=(0,wt.m9)(ht),At={idToken:yield pt.getIdToken(),displayName:Q,photoUrl:et,returnSecureToken:!0},Gt=yield un(pt,Nd(pt.auth,At));pt.displayName=Gt.displayName||null,pt.photoURL=Gt.photoUrl||null;const Zt=pt.providerData.find(({providerId:ae})=>"password"===ae);Zt&&(Zt.displayName=pt.displayName,Zt.photoURL=pt.photoURL),yield pt._updateTokensIfNecessary(Gt)})).apply(this,arguments)}function Wh(ht,Q,et){return yl.apply(this,arguments)}function yl(){return(yl=(0,Nt.Z)(function*(ht,Q,et){const{auth:pt}=ht,At={idToken:yield ht.getIdToken(),returnSecureToken:!0};Q&&(At.email=Q),et&&(At.password=et);const Gt=yield un(ht,Rs(pt,At));yield ht._updateTokensIfNecessary(Gt,!0)})).apply(this,arguments)}class Rr{constructor(Q,et,pt={}){this.isNewUser=Q,this.providerId=et,this.profile=pt}}class ro extends Rr{constructor(Q,et,pt,Ct){super(Q,et,pt),this.username=Ct}}class Bd extends Rr{constructor(Q,et){super(Q,"facebook.com",et)}}class Fd extends ro{constructor(Q,et){super(Q,"github.com",et,"string"==typeof(null==et?void 0:et.login)?null==et?void 0:et.login:null)}}class zd extends Rr{constructor(Q,et){super(Q,"google.com",et)}}class Gd extends ro{constructor(Q,et,pt){super(Q,"twitter.com",et,pt)}}function ji(ht){const{user:Q,_tokenResponse:et}=ht;return Q.isAnonymous&&!et?{providerId:null,isNewUser:!1,profile:null}:function(ht){var Q,et;if(!ht)return null;const{providerId:pt}=ht,Ct=ht.rawUserInfo?JSON.parse(ht.rawUserInfo):{},At=ht.isNewUser||"identitytoolkit#SignupNewUserResponse"===ht.kind;if(!pt&&(null==ht?void 0:ht.idToken)){const Gt=null===(et=null===(Q=Vr(ht.idToken))||void 0===Q?void 0:Q.firebase)||void 0===et?void 0:et.sign_in_provider;if(Gt)return new Rr(At,"anonymous"!==Gt&&"custom"!==Gt?Gt:null)}if(!pt)return null;switch(pt){case"facebook.com":return new Bd(At,Ct);case"github.com":return new Fd(At,Ct);case"google.com":return new zd(At,Ct);case"twitter.com":return new Gd(At,Ct,ht.screenName||null);case"custom":case"anonymous":return new Rr(At,null);default:return new Rr(At,pt,Ct)}}(et)}class Wn{constructor(Q,et){this.type=Q,this.credential=et}static _fromIdtoken(Q){return new Wn("enroll",Q)}static _fromMfaPendingCredential(Q){return new Wn("signin",Q)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(Q){var et,pt;if(null==Q?void 0:Q.multiFactorSession){if(null===(et=Q.multiFactorSession)||void 0===et?void 0:et.pendingCredential)return Wn._fromMfaPendingCredential(Q.multiFactorSession.pendingCredential);if(null===(pt=Q.multiFactorSession)||void 0===pt?void 0:pt.idToken)return Wn._fromIdtoken(Q.multiFactorSession.idToken)}return null}}class ta{constructor(Q,et,pt){this.session=Q,this.hints=et,this.signInResolver=pt}static _fromError(Q,et){const pt=ri(Q),Ct=et.customData._serverResponse,At=(Ct.mfaInfo||[]).map(Zt=>Qs._fromServerResponse(pt,Zt));nt(Ct.mfaPendingCredential,pt,"internal-error");const Gt=Wn._fromMfaPendingCredential(Ct.mfaPendingCredential);return new ta(Gt,At,function(){var Zt=(0,Nt.Z)(function*(ae){const oe=yield ae._process(pt,Gt);delete Ct.mfaInfo,delete Ct.mfaPendingCredential;const xe=Object.assign(Object.assign({},Ct),{idToken:oe.idToken,refreshToken:oe.refreshToken});switch(et.operationType){case"signIn":const ye=yield _i._fromIdTokenResponse(pt,et.operationType,xe);return yield pt._updateCurrentUser(ye.user),ye;case"reauthenticate":return nt(et.user,pt,"internal-error"),_i._forOperation(et.user,et.operationType,xe);default:b(pt,"internal-error")}});return function(ae){return Zt.apply(this,arguments)}}())}resolveSignIn(Q){var et=this;return(0,Nt.Z)(function*(){return et.signInResolver(Q)})()}}function Hd(ht,Q){return Rt(ht,"POST","/v2/accounts/mfaEnrollment:start",jt(ht,Q))}class bl{constructor(Q){this.user=Q,this.enrolledFactors=[],Q._onReload(et=>{et.mfaInfo&&(this.enrolledFactors=et.mfaInfo.map(pt=>Qs._fromServerResponse(Q.auth,pt)))})}static _fromUser(Q){return new bl(Q)}getSession(){var Q=this;return(0,Nt.Z)(function*(){return Wn._fromIdtoken(yield Q.user.getIdToken())})()}enroll(Q,et){var pt=this;return(0,Nt.Z)(function*(){const Ct=Q,At=yield pt.getSession(),Gt=yield un(pt.user,Ct._process(pt.user.auth,At,et));return yield pt.user._updateTokensIfNecessary(Gt),pt.user.reload()})()}unenroll(Q){var et=this;return(0,Nt.Z)(function*(){const pt="string"==typeof Q?Q:Q.uid,Ct=yield et.user.getIdToken(),At=yield un(et.user,function(ht,Q){return Rt(ht,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(ht,Q))}(et.user.auth,{idToken:Ct,mfaEnrollmentId:pt}));et.enrolledFactors=et.enrolledFactors.filter(({uid:Gt})=>Gt!==pt),yield et.user._updateTokensIfNecessary(At);try{yield et.user.reload()}catch(Gt){if("auth/user-token-expired"!==Gt.code)throw Gt}})()}}const so=new WeakMap,us="__sak";class Yh{constructor(Q,et){this.storageRetriever=Q,this.type=et}_isAvailable(){try{return this.storage?(this.storage.setItem(us,"1"),this.storage.removeItem(us),Promise.resolve(!0)):Promise.resolve(!1)}catch(Q){return Promise.resolve(!1)}}_set(Q,et){return this.storage.setItem(Q,JSON.stringify(et)),Promise.resolve()}_get(Q){const et=this.storage.getItem(Q);return Promise.resolve(et?JSON.parse(et):null)}_remove(Q){return this.storage.removeItem(Q),Promise.resolve()}get storage(){return this.storageRetriever()}}const oo=(()=>{class ht extends Yh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(et,pt)=>this.onStorageEvent(et,pt),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const ht=(0,wt.z$)();return Sr(ht)||Bn(ht)}()&&function(){try{return!(!window||window===window.top)}catch(ht){return!1}}(),this.fallbackToPolling=Os(),this._shouldAllowMigration=!0}forAllChangedKeys(et){for(const pt of Object.keys(this.listeners)){const Ct=this.storage.getItem(pt),At=this.localCache[pt];Ct!==At&&et(pt,At,Ct)}}onStorageEvent(et,pt=!1){if(!et.key)return void this.forAllChangedKeys((Zt,ae,oe)=>{this.notifyListeners(Zt,oe)});const Ct=et.key;if(pt?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Zt=this.storage.getItem(Ct);if(et.newValue!==Zt)null!==et.newValue?this.storage.setItem(Ct,et.newValue):this.storage.removeItem(Ct);else if(this.localCache[Ct]===et.newValue&&!pt)return}const At=()=>{const Zt=this.storage.getItem(Ct);!pt&&this.localCache[Ct]===Zt||this.notifyListeners(Ct,Zt)},Gt=this.storage.getItem(Ct);(0,wt.w1)()&&10===document.documentMode&&Gt!==et.newValue&&et.newValue!==et.oldValue?setTimeout(At,10):At()}notifyListeners(et,pt){this.localCache[et]=pt;const Ct=this.listeners[et];if(Ct)for(const At of Array.from(Ct))At(pt&&JSON.parse(pt))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((et,pt,Ct)=>{this.onStorageEvent(new StorageEvent("storage",{key:et,oldValue:pt,newValue:Ct}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(et,pt){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[et]||(this.listeners[et]=new Set,this.localCache[et]=this.storage.getItem(et)),this.listeners[et].add(pt)}_removeListener(et,pt){this.listeners[et]&&(this.listeners[et].delete(pt),0===this.listeners[et].size&&delete this.listeners[et]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(et,pt){var Ct=()=>super._set,At=this;return(0,Nt.Z)(function*(){yield Ct().call(At,et,pt),At.localCache[et]=JSON.stringify(pt)})()}_get(et){var pt=()=>super._get,Ct=this;return(0,Nt.Z)(function*(){const At=yield pt().call(Ct,et);return Ct.localCache[et]=JSON.stringify(At),At})()}_remove(et){var pt=()=>super._remove,Ct=this;return(0,Nt.Z)(function*(){yield pt().call(Ct,et),delete Ct.localCache[et]})()}}return ht.type="LOCAL",ht})(),en=(()=>{class ht extends Yh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(et,pt){}_removeListener(et,pt){}}return ht.type="SESSION",ht})();let wf=(()=>{class ht{constructor(et){this.eventTarget=et,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(et){const pt=this.receivers.find(At=>At.isListeningto(et));if(pt)return pt;const Ct=new ht(et);return this.receivers.push(Ct),Ct}isListeningto(et){return this.eventTarget===et}handleEvent(et){var pt=this;return(0,Nt.Z)(function*(){const Ct=et,{eventId:At,eventType:Gt,data:Zt}=Ct.data,ae=pt.handlersMap[Gt];if(!(null==ae?void 0:ae.size))return;Ct.ports[0].postMessage({status:"ack",eventId:At,eventType:Gt});const oe=Array.from(ae).map(function(){var ye=(0,Nt.Z)(function*(Pe){return Pe(Ct.origin,Zt)});return function(Pe){return ye.apply(this,arguments)}}()),xe=yield function(ht){return Promise.all(ht.map(function(){var Q=(0,Nt.Z)(function*(et){try{return{fulfilled:!0,value:yield et}}catch(pt){return{fulfilled:!1,reason:pt}}});return function(et){return Q.apply(this,arguments)}}()))}(oe);Ct.ports[0].postMessage({status:"done",eventId:At,eventType:Gt,response:xe})})()}_subscribe(et,pt){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[et]||(this.handlersMap[et]=new Set),this.handlersMap[et].add(pt)}_unsubscribe(et,pt){this.handlersMap[et]&&pt&&this.handlersMap[et].delete(pt),(!pt||0===this.handlersMap[et].size)&&delete this.handlersMap[et],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return ht.receivers=[],ht})();function ao(ht="",Q=10){let et="";for(let pt=0;pt<Q;pt++)et+=Math.floor(10*Math.random());return ht+et}class Zd{constructor(Q){this.target=Q,this.handlers=new Set}removeMessageHandler(Q){Q.messageChannel&&(Q.messageChannel.port1.removeEventListener("message",Q.onMessage),Q.messageChannel.port1.close()),this.handlers.delete(Q)}_send(Q,et,pt=50){var Ct=this;return(0,Nt.Z)(function*(){const At="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!At)throw new Error("connection_unavailable");let Gt,Zt;return new Promise((ae,oe)=>{const xe=ao("",20);At.port1.start();const ye=setTimeout(()=>{oe(new Error("unsupported_event"))},pt);Zt={messageChannel:At,onMessage(Pe){const oi=Pe;if(oi.data.eventId===xe)switch(oi.data.status){case"ack":clearTimeout(ye),Gt=setTimeout(()=>{oe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Gt),ae(oi.data.response);break;default:clearTimeout(ye),clearTimeout(Gt),oe(new Error("invalid_response"))}}},Ct.handlers.add(Zt),At.port1.addEventListener("message",Zt.onMessage),Ct.target.postMessage({eventType:Q,eventId:xe,data:et},[At.port2])}).finally(()=>{Zt&&Ct.removeMessageHandler(Zt)})})()}}function Je(){return window}function Cl(){return void 0!==Je().WorkerGlobalScope&&"function"==typeof Je().importScripts}function Tl(){return(Tl=(0,Nt.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(ht){return null}})).apply(this,arguments)}const ur="firebaseLocalStorageDb",Nr="firebaseLocalStorage",lo="fbase_key";class ho{constructor(Q){this.request=Q}toPromise(){return new Promise((Q,et)=>{this.request.addEventListener("success",()=>{Q(this.request.result)}),this.request.addEventListener("error",()=>{et(this.request.error)})})}}function ia(ht,Q){return ht.transaction([Nr],Q?"readwrite":"readonly").objectStore(Nr)}function qh(){const ht=indexedDB.open(ur,1);return new Promise((Q,et)=>{ht.addEventListener("error",()=>{et(ht.error)}),ht.addEventListener("upgradeneeded",()=>{const pt=ht.result;try{pt.createObjectStore(Nr,{keyPath:lo})}catch(Ct){et(Ct)}}),ht.addEventListener("success",(0,Nt.Z)(function*(){const pt=ht.result;pt.objectStoreNames.contains(Nr)?Q(pt):(pt.close(),yield function(){const ht=indexedDB.deleteDatabase(ur);return new ho(ht).toPromise()}(),Q(yield qh()))}))})}function $d(ht,Q,et){return yn.apply(this,arguments)}function yn(){return(yn=(0,Nt.Z)(function*(ht,Q,et){const pt=ia(ht,!0).put({[lo]:Q,value:et});return new ho(pt).toPromise()})).apply(this,arguments)}function na(){return(na=(0,Nt.Z)(function*(ht,Q){const et=ia(ht,!1).get(Q),pt=yield new ho(et).toPromise();return void 0===pt?null:pt.value})).apply(this,arguments)}function ra(ht,Q){const et=ia(ht,!0).delete(Q);return new ho(et).toPromise()}const Yn=(()=>{class ht{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var et=this;return(0,Nt.Z)(function*(){return et.db||(et.db=yield qh()),et.db})()}_withRetries(et){var pt=this;return(0,Nt.Z)(function*(){let Ct=0;for(;;)try{const At=yield pt._openDb();return yield et(At)}catch(At){if(Ct++>3)throw At;pt.db&&(pt.db.close(),pt.db=void 0)}})()}initializeServiceWorkerMessaging(){var et=this;return(0,Nt.Z)(function*(){return Cl()?et.initializeReceiver():et.initializeSender()})()}initializeReceiver(){var et=this;return(0,Nt.Z)(function*(){et.receiver=wf._getInstance(Cl()?self:null),et.receiver._subscribe("keyChanged",function(){var pt=(0,Nt.Z)(function*(Ct,At){return{keyProcessed:(yield et._poll()).includes(At.key)}});return function(Ct,At){return pt.apply(this,arguments)}}()),et.receiver._subscribe("ping",function(){var pt=(0,Nt.Z)(function*(Ct,At){return["keyChanged"]});return function(Ct,At){return pt.apply(this,arguments)}}())})()}initializeSender(){var et=this;return(0,Nt.Z)(function*(){var pt,Ct;if(et.activeServiceWorker=yield function(){return Tl.apply(this,arguments)}(),!et.activeServiceWorker)return;et.sender=new Zd(et.activeServiceWorker);const At=yield et.sender._send("ping",{},800);!At||(null===(pt=At[0])||void 0===pt?void 0:pt.fulfilled)&&(null===(Ct=At[0])||void 0===Ct?void 0:Ct.value.includes("keyChanged"))&&(et.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(et){var pt=this;return(0,Nt.Z)(function*(){if(pt.sender&&pt.activeServiceWorker&&function(){var ht;return(null===(ht=null==navigator?void 0:navigator.serviceWorker)||void 0===ht?void 0:ht.controller)||null}()===pt.activeServiceWorker)try{yield pt.sender._send("keyChanged",{key:et},pt.serviceWorkerReceiverAvailable?800:50)}catch(Ct){}})()}_isAvailable(){return(0,Nt.Z)(function*(){try{if(!indexedDB)return!1;const et=yield qh();return yield $d(et,us,"1"),yield ra(et,us),!0}catch(et){}return!1})()}_withPendingWrite(et){var pt=this;return(0,Nt.Z)(function*(){pt.pendingWrites++;try{yield et()}finally{pt.pendingWrites--}})()}_set(et,pt){var Ct=this;return(0,Nt.Z)(function*(){return Ct._withPendingWrite((0,Nt.Z)(function*(){return yield Ct._withRetries(At=>$d(At,et,pt)),Ct.localCache[et]=pt,Ct.notifyServiceWorker(et)}))})()}_get(et){var pt=this;return(0,Nt.Z)(function*(){const Ct=yield pt._withRetries(At=>function(ht,Q){return na.apply(this,arguments)}(At,et));return pt.localCache[et]=Ct,Ct})()}_remove(et){var pt=this;return(0,Nt.Z)(function*(){return pt._withPendingWrite((0,Nt.Z)(function*(){return yield pt._withRetries(Ct=>ra(Ct,et)),delete pt.localCache[et],pt.notifyServiceWorker(et)}))})()}_poll(){var et=this;return(0,Nt.Z)(function*(){const pt=yield et._withRetries(Gt=>{const Zt=ia(Gt,!1).getAll();return new ho(Zt).toPromise()});if(!pt)return[];if(0!==et.pendingWrites)return[];const Ct=[],At=new Set;for(const{fbase_key:Gt,value:Zt}of pt)At.add(Gt),JSON.stringify(et.localCache[Gt])!==JSON.stringify(Zt)&&(et.notifyListeners(Gt,Zt),Ct.push(Gt));for(const Gt of Object.keys(et.localCache))et.localCache[Gt]&&!At.has(Gt)&&(et.notifyListeners(Gt,null),Ct.push(Gt));return Ct})()}notifyListeners(et,pt){this.localCache[et]=pt;const Ct=this.listeners[et];if(Ct)for(const At of Array.from(Ct))At(pt)}startPolling(){var et=this;this.stopPolling(),this.pollTimer=setInterval((0,Nt.Z)(function*(){return et._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(et,pt){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[et]||(this.listeners[et]=new Set,this._get(et)),this.listeners[et].add(pt)}_removeListener(et,pt){this.listeners[et]&&(this.listeners[et].delete(pt),0===this.listeners[et].size&&delete this.listeners[et]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return ht.type="LOCAL",ht})();function Kd(ht,Q){return Rt(ht,"POST","/v2/accounts/mfaSignIn:start",jt(ht,Q))}function El(){return(El=(0,Nt.Z)(function*(ht){return(yield Rt(ht,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Pl(ht){return new Promise((Q,et)=>{const pt=document.createElement("script");pt.setAttribute("src",ht),pt.onload=Q,pt.onerror=Ct=>{const At=z("internal-error");At.customData=Ct,et(At)},pt.type="text/javascript",pt.charset="UTF-8",function(){var ht,Q;return null!==(Q=null===(ht=document.getElementsByTagName("head"))||void 0===ht?void 0:ht[0])&&void 0!==Q?Q:document}().appendChild(pt)})}function sa(ht){return`__${ht}${Math.floor(1e6*Math.random())}`}const jr=1e12;class Il{constructor(Q){this.auth=Q,this.counter=jr,this._widgets=new Map}render(Q,et){const pt=this.counter;return this._widgets.set(pt,new aa(Q,this.auth.name,et||{})),this.counter++,pt}reset(Q){var et;const pt=Q||jr;null===(et=this._widgets.get(pt))||void 0===et||et.delete(),this._widgets.delete(pt)}getResponse(Q){var et;return(null===(et=this._widgets.get(Q||jr))||void 0===et?void 0:et.getResponse())||""}execute(Q){var et=this;return(0,Nt.Z)(function*(){var pt;return null===(pt=et._widgets.get(Q||jr))||void 0===pt||pt.execute(),""})()}}class aa{constructor(Q,et,pt){this.params=pt,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Ct="string"==typeof Q?document.getElementById(Q):Q;nt(Ct,"argument-error",{appName:et}),this.container=Ct,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(ht){const Q=[],et="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let pt=0;pt<50;pt++)Q.push(et.charAt(Math.floor(Math.random()*et.length)));return Q.join("")}();const{callback:Q,"expired-callback":et}=this.params;if(Q)try{Q(this.responseToken)}catch(pt){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,et)try{et()}catch(pt){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const uo=sa("rcb"),Dl=new dt(3e4,6e4);class Qd{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Je().grecaptcha}load(Q,et=""){return nt((ht=et).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(ht),Q,"argument-error"),this.shouldResolveImmediately(et)?Promise.resolve(Je().grecaptcha):new Promise((pt,Ct)=>{const At=Je().setTimeout(()=>{Ct(z(Q,"network-request-failed"))},Dl.get());Je()[uo]=()=>{Je().clearTimeout(At),delete Je()[uo];const Zt=Je().grecaptcha;if(!Zt)return void Ct(z(Q,"internal-error"));const ae=Zt.render;Zt.render=(oe,xe)=>{const ye=ae(oe,xe);return this.counter++,ye},this.hostLanguage=et,pt(Zt)},Pl(`https://www.google.com/recaptcha/api.js??${(0,wt.xO)({onload:uo,render:"explicit",hl:et})}`).catch(()=>{clearTimeout(At),Ct(z(Q,"internal-error"))})});var ht}clearedOneInstance(){this.counter--}shouldResolveImmediately(Q){return!!Je().grecaptcha&&(Q===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Sf{load(Q){return(0,Nt.Z)(function*(){return new Il(Q)})()}clearedOneInstance(){}}const ec="recaptcha",tu={theme:"light",type:"image"};class fs{constructor(Q,et=Object.assign({},tu),pt){this.parameters=et,this.type=ec,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ri(pt),this.isInvisible="invisible"===this.parameters.size,nt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Ct="string"==typeof Q?document.getElementById(Q):Q;nt(Ct,this.auth,"argument-error"),this.container=Ct,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Sf:new Qd,this.validateStartingState()}verify(){var Q=this;return(0,Nt.Z)(function*(){Q.assertNotDestroyed();const et=yield Q.render(),pt=Q.getAssertedRecaptcha();return pt.getResponse(et)||new Promise(At=>{const Gt=Zt=>{!Zt||(Q.tokenChangeListeners.delete(Gt),At(Zt))};Q.tokenChangeListeners.add(Gt),Q.isInvisible&&pt.execute(et)})})()}render(){try{this.assertNotDestroyed()}catch(Q){return Promise.reject(Q)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(Q=>{throw this.renderPromise=null,Q})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(Q=>{this.container.removeChild(Q)})}validateStartingState(){nt(!this.parameters.sitekey,this.auth,"argument-error"),nt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),nt("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(Q){return et=>{if(this.tokenChangeListeners.forEach(pt=>pt(et)),"function"==typeof Q)Q(et);else if("string"==typeof Q){const pt=Je()[Q];"function"==typeof pt&&pt(et)}}}assertNotDestroyed(){nt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var Q=this;return(0,Nt.Z)(function*(){if(yield Q.init(),!Q.widgetId){let et=Q.container;if(!Q.isInvisible){const pt=document.createElement("div");et.appendChild(pt),et=pt}Q.widgetId=Q.getAssertedRecaptcha().render(et,Q.parameters)}return Q.widgetId})()}init(){var Q=this;return(0,Nt.Z)(function*(){nt(ct()&&!Cl(),Q.auth,"internal-error"),yield function(){let ht=null;return new Promise(Q=>{"complete"!==document.readyState?(ht=()=>Q(),window.addEventListener("load",ht)):Q()}).catch(Q=>{throw ht&&window.removeEventListener("load",ht),Q})}(),Q.recaptcha=yield Q._recaptchaLoader.load(Q.auth,Q.auth.languageCode||void 0);const et=yield function(ht){return El.apply(this,arguments)}(Q.auth);nt(et,Q.auth,"internal-error"),Q.parameters.sitekey=et})()}getAssertedRecaptcha(){return nt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ha{constructor(Q,et){this.verificationId=Q,this.onConfirmation=et}confirm(Q){const et=Pr._fromVerification(this.verificationId,Q);return this.onConfirmation(et)}}function An(){return(An=(0,Nt.Z)(function*(ht,Q,et){const pt=ri(ht),Ct=yield gs(pt,Q,(0,wt.m9)(et));return new ha(Ct,At=>qs(pt,At))})).apply(this,arguments)}function wi(){return(wi=(0,Nt.Z)(function*(ht,Q,et){const pt=(0,wt.m9)(ht);yield ss(!1,pt,"phone");const Ct=yield gs(pt.auth,Q,(0,wt.m9)(et));return new ha(Ct,At=>Ho(pt,At))})).apply(this,arguments)}function Rl(){return(Rl=(0,Nt.Z)(function*(ht,Q,et){const pt=(0,wt.m9)(ht),Ct=yield gs(pt.auth,Q,(0,wt.m9)(et));return new ha(Ct,At=>Wo(pt,At))})).apply(this,arguments)}function gs(ht,Q,et){return ca.apply(this,arguments)}function ca(){return(ca=(0,Nt.Z)(function*(ht,Q,et){var pt;const Ct=yield et.verify();try{let At;if(nt("string"==typeof Ct,ht,"argument-error"),nt(et.type===ec,ht,"argument-error"),At="string"==typeof Q?{phoneNumber:Q}:Q,"session"in At){const Gt=At.session;if("phoneNumber"in At)return nt("enroll"===Gt.type,ht,"internal-error"),(yield Hd(ht,{idToken:Gt.credential,phoneEnrollmentInfo:{phoneNumber:At.phoneNumber,recaptchaToken:Ct}})).phoneSessionInfo.sessionInfo;{nt("signin"===Gt.type,ht,"internal-error");const Zt=(null===(pt=At.multiFactorHint)||void 0===pt?void 0:pt.uid)||At.multiFactorUid;return nt(Zt,ht,"missing-multi-factor-info"),(yield Kd(ht,{mfaPendingCredential:Gt.credential,mfaEnrollmentId:Zt,phoneSignInInfo:{recaptchaToken:Ct}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Gt}=yield Gn(ht,{phoneNumber:At.phoneNumber,recaptchaToken:Ct});return Gt}}finally{et._reset()}})).apply(this,arguments)}function Nl(){return(Nl=(0,Nt.Z)(function*(ht,Q){yield Go((0,wt.m9)(ht),Q)})).apply(this,arguments)}let xt=(()=>{class ht{constructor(et){this.providerId=ht.PROVIDER_ID,this.auth=ri(et)}verifyPhoneNumber(et,pt){return gs(this.auth,et,(0,wt.m9)(pt))}static credential(et,pt){return Pr._fromVerification(et,pt)}static credentialFromResult(et){return ht.credentialFromTaggedObject(et)}static credentialFromError(et){return ht.credentialFromTaggedObject(et.customData||{})}static credentialFromTaggedObject({_tokenResponse:et}){if(!et)return null;const{phoneNumber:pt,temporaryProof:Ct}=et;return pt&&Ct?Pr._fromTokenResponse(pt,Ct):null}}return ht.PROVIDER_ID="phone",ht.PHONE_SIGN_IN_METHOD="phone",ht})();function St(ht,Q){return Q?mt(Q):(nt(ht._popupRedirectResolver,ht,"argument-error"),ht._popupRedirectResolver)}class Ot extends Fn{constructor(Q){super("custom","custom"),this.params=Q}_getIdTokenResponse(Q){return zn(Q,this._buildIdpRequest())}_linkToIdToken(Q,et){return zn(Q,this._buildIdpRequest(et))}_getReauthenticationResolver(Q){return zn(Q,this._buildIdpRequest())}_buildIdpRequest(Q){const et={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return Q&&(et.idToken=Q),et}}function Bt(ht){return Uo(ht.auth,new Ot(ht),ht.bypassAuthState)}function Yt(ht){const{auth:Q,user:et}=ht;return nt(et,Q,"internal-error"),ol(et,new Ot(ht),ht.bypassAuthState)}function $t(ht){return re.apply(this,arguments)}function re(){return(re=(0,Nt.Z)(function*(ht){const{auth:Q,user:et}=ht;return nt(et,Q,"internal-error"),Go(et,new Ot(ht),ht.bypassAuthState)})).apply(this,arguments)}class fe{constructor(Q,et,pt,Ct,At=!1){this.auth=Q,this.resolver=pt,this.user=Ct,this.bypassAuthState=At,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(et)?et:[et]}execute(){var Q=this;return new Promise(function(){var et=(0,Nt.Z)(function*(pt,Ct){Q.pendingPromise={resolve:pt,reject:Ct};try{Q.eventManager=yield Q.resolver._initialize(Q.auth),yield Q.onExecution(),Q.eventManager.registerConsumer(Q)}catch(At){Q.reject(At)}});return function(pt,Ct){return et.apply(this,arguments)}}())}onAuthEvent(Q){var et=this;return(0,Nt.Z)(function*(){const{urlResponse:pt,sessionId:Ct,postBody:At,tenantId:Gt,error:Zt,type:ae}=Q;if(Zt)return void et.reject(Zt);const oe={auth:et.auth,requestUri:pt,sessionId:Ct,tenantId:Gt||void 0,postBody:At||void 0,user:et.user,bypassAuthState:et.bypassAuthState};try{et.resolve(yield et.getIdpTask(ae)(oe))}catch(xe){et.reject(xe)}})()}onError(Q){this.reject(Q)}getIdpTask(Q){switch(Q){case"signInViaPopup":case"signInViaRedirect":return Bt;case"linkViaPopup":case"linkViaRedirect":return $t;case"reauthViaPopup":case"reauthViaRedirect":return Yt;default:b(this.auth,"internal-error")}}resolve(Q){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(Q),this.unregisterAndCleanUp()}reject(Q){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(Q),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ge=new dt(2e3,1e4);function Le(){return(Le=(0,Nt.Z)(function*(ht,Q,et){const pt=ri(ht);V(ht,Q,tn);const Ct=St(pt,et);return new gr(pt,"signInViaPopup",Q,Ct).executeNotNull()})).apply(this,arguments)}function mi(){return(mi=(0,Nt.Z)(function*(ht,Q,et){const pt=(0,wt.m9)(ht);V(pt.auth,Q,tn);const Ct=St(pt.auth,et);return new gr(pt.auth,"reauthViaPopup",Q,Ct,pt).executeNotNull()})).apply(this,arguments)}function fr(){return(fr=(0,Nt.Z)(function*(ht,Q,et){const pt=(0,wt.m9)(ht);V(pt.auth,Q,tn);const Ct=St(pt.auth,et);return new gr(pt.auth,"linkViaPopup",Q,Ct,pt).executeNotNull()})).apply(this,arguments)}let gr=(()=>{class ht extends fe{constructor(et,pt,Ct,At,Gt){super(et,pt,At,Gt),this.provider=Ct,this.authWindow=null,this.pollId=null,ht.currentPopupAction&&ht.currentPopupAction.cancel(),ht.currentPopupAction=this}executeNotNull(){var et=this;return(0,Nt.Z)(function*(){const pt=yield et.execute();return nt(pt,et.auth,"internal-error"),pt})()}onExecution(){var et=this;return(0,Nt.Z)(function*(){ot(1===et.filter.length,"Popup operations only handle one event");const pt=ao();et.authWindow=yield et.resolver._openPopup(et.auth,et.provider,et.filter[0],pt),et.authWindow.associatedEvent=pt,et.resolver._originValidation(et.auth).catch(Ct=>{et.reject(Ct)}),et.resolver._isIframeWebStorageSupported(et.auth,Ct=>{Ct||et.reject(z(et.auth,"web-storage-unsupported"))}),et.pollUserCancellation()})()}get eventId(){var et;return(null===(et=this.authWindow)||void 0===et?void 0:et.associatedEvent)||null}cancel(){this.reject(z(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ht.currentPopupAction=null}pollUserCancellation(){const et=()=>{var pt,Ct;this.pollId=(null===(Ct=null===(pt=this.authWindow)||void 0===pt?void 0:pt.window)||void 0===Ct?void 0:Ct.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(z(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(et,ge.get())};et()}}return ht.currentPopupAction=null,ht})();const vn=new Map;class Fr extends fe{constructor(Q,et,pt=!1){super(Q,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],et,void 0,pt),this.eventId=null}execute(){var Q=()=>super.execute,et=this;return(0,Nt.Z)(function*(){let pt=vn.get(et.auth._key());if(!pt){try{const At=(yield function(ht,Q){return Bi.apply(this,arguments)}(et.resolver,et.auth))?yield Q().call(et):null;pt=()=>Promise.resolve(At)}catch(Ct){pt=()=>Promise.reject(Ct)}vn.set(et.auth._key(),pt)}return et.bypassAuthState||vn.set(et.auth._key(),()=>Promise.resolve(null)),pt()})()}onAuthEvent(Q){var et=()=>super.onAuthEvent,pt=this;return(0,Nt.Z)(function*(){if("signInViaRedirect"===Q.type)return et().call(pt,Q);if("unknown"!==Q.type){if(Q.eventId){const Ct=yield pt.auth._redirectUserForId(Q.eventId);if(Ct)return pt.user=Ct,et().call(pt,Q);pt.resolve(null)}}else pt.resolve(null)})()}onExecution(){return(0,Nt.Z)(function*(){})()}cleanUp(){}}function Bi(){return(Bi=(0,Nt.Z)(function*(ht,Q){const et=nu(Q),pt=iu(ht);if(!(yield pt._isAvailable()))return!1;const Ct="true"===(yield pt._get(et));return yield pt._remove(et),Ct})).apply(this,arguments)}function fo(ht,Q){return mr.apply(this,arguments)}function mr(){return(mr=(0,Nt.Z)(function*(ht,Q){return iu(ht)._set(nu(Q),"true")})).apply(this,arguments)}function iu(ht){return mt(ht._redirectPersistence)}function nu(ht){return rr("pendingRedirect",ht.config.apiKey,ht.name)}function ic(){return(ic=(0,Nt.Z)(function*(ht,Q,et){const pt=ri(ht);V(ht,Q,tn);const Ct=St(pt,et);return yield fo(Ct,pt),Ct._openRedirect(pt,Q,"signInViaRedirect")})).apply(this,arguments)}function Zn(){return(Zn=(0,Nt.Z)(function*(ht,Q,et){const pt=(0,wt.m9)(ht);V(pt.auth,Q,tn);const Ct=St(pt.auth,et);yield fo(Ct,pt.auth);const At=yield xn(pt);return Ct._openRedirect(pt.auth,Q,"reauthViaRedirect",At)})).apply(this,arguments)}function nc(){return(nc=(0,Nt.Z)(function*(ht,Q,et){const pt=(0,wt.m9)(ht);V(pt.auth,Q,tn);const Ct=St(pt.auth,et);yield ss(!1,pt,Q.providerId),yield fo(Ct,pt.auth);const At=yield xn(pt);return Ct._openRedirect(pt.auth,Q,"linkViaRedirect",At)})).apply(this,arguments)}function Ue(){return(Ue=(0,Nt.Z)(function*(ht,Q){return yield ri(ht)._initializationPromise,li(ht,Q,!1)})).apply(this,arguments)}function li(ht,Q){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,Nt.Z)(function*(ht,Q,et=!1){const pt=ri(ht),Ct=St(pt,Q),Gt=yield new Fr(pt,Ct,et).execute();return Gt&&!et&&(delete Gt.user._redirectEventId,yield pt._persistUserIfCurrent(Gt.user),yield pt._setRedirectUser(null,Q)),Gt})).apply(this,arguments)}function xn(ht){return Se.apply(this,arguments)}function Se(){return(Se=(0,Nt.Z)(function*(ht){const Q=ao(`${ht.uid}:::`);return ht._redirectEventId=Q,yield ht.auth._setRedirectUser(ht),yield ht.auth._persistUserIfCurrent(ht),Q})).apply(this,arguments)}class rc{constructor(Q){this.auth=Q,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(Q){this.consumers.add(Q),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,Q)&&(this.sendToConsumer(this.queuedRedirectEvent,Q),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(Q){this.consumers.delete(Q)}onEvent(Q){if(this.hasEventBeenHandled(Q))return!1;let et=!1;return this.consumers.forEach(pt=>{this.isEventForConsumer(Q,pt)&&(et=!0,this.sendToConsumer(Q,pt),this.saveEventToCache(Q))}),this.hasHandledPotentialRedirect||!function(ht){switch(ht.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ru(ht);default:return!1}}(Q)||(this.hasHandledPotentialRedirect=!0,et||(this.queuedRedirectEvent=Q,et=!0)),et}sendToConsumer(Q,et){var pt;if(Q.error&&!ru(Q)){const Ct=(null===(pt=Q.error.code)||void 0===pt?void 0:pt.split("auth/")[1])||"internal-error";et.onError(z(this.auth,Ct))}else et.onAuthEvent(Q)}isEventForConsumer(Q,et){const pt=null===et.eventId||!!Q.eventId&&Q.eventId===et.eventId;return et.filter.includes(Q.type)&&pt}hasEventBeenHandled(Q){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sc(Q))}saveEventToCache(Q){this.cachedEventUids.add(sc(Q)),this.lastProcessedEventTime=Date.now()}}function sc(ht){return[ht.type,ht.eventId,ht.sessionId,ht.tenantId].filter(Q=>Q).join("-")}function ru({type:ht,error:Q}){return"unknown"===ht&&"auth/no-auth-event"===(null==Q?void 0:Q.code)}function We(ht){return ua.apply(this,arguments)}function ua(){return(ua=(0,Nt.Z)(function*(ht,Q={}){return Rt(ht,"GET","/v1/projects",Q)})).apply(this,arguments)}const oc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pf=/^https?/;function ac(){return(ac=(0,Nt.Z)(function*(ht){if(ht.config.emulator)return;const{authorizedDomains:Q}=yield We(ht);for(const et of Q)try{if(Of(et))return}catch(pt){}b(ht,"unauthorized-domain")})).apply(this,arguments)}function Of(ht){const Q=ut(),{protocol:et,hostname:pt}=new URL(Q);if(ht.startsWith("chrome-extension://")){const Gt=new URL(ht);return""===Gt.hostname&&""===pt?"chrome-extension:"===et&&ht.replace("chrome-extension://","")===Q.replace("chrome-extension://",""):"chrome-extension:"===et&&Gt.hostname===pt}if(!Pf.test(et))return!1;if(oc.test(ht))return pt===ht;const Ct=ht.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Ct+"|"+Ct+")$","i").test(pt)}const Df=new dt(3e4,6e4);function su(){const ht=Je().___jsl;if(null==ht?void 0:ht.H)for(const Q of Object.keys(ht.H))if(ht.H[Q].r=ht.H[Q].r||[],ht.H[Q].L=ht.H[Q].L||[],ht.H[Q].r=[...ht.H[Q].L],ht.CP)for(let et=0;et<ht.CP.length;et++)ht.CP[et]=null}let Fl=null;function Lf(ht){return Fl=Fl||function(ht){return new Promise((Q,et)=>{var pt,Ct,At;function Gt(){su(),gapi.load("gapi.iframes",{callback:()=>{Q(gapi.iframes.getContext())},ontimeout:()=>{su(),et(z(ht,"network-request-failed"))},timeout:Df.get()})}if(null===(Ct=null===(pt=Je().gapi)||void 0===pt?void 0:pt.iframes)||void 0===Ct?void 0:Ct.Iframe)Q(gapi.iframes.getContext());else{if(!(null===(At=Je().gapi)||void 0===At?void 0:At.load)){const Zt=sa("iframefcb");return Je()[Zt]=()=>{gapi.load?Gt():et(z(ht,"network-request-failed"))},Pl(`https://apis.google.com/js/api.js?onload=${Zt}`).catch(ae=>et(ae))}Gt()}}).catch(Q=>{throw Fl=null,Q})}(ht),Fl}const Rf=new dt(5e3,15e3),jf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lu(ht){const Q=ht.config;nt(Q.authDomain,ht,"auth-domain-config-required");const et=Q.emulator?ft(Q,"emulator/auth/iframe"):`https://${ht.config.authDomain}/__/auth/iframe`,pt={apiKey:Q.apiKey,appName:ht.name,v:o.SDK_VERSION},Ct=mo.get(ht.config.apiHost);Ct&&(pt.eid=Ct);const At=ht._getFrameworks();return At.length&&(pt.fw=At.join(",")),`${et}?${(0,wt.xO)(pt).slice(1)}`}function ms(){return ms=(0,Nt.Z)(function*(ht){const Q=yield Lf(ht),et=Je().gapi;return nt(et,ht,"internal-error"),Q.open({where:document.body,url:lu(ht),messageHandlersFilter:et.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jf,dontclear:!0},pt=>new Promise(function(){var Ct=(0,Nt.Z)(function*(At,Gt){yield pt.restyle({setHideOnLeave:!1});const Zt=z(ht,"network-request-failed"),ae=Je().setTimeout(()=>{Gt(Zt)},Rf.get());function oe(){Je().clearTimeout(ae),At(pt)}pt.ping(oe).then(oe,()=>{Gt(Zt)})});return function(At,Gt){return Ct.apply(this,arguments)}}()))}),ms.apply(this,arguments)}const pa={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cu{constructor(Q){this.window=Q,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Q){}}}function fa(ht,Q,et,pt,Ct,At){nt(ht.config.authDomain,ht,"auth-domain-config-required"),nt(ht.config.apiKey,ht,"invalid-api-key");const Gt={apiKey:ht.config.apiKey,appName:ht.name,authType:et,redirectUrl:pt,v:o.SDK_VERSION,eventId:Ct};if(Q instanceof tn){Q.setDefaultLanguage(ht.languageCode),Gt.providerId=Q.providerId||"",(0,wt.xb)(Q.getCustomParameters())||(Gt.customParameters=JSON.stringify(Q.getCustomParameters()));for(const[ae,oe]of Object.entries(At||{}))Gt[ae]=oe}if(Q instanceof mn){const ae=Q.getScopes().filter(oe=>""!==oe);ae.length>0&&(Gt.scopes=ae.join(","))}ht.tenantId&&(Gt.tid=ht.tenantId);const Zt=Gt;for(const ae of Object.keys(Zt))void 0===Zt[ae]&&delete Zt[ae];return`${function({config:ht}){return ht.emulator?ft(ht,"emulator/auth/handler"):`https://${ht.authDomain}/__/auth/handler`}(ht)}?${(0,wt.xO)(Zt).slice(1)}`}const En="webStorageSupport";class yo extends class{constructor(Q){this.factorId=Q}_process(Q,et,pt){switch(et.type){case"enroll":return this._finalizeEnroll(Q,et.credential,pt);case"signin":return this._finalizeSignIn(Q,et.credential);default:return it("unexpected MultiFactorSessionType")}}}{constructor(Q){super("phone"),this.credential=Q}static _fromCredential(Q){return new yo(Q)}_finalizeEnroll(Q,et,pt){return function(ht,Q){return Rt(ht,"POST","/v2/accounts/mfaEnrollment:finalize",jt(ht,Q))}(Q,{idToken:et,displayName:pt,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(Q,et){return function(ht,Q){return Rt(ht,"POST","/v2/accounts/mfaSignIn:finalize",jt(ht,Q))}(Q,{mfaPendingCredential:et,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wf=(()=>{class ht{constructor(){}static assertion(et){return yo._fromCredential(et)}}return ht.FACTOR_ID="phone",ht})();var ht,pu="@firebase/auth";class Vf{constructor(Q){this.auth=Q,this.internalListeners=new Map}getUid(){var Q;return this.assertAuthConfigured(),(null===(Q=this.auth.currentUser)||void 0===Q?void 0:Q.uid)||null}getToken(Q){var et=this;return(0,Nt.Z)(function*(){return et.assertAuthConfigured(),yield et.auth._initializationPromise,et.auth.currentUser?{accessToken:yield et.auth.currentUser.getIdToken(Q)}:null})()}addAuthTokenListener(Q){if(this.assertAuthConfigured(),this.internalListeners.has(Q))return;const et=this.auth.onIdTokenChanged(pt=>{var Ct;Q((null===(Ct=pt)||void 0===Ct?void 0:Ct.stsTokenManager.accessToken)||null)});this.internalListeners.set(Q,et),this.updateProactiveRefresh()}removeAuthTokenListener(Q){this.assertAuthConfigured();const et=this.internalListeners.get(Q);!et||(this.internalListeners.delete(Q),et(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ys(){return window}function ga(){return ga=(0,Nt.Z)(function*(ht,Q,et){var pt;const{BuildInfo:Ct}=ys();ot(Q.sessionId,"AuthEvent did not contain a session ID");const At=yield Kf(Q.sessionId),Gt={};return Bn()?Gt.ibi=Ct.packageName:Sn()?Gt.apn=Ct.packageName:b(ht,"operation-not-supported-in-this-environment"),Ct.displayName&&(Gt.appDisplayName=Ct.displayName),Gt.sessionId=At,fa(ht,et,Q.type,void 0,null!==(pt=Q.eventId)&&void 0!==pt?pt:void 0,Gt)}),ga.apply(this,arguments)}function Gl(){return Gl=(0,Nt.Z)(function*(ht){const{BuildInfo:Q}=ys(),et={};Bn()?et.iosBundleId=Q.packageName:Sn()?et.androidPackageName=Q.packageName:b(ht,"operation-not-supported-in-this-environment"),yield We(ht,et)}),Gl.apply(this,arguments)}function Ul(){return Ul=(0,Nt.Z)(function*(ht,Q,et){const{cordova:pt}=ys();let Ct=()=>{};try{yield new Promise((At,Gt)=>{let Zt=null;function ae(){var ye;At();const Pe=null===(ye=pt.plugins.browsertab)||void 0===ye?void 0:ye.close;"function"==typeof Pe&&Pe(),"function"==typeof(null==et?void 0:et.close)&&et.close()}function oe(){Zt||(Zt=window.setTimeout(()=>{Gt(z(ht,"redirect-cancelled-by-user"))},2e3))}function xe(){"visible"===(null==document?void 0:document.visibilityState)&&oe()}Q.addPassiveListener(ae),document.addEventListener("resume",oe,!1),Sn()&&document.addEventListener("visibilitychange",xe,!1),Ct=()=>{Q.removePassiveListener(ae),document.removeEventListener("resume",oe,!1),document.removeEventListener("visibilitychange",xe,!1),Zt&&window.clearTimeout(Zt)}})}finally{Ct()}}),Ul.apply(this,arguments)}function Kf(ht){return cc.apply(this,arguments)}function cc(){return cc=(0,Nt.Z)(function*(ht){const Q=$n(ht),et=yield crypto.subtle.digest("SHA-256",Q);return Array.from(new Uint8Array(et)).map(Ct=>Ct.toString(16).padStart(2,"0")).join("")}),cc.apply(this,arguments)}function $n(ht){if(ot(/[0-9a-zA-Z]+/.test(ht),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ht);const Q=new ArrayBuffer(ht.length),et=new Uint8Array(Q);for(let pt=0;pt<ht.length;pt++)et[pt]=ht.charCodeAt(pt);return et}ht="Browser",(0,o._registerComponent)(new h.wA("auth",(Q,{options:et})=>{const pt=Q.getProvider("app").getImmediate(),{apiKey:Ct,authDomain:At}=pt.options;return(Gt=>{nt(Ct&&!Ct.includes(":"),"invalid-api-key",{appName:Gt.name}),nt(!(null==At?void 0:At.includes(":")),"argument-error",{appName:Gt.name});const Zt={apiKey:Ct,authDomain:At,clientPlatform:ht,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:No(ht)},ae=new qr(Gt,Zt);return function(ht,Q){const et=(null==Q?void 0:Q.persistence)||[],pt=(Array.isArray(et)?et:[et]).map(mt);(null==Q?void 0:Q.errorMap)&&ht._updateErrorMap(Q.errorMap),ht._initializeWithPersistence(pt,null==Q?void 0:Q.popupRedirectResolver)}(ae,et),ae})(pt)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Q,et,pt)=>{Q.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new h.wA("auth-internal",Q=>{const et=ri(Q.getProvider("auth").getImmediate());return new Vf(et)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(pu,"0.19.9",void 0),(0,o.registerVersion)(pu,"0.19.9","esm2017");class Qf extends rc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Q=>{this.resolveInialized=Q})}addPassiveListener(Q){this.passiveListeners.add(Q)}removePassiveListener(Q){this.passiveListeners.delete(Q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Q){return this.resolveInialized(),this.passiveListeners.forEach(et=>et(Q)),super.onEvent(Q)}initialized(){var Q=this;return(0,Nt.Z)(function*(){yield Q.initPromise})()}}function yu(ht){return yi.apply(this,arguments)}function yi(){return yi=(0,Nt.Z)(function*(ht){const Q=yield vs()._get(uc(ht));return Q&&(yield vs()._remove(uc(ht))),Q}),yi.apply(this,arguments)}function tg(){const ht=[],Q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let et=0;et<20;et++){const pt=Math.floor(Math.random()*Q.length);ht.push(Q.charAt(pt))}return ht.join("")}function vs(){return mt(oo)}function uc(ht){return rr("authEvent",ht.config.apiKey,ht.name)}function Wl(ht){if(!(null==ht?void 0:ht.includes("?")))return{};const[Q,...et]=ht.split("?");return(0,wt.zd)(et.join("?"))}function _u(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:z("no-auth-event")}}function Yl(){var ht;return(null===(ht=null==self?void 0:self.location)||void 0===ht?void 0:ht.protocol)||null}function xs(ht=(0,wt.z$)()){return!("file:"!==Yl()&&"ionic:"!==Yl()||!ht.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cu(){try{const ht=self.localStorage,Q=ao();if(ht)return ht.setItem(Q,"1"),ht.removeItem(Q),!function(ht=(0,wt.z$)()){return(0,wt.w1)()&&11===(null==document?void 0:document.documentMode)||function(ht=(0,wt.z$)()){return/Edge\/\d+/.test(ht)}(ht)}()||(0,wt.hl)()}catch(ht){return fc()&&(0,wt.hl)()}return!1}function fc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function gc(){return("http:"===Yl()||"https:"===Yl()||(0,wt.ru)()||xs())&&!((0,wt.b$)()||(0,wt.UG)())&&Cu()&&!fc()}function Tu(){return xs()&&"undefined"!=typeof document}function Xl(){return Xl=(0,Nt.Z)(function*(){return!!Tu()&&new Promise(ht=>{const Q=setTimeout(()=>{ht(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Q),ht(!0)})})}),Xl.apply(this,arguments)}const Fi={LOCAL:"local",NONE:"none",SESSION:"session"},ya=nt,ku="persistence";function mc(ht){return yc.apply(this,arguments)}function yc(){return yc=(0,Nt.Z)(function*(ht){yield ht._initializationPromise;const Q=ql(),et=rr(ku,ht.config.apiKey,ht.name);Q&&Q.setItem(et,ht._getPersistence())}),yc.apply(this,arguments)}function ql(){var ht;try{return(null===(ht="undefined"!=typeof window?window:null)||void 0===ht?void 0:ht.sessionStorage)||null}catch(Q){return null}}const sg=nt;class rn{constructor(){this.browserResolver=mt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=en,this._completeRedirectFn=li}_openPopup(Q,et,pt,Ct){var At=this;return(0,Nt.Z)(function*(){var Gt;ot(null===(Gt=At.eventManagers[Q._key()])||void 0===Gt?void 0:Gt.manager,"_initialize() not called before _openPopup()");const Zt=fa(Q,et,pt,ut(),Ct);return function(ht,Q,et,pt=500,Ct=600){const At=Math.max((window.screen.availHeight-Ct)/2,0).toString(),Gt=Math.max((window.screen.availWidth-pt)/2,0).toString();let Zt="";const ae=Object.assign(Object.assign({},pa),{width:pt.toString(),height:Ct.toString(),top:At,left:Gt}),oe=(0,wt.z$)().toLowerCase();et&&(Zt=gi(oe)?"_blank":et),pn(oe)&&(Q=Q||"http://localhost",ae.scrollbars="yes");const xe=Object.entries(ae).reduce((Pe,[oi,vr])=>`${Pe}${oi}=${vr},`,"");if(function(ht=(0,wt.z$)()){var Q;return Bn(ht)&&!!(null===(Q=window.navigator)||void 0===Q?void 0:Q.standalone)}(oe)&&"_self"!==Zt)return function(ht,Q){const et=document.createElement("a");et.href=ht,et.target=Q;const pt=document.createEvent("MouseEvent");pt.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),et.dispatchEvent(pt)}(Q||"",Zt),new cu(null);const ye=window.open(Q||"",Zt,xe);nt(ye,ht,"popup-blocked");try{ye.focus()}catch(Pe){}return new cu(ye)}(Q,Zt,ao())})()}_openRedirect(Q,et,pt,Ct){var At=this;return(0,Nt.Z)(function*(){return yield At._originValidation(Q),ht=fa(Q,et,pt,ut(),Ct),Je().location.href=ht,new Promise(()=>{});var ht})()}_initialize(Q){const et=Q._key();if(this.eventManagers[et]){const{manager:Ct,promise:At}=this.eventManagers[et];return Ct?Promise.resolve(Ct):(ot(At,"If manager is not set, promise should be"),At)}const pt=this.initAndGetManager(Q);return this.eventManagers[et]={promise:pt},pt.catch(()=>{delete this.eventManagers[et]}),pt}initAndGetManager(Q){var et=this;return(0,Nt.Z)(function*(){const pt=yield function(ht){return ms.apply(this,arguments)}(Q),Ct=new rc(Q);return pt.register("authEvent",At=>(nt(null==At?void 0:At.authEvent,Q,"invalid-auth-event"),{status:Ct.onEvent(At.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),et.eventManagers[Q._key()]={manager:Ct},et.iframes[Q._key()]=pt,Ct})()}_isIframeWebStorageSupported(Q,et){this.iframes[Q._key()].send(En,{type:En},Ct=>{var At;const Gt=null===(At=null==Ct?void 0:Ct[0])||void 0===At?void 0:At[En];void 0!==Gt&&et(!!Gt),b(Q,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(Q){const et=Q._key();return this.originValidationPromises[et]||(this.originValidationPromises[et]=function(ht){return ac.apply(this,arguments)}(Q)),this.originValidationPromises[et]}get _shouldInitProactively(){return Os()||Sr()||Bn()}}),this.cordovaResolver=mt(class{constructor(){this._redirectPersistence=en,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=li}_initialize(Q){var et=this;return(0,Nt.Z)(function*(){const pt=Q._key();let Ct=et.eventManagers.get(pt);return Ct||(Ct=new Qf(Q),et.eventManagers.set(pt,Ct),et.attachCallbackListeners(Q,Ct)),Ct})()}_openPopup(Q){b(Q,"operation-not-supported-in-this-environment")}_openRedirect(Q,et,pt,Ct){var At=this;return(0,Nt.Z)(function*(){!function(ht){var Q,et,pt,Ct,At,Gt,Zt,ae,oe,xe;const ye=ys();nt("function"==typeof(null===(Q=null==ye?void 0:ye.universalLinks)||void 0===Q?void 0:Q.subscribe),ht,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),nt(void 0!==(null===(et=null==ye?void 0:ye.BuildInfo)||void 0===et?void 0:et.packageName),ht,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),nt("function"==typeof(null===(At=null===(Ct=null===(pt=null==ye?void 0:ye.cordova)||void 0===pt?void 0:pt.plugins)||void 0===Ct?void 0:Ct.browsertab)||void 0===At?void 0:At.openUrl),ht,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),nt("function"==typeof(null===(ae=null===(Zt=null===(Gt=null==ye?void 0:ye.cordova)||void 0===Gt?void 0:Gt.plugins)||void 0===Zt?void 0:Zt.browsertab)||void 0===ae?void 0:ae.isAvailable),ht,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),nt("function"==typeof(null===(xe=null===(oe=null==ye?void 0:ye.cordova)||void 0===oe?void 0:oe.InAppBrowser)||void 0===xe?void 0:xe.open),ht,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Q);const Gt=yield At._initialize(Q);yield Gt.initialized(),Gt.resetRedirect(),vn.clear(),yield At._originValidation(Q);const Zt=function(ht,Q,et=null){return{type:Q,eventId:et,urlResponse:null,sessionId:tg(),postBody:null,tenantId:ht.tenantId,error:z(ht,"no-auth-event")}}(Q,pt,Ct);yield function(ht,Q){return vs()._set(uc(ht),Q)}(Q,Zt);const ae=yield function(ht,Q,et){return ga.apply(this,arguments)}(Q,Zt,et),oe=yield function(ht){const{cordova:Q}=ys();return new Promise(et=>{Q.plugins.browsertab.isAvailable(pt=>{let Ct=null;pt?Q.plugins.browsertab.openUrl(ht):Ct=Q.InAppBrowser.open(ht,function(ht=(0,wt.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(ht)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(ht)}()?"_blank":"_system","location=yes"),et(Ct)})})}(ae);return function(ht,Q,et){return Ul.apply(this,arguments)}(Q,Gt,oe)})()}_isIframeWebStorageSupported(Q,et){throw new Error("Method not implemented.")}_originValidation(Q){const et=Q._key();return this.originValidationPromises[et]||(this.originValidationPromises[et]=function(ht){return Gl.apply(this,arguments)}(Q)),this.originValidationPromises[et]}attachCallbackListeners(Q,et){const{universalLinks:pt,handleOpenURL:Ct,BuildInfo:At}=ys(),Gt=setTimeout((0,Nt.Z)(function*(){yield yu(Q),et.onEvent(_u())}),500),Zt=function(){var xe=(0,Nt.Z)(function*(ye){clearTimeout(Gt);const Pe=yield yu(Q);let oi=null;Pe&&(null==ye?void 0:ye.url)&&(oi=function(ht,Q){var et,pt;const Ct=function(ht){const Q=Wl(ht),et=Q.link?decodeURIComponent(Q.link):void 0,pt=Wl(et).link,Ct=Q.deep_link_id?decodeURIComponent(Q.deep_link_id):void 0;return Wl(Ct).link||Ct||pt||et||ht}(Q);if(Ct.includes("/__/auth/callback")){const At=Wl(Ct),Gt=At.firebaseError?function(ht){try{return JSON.parse(ht)}catch(Q){return null}}(decodeURIComponent(At.firebaseError)):null,Zt=null===(pt=null===(et=null==Gt?void 0:Gt.code)||void 0===et?void 0:et.split("auth/"))||void 0===pt?void 0:pt[1],ae=Zt?z(Zt):null;return ae?{type:ht.type,eventId:ht.eventId,tenantId:ht.tenantId,error:ae,urlResponse:null,sessionId:null,postBody:null}:{type:ht.type,eventId:ht.eventId,tenantId:ht.tenantId,sessionId:ht.sessionId,urlResponse:Ct,postBody:null}}return null}(Pe,ye.url)),et.onEvent(oi||_u())});return function(Pe){return xe.apply(this,arguments)}}();void 0!==pt&&"function"==typeof pt.subscribe&&pt.subscribe(null,Zt);const ae=Ct,oe=`${At.packageName.toLowerCase()}://`;ys().handleOpenURL=function(){var xe=(0,Nt.Z)(function*(ye){if(ye.toLowerCase().startsWith(oe)&&Zt({url:ye}),"function"==typeof ae)try{ae(ye)}catch(Pe){console.error(Pe)}});return function(ye){return xe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=en,this._completeRedirectFn=li}_initialize(Q){var et=this;return(0,Nt.Z)(function*(){return yield et.selectUnderlyingResolver(),et.assertedUnderlyingResolver._initialize(Q)})()}_openPopup(Q,et,pt,Ct){var At=this;return(0,Nt.Z)(function*(){return yield At.selectUnderlyingResolver(),At.assertedUnderlyingResolver._openPopup(Q,et,pt,Ct)})()}_openRedirect(Q,et,pt,Ct){var At=this;return(0,Nt.Z)(function*(){return yield At.selectUnderlyingResolver(),At.assertedUnderlyingResolver._openRedirect(Q,et,pt,Ct)})()}_isIframeWebStorageSupported(Q,et){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Q,et)}_originValidation(Q){return this.assertedUnderlyingResolver._originValidation(Q)}get _shouldInitProactively(){return Tu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return sg(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Q=this;return(0,Nt.Z)(function*(){if(Q.underlyingResolver)return;const et=yield function(){return Xl.apply(this,arguments)}();Q.underlyingResolver=et?Q.cordovaResolver:Q.browserResolver})()}}function vc(ht){return ht.unwrap()}function ag(ht){return Eu(ht)}function Eu(ht){const{_tokenResponse:Q}=ht instanceof wt.ZR?ht.customData:ht;if(!Q)return null;if(!(ht instanceof wt.ZR)&&"temporaryProof"in Q&&"phoneNumber"in Q)return xt.credentialFromResult(ht);const et=Q.providerId;if(!et||"password"===et)return null;let pt;switch(et){case"google.com":pt=Hs;break;case"facebook.com":pt=Us;break;case"github.com":pt=sl;break;case"twitter.com":pt=Ws;break;default:const{oauthIdToken:Ct,oauthAccessToken:At,oauthTokenSecret:Gt,pendingToken:Zt,nonce:ae}=Q;return At||Gt||Ct||Zt?Zt?et.startsWith("saml.")?Tn._create(et,Zt):bi._fromParams({providerId:et,signInMethod:et,pendingToken:Zt,idToken:Ct,accessToken:At}):new Dr(et).credential({idToken:Ct,accessToken:At,rawNonce:ae}):null}return ht instanceof wt.ZR?pt.credentialFromError(ht):pt.credentialFromResult(ht)}function Zi(ht,Q){return Q.catch(et=>{throw et instanceof wt.ZR&&function(ht,Q){var et;const pt=null===(et=Q.customData)||void 0===et?void 0:et._tokenResponse;if("auth/multi-factor-auth-required"===Q.code)Q.resolver=new Pu(ht,function(ht,Q){var et;const pt=(0,wt.m9)(ht),Ct=Q;return nt(Q.customData.operationType,pt,"argument-error"),nt(null===(et=Ct.customData._serverResponse)||void 0===et?void 0:et.mfaPendingCredential,pt,"argument-error"),ta._fromError(pt,Ct)}(ht,Q));else if(pt){const Ct=Eu(Q),At=Q;Ct&&(At.credential=Ct,At.tenantId=pt.tenantId||void 0,At.email=pt.email||void 0,At.phoneNumber=pt.phoneNumber||void 0)}}(ht,et),et}).then(et=>{const Ct=et.user;return{operationType:et.operationType,credential:ag(et),additionalUserInfo:ji(et),user:Gi.getOrCreate(Ct)}})}function xc(ht,Q){return bc.apply(this,arguments)}function bc(){return bc=(0,Nt.Z)(function*(ht,Q){const et=yield Q;return{verificationId:et.verificationId,confirm:pt=>Zi(ht,et.confirm(pt))}}),bc.apply(this,arguments)}class Pu{constructor(Q,et){this.resolver=et,this.auth=function(ht){return ht.wrapped()}(Q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Q){return Zi(vc(this.auth),this.resolver.resolveSignIn(Q))}}class Gi{constructor(Q){this._delegate=Q,this.multiFactor=function(ht){const Q=(0,wt.m9)(ht);return so.has(Q)||so.set(Q,bl._fromUser(Q)),so.get(Q)}(Q)}static getOrCreate(Q){return Gi.USER_MAP.has(Q)||Gi.USER_MAP.set(Q,new Gi(Q)),Gi.USER_MAP.get(Q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Q){return this._delegate.getIdTokenResult(Q)}getIdToken(Q){return this._delegate.getIdToken(Q)}linkAndRetrieveDataWithCredential(Q){return this.linkWithCredential(Q)}linkWithCredential(Q){var et=this;return(0,Nt.Z)(function*(){return Zi(et.auth,Ho(et._delegate,Q))})()}linkWithPhoneNumber(Q,et){var pt=this;return(0,Nt.Z)(function*(){return xc(pt.auth,function(ht,Q,et){return wi.apply(this,arguments)}(pt._delegate,Q,et))})()}linkWithPopup(Q){var et=this;return(0,Nt.Z)(function*(){return Zi(et.auth,function(ht,Q,et){return fr.apply(this,arguments)}(et._delegate,Q,rn))})()}linkWithRedirect(Q){var et=this;return(0,Nt.Z)(function*(){return yield mc(ri(et.auth)),function(ht,Q,et){return function(ht,Q,et){return nc.apply(this,arguments)}(ht,Q,et)}(et._delegate,Q,rn)})()}reauthenticateAndRetrieveDataWithCredential(Q){return this.reauthenticateWithCredential(Q)}reauthenticateWithCredential(Q){var et=this;return(0,Nt.Z)(function*(){return Zi(et.auth,Wo(et._delegate,Q))})()}reauthenticateWithPhoneNumber(Q,et){return xc(this.auth,function(ht,Q,et){return Rl.apply(this,arguments)}(this._delegate,Q,et))}reauthenticateWithPopup(Q){return Zi(this.auth,function(ht,Q,et){return mi.apply(this,arguments)}(this._delegate,Q,rn))}reauthenticateWithRedirect(Q){var et=this;return(0,Nt.Z)(function*(){return yield mc(ri(et.auth)),function(ht,Q,et){return function(ht,Q,et){return Zn.apply(this,arguments)}(ht,Q,et)}(et._delegate,Q,rn)})()}sendEmailVerification(Q){return function(ht,Q){return ds.apply(this,arguments)}(this._delegate,Q)}unlink(Q){var et=this;return(0,Nt.Z)(function*(){return yield function(ht,Q){return cr.apply(this,arguments)}(et._delegate,Q),et})()}updateEmail(Q){return function(ht,Q){return Wh((0,wt.m9)(ht),Q,null)}(this._delegate,Q)}updatePassword(Q){return function(ht,Q){return Wh((0,wt.m9)(ht),null,Q)}(this._delegate,Q)}updatePhoneNumber(Q){return function(ht,Q){return Nl.apply(this,arguments)}(this._delegate,Q)}updateProfile(Q){return function(ht,Q){return Qe.apply(this,arguments)}(this._delegate,Q)}verifyBeforeUpdateEmail(Q,et){return function(ht,Q,et){return gl.apply(this,arguments)}(this._delegate,Q,et)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Gi.USER_MAP=new WeakMap;const va=nt;let Iu=(()=>{class ht{constructor(et,pt){if(this.app=et,pt.isInitialized())return this._delegate=pt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ct}=et.options;va(Ct,"invalid-api-key",{appName:et.name}),va(Ct,"invalid-api-key",{appName:et.name});const At="undefined"!=typeof window?rn:void 0;this._delegate=pt.initialize({options:{persistence:lg(Ct,et.name),popupRedirectResolver:At}}),this._delegate._updateErrorMap(c),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(et){this._delegate.languageCode=et}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(et){this._delegate.tenantId=et}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(et,pt){!function(ht,Q,et){const pt=ri(ht);nt(pt._canInitEmulator,pt,"emulator-config-failed"),nt(/^https?:\/\//.test(Q),pt,"invalid-emulator-scheme");const Ct=!!(null==et?void 0:et.disableWarnings),At=Kr(Q),{host:Gt,port:Zt}=function(ht){const Q=Kr(ht),et=/(\/\/)?([^?#/]+)/.exec(ht.substr(Q.length));if(!et)return{host:"",port:null};const pt=et[2].split("@").pop()||"",Ct=/^(\[[^\]]+\])(:|$)/.exec(pt);if(Ct){const At=Ct[1];return{host:At,port:Qa(pt.substr(At.length+1))}}{const[At,Gt]=pt.split(":");return{host:At,port:Qa(Gt)}}}(Q);pt.config.emulator={url:`${At}//${Gt}${null===Zt?"":`:${Zt}`}/`},pt.settings.appVerificationDisabledForTesting=!0,pt.emulatorConfig=Object.freeze({host:Gt,port:Zt,protocol:At.replace(":",""),options:Object.freeze({disableWarnings:Ct})}),Ct||function(){function ht(){const Q=document.createElement("p"),et=Q.style;Q.innerText="Running in emulator mode. Do not use with production credentials.",et.position="fixed",et.width="100%",et.backgroundColor="#ffffff",et.border=".1em solid #000000",et.color="#b50000",et.bottom="0px",et.left="0px",et.margin="0px",et.zIndex="10000",et.textAlign="center",Q.classList.add("firebase-emulator-warning"),document.body.appendChild(Q)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",ht):ht())}()}(this._delegate,et,pt)}applyActionCode(et){return function(ht,Q){return qo.apply(this,arguments)}(this._delegate,et)}checkActionCode(et){return cl(this._delegate,et)}confirmPasswordReset(et,pt){return function(ht,Q,et){return Xe.apply(this,arguments)}(this._delegate,et,pt)}createUserWithEmailAndPassword(et,pt){var Ct=this;return(0,Nt.Z)(function*(){return Zi(Ct._delegate,function(ht,Q,et){return $o.apply(this,arguments)}(Ct._delegate,et,pt))})()}fetchProvidersForEmail(et){return this.fetchSignInMethodsForEmail(et)}fetchSignInMethodsForEmail(et){return function(ht,Q){return fl.apply(this,arguments)}(this._delegate,et)}isSignInWithEmailLink(et){return function(ht,Q){const et=gn.parseLink(Q);return"EMAIL_SIGNIN"===(null==et?void 0:et.operation)}(0,et)}getRedirectResult(){var et=this;return(0,Nt.Z)(function*(){va(gc(),et._delegate,"operation-not-supported-in-this-environment");const pt=yield function(ht,Q){return Ue.apply(this,arguments)}(et._delegate,rn);return pt?Zi(et._delegate,Promise.resolve(pt)):{credential:null,user:null}})()}addFrameworkForLogging(et){!function(ht,Q){ri(ht)._logFramework(Q)}(this._delegate,et)}onAuthStateChanged(et,pt,Ct){const{next:At,error:Gt,complete:Zt}=_c(et,pt,Ct);return this._delegate.onAuthStateChanged(At,Gt,Zt)}onIdTokenChanged(et,pt,Ct){const{next:At,error:Gt,complete:Zt}=_c(et,pt,Ct);return this._delegate.onIdTokenChanged(At,Gt,Zt)}sendSignInLinkToEmail(et,pt){return function(ht,Q,et){return no.apply(this,arguments)}(this._delegate,et,pt)}sendPasswordResetEmail(et,pt){return function(ht,Q,et){return to.apply(this,arguments)}(this._delegate,et,pt||void 0)}setPersistence(et){var pt=this;return(0,Nt.Z)(function*(){let Ct;switch(function(ht,Q){ya(Object.values(Fi).includes(Q),ht,"invalid-persistence-type"),(0,wt.b$)()?ya(Q!==Fi.SESSION,ht,"unsupported-persistence-type"):(0,wt.UG)()?ya(Q===Fi.NONE,ht,"unsupported-persistence-type"):fc()?ya(Q===Fi.NONE||Q===Fi.LOCAL&&(0,wt.hl)(),ht,"unsupported-persistence-type"):ya(Q===Fi.NONE||Cu(),ht,"unsupported-persistence-type")}(pt._delegate,et),et){case Fi.SESSION:Ct=en;break;case Fi.LOCAL:Ct=(yield mt(Yn)._isAvailable())?Yn:oo;break;case Fi.NONE:Ct=Xr;break;default:return b("argument-error",{appName:pt._delegate.name})}return pt._delegate.setPersistence(Ct)})()}signInAndRetrieveDataWithCredential(et){return this.signInWithCredential(et)}signInAnonymously(){return Zi(this._delegate,function(ht){return Vs.apply(this,arguments)}(this._delegate))}signInWithCredential(et){return Zi(this._delegate,qs(this._delegate,et))}signInWithCustomToken(et){return Zi(this._delegate,function(ht,Q){return as.apply(this,arguments)}(this._delegate,et))}signInWithEmailAndPassword(et,pt){return Zi(this._delegate,function(ht,Q,et){return qs((0,wt.m9)(ht),Gs.credential(Q,et))}(this._delegate,et,pt))}signInWithEmailLink(et,pt){return Zi(this._delegate,function(ht,Q,et){return Qo.apply(this,arguments)}(this._delegate,et,pt))}signInWithPhoneNumber(et,pt){return xc(this._delegate,function(ht,Q,et){return An.apply(this,arguments)}(this._delegate,et,pt))}signInWithPopup(et){var pt=this;return(0,Nt.Z)(function*(){return va(gc(),pt._delegate,"operation-not-supported-in-this-environment"),Zi(pt._delegate,function(ht,Q,et){return Le.apply(this,arguments)}(pt._delegate,et,rn))})()}signInWithRedirect(et){var pt=this;return(0,Nt.Z)(function*(){return va(gc(),pt._delegate,"operation-not-supported-in-this-environment"),yield mc(pt._delegate),function(ht,Q,et){return function(ht,Q,et){return ic.apply(this,arguments)}(ht,Q,et)}(pt._delegate,et,rn)})()}updateCurrentUser(et){return this._delegate.updateCurrentUser(et)}verifyPasswordResetCode(et){return function(ht,Q){return eo.apply(this,arguments)}(this._delegate,et)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ht.Persistence=Fi,ht})();function _c(ht,Q,et){let pt=ht;"function"!=typeof ht&&({next:pt,error:Q,complete:et}=ht);const Ct=pt;return{next:Gt=>Ct(Gt&&Gi.getOrCreate(Gt)),error:Q,complete:et}}function lg(ht,Q){const et=function(ht,Q){const et=ql();if(!et)return[];const pt=rr(ku,ht,Q);switch(et.getItem(pt)){case Fi.NONE:return[Xr];case Fi.LOCAL:return[Yn,en];case Fi.SESSION:return[en];default:return[]}}(ht,Q);if("undefined"!=typeof self&&!et.includes(Yn)&&et.push(Yn),"undefined"!=typeof window)for(const pt of[oo,en])et.includes(pt)||et.push(pt);return et.includes(Xr)||et.push(Xr),et}class wc{constructor(){this.providerId="phone",this._delegate=new xt(vc(qt.Z.auth()))}static credential(Q,et){return xt.credential(Q,et)}verifyPhoneNumber(Q,et){return this._delegate.verifyPhoneNumber(Q,et)}unwrap(){return this._delegate}}wc.PHONE_SIGN_IN_METHOD=xt.PHONE_SIGN_IN_METHOD,wc.PROVIDER_ID=xt.PROVIDER_ID;const hg=nt;class Ou{constructor(Q,et,pt=qt.Z.app()){var Ct;hg(null===(Ct=pt.options)||void 0===Ct?void 0:Ct.apiKey,"invalid-api-key",{appName:pt.name}),this._delegate=new fs(Q,et,pt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(ht){ht.INTERNAL.registerComponent(new h.wA("auth-compat",Q=>{const et=Q.getProvider("app-compat").getImmediate(),pt=Q.getProvider("auth");return new Iu(et,pt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Gs,FacebookAuthProvider:Us,GithubAuthProvider:sl,GoogleAuthProvider:Hs,OAuthProvider:Dr,SAMLAuthProvider:Un,PhoneAuthProvider:wc,PhoneMultiFactorGenerator:Wf,RecaptchaVerifier:Ou,TwitterAuthProvider:Ws,Auth:Iu,AuthCredential:Fn,Error:wt.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ht.registerVersion("@firebase/auth-compat","0.2.9")}(qt.Z)},2135:function(we,_e,Xt){"use strict";var Nt,qt,wt;qt="undefined"!=typeof window?window:this,wt=function(qt){function wt(Y,$,q,rt){Y.hasOwnProperty($)||(Y[$]=rt.apply(null,q))}var o={};return wt(o,"Core/Globals.js",[],function(){var $,q,Y=void 0!==qt?qt:"undefined"!=typeof window?window:{};return(q=$||($={})).SVG_NS="http://www.w3.org/2000/svg",q.product="Highcharts",q.version="9.3.3",q.win=Y,q.doc=q.win.document,q.svg=q.doc&&q.doc.createElementNS&&!!q.doc.createElementNS(q.SVG_NS,"svg").createSVGRect,q.userAgent=q.win.navigator&&q.win.navigator.userAgent||"",q.isChrome=-1!==q.userAgent.indexOf("Chrome"),q.isFirefox=-1!==q.userAgent.indexOf("Firefox"),q.isMS=/(edge|msie|trident)/i.test(q.userAgent)&&!q.win.opera,q.isSafari=!q.isChrome&&-1!==q.userAgent.indexOf("Safari"),q.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(q.userAgent),q.isWebKit=-1!==q.userAgent.indexOf("AppleWebKit"),q.deg2rad=2*Math.PI/360,q.hasBidiBug=q.isFirefox&&4>parseInt(q.userAgent.split("Firefox/")[1],10),q.hasTouch=!!q.win.TouchEvent,q.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],q.noop=function(){},q.supportsPassiveEvents=function(){var rt=!1;if(!q.isMS){var J=Object.defineProperty({},"passive",{get:function(){rt=!0}});q.win.addEventListener&&q.win.removeEventListener&&(q.win.addEventListener("testPassive",q.noop,J),q.win.removeEventListener("testPassive",q.noop,J))}return rt}(),q.charts=[],q.dateFormats={},q.seriesTypes={},q.symbolSizes={},q.chartCount=0,$}),wt(o,"Core/Utilities.js",[o["Core/Globals.js"]],function(Y){function $(n,h,l,w){var P=h?"Highcharts error":"Highcharts warning";32===n&&(n=P+": Deprecated member");var I=O(n),L=I?P+" #"+n+": www.highcharts.com/errors/"+n+"/":n.toString();if(void 0!==w){var S="";I&&(L+="?"),C(w,function(B,c){S+="\n - "+c+": "+B,I&&(L+=encodeURI(c)+"="+encodeURI(B))}),L+=S}D(Y,"displayError",{chart:l,code:n,message:L,params:w},function(){if(h)throw Error(L);m.console&&-1===$.messages.indexOf(L)&&console.warn(L)}),$.messages.push(L)}function rt(n,h){return parseInt(n,h||10)}function J(n){return"string"==typeof n}function K(n){return"[object Array]"===(n=Object.prototype.toString.call(n))||"[object Array Iterator]"===n}function X(n,h){return!(!n||"object"!=typeof n||h&&K(n))}function F(n){return X(n)&&"number"==typeof n.nodeType}function N(n){var h=n&&n.constructor;return!(!X(n,!0)||F(n)||!h||!h.name||"Object"===h.name)}function O(n){return"number"==typeof n&&!isNaN(n)&&1/0>n&&-1/0<n}function k(n){return null!=n}function g(n,h,l){var w;return J(h)?k(l)?n.setAttribute(h,l):n&&n.getAttribute&&((w=n.getAttribute(h))||"class"!==h||(w=n.getAttribute(h+"Name"))):C(h,function(P,I){k(P)?n.setAttribute(I,P):n.removeAttribute(I)}),w}function d(n,h){var l;for(l in n||(n={}),h)n[l]=h[l];return n}function v(){for(var n=arguments,h=n.length,l=0;l<h;l++){var w=n[l];if(null!=w)return w}}function _(n,h){Y.isMS&&!Y.svg&&h&&void 0!==h.opacity&&(h.filter="alpha(opacity="+100*h.opacity+")"),d(n.style,h)}function T(n,h){return 1e14<n?n:parseFloat(n.toPrecision(h||14))}function C(n,h,l){for(var w in n)Object.hasOwnProperty.call(n,w)&&h.call(l||n[w],n[w],w,n)}function M(n,h,l){function w(S,B){var c=n.removeEventListener||Y.removeEventListenerPolyfill;c&&c.call(n,S,B,!1)}function P(S){var B;if(n.nodeName){if(h){var c={};c[h]=!0}else c=S;C(c,function(u,E){if(S[E])for(B=S[E].length;B--;)w(E,S[E][B].fn)})}}var I="function"==typeof n&&n.prototype||n;if(Object.hasOwnProperty.call(I,"hcEvents")){var L=I.hcEvents;h?(I=L[h]||[],l?(L[h]=I.filter(function(S){return l!==S.fn}),w(h,l)):(P(L),L[h]=[])):(P(L),delete I.hcEvents)}}function D(n,h,l,w){if(l=l||{},f.createEvent&&(n.dispatchEvent||n.fireEvent&&n!==Y)){var P=f.createEvent("Events");P.initEvent(h,!0,!0),l=d(P,l),n.dispatchEvent?n.dispatchEvent(l):n.fireEvent(h,l)}else if(n.hcEvents){l.target||d(l,{preventDefault:function(){l.defaultPrevented=!0},target:n,type:h}),P=[];for(var I=n,L=!1;I.hcEvents;)Object.hasOwnProperty.call(I,"hcEvents")&&I.hcEvents[h]&&(P.length&&(L=!0),P.unshift.apply(P,I.hcEvents[h])),I=Object.getPrototypeOf(I);L&&P.sort(function(S,B){return S.order-B.order}),P.forEach(function(S){!1===S.fn.call(n,l)&&l.preventDefault()})}w&&!l.defaultPrevented&&w.call(n,l)}var x=Y.charts,f=Y.doc,m=Y.win;($||($={})).messages=[],Math.easeInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)};var r=Array.prototype.find?function(n,h){return n.find(h)}:function(n,h){var l,w=n.length;for(l=0;l<w;l++)if(h(n[l],l))return n[l]};C({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(n,h){Y[h]=function(l){var w;return $(32,!1,void 0,((w={})["Highcharts."+h]="use Array."+n,w)),Array.prototype[n].apply(l,[].slice.call(arguments,1))}});var p,n,h,a=(n=Math.random().toString(36).substring(2,9)+"-",h=0,function(){return"highcharts-"+(p?"":n)+h++});return m.jQuery&&(m.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(Y[J(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):x[g(this[0],"data-highcharts-chart")]}),r={addEvent:function(n,h,l,w){void 0===w&&(w={});var P="function"==typeof n&&n.prototype||n;Object.hasOwnProperty.call(P,"hcEvents")||(P.hcEvents={}),P=P.hcEvents,Y.Point&&n instanceof Y.Point&&n.series&&n.series.chart&&(n.series.chart.runTrackerClick=!0);var I=n.addEventListener||Y.addEventListenerPolyfill;return I&&I.call(n,h,l,!!Y.supportsPassiveEvents&&{passive:void 0===w.passive?-1!==h.indexOf("touch"):w.passive,capture:!1}),P[h]||(P[h]=[]),P[h].push({fn:l,order:"number"==typeof w.order?w.order:1/0}),P[h].sort(function(L,S){return L.order-S.order}),function(){M(n,h,l)}},arrayMax:function(n){for(var h=n.length,l=n[0];h--;)n[h]>l&&(l=n[h]);return l},arrayMin:function(n){for(var h=n.length,l=n[0];h--;)n[h]<l&&(l=n[h]);return l},attr:g,clamp:function(n,h,l){return n>h?n<l?n:l:h},cleanRecursively:function q(n,h){var l={};return C(n,function(w,P){X(n[P],!0)&&!n.nodeType&&h[P]?(w=q(n[P],h[P]),Object.keys(w).length&&(l[P]=w)):(X(n[P])||n[P]!==h[P])&&(l[P]=n[P])}),l},clearTimeout:function(n){k(n)&&clearTimeout(n)},correctFloat:T,createElement:function(n,h,l,w,P){return n=f.createElement(n),h&&d(n,h),P&&_(n,{padding:"0",border:"none",margin:"0"}),l&&_(n,l),w&&w.appendChild(n),n},css:_,defined:k,destroyObjectProperties:function(n,h){C(n,function(l,w){l&&l!==h&&l.destroy&&l.destroy(),delete n[w]})},discardElement:function(n){n&&n.parentElement&&n.parentElement.removeChild(n)},erase:function(n,h){for(var l=n.length;l--;)if(n[l]===h){n.splice(l,1);break}},error:$,extend:d,extendClass:function(n,h){var l=function(){};return d(l.prototype=new n,h),l},find:r,fireEvent:D,getMagnitude:function(n){return Math.pow(10,Math.floor(Math.log(n)/Math.LN10))},getNestedProperty:function(n,h){for(n=n.split(".");n.length&&k(h);){var l=n.shift();if(void 0===l||"__proto__"===l||!k(h=h[l])||"function"==typeof h||"number"==typeof h.nodeType||h===m)return}return h},getStyle:function y(n,h,l){var w=Y.getStyle||y;if("width"===h)return h=Math.min(n.offsetWidth,n.scrollWidth),(l=n.getBoundingClientRect&&n.getBoundingClientRect().width)<h&&l>=h-1&&(h=Math.floor(l)),Math.max(0,h-(w(n,"padding-left",!0)||0)-(w(n,"padding-right",!0)||0));if("height"===h)return Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-(w(n,"padding-top",!0)||0)-(w(n,"padding-bottom",!0)||0));if(m.getComputedStyle||$(27,!0),n=m.getComputedStyle(n,void 0)){var P=n.getPropertyValue(h);v(l,"opacity"!==h)&&(P=rt(P))}return P},inArray:function(n,h,l){return $(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),h.indexOf(n,l)},isArray:K,isClass:N,isDOMElement:F,isFunction:function(n){return"function"==typeof n},isNumber:O,isObject:X,isString:J,keys:function(n){return $(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(n)},merge:function(){var n,h=arguments,l={},w=function(I,L){return"object"!=typeof I&&(I={}),C(L,function(S,B){"__proto__"!==B&&"constructor"!==B&&(I[B]=!X(S,!0)||N(S)||F(S)?L[B]:w(I[B]||{},S))}),I};!0===h[0]&&(l=h[1],h=Array.prototype.slice.call(h,2));var P=h.length;for(n=0;n<P;n++)l=w(l,h[n]);return l},normalizeTickInterval:function(n,h,l,w,P){var I=n,L=n/(l=v(l,1));for(h||(h=P?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===w&&(1===l?h=h.filter(function(S){return S%1==0}):.1>=l&&(h=[1/l]))),w=0;w<h.length&&(I=h[w],!(P&&I*l>=n||!P&&L<=(h[w]+(h[w+1]||h[w]))/2));w++);return T(I*l,-Math.round(Math.log(.001)/Math.LN10))},objectEach:C,offset:function(n){var h=f.documentElement;return{top:(n=n.parentElement||n.parentNode?n.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(m.pageYOffset||h.scrollTop)-(h.clientTop||0),left:n.left+(m.pageXOffset||h.scrollLeft)-(h.clientLeft||0),width:n.width,height:n.height}},pad:function(n,h,l){return Array((h||2)+1-String(n).replace("-","").length).join(l||"0")+n},pick:v,pInt:rt,relativeLength:function(n,h,l){return/%$/.test(n)?h*parseFloat(n)/100+(l||0):parseFloat(n)},removeEvent:M,splat:function(n){return K(n)?n:[n]},stableSort:function(n,h){var w,P,l=n.length;for(P=0;P<l;P++)n[P].safeI=P;for(n.sort(function(I,L){return 0===(w=h(I,L))?I.safeI-L.safeI:w}),P=0;P<l;P++)delete n[P].safeI},syncTimeout:function(n,h,l){return 0<h?setTimeout(n,h,l):(n.call(0,l),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:a,useSerialIds:function(n){return p=v(n,p)},wrap:function(n,h,l){var w=n[h];n[h]=function(){var P=Array.prototype.slice.call(arguments),I=arguments,L=this;return L.proceed=function(){w.apply(L,arguments.length?arguments:I)},P.unshift(w),P=l.apply(this,P),L.proceed=null,P}}},r}),wt(o,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),wt(o,"Core/Color/Color.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$){var q=$.isNumber,rt=$.merge,J=$.pInt;return function(){function K(X){this.rgba=[NaN,NaN,NaN,NaN],this.input=X;var F=Y.Color;return F&&F!==K?new F(X):this instanceof K?void this.init(X):new K(X)}return K.parse=function(X){return X?new K(X):K.None},K.prototype.init=function(X){var F;if("object"==typeof X&&void 0!==X.stops)this.stops=X.stops.map(function(g){return new K(g[1])});else if("string"==typeof X){if(this.input=X=K.names[X.toLowerCase()]||X,"#"===X.charAt(0)){var N=X.length,O=parseInt(X.substr(1),16);7===N?F=[(16711680&O)>>16,(65280&O)>>8,255&O,1]:4===N&&(F=[(3840&O)>>4|(3840&O)>>8,(240&O)>>4|240&O,(15&O)<<4|15&O,1])}if(!F)for(O=K.parsers.length;O--&&!F;){var k=K.parsers[O];(N=k.regex.exec(X))&&(F=k.parse(N))}}F&&(this.rgba=F)},K.prototype.get=function(X){var F=this.input,N=this.rgba;if("object"==typeof F&&void 0!==this.stops){var O=rt(F);return O.stops=[].slice.call(O.stops),this.stops.forEach(function(k,g){O.stops[g]=[O.stops[g][0],k.get(X)]}),O}return N&&q(N[0])?"rgb"===X||!X&&1===N[3]?"rgb("+N[0]+","+N[1]+","+N[2]+")":"a"===X?""+N[3]:"rgba("+N.join(",")+")":F},K.prototype.brighten=function(X){var F=this.rgba;if(this.stops)this.stops.forEach(function(O){O.brighten(X)});else if(q(X)&&0!==X)for(var N=0;3>N;N++)F[N]+=J(255*X),0>F[N]&&(F[N]=0),255<F[N]&&(F[N]=255);return this},K.prototype.setOpacity=function(X){return this.rgba[3]=X,this},K.prototype.tweenTo=function(X,F){var N=this.rgba,O=X.rgba;return q(N[0])&&q(O[0])?((X=1!==O[3]||1!==N[3])?"rgba(":"rgb(")+Math.round(O[0]+(N[0]-O[0])*(1-F))+","+Math.round(O[1]+(N[1]-O[1])*(1-F))+","+Math.round(O[2]+(N[2]-O[2])*(1-F))+(X?","+(O[3]+(N[3]-O[3])*(1-F)):"")+")":X.input||"none"},K.names={white:"#ffffff",black:"#000000"},K.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(X){return[J(X[1]),J(X[2]),J(X[3]),parseFloat(X[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(X){return[J(X[1]),J(X[2]),J(X[3]),1]}}],K.None=new K(""),K}()}),wt(o,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),wt(o,"Core/Time.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$){var q=Y.win,rt=$.defined,J=$.error,K=$.extend,X=$.isObject,F=$.merge,N=$.objectEach,O=$.pad,k=$.pick,g=$.splat,d=$.timeUnits,v=Y.isSafari&&q.Intl&&q.Intl.DateTimeFormat.prototype.formatRange,_=Y.isSafari&&q.Intl&&!q.Intl.DateTimeFormat.prototype.formatRange;return $=function(){function T(y){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=q.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(y)}return T.prototype.get=function(y,C){if(this.variableTimezone||this.timezoneOffset){var M=C.getTime(),D=M-this.getTimezoneOffset(C);return C.setTime(D),y=C["getUTC"+y](),C.setTime(M),y}return this.useUTC?C["getUTC"+y]():C["get"+y]()},T.prototype.set=function(y,C,M){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===y||"Seconds"===y||"Minutes"===y&&this.getTimezoneOffset(C)%36e5==0)return C["setUTC"+y](M);var D=this.getTimezoneOffset(C);return D=C.getTime()-D,C.setTime(D),C["setUTC"+y](M),y=this.getTimezoneOffset(C),D=C.getTime()+y,C.setTime(D)}return this.useUTC||v&&"FullYear"===y?C["setUTC"+y](M):C["set"+y](M)},T.prototype.update=function(y){var C=k(y&&y.useUTC,!0);this.options=y=F(!0,this.options||{},y),this.Date=y.Date||q.Date||Date,this.timezoneOffset=(this.useUTC=C)&&y.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=C&&!(!y.getTimezoneOffset&&!y.timezone)},T.prototype.makeTime=function(y,C,M,D,x,f){if(this.useUTC){var m=this.Date.UTC.apply(0,arguments),r=this.getTimezoneOffset(m),p=this.getTimezoneOffset(m+=r);r!==p?m+=p-r:r-36e5!==this.getTimezoneOffset(m-36e5)||_||(m-=36e5)}else m=new this.Date(y,C,k(M,1),k(D,0),k(x,0),k(f,0)).getTime();return m},T.prototype.timezoneOffsetFunction=function(){var y=this,C=this.options,M=C.getTimezoneOffset,D=C.moment||q.moment;if(!this.useUTC)return function(x){return 6e4*new Date(x.toString()).getTimezoneOffset()};if(C.timezone){if(D)return function(x){return 6e4*-D.tz(x,C.timezone).utcOffset()};J(25)}return this.useUTC&&M?function(x){return 6e4*M(x.valueOf())}:function(){return 6e4*(y.timezoneOffset||0)}},T.prototype.dateFormat=function(y,C,M){if(!rt(C)||isNaN(C))return Y.defaultOptions.lang&&Y.defaultOptions.lang.invalidDate||"";y=k(y,"%Y-%m-%d %H:%M:%S");var D=this,x=new this.Date(C),f=this.get("Hours",x),m=this.get("Day",x),r=this.get("Date",x),p=this.get("Month",x),a=this.get("FullYear",x),n=Y.defaultOptions.lang,h=n&&n.weekdays,l=n&&n.shortWeekdays;return x=K({a:l?l[m]:h[m].substr(0,3),A:h[m],d:O(r),e:O(r,2," "),w:m,b:n.shortMonths[p],B:n.months[p],m:O(p+1),o:p+1,y:a.toString().substr(2,2),Y:a,H:O(f),k:f,I:O(f%12||12),l:f%12||12,M:O(this.get("Minutes",x)),p:12>f?"AM":"PM",P:12>f?"am":"pm",S:O(x.getSeconds()),L:O(Math.floor(C%1e3),3)},Y.dateFormats),N(x,function(w,P){for(;-1!==y.indexOf("%"+P);)y=y.replace("%"+P,"function"==typeof w?w.call(D,C):w)}),M?y.substr(0,1).toUpperCase()+y.substr(1):y},T.prototype.resolveDTLFormat=function(y){return X(y,!0)?y:{main:(y=g(y))[0],from:y[1],to:y[2]}},T.prototype.getTimeTicks=function(y,C,M,D){var n,x=this,f=[],m={},r=new x.Date(C),p=y.unitRange,a=y.count||1;if(D=k(D,1),rt(C)){if(x.set("Milliseconds",r,p>=d.second?0:a*Math.floor(x.get("Milliseconds",r)/a)),p>=d.second&&x.set("Seconds",r,p>=d.minute?0:a*Math.floor(x.get("Seconds",r)/a)),p>=d.minute&&x.set("Minutes",r,p>=d.hour?0:a*Math.floor(x.get("Minutes",r)/a)),p>=d.hour&&x.set("Hours",r,p>=d.day?0:a*Math.floor(x.get("Hours",r)/a)),p>=d.day&&x.set("Date",r,p>=d.month?1:Math.max(1,a*Math.floor(x.get("Date",r)/a))),p>=d.month){x.set("Month",r,p>=d.year?0:a*Math.floor(x.get("Month",r)/a));var h=x.get("FullYear",r)}p>=d.year&&x.set("FullYear",r,h-h%a),p===d.week&&(h=x.get("Day",r),x.set("Date",r,x.get("Date",r)-h+D+(h<D?-7:0))),h=x.get("FullYear",r),D=x.get("Month",r);var l=x.get("Date",r),w=x.get("Hours",r);for(C=r.getTime(),!x.variableTimezone&&x.useUTC||!rt(M)||(n=M-C>4*d.month||x.getTimezoneOffset(C)!==x.getTimezoneOffset(M)),C=r.getTime(),r=1;C<M;)f.push(C),C=p===d.year?x.makeTime(h+r*a,0):p===d.month?x.makeTime(h,D+r*a):!n||p!==d.day&&p!==d.week?n&&p===d.hour&&1<a?x.makeTime(h,D,l,w+r*a):C+p*a:x.makeTime(h,D,l+r*a*(p===d.day?1:7)),r++;f.push(C),p<=d.hour&&1e4>f.length&&f.forEach(function(P){P%18e5==0&&"000000000"===x.dateFormat("%H%M%S%L",P)&&(m[P]="day")})}return f.info=K(y,{higherRanks:m,totalRange:p*a}),f},T.prototype.getDateFormat=function(y,C,M,D){var x=this.dateFormat("%m-%d %H:%M:%S.%L",C),f={millisecond:15,second:12,minute:9,hour:6,day:3},m="millisecond";for(r in d){if(y===d.week&&+this.dateFormat("%w",C)===M&&"00:00:00.000"===x.substr(6)){var r="week";break}if(d[r]>y){r=m;break}if(f[r]&&x.substr(f[r])!=="01-01 00:00:00.000".substr(f[r]))break;"week"!==r&&(m=r)}if(r)var p=this.resolveDTLFormat(D[r]).main;return p},T}(),$}),wt(o,"Core/DefaultOptions.js",[o["Core/Chart/ChartDefaults.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Color/Palettes.js"],o["Core/Time.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){$=$.parse;var X=K.merge,F={colors:rt.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:Y,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:q.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:q.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:$("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};F.chart.styledMode=!1;var N=new J(X(F.global,F.time));return{defaultOptions:F,defaultTime:N,getOptions:function(){return F},setOptions:function(O){return X(!0,F,O),(O.time||O.global)&&(q.time?q.time.update(X(F.global,F.time,O.global,O.time)):q.time=N),F}}}),wt(o,"Core/Animation/Fx.js",[o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=Y.parse,J=$.win,K=q.isNumber,X=q.objectEach;return function(){function F(N,O,k){this.pos=NaN,this.options=O,this.elem=N,this.prop=k}return F.prototype.dSetter=function(){var N=this.paths,O=N&&N[0];N=N&&N[1];var k=this.now||0,g=[];if(1!==k&&O&&N)if(O.length===N.length&&1>k)for(var d=0;d<N.length;d++){for(var v=O[d],_=N[d],T=[],y=0;y<_.length;y++){var C=v[y],M=_[y];T[y]=K(C)&&K(M)&&("A"!==_[0]||4!==y&&5!==y)?C+k*(M-C):M}g.push(T)}else g=N;else g=this.toD||[];this.elem.attr("d",g,void 0,!0)},F.prototype.update=function(){var N=this.elem,O=this.prop,k=this.now,g=this.options.step;this[O+"Setter"]?this[O+"Setter"]():N.attr?N.element&&N.attr(O,k,null,!0):N.style[O]=k+this.unit,g&&g.call(N,k,this)},F.prototype.run=function(N,O,k){var g=this,d=g.options,v=function(y){return!v.stopped&&g.step(y)},_=J.requestAnimationFrame||function(y){setTimeout(y,13)},T=function(){for(var y=0;y<F.timers.length;y++)F.timers[y]()||F.timers.splice(y--,1);F.timers.length&&_(T)};N!==O||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=N,this.end=O,this.unit=k,this.now=this.start,this.pos=0,v.elem=this.elem,v.prop=this.prop,v()&&1===F.timers.push(v)&&_(T)):(delete d.curAnim[this.prop],d.complete&&0===Object.keys(d.curAnim).length&&d.complete.call(this.elem))},F.prototype.step=function(N){var O=+new Date,k=this.options,g=this.elem,d=k.complete,v=k.duration,_=k.curAnim;if(g.attr&&!g.element)N=!1;else if(N||O>=v+this.startTime){this.now=this.end,this.pos=1,this.update();var T=_[this.prop]=!0;X(_,function(y){!0!==y&&(T=!1)}),T&&d&&d.call(g),N=!1}else this.pos=k.easing((O-this.startTime)/v),this.now=this.start+(this.end-this.start)*this.pos,this.update(),N=!0;return N},F.prototype.initPath=function(N,O,k){function g(x,f){for(;x.length<D;){var m=x[0],r=f[D-x.length];r&&"M"===m[0]&&(x[0]="C"===r[0]?["C",m[1],m[2],m[1],m[2],m[1],m[2]]:["L",m[1],m[2]]),x.unshift(m),T&&(m=x.pop(),x.push(x[x.length-1],m))}}function d(x,f){for(;x.length<D;)if("C"===(f=x[Math.floor(x.length/y)-1].slice())[0]&&(f[1]=f[5],f[2]=f[6]),T){var m=x[Math.floor(x.length/y)].slice();x.splice(x.length/2,0,f,m)}else x.push(f)}var v=N.startX,_=N.endX;k=k.slice();var T=N.isArea,y=T?2:1;if(!(O=O&&O.slice()))return[k,k];if(v&&_&&_.length){for(N=0;N<v.length;N++){if(v[N]===_[0]){var C=N;break}if(v[0]===_[_.length-v.length+N]){C=N;var M=!0;break}if(v[v.length-1]===_[_.length-v.length+N]){C=v.length-N;break}}void 0===C&&(O=[])}if(O.length&&K(C)){var D=k.length+C*y;M?(g(O,k),d(k,O)):(g(k,O),d(O,k))}return[O,k]},F.prototype.fillSetter=function(){F.prototype.strokeSetter.apply(this,arguments)},F.prototype.strokeSetter=function(){this.elem.attr(this.prop,rt(this.start).tweenTo(rt(this.end),this.pos),void 0,!0)},F.timers=[],F}()}),wt(o,"Core/Animation/AnimationUtilities.js",[o["Core/Animation/Fx.js"],o["Core/Utilities.js"]],function(Y,$){function q(d){return N(d)?O({duration:500,defer:0},d):{duration:d?500:0,defer:0}}function rt(d,v){for(var _=Y.timers.length;_--;)Y.timers[_].elem!==d||v&&v!==Y.timers[_].prop||(Y.timers[_].stopped=!0)}var J=$.defined,K=$.getStyle,X=$.isArray,F=$.isNumber,N=$.isObject,O=$.merge,k=$.objectEach,g=$.pick;return{animate:function(d,v,_){var T,C,M,y="";if(!N(_)){var D=arguments;_={duration:D[2],easing:D[3],complete:D[4]}}F(_.duration)||(_.duration=400),_.easing="function"==typeof _.easing?_.easing:Math[_.easing]||Math.easeInOutSine,_.curAnim=O(v),k(v,function(x,f){rt(d,f),M=new Y(d,_,f),C=void 0,"d"===f&&X(v.d)?(M.paths=M.initPath(d,d.pathArray,v.d),M.toD=v.d,T=0,C=1):d.attr?T=d.attr(f):(T=parseFloat(K(d,f))||0,"opacity"!==f&&(y="px")),C||(C=x),"string"==typeof C&&C.match("px")&&(C=C.replace(/px/g,"")),M.run(T,C,y)})},animObject:q,getDeferredAnimation:function(d,v,_){var T=q(v),y=0,C=0;return(_?[_]:d.series).forEach(function(M){M=q(M.options.animation),y=v&&J(v.defer)?T.defer:Math.max(y,M.duration+M.defer),C=Math.min(T.duration,M.duration)}),d.renderer.forExport&&(y=0),{defer:Math.max(0,y-C),duration:Math.min(y,C)}},setAnimation:function(d,v){v.renderer.globalAnimation=g(d,v.options.chart.animation,!0)},stop:rt}}),wt(o,"Core/Renderer/HTML/AST.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$){var q=Y.SVG_NS,rt=$.attr,J=$.createElement,K=$.error,X=$.isFunction,F=$.isString,N=$.objectEach,O=$.splat,k=($=Y.win.trustedTypes)&&X($.createPolicy)&&$.createPolicy("highcharts",{createHTML:function(v){return v}}),g=k?k.createHTML(""):"";try{var d=!!(new DOMParser).parseFromString(g,"text/html")}catch(v){d=!1}return function(){function v(_){this.nodes="string"==typeof _?this.parseMarkup(_):_}return v.filterUserAttributes=function(_){return N(_,function(T,y){var C=!0;-1===v.allowedAttributes.indexOf(y)&&(C=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(y)&&(C=F(T)&&v.allowedReferences.some(function(M){return 0===T.indexOf(M)})),C||(K("Highcharts warning: Invalid attribute '"+y+"' in config"),delete _[y])}),_},v.setElementHTML=function(_,T){_.innerHTML=v.emptyHTML,T&&new v(T).addToDOM(_)},v.prototype.addToDOM=function(_){return function T(y,C){var M;return O(y).forEach(function(D){var x=D.tagName,f=D.textContent?Y.doc.createTextNode(D.textContent):void 0;if(x)if("#text"===x)var m=f;else if(-1!==v.allowedTags.indexOf(x)){x=Y.doc.createElementNS("svg"===x?q:C.namespaceURI||q,x);var r=D.attributes||{};N(D,function(p,a){"tagName"!==a&&"attributes"!==a&&"children"!==a&&"textContent"!==a&&(r[a]=p)}),rt(x,v.filterUserAttributes(r)),f&&x.appendChild(f),T(D.children||[],x),m=x}else K("Highcharts warning: Invalid tagName "+x+" in config");m&&C.appendChild(m),M=m}),M}(this.nodes,_)},v.prototype.parseMarkup=function(_){var T=[];if(_=_.trim(),d)_=(new DOMParser).parseFromString(k?k.createHTML(_):_,"text/html");else{var y=J("div");y.innerHTML=_,_={body:y}}var C=function(M,D){var x=M.nodeName.toLowerCase(),f={tagName:x};if("#text"===x&&(f.textContent=M.textContent||""),x=M.attributes){var m={};[].forEach.call(x,function(p){m[p.name]=p.value}),f.attributes=m}if(M.childNodes.length){var r=[];[].forEach.call(M.childNodes,function(p){C(p,r)}),r.length&&(f.children=r)}D.push(f)};return[].forEach.call(_.body.childNodes,function(M){return C(M,T)}),T},v.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),v.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),v.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),v.emptyHTML=g,v}()}),wt(o,"Core/FormatUtilities.js",[o["Core/DefaultOptions.js"],o["Core/Utilities.js"]],function(Y,$){function q(O,k,g,d){k=+k;var v=rt.lang,_=((O=+O||0).toString().split(".")[1]||"").split("e")[0].length,T=O.toString().split("e"),y=k;if(-1===k)k=Math.min(_,20);else if(X(k)){if(k&&T[1]&&0>T[1]){var C=k+ +T[1];0<=C?(T[0]=(+T[0]).toExponential(C).split("e")[0],k=C):(T[0]=T[0].split(".")[0]||0,O=20>k?(T[0]*Math.pow(10,T[1])).toFixed(k):0,T[1]=0)}}else k=2;C=(Math.abs(T[1]?T[0]:O)+Math.pow(10,-Math.max(k,_)-1)).toFixed(k);var M=3<(_=String(N(C))).length?_.length%3:0;return g=F(g,v.decimalPoint),d=F(d,v.thousandsSep),O=(0>O?"-":"")+(M?_.substr(0,M)+d:""),O=0>+T[1]&&!y?"0":O+_.substr(M).replace(/(\d{3})(?=\d)/g,"$1"+d),k&&(O+=g+C.slice(-k)),T[1]&&0!=+O&&(O+="e"+T[1]),O}var rt=Y.defaultOptions,J=Y.defaultTime,K=$.getNestedProperty,X=$.isNumber,F=$.pick,N=$.pInt;return{dateFormat:function(O,k,g){return J.dateFormat(O,k,g)},format:function(O,k,g){var d="{",v=!1,_=/f$/,T=/\.([0-9])/,y=rt.lang,C=g&&g.time||J;g=g&&g.numberFormatter||q;for(var M=[];O;){var D=O.indexOf(d);if(-1===D)break;var x=O.slice(0,D);if(v){if(x=x.split(":"),d=K(x.shift()||"",k),x.length&&"number"==typeof d)if(x=x.join(":"),_.test(x)){var f=parseInt((x.match(T)||["","-1"])[1],10);null!==d&&(d=g(d,f,y.decimalPoint,-1<x.indexOf(",")?y.thousandsSep:""))}else d=C.dateFormat(x,d);M.push(d)}else M.push(x);O=O.slice(D+1),d=(v=!v)?"}":"{"}return M.push(O),M.join("")},numberFormat:q}}),wt(o,"Core/Renderer/RendererUtilities.js",[o["Core/Utilities.js"]],function(Y){var J,$=Y.clamp,q=Y.pick,rt=Y.stableSort;return(J||(J={})).distribute=function X(F,N,O){var _,k=F,g=k.reducedLen||N,d=function(M,D){return(D.rank||0)-(M.rank||0)},v=function(M,D){return M.target-D.target},T=!0,y=[],C=0;for(_=F.length;_--;)C+=F[_].size;if(C>g){for(rt(F,d),C=_=0;C<=g;)C+=F[_].size,_++;y=F.splice(_-1,F.length)}for(rt(F,v),F=F.map(function(M){return{size:M.size,targets:[M.target],align:q(M.align,.5)}});T;){for(_=F.length;_--;)g=F[_],d=(Math.min.apply(0,g.targets)+Math.max.apply(0,g.targets))/2,g.pos=$(d-g.size*g.align,0,N-g.size);for(_=F.length,T=!1;_--;)0<_&&F[_-1].pos+F[_-1].size>F[_].pos&&(F[_-1].size+=F[_].size,F[_-1].targets=F[_-1].targets.concat(F[_].targets),F[_-1].align=.5,F[_-1].pos+F[_-1].size>N&&(F[_-1].pos=N-F[_-1].size),F.splice(_,1),T=!0)}return k.push.apply(k,y),_=0,F.some(function(M){var D=0;return(M.targets||[]).some(function(){return k[_].pos=M.pos+D,void 0!==O&&Math.abs(k[_].pos-k[_].target)>O?(k.slice(0,_+1).forEach(function(x){return delete x.pos}),k.reducedLen=(k.reducedLen||N)-.1*N,k.reducedLen>.1*N&&X(k,N,O),!0):(D+=k[_].size,_++,!1)})}),rt(k,v),k},J}),wt(o,"Core/Renderer/SVG/SVGElement.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Renderer/HTML/AST.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var K=Y.animate,X=Y.animObject,F=Y.stop,N=rt.deg2rad,O=rt.doc,k=rt.noop,g=rt.svg,d=rt.SVG_NS,v=rt.win,_=J.addEvent,T=J.attr,y=J.createElement,C=J.css,M=J.defined,D=J.erase,x=J.extend,f=J.fireEvent,m=J.isArray,r=J.isFunction,p=J.isNumber,a=J.isString,n=J.merge,h=J.objectEach,l=J.pick,w=J.pInt,P=J.syncTimeout,I=J.uniqueKey;return Y=function(){function L(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=d,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return L.prototype._defaultGetter=function(S){return S=l(this[S+"Value"],this[S],this.element?this.element.getAttribute(S):null,0),/^[\-0-9\.]+$/.test(S)&&(S=parseFloat(S)),S},L.prototype._defaultSetter=function(S,B,c){c.setAttribute(B,S)},L.prototype.add=function(S){var B=this.renderer,c=this.element;if(S&&(this.parentGroup=S),this.parentInverted=S&&S.inverted,void 0!==this.textStr&&"text"===this.element.nodeName&&B.buildText(this),this.added=!0,!S||S.handleZ||this.zIndex)var u=this.zIndexSetter();return u||(S?S.element:B.box).appendChild(c),this.onAdd&&this.onAdd(),this},L.prototype.addClass=function(S,B){var c=B?"":this.attr("class")||"";return(S=(S||"").split(/ /g).reduce(function(u,E){return-1===c.indexOf(E)&&u.push(E),u},c?[c]:[]).join(" "))!==c&&this.attr("class",S),this},L.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},L.prototype.align=function(S,B,c){var G,W,b,u={},E=this.renderer,j=E.alignedObjects;S?(this.alignOptions=S,this.alignByTranslate=B,(!c||a(c))&&(this.alignTo=G=c||"renderer",D(j,this),j.push(this),c=void 0)):(S=this.alignOptions,B=this.alignByTranslate,G=this.alignTo),c=l(c,E[G],"scrollablePlotBox"===G?E.plotBox:void 0,E);var z=S.verticalAlign;return E=(c.x||0)+(S.x||0),j=(c.y||0)+(S.y||0),"right"===(G=S.align)?W=1:"center"===G&&(W=2),W&&(E+=(c.width-(S.width||0))/W),u[B?"translateX":"x"]=Math.round(E),"bottom"===z?b=1:"middle"===z&&(b=2),b&&(j+=(c.height-(S.height||0))/b),u[B?"translateY":"y"]=Math.round(j),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},L.prototype.alignSetter=function(S){var B={left:"start",center:"middle",right:"end"};B[S]&&(this.alignValue=S,this.element.setAttribute("text-anchor",B[S]))},L.prototype.animate=function(S,B,c){var u=this,E=X(l(B,this.renderer.globalAnimation,!0));return B=E.defer,l(O.hidden,O.msHidden,O.webkitHidden,!1)&&(E.duration=0),0!==E.duration?(c&&(E.complete=c),P(function(){u.element&&K(u,S,E)},B)):(this.attr(S,void 0,c),h(S,function(j,G){E.step&&E.step.call(this,j,{prop:G,pos:1,elem:this})},this)),this},L.prototype.applyTextOutline=function(S){var B=this.element;-1!==S.indexOf("contrast")&&(S=S.replace(/contrast/g,this.renderer.getContrast(B.style.fill)));var c=S.split(" ");if(S=c[c.length-1],(c=c[0])&&"none"!==c&&rt.svg){this.fakeTS=!0,this.ySetter=this.xSetter,c=c.replace(/(^[\d\.]+)(.*?)$/g,function(j,G,W){return 2*Number(G)+W}),this.removeTextOutline();var u=O.createElementNS(d,"tspan");T(u,{class:"highcharts-text-outline",fill:S,stroke:S,"stroke-width":c,"stroke-linejoin":"round"}),[].forEach.call(B.childNodes,function(j){var G=j.cloneNode(!0);G.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(W){return G.removeAttribute(W)}),u.appendChild(G)});var E=O.createElementNS(d,"tspan");E.textContent="\u200b",["x","y"].forEach(function(j){var G=B.getAttribute(j);G&&E.setAttribute(j,G)}),u.appendChild(E),B.insertBefore(u,B.firstChild)}},L.prototype.attr=function(S,B,c,u){var G,b,z,E=this.element,j=this.symbolCustomAttribs,W=this;if("string"==typeof S&&void 0!==B){var R=S;(S={})[R]=B}return"string"==typeof S?W=(this[S+"Getter"]||this._defaultGetter).call(this,S,E):(h(S,function(V,Z){b=!1,u||F(this,Z),this.symbolName&&-1!==j.indexOf(Z)&&(G||(this.symbolAttr(S),G=!0),b=!0),!this.rotation||"x"!==Z&&"y"!==Z||(this.doTransform=!0),b||((z=this[Z+"Setter"]||this._defaultSetter).call(this,V,Z,E),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(Z)&&this.updateShadows(Z,V,z))},this),this.afterSetters()),c&&c.call(this),W},L.prototype.clip=function(S){return this.attr("clip-path",S?"url("+this.renderer.url+"#"+S.id+")":"none")},L.prototype.crisp=function(S,B){B=B||S.strokeWidth||0;var c=Math.round(B)%2/2;return S.x=Math.floor(S.x||this.x||0)+c,S.y=Math.floor(S.y||this.y||0)+c,S.width=Math.floor((S.width||this.width||0)-2*c),S.height=Math.floor((S.height||this.height||0)-2*c),M(S.strokeWidth)&&(S.strokeWidth=B),S},L.prototype.complexColor=function(S,B,c){var E,j,G,W,b,z,R,V,Z,nt,ot,u=this.renderer,it=[];f(this.renderer,"complexColor",{args:arguments},function(){if(S.radialGradient?j="radialGradient":S.linearGradient&&(j="linearGradient"),j){if(b=u.gradients,z=S.stops,Z=c.radialReference,m(G=S[j])&&(S[j]=G={x1:G[0],y1:G[1],x2:G[2],y2:G[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===j&&Z&&!M(G.gradientUnits)&&(G=n(G,u.getRadialAttr(Z,W=G),{gradientUnits:"userSpaceOnUse"})),h(G,function(mt,_t){"id"!==_t&&it.push(_t,mt)}),h(z,function(mt){it.push(mt)}),it=it.join(","),b[it])nt=b[it].attr("id");else{G.id=nt=I();var at=b[it]=u.createElement(j).attr(G).add(u.defs);at.radAttr=W,at.stops=[],z.forEach(function(mt){0===mt[1].indexOf("rgba")?(E=q.parse(mt[1]),R=E.get("rgb"),V=E.get("a")):(R=mt[1],V=1),mt=u.createElement("stop").attr({offset:mt[0],"stop-color":R,"stop-opacity":V}).add(at),at.stops.push(mt)})}c.setAttribute(B,ot="url("+u.url+"#"+nt+")"),c.gradient=it,S.toString=function(){return ot}}})},L.prototype.css=function(S){var B=this.styles,c={},u=this.element,E=["textOutline","textOverflow","width"],j="",G=!B;if(S&&S.color&&(S.fill=S.color),B&&h(S,function(z,R){B&&B[R]!==z&&(c[R]=z,G=!0)}),G){if(B&&(S=x(B,c)),S)if(null===S.width||"auto"===S.width)delete this.textWidth;else if("text"===u.nodeName.toLowerCase()&&S.width)var W=this.textWidth=w(S.width);if(this.styles=S,W&&!g&&this.renderer.forExport&&delete S.width,u.namespaceURI===this.SVG_NS){var b=function(z,R){return"-"+R.toLowerCase()};h(S,function(z,R){-1===E.indexOf(R)&&(j+=R.replace(/([A-Z])/g,b)+":"+z+";")}),j&&T(u,"style",j)}else C(u,S);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),S&&S.textOutline&&this.applyTextOutline(S.textOutline))}return this},L.prototype.dashstyleSetter=function(S){var B=this["stroke-width"];if("inherit"===B&&(B=1),S=S&&S.toLowerCase()){var c=S.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(S=c.length;S--;)c[S]=""+w(c[S])*l(B,NaN);S=c.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",S)}},L.prototype.destroy=function(){var S=this,B=S.element||{},c=S.renderer,u=B.ownerSVGElement,E=c.isSVG&&"SPAN"===B.nodeName&&S.parentGroup||void 0;if(B.onclick=B.onmouseout=B.onmouseover=B.onmousemove=B.point=null,F(S),S.clipPath&&u){var j=S.clipPath;[].forEach.call(u.querySelectorAll("[clip-path],[CLIP-PATH]"),function(G){-1<G.getAttribute("clip-path").indexOf(j.element.id)&&G.removeAttribute("clip-path")}),S.clipPath=j.destroy()}if(S.stops){for(u=0;u<S.stops.length;u++)S.stops[u].destroy();S.stops.length=0,S.stops=void 0}for(S.safeRemoveChild(B),c.styledMode||S.destroyShadows();E&&E.div&&0===E.div.childNodes.length;)B=E.parentGroup,S.safeRemoveChild(E.div),delete E.div,E=B;S.alignTo&&D(c.alignedObjects,S),h(S,function(G,W){S[W]&&S[W].parentGroup===S&&S[W].destroy&&S[W].destroy(),delete S[W]})},L.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(S){this.safeRemoveChild(S)},this),this.shadows=void 0},L.prototype.destroyTextPath=function(S,B){var c=S.getElementsByTagName("text")[0];if(c){if(c.removeAttribute("dx"),c.removeAttribute("dy"),B.element.setAttribute("id",""),this.textPathWrapper&&c.getElementsByTagName("textPath").length){for(S=this.textPathWrapper.element.childNodes;S.length;)c.appendChild(S[0]);c.removeChild(this.textPathWrapper.element)}}else(S.getAttribute("dx")||S.getAttribute("dy"))&&(S.removeAttribute("dx"),S.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},L.prototype.dSetter=function(S,B,c){m(S)&&("string"==typeof S[0]&&(S=this.renderer.pathToSegments(S)),this.pathArray=S,S=S.reduce(function(u,E,j){return E&&E.join?(j?u+" ":"")+E.join(" "):(E||"").toString()},"")),/(NaN| {2}|^$)/.test(S)&&(S="M 0 0"),this[B]!==S&&(c.setAttribute(B,S),this[B]=S)},L.prototype.fadeOut=function(S){var B=this;B.animate({opacity:0},{duration:l(S,150),complete:function(){B.attr({y:-9999}).hide()}})},L.prototype.fillSetter=function(S,B,c){"string"==typeof S?c.setAttribute(B,S):S&&this.complexColor(S,B,c)},L.prototype.getBBox=function(S,B){var c=this.renderer,u=this.element,E=this.styles,j=this.textStr,G=c.cache,W=c.cacheKeys,b=u.namespaceURI===this.SVG_NS;B=l(B,this.rotation,0);var R,z=c.styledMode?u&&L.prototype.getStyle.call(u,"font-size"):E&&E.fontSize;if(M(j)){var V=j.toString();-1===V.indexOf("<")&&(V=V.replace(/[0-9]/g,"0")),V+=["",B,z,this.textWidth,E&&E.textOverflow,E&&E.fontWeight].join()}if(V&&!S&&(R=G[V]),!R){if(b||c.forExport){try{var Z=this.fakeTS&&function(nt){var it=u.querySelector(".highcharts-text-outline");it&&C(it,{display:nt})};r(Z)&&Z("none"),R=u.getBBox?x({},u.getBBox()):{width:u.offsetWidth,height:u.offsetHeight},r(Z)&&Z("")}catch(nt){}(!R||0>R.width)&&(R={width:0,height:0})}else R=this.htmlGetBBox();if(c.isSVG&&(S=R.width,c=R.height,b&&(R.height=c={"11px,17":14,"13px,20":16}[(z||"")+","+Math.round(c)]||c),B&&(b=B*N,R.width=Math.abs(c*Math.sin(b))+Math.abs(S*Math.cos(b)),R.height=Math.abs(c*Math.cos(b))+Math.abs(S*Math.sin(b)))),V&&(""===j||0<R.height)){for(;250<W.length;)delete G[W.shift()];G[V]||W.push(V),G[V]=R}}return R},L.prototype.getStyle=function(S){return v.getComputedStyle(this.element||this,"").getPropertyValue(S)},L.prototype.hasClass=function(S){return-1!==(""+this.attr("class")).split(" ").indexOf(S)},L.prototype.hide=function(S){return this.attr(S?{y:-9999}:{visibility:"hidden"}),this},L.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},L.prototype.init=function(S,B){this.element="span"===B?y(B):O.createElementNS(this.SVG_NS,B),this.renderer=S,f(this,"afterInit")},L.prototype.invert=function(S){return this.inverted=S,this.updateTransform(),this},L.prototype.on=function(S,B){var c=this.onEvents;return c[S]&&c[S](),c[S]=_(this.element,S,B),this},L.prototype.opacitySetter=function(S,B,c){this.opacity=S=Number(Number(S).toFixed(3)),c.setAttribute(B,S)},L.prototype.removeClass=function(S){return this.attr("class",(""+this.attr("class")).replace(a(S)?new RegExp("(^| )"+S+"( |$)"):S," ").replace(/ +/g," ").trim())},L.prototype.removeTextOutline=function(){var S=this.element.querySelector("tspan.highcharts-text-outline");S&&this.safeRemoveChild(S)},L.prototype.safeRemoveChild=function(S){var B=S.parentNode;B&&B.removeChild(S)},L.prototype.setRadialReference=function(S){var B=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=S,B&&B.radAttr&&B.animate(this.renderer.getRadialAttr(S,B.radAttr)),this},L.prototype.setTextPath=function(S,B){var c=this.element,u=this.text?this.text.element:c,E={textAnchor:"text-anchor"},j=!1,G=this.textPathWrapper,W=!G;B=n(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},B);var b=$.filterUserAttributes(B.attributes);if(S&&B&&B.enabled){G&&null===G.element.parentNode?(W=!0,G=G.destroy()):G&&this.removeTextOutline.call(G.parentGroup),this.options&&this.options.padding&&(b.dx=-this.options.padding),G||(this.textPathWrapper=G=this.renderer.createElement("textPath"),j=!0);var z=G.element;if((B=S.element.getAttribute("id"))||S.element.setAttribute("id",B=I()),W)for(u.setAttribute("y",0),p(b.dx)&&u.setAttribute("x",-b.dx),S=[].slice.call(u.childNodes),W=0;W<S.length;W++){var R=S[W];R.nodeType!==v.Node.TEXT_NODE&&"tspan"!==R.nodeName||z.appendChild(R)}j&&G&&G.add({element:u}),z.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+B),M(b.dy)&&(z.parentNode.setAttribute("dy",b.dy),delete b.dy),M(b.dx)&&(z.parentNode.setAttribute("dx",b.dx),delete b.dx),h(b,function(V,Z){z.setAttribute(E[Z]||Z,V)}),c.removeAttribute("transform"),this.removeTextOutline.call(G),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=k}else G&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(c,S),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},L.prototype.shadow=function(S,B,c){var b,u=[],E=this.element,j=this.oldShadowOptions,G={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},W=!1;if(!0===S?b=G:"object"==typeof S&&(b=x(G,S)),b&&(b&&j&&h(b,function(nt,it){nt!==j[it]&&(W=!0)}),W&&this.destroyShadows(),this.oldShadowOptions=b),b){if(!this.shadows){var z=b.opacity/b.width,R=this.parentInverted?"translate("+b.offsetY+", "+b.offsetX+")":"translate("+b.offsetX+", "+b.offsetY+")";for(G=1;G<=b.width;G++){var V=E.cloneNode(!1),Z=2*b.width+1-2*G;T(V,{stroke:S.color||"#000000","stroke-opacity":z*G,"stroke-width":Z,transform:R,fill:"none"}),V.setAttribute("class",(V.getAttribute("class")||"")+" highcharts-shadow"),c&&(T(V,"height",Math.max(T(V,"height")-Z,0)),V.cutHeight=Z),B?B.element.appendChild(V):E.parentNode&&E.parentNode.insertBefore(V,E),u.push(V)}this.shadows=u}}else this.destroyShadows();return this},L.prototype.show=function(S){return this.attr({visibility:S?"inherit":"visible"})},L.prototype.strokeSetter=function(S,B,c){this[B]=S,this.stroke&&this["stroke-width"]?(L.prototype.fillSetter.call(this,this.stroke,"stroke",c),c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===B&&0===S&&this.hasStroke?(c.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},L.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var S=this.getStyle("stroke-width"),B=0;if(S.indexOf("px")===S.length-2)B=w(S);else if(""!==S){var c=O.createElementNS(d,"rect");T(c,{width:S,"stroke-width":0}),this.element.parentNode.appendChild(c),B=c.getBBox().width,c.parentNode.removeChild(c)}return B},L.prototype.symbolAttr=function(S){var B=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(c){B[c]=l(S[c],B[c])}),B.attr({d:B.renderer.symbols[B.symbolName](B.x,B.y,B.width,B.height,B)})},L.prototype.textSetter=function(S){S!==this.textStr&&(delete this.textPxLength,this.textStr=S,this.added&&this.renderer.buildText(this))},L.prototype.titleSetter=function(S){var B=this.element,c=B.getElementsByTagName("title")[0]||O.createElementNS(this.SVG_NS,"title");B.insertBefore?B.insertBefore(c,B.firstChild):B.appendChild(c),c.textContent=String(l(S,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},L.prototype.toFront=function(){var S=this.element;return S.parentNode.appendChild(S),this},L.prototype.translate=function(S,B){return this.attr({translateX:S,translateY:B})},L.prototype.updateShadows=function(S,B,c){var u=this.shadows;if(u)for(var E=u.length;E--;)c.call(u[E],"height"===S?Math.max(B-(u[E].cutHeight||0),0):"d"===S?this.d:B,S,u[E])},L.prototype.updateTransform=function(){var S=this.scaleX,B=this.scaleY,c=this.inverted,u=this.rotation,E=this.matrix,j=this.element,G=this.translateX||0,W=this.translateY||0;c&&(G+=this.width,W+=this.height),G=["translate("+G+","+W+")"],M(E)&&G.push("matrix("+E.join(",")+")"),c?G.push("rotate(90) scale(-1,1)"):u&&G.push("rotate("+u+" "+l(this.rotationOriginX,j.getAttribute("x"),0)+" "+l(this.rotationOriginY,j.getAttribute("y")||0)+")"),(M(S)||M(B))&&G.push("scale("+l(S,1)+" "+l(B,1)+")"),G.length&&j.setAttribute("transform",G.join(" "))},L.prototype.visibilitySetter=function(S,B,c){"inherit"===S?c.removeAttribute(B):this[B]!==S&&c.setAttribute(B,S),this[B]=S},L.prototype.xGetter=function(S){return"circle"===this.element.nodeName&&("x"===S?S="cx":"y"===S&&(S="cy")),this._defaultGetter(S)},L.prototype.zIndexSetter=function(S,B){var c=this.renderer,u=this.parentGroup,E=(u||c).element||c.box,j=this.element;c=E===c.box;var b,G=!1,W=this.added;if(M(S)?(j.setAttribute("data-z-index",S),this[B]===(S=+S)&&(W=!1)):M(this[B])&&j.removeAttribute("data-z-index"),this[B]=S,W){for((S=this.zIndex)&&u&&(u.handleZ=!0),b=(B=E.childNodes).length-1;0<=b&&!G;b--){W=(u=B[b]).getAttribute("data-z-index");var z=!M(W);u!==j&&(0>S&&z&&!c&&!b?(E.insertBefore(j,B[b]),G=!0):(w(W)<=S||z&&(!M(S)||0<=S))&&(E.insertBefore(j,B[b+1]||null),G=!0))}G||(E.insertBefore(j,B[c?3:0]||null),G=!0)}return G},L}(),Y.prototype["stroke-widthSetter"]=Y.prototype.strokeSetter,Y.prototype.yGetter=Y.prototype.xGetter,Y.prototype.matrixSetter=Y.prototype.rotationOriginXSetter=Y.prototype.rotationOriginYSetter=Y.prototype.rotationSetter=Y.prototype.scaleXSetter=Y.prototype.scaleYSetter=Y.prototype.translateXSetter=Y.prototype.translateYSetter=Y.prototype.verticalAlignSetter=function(L,S){this[S]=L,this.doTransform=!0},Y}),wt(o,"Core/Renderer/RendererRegistry.js",[o["Core/Globals.js"]],function(Y){var $,q,rt;return(q=$||($={})).rendererTypes={},q.getRendererType=function(J){return void 0===J&&(J=rt),q.rendererTypes[J]||q.rendererTypes[rt]},q.registerRendererType=function(J,K,X){q.rendererTypes[J]=K,(!rt||X)&&(rt=J,Y.Renderer=K)},$}),wt(o,"Core/Renderer/SVG/SVGLabel.js",[o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$){var O,q=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),rt=$.defined,J=$.extend,K=$.isNumber,X=$.merge,F=$.pick,N=$.removeEvent;return function(O){function k(g,d,v,_,T,y,C,M,D,x){var m,f=O.call(this)||this;return f.paddingLeftSetter=f.paddingSetter,f.paddingRightSetter=f.paddingSetter,f.init(g,"g"),f.textStr=d,f.x=v,f.y=_,f.anchorX=y,f.anchorY=C,f.baseline=D,f.className=x,f.addClass("button"===x?"highcharts-no-tooltip":"highcharts-label"),x&&f.addClass("highcharts-"+x),f.text=g.text(void 0,0,0,M).attr({zIndex:1}),"string"==typeof T&&((m=/^url\((.*?)\)$/.test(T))||f.renderer.symbols[T])&&(f.symbolKey=T),f.bBox=k.emptyBBox,f.padding=3,f.baselineOffset=0,f.needsBox=g.styledMode||m,f.deferredAttr={},f.alignFactor=0,f}return q(k,O),k.prototype.alignSetter=function(g){(g={left:0,center:.5,right:1}[g])!==this.alignFactor&&(this.alignFactor=g,this.bBox&&K(this.xSetting)&&this.attr({x:this.xSetting}))},k.prototype.anchorXSetter=function(g,d){this.anchorX=g,this.boxAttr(d,Math.round(g)-this.getCrispAdjust()-this.xSetting)},k.prototype.anchorYSetter=function(g,d){this.anchorY=g,this.boxAttr(d,g-this.ySetting)},k.prototype.boxAttr=function(g,d){this.box?this.box.attr(g,d):this.deferredAttr[g]=d},k.prototype.css=function(g){if(g){var d={};g=X(g),k.textProps.forEach(function(_){void 0!==g[_]&&(d[_]=g[_],delete g[_])}),this.text.css(d);var v="width"in d;"fontSize"in d||"fontWeight"in d?this.updateTextPadding():v&&this.updateBoxSize()}return Y.prototype.css.call(this,g)},k.prototype.destroy=function(){N(this.element,"mouseenter"),N(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Y.prototype.destroy.call(this)},k.prototype.fillSetter=function(g,d){g&&(this.needsBox=!0),this.fill=g,this.boxAttr(d,g)},k.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var g=this.padding,d=F(this.paddingLeft,g);return{width:this.width,height:this.height,x:this.bBox.x-d,y:this.bBox.y-g}},k.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},k.prototype.heightSetter=function(g){this.heightSetting=g},k.prototype.onAdd=function(){var g=this.textStr;this.text.add(this),this.attr({text:rt(g)?g:"",x:this.x,y:this.y}),this.box&&rt(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},k.prototype.paddingSetter=function(g,d){K(g)?g!==this[d]&&(this[d]=g,this.updateTextPadding()):this[d]=void 0},k.prototype.rSetter=function(g,d){this.boxAttr(d,g)},k.prototype.shadow=function(g){return g&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(g)),this},k.prototype.strokeSetter=function(g,d){this.stroke=g,this.boxAttr(d,g)},k.prototype["stroke-widthSetter"]=function(g,d){g&&(this.needsBox=!0),this["stroke-width"]=g,this.boxAttr(d,g)},k.prototype["text-alignSetter"]=function(g){this.textAlign=g},k.prototype.textSetter=function(g){void 0!==g&&this.text.attr({text:g}),this.updateTextPadding()},k.prototype.updateBoxSize=function(){var g=this.text.element.style,d={},v=this.padding,_=this.bBox=K(this.widthSetting)&&K(this.heightSetting)&&!this.textAlign||!rt(this.text.textStr)?k.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||_.height||0)+2*v,g=this.renderer.fontMetrics(g&&g.fontSize,this.text),this.baselineOffset=v+Math.min((this.text.firstLineMetrics||g).b,_.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-g.h)/2),this.needsBox&&(this.box||((v=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),v.add(this)),v=this.getCrispAdjust(),d.x=v,d.y=(this.baseline?-this.baselineOffset:0)+v,d.width=Math.round(this.width),d.height=Math.round(this.height),this.box.attr(J(d,this.deferredAttr)),this.deferredAttr={})},k.prototype.updateTextPadding=function(){var g=this.text;this.updateBoxSize();var d=this.baseline?0:this.baselineOffset,v=F(this.paddingLeft,this.padding);rt(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(v+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(v!==g.x||d!==g.y)&&(g.attr("x",v),g.hasBoxWidthChanged&&(this.bBox=g.getBBox(!0)),void 0!==d&&g.attr("y",d)),g.x=v,g.y=d},k.prototype.widthSetter=function(g){this.widthSetting=K(g)?g:void 0},k.prototype.getPaddedWidth=function(){var g=this.padding,d=F(this.paddingLeft,g);return g=F(this.paddingRight,g),(this.widthSetting||this.bBox.width||0)+d+g},k.prototype.xSetter=function(g){this.x=g,this.alignFactor&&(g-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(g),this.attr("translateX",this.xSetting)},k.prototype.ySetter=function(g){this.ySetting=this.y=Math.round(g),this.attr("translateY",this.ySetting)},k.emptyBBox={width:0,height:0,x:0,y:0},k.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),k}(Y)}),wt(o,"Core/Renderer/SVG/Symbols.js",[o["Core/Utilities.js"]],function(Y){function $(F,N,O,k,g){var d=[];if(g){var v=g.start||0,_=X(g.r,O);O=X(g.r,k||O);var T=(g.end||0)-.001;k=g.innerR;var y=X(g.open,.001>Math.abs((g.end||0)-v-2*Math.PI)),C=Math.cos(v),M=Math.sin(v),D=Math.cos(T),x=Math.sin(T);v=X(g.longArc,.001>T-v-Math.PI?0:1),d.push(["M",F+_*C,N+O*M],["A",_,O,0,v,X(g.clockwise,1),F+_*D,N+O*x]),J(k)&&d.push(y?["M",F+k*D,N+k*x]:["L",F+k*D,N+k*x],["A",k,k,0,v,J(g.clockwise)?1-g.clockwise:0,F+k*C,N+k*M]),y||d.push(["Z"])}return d}function q(F,N,O,k,g){return g&&g.r?rt(F,N,O,k,g):[["M",F,N],["L",F+O,N],["L",F+O,N+k],["L",F,N+k],["Z"]]}function rt(F,N,O,k,g){return[["M",F+(g=g&&g.r||0),N],["L",F+O-g,N],["C",F+O,N,F+O,N,F+O,N+g],["L",F+O,N+k-g],["C",F+O,N+k,F+O,N+k,F+O-g,N+k],["L",F+g,N+k],["C",F,N+k,F,N+k,F,N+k-g],["L",F,N+g],["C",F,N,F,N,F+g,N]]}var J=Y.defined,K=Y.isNumber,X=Y.pick;return{arc:$,callout:function(F,N,O,k,g){var d=Math.min(g&&g.r||0,O,k),v=d+6,_=g&&g.anchorX;g=g&&g.anchorY||0;var T=rt(F,N,O,k,{r:d});return K(_)&&(F+_>=O?g>N+v&&g<N+k-v?T.splice(3,1,["L",F+O,g-6],["L",F+O+6,g],["L",F+O,g+6],["L",F+O,N+k-d]):T.splice(3,1,["L",F+O,k/2],["L",_,g],["L",F+O,k/2],["L",F+O,N+k-d]):0>=F+_?g>N+v&&g<N+k-v?T.splice(7,1,["L",F,g+6],["L",F-6,g],["L",F,g-6],["L",F,N+d]):T.splice(7,1,["L",F,k/2],["L",_,g],["L",F,k/2],["L",F,N+d]):g&&g>k&&_>F+v&&_<F+O-v?T.splice(5,1,["L",_+6,N+k],["L",_,N+k+6],["L",_-6,N+k],["L",F+d,N+k]):g&&0>g&&_>F+v&&_<F+O-v&&T.splice(1,1,["L",_-6,N],["L",_,N-6],["L",_+6,N],["L",O-d,N])),T},circle:function(F,N,O,k){return $(F+O/2,N+k/2,O/2,k/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(F,N,O,k){return[["M",F+O/2,N],["L",F+O,N+k/2],["L",F+O/2,N+k],["L",F,N+k/2],["Z"]]},rect:q,roundedRect:rt,square:q,triangle:function(F,N,O,k){return[["M",F+O/2,N],["L",F+O,N+k],["L",F,N+k],["Z"]]},"triangle-down":function(F,N,O,k){return[["M",F,N],["L",F+O,N],["L",F+O/2,N+k],["Z"]]}}}),wt(o,"Core/Renderer/SVG/TextBuilder.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=$.doc,J=$.SVG_NS,K=$.win,X=q.attr,F=q.isString,N=q.objectEach,O=q.pick;return function(){function k(g){var d=g.styles;this.renderer=g.renderer,this.svgElement=g,this.width=g.textWidth,this.textLineHeight=d&&d.lineHeight,this.textOutline=d&&d.textOutline,this.ellipsis=!(!d||"ellipsis"!==d.textOverflow),this.noWrap=!(!d||"nowrap"!==d.whiteSpace),this.fontSize=d&&d.fontSize}return k.prototype.buildSVG=function(){var g=this.svgElement,d=g.element,v=g.renderer,_=O(g.textStr,"").toString(),T=-1!==_.indexOf("<"),y=d.childNodes;v=this.width&&!g.added&&v.box;var M=[_,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(M!==g.textCache){for(g.textCache=M,delete g.actualWidth,M=y.length;M--;)d.removeChild(y[M]);T||this.ellipsis||this.width||-1!==_.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(_))?""!==_&&(v&&v.appendChild(d),_=new Y(_),this.modifyTree(_.nodes),_.addToDOM(g.element),this.modifyDOM(),this.ellipsis&&-1!==(d.textContent||"").indexOf("\u2026")&&g.attr("title",this.unescapeEntities(g.textStr||"",["&lt;","&gt;"])),v&&v.removeChild(d)):d.appendChild(rt.createTextNode(this.unescapeEntities(_))),F(this.textOutline)&&g.applyTextOutline&&g.applyTextOutline(this.textOutline)}},k.prototype.modifyDOM=function(){var _,g=this,d=this.svgElement,v=X(d.element,"x");for(d.firstLineMetrics=void 0;(_=d.element.firstChild)&&/^[\s\u200B]*$/.test(_.textContent||" ");)d.element.removeChild(_);[].forEach.call(d.element.querySelectorAll("tspan.highcharts-br"),function(M,D){M.nextSibling&&M.previousSibling&&(0===D&&1===M.previousSibling.nodeType&&(d.firstLineMetrics=d.renderer.fontMetrics(void 0,M.previousSibling)),X(M,{dy:g.getLineHeight(M.nextSibling),x:v}))});var T=this.width||0;if(T){var C=function(M){[].slice.call(M.childNodes).forEach(function(D){D.nodeType===K.Node.TEXT_NODE?function(M,D){var x=M.textContent||"",f=x.replace(/([^\^])-/g,"$1- ").split(" "),m=!g.noWrap&&(1<f.length||1<d.element.childNodes.length),r=g.getLineHeight(D),p=0,a=d.actualWidth;if(g.ellipsis)x&&g.truncate(M,x,void 0,0,Math.max(0,T-parseInt(g.fontSize||12,10)),function(n,h){return n.substring(0,h)+"\u2026"});else if(m){for(x=[],m=[];D.firstChild&&D.firstChild!==M;)m.push(D.firstChild),D.removeChild(D.firstChild);for(;f.length;)f.length&&!g.noWrap&&0<p&&(x.push(M.textContent||""),M.textContent=f.join(" ").replace(/- /g,"-")),g.truncate(M,void 0,f,0===p&&a||0,T,function(n,h){return f.slice(0,h).join(" ").replace(/- /g,"-")}),a=d.actualWidth,p++;m.forEach(function(n){D.insertBefore(n,M)}),x.forEach(function(n){D.insertBefore(rt.createTextNode(n),M),(n=rt.createElementNS(J,"tspan")).textContent="\u200b",X(n,{dy:r,x:v}),D.insertBefore(n,M)})}}(D,M):(-1!==D.className.baseVal.indexOf("highcharts-br")&&(d.actualWidth=0),C(D))})};C(d.element)}},k.prototype.getLineHeight=function(g){var d;return g=g.nodeType===K.Node.TEXT_NODE?g.parentElement:g,this.renderer.styledMode||(d=g&&/(px|em)$/.test(g.style.fontSize)?g.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(d,g||this.svgElement.element).h},k.prototype.modifyTree=function(g){var d=this,v=function(_,T){var y=_.attributes;y=void 0===y?{}:y;var C=_.children,M=_.tagName,D=d.renderer.styledMode;"b"===M||"strong"===M?D?y.class="highcharts-strong":y.style="font-weight:bold;"+(y.style||""):("i"===M||"em"===M)&&(D?y.class="highcharts-emphasized":y.style="font-style:italic;"+(y.style||"")),F(y.style)&&(y.style=y.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===M?(y.class="highcharts-br",_.textContent="\u200b",(T=g[T+1])&&T.textContent&&(T.textContent=T.textContent.replace(/^ +/gm,""))):"a"===M&&C&&C.some(function(x){return"#text"===x.tagName})&&(_.children=[{children:C,tagName:"tspan"}]),"#text"!==M&&"a"!==M&&(_.tagName="tspan"),_.attributes=y,C&&C.filter(function(x){return"#text"!==x.tagName}).forEach(v)};g.forEach(v)},k.prototype.truncate=function(g,d,v,_,T,y){var p,C=this.svgElement,M=C.renderer,D=C.rotation,x=[],f=v?1:0,m=(d||v||"").length,r=m,a=function(h,l){l=l||h;var w=g.parentNode;if(w&&void 0===x[l])if(w.getSubStringLength)try{x[l]=_+w.getSubStringLength(0,v?l+1:l)}catch(P){}else M.getSpanWidth&&(g.textContent=y(d||v,h),x[l]=_+M.getSpanWidth(C,g));return x[l]};C.rotation=0;var n=a(g.textContent.length);if(_+n>T){for(;f<=m;)r=Math.ceil((f+m)/2),v&&(p=y(v,r)),n=a(r,p&&p.length-1),f===m?f=m+1:n>T?m=r-1:f=r;0===m?g.textContent="":d&&m===d.length-1||(g.textContent=p||y(d||v,r))}v&&v.splice(0,r),C.actualWidth=n,C.rotation=D},k.prototype.unescapeEntities=function(g,d){return N(this.renderer.escapes,function(v,_){d&&-1!==d.indexOf(v)||(g=g.toString().replace(new RegExp(v,"g"),_))}),g},k}()}),wt(o,"Core/Renderer/SVG/SVGRenderer.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Renderer/SVG/SVGLabel.js"],o["Core/Renderer/SVG/Symbols.js"],o["Core/Renderer/SVG/TextBuilder.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N){var B,O=q.charts,k=q.deg2rad,g=q.doc,d=q.isFirefox,v=q.isMS,_=q.isWebKit,T=q.noop,y=q.SVG_NS,C=q.symbolSizes,M=q.win,D=N.addEvent,x=N.attr,f=N.createElement,m=N.css,r=N.defined,p=N.destroyObjectProperties,a=N.extend,n=N.isArray,h=N.isNumber,l=N.isObject,w=N.isString,P=N.merge,I=N.pick,L=N.pInt,S=N.uniqueKey;return q=function(){function c(u,E,j,G,W,b,z){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(u,E,j,G,W,b,z)}return c.prototype.init=function(u,E,j,G,W,b,z){var Z,R=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),V=R.element;z||R.css(this.getStyle(G)),u.appendChild(V),x(u,"dir","ltr"),-1===u.innerHTML.indexOf("xmlns")&&x(V,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=V,this.boxWrapper=R,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(g.createTextNode("Created with Highcharts 9.3.3")),this.defs=this.createElement("defs").add(),this.allowHTML=b,this.forExport=W,this.styledMode=z,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(E,j,!1),d&&u.getBoundingClientRect&&((E=function(){m(u,{left:0,top:0}),Z=u.getBoundingClientRect(),m(u,{left:Math.ceil(Z.left)-Z.left+"px",top:Math.ceil(Z.top)-Z.top+"px"})})(),this.unSubPixelFix=D(M,"resize",E))},c.prototype.definition=function(u){return new Y([u]).addToDOM(this.defs.element)},c.prototype.getReferenceURL=function(){if((d||_)&&g.getElementsByTagName("base").length){if(!r(B)){var u=S();u=new Y([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:u},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+u+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(g.body),m(u,{position:"fixed",top:0,left:0,zIndex:9e5});var E=g.elementFromPoint(6,6);B="hitme"===(E&&E.id),g.body.removeChild(u)}if(B)return M.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},c.prototype.getStyle=function(u){return this.style=a({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},u)},c.prototype.setStyle=function(u){this.boxWrapper.css(this.getStyle(u))},c.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},c.prototype.destroy=function(){var u=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),p(this.gradients||{}),this.gradients=null,u&&(this.defs=u.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},c.prototype.createElement=function(u){var E=new this.Element;return E.init(this,u),E},c.prototype.getRadialAttr=function(u,E){return{cx:u[0]-u[2]/2+(E.cx||0)*u[2],cy:u[1]-u[2]/2+(E.cy||0)*u[2],r:(E.r||0)*u[2]}},c.prototype.buildText=function(u){new F(u).buildSVG()},c.prototype.getContrast=function(u){return(u=$.parse(u).rgba)[0]*=1,u[1]*=1.2,u[2]*=.5,459<u[0]+u[1]+u[2]?"#000000":"#FFFFFF"},c.prototype.button=function(u,E,j,G,W,b,z,R,V,Z){var nt=this.label(u,E,j,V,void 0,void 0,Z,void 0,"button"),it=this.styledMode,ot=0,at=W?P(W):{};if(u=at&&at.style||{},at=Y.filterUserAttributes(at),nt.attr(P({padding:8,r:2},at)),!it){var mt=(at=P({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:u},at)).style;delete at.style;var _t=(b=P(at,{fill:"#e6e6e6"},Y.filterUserAttributes(b||{}))).style;delete b.style;var yt=(z=P(at,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},Y.filterUserAttributes(z||{}))).style;delete z.style;var ut=(R=P(at,{style:{color:"#cccccc"}},Y.filterUserAttributes(R||{}))).style;delete R.style}return D(nt.element,v?"mouseover":"mouseenter",function(){3!==ot&&nt.setState(1)}),D(nt.element,v?"mouseout":"mouseleave",function(){3!==ot&&nt.setState(ot)}),nt.setState=function(ct){1!==ct&&(nt.state=ot=ct),nt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ct||0]),it||nt.attr([at,b,z,R][ct||0]).css([mt,_t,yt,ut][ct||0])},it||nt.attr(at).css(a({cursor:"default"},mt)),nt.on("touchstart",function(ct){return ct.stopPropagation()}).on("click",function(ct){3!==ot&&G.call(nt,ct)})},c.prototype.crispLine=function(u,E,j){void 0===j&&(j="round");var G=u[0],W=u[1];return r(G[1])&&G[1]===W[1]&&(G[1]=W[1]=Math[j](G[1])-E%2/2),r(G[2])&&G[2]===W[2]&&(G[2]=W[2]=Math[j](G[2])+E%2/2),u},c.prototype.path=function(u){var E=this.styledMode?{}:{fill:"none"};return n(u)?E.d=u:l(u)&&a(E,u),this.createElement("path").attr(E)},c.prototype.circle=function(u,E,j){return u=l(u)?u:void 0===u?{}:{x:u,y:E,r:j},(E=this.createElement("circle")).xSetter=E.ySetter=function(G,W,b){b.setAttribute("c"+W,G)},E.attr(u)},c.prototype.arc=function(u,E,j,G,W,b){return l(u)?(E=(G=u).y,j=G.r,u=G.x):G={innerR:G,start:W,end:b},(u=this.symbol("arc",u,E,j,j,G)).r=j,u},c.prototype.rect=function(u,E,j,G,W,b){W=l(u)?u.r:W;var z=this.createElement("rect");return u=l(u)?u:void 0===u?{}:{x:u,y:E,width:Math.max(j,0),height:Math.max(G,0)},this.styledMode||(void 0!==b&&(u["stroke-width"]=b,u=z.crisp(u)),u.fill="none"),W&&(u.r=W),z.rSetter=function(R,V,Z){z.r=R,x(Z,{rx:R,ry:R})},z.rGetter=function(){return z.r||0},z.attr(u)},c.prototype.setSize=function(u,E,j){this.width=u,this.height=E,this.boxWrapper.animate({width:u,height:E},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:I(j,!0)?void 0:0}),this.alignElements()},c.prototype.g=function(u){var E=this.createElement("g");return u?E.attr({class:"highcharts-"+u}):E},c.prototype.image=function(u,E,j,G,W,b){var z={preserveAspectRatio:"none"},R=function(Z,nt){Z.setAttributeNS?Z.setAttributeNS("http://www.w3.org/1999/xlink","href",nt):Z.setAttribute("hc-svg-href",nt)};h(E)&&(z.x=E),h(j)&&(z.y=j),h(G)&&(z.width=G),h(W)&&(z.height=W);var V=this.createElement("image").attr(z);return E=function(Z){R(V.element,u),b.call(V,Z)},b?(R(V.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),j=new M.Image,D(j,"load",E),j.src=u,j.complete&&E({})):R(V.element,u),V},c.prototype.symbol=function(u,E,j,G,W,b){var it,z=this,R=/^url\((.*?)\)$/,V=R.test(u),Z=!V&&(this.symbols[u]?u:"circle"),nt=Z&&this.symbols[Z];if(nt){"number"==typeof E&&(it=nt.call(this.symbols,Math.round(E||0),Math.round(j||0),G||0,W||0,b));var ot=this.path(it);z.styledMode||ot.attr("fill","none"),a(ot,{symbolName:Z||void 0,x:E,y:j,width:G,height:W}),b&&a(ot,b)}else if(V){var at=u.match(R)[1],mt=ot=this.image(at);mt.imgwidth=I(C[at]&&C[at].width,b&&b.width),mt.imgheight=I(C[at]&&C[at].height,b&&b.height);var _t=function(yt){return yt.attr({width:yt.width,height:yt.height})};["width","height"].forEach(function(yt){mt[yt+"Setter"]=function(ut,ct){var H=this["img"+ct];this[ct]=ut,r(H)&&(b&&"within"===b.backgroundSize&&this.width&&this.height&&(H=Math.round(H*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(ct,H),this.alignByTranslate||(ut=((this[ct]||0)-H)/2,this.attr("width"===ct?{translateX:ut}:{translateY:ut})))}}),r(E)&&mt.attr({x:E,y:j}),mt.isImg=!0,r(mt.imgwidth)&&r(mt.imgheight)?_t(mt):(mt.attr({width:0,height:0}),f("img",{onload:function(){var yt=O[z.chartIndex];0===this.width&&(m(this,{position:"absolute",top:"-999em"}),g.body.appendChild(this)),C[at]={width:this.width,height:this.height},mt.imgwidth=this.width,mt.imgheight=this.height,mt.element&&_t(mt),this.parentNode&&this.parentNode.removeChild(this),z.imgCount--,!z.imgCount&&yt&&!yt.hasLoaded&&yt.onload()},src:at}),this.imgCount++)}return ot},c.prototype.clipRect=function(u,E,j,G){var W=S()+"-",b=this.createElement("clipPath").attr({id:W}).add(this.defs);return(u=this.rect(u,E,j,G,0).add(b)).id=W,u.clipPath=b,u.count=0,u},c.prototype.text=function(u,E,j,G){var W={};return!G||!this.allowHTML&&this.forExport?(W.x=Math.round(E||0),j&&(W.y=Math.round(j)),r(u)&&(W.text=u),u=this.createElement("text").attr(W),(!G||this.forExport&&!this.allowHTML)&&(u.xSetter=function(b,z,R){for(var it,V=R.getElementsByTagName("tspan"),Z=R.getAttribute(z),nt=0;nt<V.length;nt++)(it=V[nt]).getAttribute(z)===Z&&it.setAttribute(z,b);R.setAttribute(z,b)}),u):this.html(u,E,j)},c.prototype.fontMetrics=function(u,E){return u=!this.styledMode&&/px/.test(u)||!M.getComputedStyle?u||E&&E.style&&E.style.fontSize||this.style&&this.style.fontSize:E&&J.prototype.getStyle.call(E,"font-size"),{h:E=24>(u=/px/.test(u)?L(u):12)?u+3:Math.round(1.2*u),b:Math.round(.8*E),f:u}},c.prototype.rotCorr=function(u,E,j){var G=u;return E&&j&&(G=Math.max(G*Math.cos(E*k),4)),{x:-u/3*Math.sin(E*k),y:G}},c.prototype.pathToSegments=function(u){for(var E=[],j=[],G={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},W=0;W<u.length;W++)w(j[0])&&h(u[W])&&j.length===G[j[0].toUpperCase()]&&u.splice(W,0,j[0].replace("M","L").replace("m","l")),"string"==typeof u[W]&&(j.length&&E.push(j.slice(0)),j.length=0),j.push(u[W]);return E.push(j.slice(0)),E},c.prototype.label=function(u,E,j,G,W,b,z,R,V){return new K(this,u,E,j,G,W,b,z,R,V)},c.prototype.alignElements=function(){this.alignedObjects.forEach(function(u){return u.align()})},c}(),a(q.prototype,{Element:J,SVG_NS:y,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:X,draw:T}),rt.registerRendererType("svg",q,!0),q}),wt(o,"Core/Renderer/HTML/HTMLElement.js",[o["Core/Globals.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$,q){var v,rt=this&&this.__extends||(v=function(_,T){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,C){y.__proto__=C}||function(y,C){for(var M in C)C.hasOwnProperty(M)&&(y[M]=C[M])})(_,T)},function(_,T){function y(){this.constructor=_}v(_,T),_.prototype=null===T?Object.create(T):(y.prototype=T.prototype,new y)}),J=Y.isFirefox,K=Y.isMS,X=Y.isWebKit,F=Y.win,N=q.css,O=q.defined,k=q.extend,g=q.pick,d=q.pInt;return function(v){function _(){return null!==v&&v.apply(this,arguments)||this}return rt(_,v),_.compose=function(T){if(-1===_.composedClasses.indexOf(T)){_.composedClasses.push(T);var y=_.prototype,C=T.prototype;C.getSpanCorrection=y.getSpanCorrection,C.htmlCss=y.htmlCss,C.htmlGetBBox=y.htmlGetBBox,C.htmlUpdateTransform=y.htmlUpdateTransform,C.setSpanRotation=y.setSpanRotation}return T},_.prototype.getSpanCorrection=function(T,y,C){this.xCorr=-T*C,this.yCorr=-y},_.prototype.htmlCss=function(T){var y="SPAN"===this.element.tagName&&T&&"width"in T,C=g(y&&T.width,void 0);if(y){delete T.width,this.textWidth=C;var M=!0}return T&&"ellipsis"===T.textOverflow&&(T.whiteSpace="nowrap",T.overflow="hidden"),this.styles=k(this.styles,T),N(this.element,T),M&&this.htmlUpdateTransform(),this},_.prototype.htmlGetBBox=function(){var T=this.element;return{x:T.offsetLeft,y:T.offsetTop,width:T.offsetWidth,height:T.offsetHeight}},_.prototype.htmlUpdateTransform=function(){if(this.added){var T=this.renderer,y=this.element,C=this.translateX||0,M=this.translateY||0,D=this.x||0,x=this.y||0,f=this.textAlign||"left",m={left:0,center:.5,right:1}[f],r=this.styles;if(r=r&&r.whiteSpace,N(y,{marginLeft:C,marginTop:M}),!T.styledMode&&this.shadows&&this.shadows.forEach(function(w){N(w,{marginLeft:C+1,marginTop:M+1})}),this.inverted&&[].forEach.call(y.childNodes,function(w){T.invertChild(w,y)}),"SPAN"===y.tagName){var p=this.rotation,a=this.textWidth&&d(this.textWidth),n=[p,f,y.innerHTML,this.textWidth,this.textAlign].join(),h=void 0;if(h=!1,a!==this.oldTextWidth){if(this.textPxLength)var l=this.textPxLength;else N(y,{width:"",whiteSpace:r||"nowrap"}),l=y.offsetWidth;(a>this.oldTextWidth||l>a)&&(/[ \-]/.test(y.textContent||y.innerText)||"ellipsis"===y.style.textOverflow)&&(N(y,{width:l>a||p?a+"px":"auto",display:"block",whiteSpace:r||"normal"}),this.oldTextWidth=a,h=!0)}this.hasBoxWidthChanged=h,n!==this.cTT&&(h=T.fontMetrics(y.style.fontSize,y).b,!O(p)||p===(this.oldRotation||0)&&f===this.oldAlign||this.setSpanRotation(p,m,h),this.getSpanCorrection(!O(p)&&this.textPxLength||y.offsetWidth,h,m,p,f)),N(y,{left:D+(this.xCorr||0)+"px",top:x+(this.yCorr||0)+"px"}),this.cTT=n,this.oldRotation=p,this.oldAlign=f}}else this.alignOnAdd=!0},_.prototype.setSpanRotation=function(T,y,C){var M={},D=K&&!/Edge/.test(F.navigator.userAgent)?"-ms-transform":X?"-webkit-transform":J?"MozTransform":F.opera?"-o-transform":void 0;D&&(M[D]=M.transform="rotate("+T+"deg)",M[D+(J?"Origin":"-origin")]=M.transformOrigin=100*y+"% "+C+"px",N(this.element,M))},_.composedClasses=[],_}($)}),wt(o,"Core/Renderer/HTML/HTMLRenderer.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var O,J=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),K=rt.attr,X=rt.createElement,F=rt.extend,N=rt.pick;return function(O){function k(){return null!==O&&O.apply(this,arguments)||this}return J(k,O),k.compose=function(g){return-1===k.composedClasses.indexOf(g)&&(k.composedClasses.push(g),g.prototype.html=k.prototype.html),g},k.prototype.html=function(g,d,v){var _=this.createElement("span"),T=_.element,y=_.renderer,C=y.isSVG,M=function(D,x){["opacity","visibility"].forEach(function(f){D[f+"Setter"]=function(m,r,p){var a=D.div?D.div.style:x;$.prototype[f+"Setter"].call(this,m,r,p),a&&(a[r]=m)}}),D.addedSetters=!0};return _.textSetter=function(D){D!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Y.setElementHTML(this.element,N(D,"")),this.textStr=D,_.doTransform=!0)},C&&M(_,_.element.style),_.xSetter=_.ySetter=_.alignSetter=_.rotationSetter=function(D,x){"align"===x?_.alignValue=_.textAlign=D:_[x]=D,_.doTransform=!0},_.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},_.attr({text:g,x:Math.round(d),y:Math.round(v)}).css({position:"absolute"}),y.styledMode||_.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),T.style.whiteSpace="nowrap",_.css=_.htmlCss,C&&(_.add=function(D){var x=y.box.parentNode,f=[];if(this.parentGroup=D){var m=D.div;if(!m){for(;D;)f.push(D),D=D.parentGroup;f.reverse().forEach(function(r){function p(l,w){r[w]=l,"translateX"===w?h.left=l+"px":h.top=l+"px",r.doTransform=!0}var l,a=K(r.element,"class"),n=r.styles||{},h=(m=r.div=r.div||X("div",a?{className:a}:void 0,{position:"absolute",left:(r.translateX||0)+"px",top:(r.translateY||0)+"px",display:r.display,opacity:r.opacity,cursor:n.cursor,pointerEvents:n.pointerEvents,visibility:r.visibility},m||x)).style;F(r,{classSetter:(l=m,function(w){this.element.setAttribute("class",w),l.className=w}),on:function(){return f[0].div&&_.on.apply({element:f[0].div,onEvents:r.onEvents},arguments),r},translateXSetter:p,translateYSetter:p}),r.addedSetters||M(r)})}}else m=x;return m.appendChild(T),_.added=!0,_.alignOnAdd&&_.htmlUpdateTransform(),_}),_},k.composedClasses=[],k}(q)}),wt(o,"Core/Axis/AxisDefaults.js",[],function(){var Y=(()=>{return($=Y||(Y={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},$.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},$.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},$.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},$.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},$.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},Y;var $})();return Y}),wt(o,"Core/Foundation.js",[o["Core/Utilities.js"]],function(Y){var K,$=Y.addEvent,q=Y.isFunction,rt=Y.objectEach,J=Y.removeEvent;return(K||(K={})).registerEventOptions=function(F,N){F.eventOptions=F.eventOptions||{},rt(N.events,function(O,k){F.eventOptions[k]!==O&&(F.eventOptions[k]&&(J(F,k,F.eventOptions[k]),delete F.eventOptions[k]),q(O)&&(F.eventOptions[k]=O,$(F,k,O)))})},K}),wt(o,"Core/Axis/Tick.js",[o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=$.deg2rad,J=q.clamp,K=q.correctFloat,X=q.defined,F=q.destroyObjectProperties,N=q.extend,O=q.fireEvent,k=q.isNumber,g=q.merge,d=q.objectEach,v=q.pick;return function(){function _(T,y,C,M,D){this.isNewLabel=this.isNew=!0,this.axis=T,this.pos=y,this.type=C||"",this.parameters=D||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,O(this,"init"),C||M||this.addLabel()}return _.prototype.addLabel=function(){var T=this,y=T.axis,C=y.options,M=y.chart,D=y.categories,x=y.logarithmic,f=y.names,m=T.pos,r=v(T.options&&T.options.labels,C.labels),p=y.tickPositions,a=m===p[0],n=m===p[p.length-1],h=(!r.step||1===r.step)&&1===y.tickInterval;p=p.info;var w,l=T.label;if(D=this.parameters.category||(D?v(D[m],f[m],m):m),x&&k(D)&&(D=K(x.lin2log(D))),y.dateTime)if(p)var P=M.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid&&p.higherRanks[m]||p.unitName]),I=P.main;else k(D)&&(I=y.dateTime.getXDateFormat(D,C.dateTimeLabelFormats||{}));T.isFirst=a,T.isLast=n;var L={axis:y,chart:M,dateTimeLabelFormat:I,isFirst:a,isLast:n,pos:m,tick:T,tickPositionInfo:p,value:D};O(this,"labelFormat",L);var S=function(c){return r.formatter?r.formatter.call(c,c):r.format?(c.text=y.defaultLabelFormatter.call(c),Y.format(r.format,c,M)):y.defaultLabelFormatter.call(c,c)};C=S.call(L,L);var B=P&&P.list;T.shortenLabel=B?function(){for(w=0;w<B.length;w++)if(N(L,{dateTimeLabelFormat:B[w]}),l.attr({text:S.call(L,L)}),l.getBBox().width<y.getSlotWidth(T)-2*r.padding)return;l.attr({text:""})}:void 0,h&&y._addedPlotLB&&T.moveLabel(C,r),X(l)||T.movedLabel?l&&l.textStr!==C&&!h&&(!l.textWidth||r.style.width||l.styles.width||l.css({width:null}),l.attr({text:C}),l.textPxLength=l.getBBox().width):(T.label=l=T.createLabel({x:0,y:0},C,r),T.rotation=0)},_.prototype.createLabel=function(T,y,C){var M=this.axis,D=M.chart;return(T=X(y)&&C.enabled?D.renderer.text(y,T.x,T.y,C.useHTML).add(M.labelGroup):null)&&(D.styledMode||T.css(g(C.style)),T.textPxLength=T.getBBox().width),T},_.prototype.destroy=function(){F(this,this.axis)},_.prototype.getPosition=function(T,y,C,M){var D=this.axis,x=D.chart,f=M&&x.oldChartHeight||x.chartHeight;return(T={x:T?K(D.translate(y+C,null,null,M)+D.transB):D.left+D.offset+(D.opposite?(M&&x.oldChartWidth||x.chartWidth)-D.right-D.left:0),y:T?f-D.bottom+D.offset-(D.opposite?D.height:0):K(f-D.translate(y+C,null,null,M)-D.transB)}).y=J(T.y,-1e5,1e5),O(this,"afterGetPosition",{pos:T}),T},_.prototype.getLabelPosition=function(T,y,C,M,D,x,f,m){var r=this.axis,p=r.transA,a=r.isLinked&&r.linkedParent?r.linkedParent.reversed:r.reversed,n=r.staggerLines,h=r.tickRotCorr||{x:0,y:0},l=M||r.reserveSpaceDefault?0:-r.labelOffset*("center"===r.labelAlign?.5:1),w={},P=D.y;return X(P)||(P=0===r.side?C.rotation?-8:-C.getBBox().height:2===r.side?h.y+8:Math.cos(C.rotation*rt)*(h.y-C.getBBox(!1,0).height/2)),y=y+P-(x&&!M?x*p*(a?1:-1):0),n&&(C=f/(m||1)%n,r.opposite&&(C=n-C-1),y+=r.labelOffset/n*C),w.x=T=T+D.x+l+h.x-(x&&M?x*p*(a?-1:1):0),w.y=Math.round(y),O(this,"afterGetLabelPosition",{pos:w,tickmarkOffset:x,index:f}),w},_.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},_.prototype.getMarkPath=function(T,y,C,M,D,x){return x.crispLine([["M",T,y],["L",T+(D?0:-C),y+(D?C:0)]],M)},_.prototype.handleOverflow=function(T){var y=this.axis,C=y.options.labels,M=T.x,D=y.chart.chartWidth,x=y.chart.spacing,f=v(y.labelLeft,Math.min(y.pos,x[3]));x=v(y.labelRight,Math.max(y.isRadial?0:y.pos+y.len,D-x[1]));var P,m=this.label,r=this.rotation,p={left:0,center:.5,right:1}[y.labelAlign||m.attr("align")],a=m.getBBox().width,n=y.getSlotWidth(this),h={},l=n,w=1;r||"justify"!==C.overflow?0>r&&M-p*a<f?P=Math.round(M/Math.cos(r*rt)-f):0<r&&M+p*a>x&&(P=Math.round((D-M)/Math.cos(r*rt))):(D=M+(1-p)*a,M-p*a<f?l=T.x+l*(1-p)-f:D>x&&(l=x-T.x+l*p,w=-1),(l=Math.min(n,l))<n&&"center"===y.labelAlign&&(T.x+=w*(n-l-p*(n-Math.min(a,l)))),(a>l||y.autoRotation&&(m.styles||{}).width)&&(P=l)),P&&(this.shortenLabel?this.shortenLabel():(h.width=Math.floor(P)+"px",(C.style||{}).textOverflow||(h.textOverflow="ellipsis"),m.css(h)))},_.prototype.moveLabel=function(T,y){var C=this,M=C.label,D=C.axis,x=D.reversed,f=!1;if(M&&M.textStr===T?(C.movedLabel=M,f=!0,delete C.label):d(D.ticks,function(r){f||r.isNew||r===C||!r.label||r.label.textStr!==T||(C.movedLabel=r.label,f=!0,r.labelPos=C.movedLabel.xy,delete r.label)}),!f&&(C.labelPos||M)){var m=C.labelPos||M.xy;C.movedLabel=C.createLabel({x:M=D.horiz?x?0:D.width+D.left:m.x,y:D=D.horiz?m.y:x?D.width+D.left:0},T,y),C.movedLabel&&C.movedLabel.attr({opacity:0})}},_.prototype.render=function(T,y,C){var M=this.axis,D=M.horiz,x=this.pos,f=v(this.tickmarkOffset,M.tickmarkOffset);f=(x=this.getPosition(D,x,f,y)).x,M=D&&f===M.pos+M.len||!D&&x.y===M.pos?-1:1,D=v(C,this.label&&this.label.newOpacity,1),C=v(C,1),this.isActive=!0,this.renderGridLine(y,C,M),this.renderMark(x,C,M),this.renderLabel(x,y,D,T),this.isNew=!1,O(this,"afterRender")},_.prototype.renderGridLine=function(T,y,C){var M=this.axis,D=M.options,x={},f=this.pos,m=this.type,r=v(this.tickmarkOffset,M.tickmarkOffset),p=M.chart.renderer,a=this.gridLine,n=D.gridLineWidth,h=D.gridLineColor,l=D.gridLineDashStyle;"minor"===this.type&&(n=D.minorGridLineWidth,h=D.minorGridLineColor,l=D.minorGridLineDashStyle),a||(M.chart.styledMode||(x.stroke=h,x["stroke-width"]=n||0,x.dashstyle=l),m||(x.zIndex=1),T&&(y=0),this.gridLine=a=p.path().attr(x).addClass("highcharts-"+(m?m+"-":"")+"grid-line").add(M.gridGroup)),a&&(C=M.getPlotLinePath({value:f+r,lineWidth:a.strokeWidth()*C,force:"pass",old:T}))&&a[T||this.isNew?"attr":"animate"]({d:C,opacity:y})},_.prototype.renderMark=function(T,y,C){var M=this.axis,D=M.options,x=M.chart.renderer,f=this.type,m=M.tickSize(f?f+"Tick":"tick"),r=T.x;T=T.y;var p=v(D["minor"!==f?"tickWidth":"minorTickWidth"],!f&&M.isXAxis?1:0);D=D["minor"!==f?"tickColor":"minorTickColor"];var a=this.mark,n=!a;m&&(M.opposite&&(m[0]=-m[0]),a||(this.mark=a=x.path().addClass("highcharts-"+(f?f+"-":"")+"tick").add(M.axisGroup),M.chart.styledMode||a.attr({stroke:D,"stroke-width":p})),a[n?"attr":"animate"]({d:this.getMarkPath(r,T,m[0],a.strokeWidth()*C,M.horiz,x),opacity:y}))},_.prototype.renderLabel=function(T,y,C,M){var D=this.axis,x=D.horiz,f=D.options,m=this.label,r=f.labels,p=r.step;D=v(this.tickmarkOffset,D.tickmarkOffset);var a=T.x;T=T.y;var n=!0;m&&k(a)&&(m.xy=T=this.getLabelPosition(a,T,m,x,r,D,M,p),this.isFirst&&!this.isLast&&!f.showFirstLabel||this.isLast&&!this.isFirst&&!f.showLastLabel?n=!1:!x||r.step||r.rotation||y||0===C||this.handleOverflow(T),p&&M%p&&(n=!1),n&&k(T.y)?(T.opacity=C,m[this.isNewLabel?"attr":"animate"](T),this.isNewLabel=!1):(m.attr("y",-9999),this.isNewLabel=!0))},_.prototype.replaceMovedLabel=function(){var T=this.label,y=this.axis,C=y.reversed;T&&!this.isNew&&(T.animate({x:y.horiz?C?y.left:y.width+y.left:T.xy.x,y:C=y.horiz?T.xy.y:C?y.width+y.top:y.top,opacity:0},void 0,T.destroy),delete this.label),y.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},_}()}),wt(o,"Core/Axis/Axis.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/AxisDefaults.js"],o["Core/Color/Color.js"],o["Core/DefaultOptions.js"],o["Core/Foundation.js"],o["Core/Globals.js"],o["Core/Axis/Tick.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F){var N=Y.animObject,O=rt.defaultOptions,k=J.registerEventOptions,g=K.deg2rad,d=F.arrayMax,v=F.arrayMin,_=F.clamp,T=F.correctFloat,y=F.defined,C=F.destroyObjectProperties,M=F.erase,D=F.error,x=F.extend,f=F.fireEvent,m=F.getMagnitude,r=F.isArray,p=F.isNumber,a=F.isString,n=F.merge,h=F.normalizeTickInterval,l=F.objectEach,w=F.pick,P=F.relativeLength,I=F.removeEvent,L=F.splat,S=F.syncTimeout;return function(){function B(c,u){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(c,u)}return B.prototype.init=function(c,u){var E=u.isX;this.chart=c,this.horiz=c.inverted&&!this.isZAxis?!E:E,this.isXAxis=E,this.coll=this.coll||(E?"xAxis":"yAxis"),f(this,"init",{userOptions:u}),this.opposite=w(u.opposite,this.opposite),this.side=w(u.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(u);var j=this.options,G=j.labels,W=j.type;this.userOptions=u,this.minPixelPadding=0,this.reversed=w(j.reversed,this.reversed),this.visible=j.visible,this.zoomEnabled=j.zoomEnabled,this.hasNames="category"===W||!0===j.categories,this.categories=j.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=y(j.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=j.minRange||j.maxZoom,this.range=j.range,this.offset=j.offset||0,this.min=this.max=null,u=w(j.crosshair,L(c.options.tooltip.crosshairs)[E?0:1]),this.crosshair=!0===u?{}:u,-1===c.axes.indexOf(this)&&(E?c.axes.splice(c.xAxis.length,0,this):c.axes.push(this),c[this.coll].push(this)),this.series=this.series||[],c.inverted&&!this.isZAxis&&E&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=p(G.rotation)?G.rotation:void 0,k(this,j),f(this,"afterInit")},B.prototype.setOptions=function(c){this.options=n($.defaultXAxisOptions,"yAxis"===this.coll&&$.defaultYAxisOptions,[$.defaultTopAxisOptions,$.defaultRightAxisOptions,$.defaultBottomAxisOptions,$.defaultLeftAxisOptions][this.side],n(O[this.coll],c)),f(this,"afterSetOptions",{userOptions:c})},B.prototype.defaultLabelFormatter=function(c){var u=this.axis;c=this.chart.numberFormatter;var E=p(this.value)?this.value:NaN,j=u.chart.time,G=this.dateTimeLabelFormat,W=O.lang,b=W.numericSymbols;W=W.numericSymbolMagnitude||1e3;var z=u.logarithmic?Math.abs(E):u.tickInterval,R=b&&b.length;if(u.categories)var V=""+this.value;else if(G)V=j.dateFormat(G,E);else if(R&&1e3<=z)for(;R--&&void 0===V;)z>=(u=Math.pow(W,R+1))&&10*E%u==0&&null!==b[R]&&0!==E&&(V=c(E/u,-1)+b[R]);return void 0===V&&(V=1e4<=Math.abs(E)?c(E,-1):c(E,-1,void 0,"")),V},B.prototype.getSeriesExtremes=function(){var E,c=this,u=c.chart;f(this,"getSeriesExtremes",null,function(){c.hasVisibleSeries=!1,c.dataMin=c.dataMax=c.threshold=null,c.softThreshold=!c.isXAxis,c.stacking&&c.stacking.buildStacks(),c.series.forEach(function(j){if(j.visible||!u.options.chart.ignoreHiddenSeries){var G=j.options,W=G.threshold;if(c.hasVisibleSeries=!0,c.positiveValuesOnly&&0>=W&&(W=null),c.isXAxis){if((G=j.xData).length){G=c.logarithmic?G.filter(c.validatePositiveValue):G;var b=(E=j.getXExtremes(G)).min,z=E.max;p(b)||b instanceof Date||(G=G.filter(p),b=(E=j.getXExtremes(G)).min,z=E.max),G.length&&(c.dataMin=Math.min(w(c.dataMin,b),b),c.dataMax=Math.max(w(c.dataMax,z),z))}}else j=j.applyExtremes(),p(j.dataMin)&&(b=j.dataMin,c.dataMin=Math.min(w(c.dataMin,b),b)),p(j.dataMax)&&(z=j.dataMax,c.dataMax=Math.max(w(c.dataMax,z),z)),y(W)&&(c.threshold=W),(!G.softThreshold||c.positiveValuesOnly)&&(c.softThreshold=!1)}})}),f(this,"afterGetSeriesExtremes")},B.prototype.translate=function(c,u,E,j,G,W){var b=this.linkedParent||this,z=j&&b.old?b.old.min:b.min,R=b.minPixelPadding;G=(b.isOrdinal||b.brokenAxis&&b.brokenAxis.hasBreaks||b.logarithmic&&G)&&b.lin2val;var V=1,Z=0;return(j=j&&b.old?b.old.transA:b.transA)||(j=b.transA),E&&(V*=-1,Z=b.len),b.reversed&&(Z-=(V*=-1)*(b.sector||b.len)),u?(c=(c*V+Z-R)/j+z,G&&(c=b.lin2val(c))):(G&&(c=b.val2lin(c)),c=p(z)?V*(c-z)*j+Z+V*R+(p(W)?j*W:0):void 0),c},B.prototype.toPixels=function(c,u){return this.translate(c,!1,!this.horiz,null,!0)+(u?0:this.pos)},B.prototype.toValue=function(c,u){return this.translate(c-(u?0:this.pos),!0,!this.horiz,null,!0)},B.prototype.getPlotLinePath=function(c){function u(ct,H,tt){return("pass"!==ot&&ct<H||ct>tt)&&(ot?ct=_(ct,H,tt):ut=!0),ct}var at,mt,_t,yt,ut,E=this,j=E.chart,G=E.left,W=E.top,b=c.old,z=c.value,R=c.lineWidth,V=b&&j.oldChartHeight||j.chartHeight,Z=b&&j.oldChartWidth||j.chartWidth,nt=E.transB,it=c.translatedValue,ot=c.force;return f(this,"getPlotLinePath",c={value:z,lineWidth:R,old:b,force:ot,acrossPanes:c.acrossPanes,translatedValue:it},function(ct){it=w(it,E.translate(z,null,null,b)),it=_(it,-1e5,1e5),at=_t=Math.round(it+nt),mt=yt=Math.round(V-it-nt),p(it)?E.horiz?(mt=W,yt=V-E.bottom,at=_t=u(at,G,G+E.width)):(at=G,_t=Z-E.right,mt=yt=u(mt,W,W+E.height)):(ut=!0,ot=!1),ct.path=ut&&!ot?null:j.renderer.crispLine([["M",at,mt],["L",_t,yt]],R||1)}),c.path},B.prototype.getLinearTickPositions=function(c,u,E){var j=T(Math.floor(u/c)*c);E=T(Math.ceil(E/c)*c);var W,G=[];if(T(j+c)===j&&(W=20),this.single)return[u];for(u=j;u<=E&&(G.push(u),(u=T(u+c,W))!==b);)var b=u;return G},B.prototype.getMinorTickInterval=function(){var c=this.options;return!0===c.minorTicks?w(c.minorTickInterval,"auto"):!1===c.minorTicks?null:c.minorTickInterval},B.prototype.getMinorTickPositions=function(){var c=this.options,u=this.tickPositions,E=this.minorTickInterval,j=this.pointRangePadding||0,G=this.min-j,W=(j=this.max+j)-G,b=[];if(W&&W/E<this.len/3){var z=this.logarithmic;if(z)this.paddedTicks.forEach(function(R,V,Z){V&&b.push.apply(b,z.getLogTickPositions(E,Z[V-1],Z[V],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())b=b.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(E),G,j,c.startOfWeek));else for(c=G+(u[0]-G)%E;c<=j&&c!==b[0];c+=E)b.push(c)}return 0!==b.length&&this.trimTicks(b),b},B.prototype.adjustForMinRange=function(){var W,b,z,R,c=this.options,u=this.logarithmic,E=this.min,j=this.max,G=0;if(this.isXAxis&&void 0===this.minRange&&!u&&(y(c.min)||y(c.max)||y(c.floor)||y(c.ceiling)?this.minRange=null:(this.series.forEach(function(it){if(z=it.xData,R=it.xIncrement?1:z.length-1,1<z.length)for(W=R;0<W;W--)b=z[W]-z[W-1],(!G||b<G)&&(G=b)}),this.minRange=Math.min(5*G,this.dataMax-this.dataMin))),j-E<this.minRange){var V=this.dataMax-this.dataMin>=this.minRange,Z=this.minRange,nt=(Z-j+E)/2;nt=[E-nt,w(c.min,E-nt)],V&&(nt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),j=[(E=d(nt))+Z,w(c.max,E+Z)],V&&(j[2]=u?u.log2lin(this.dataMax):this.dataMax),(j=v(j))-E<Z&&(nt[0]=j-Z,nt[1]=w(c.min,j-Z),E=d(nt))}this.min=E,this.max=j},B.prototype.getClosest=function(){var c;return this.categories?c=1:this.series.forEach(function(u){var E=u.closestPointRange,j=u.visible||!u.chart.options.chart.ignoreHiddenSeries;!u.noSharedTooltip&&y(E)&&j&&(c=y(c)?Math.min(c,E):E)}),c},B.prototype.nameToX=function(c){var u=r(this.categories),E=u?this.categories:this.names,j=c.options.x;if(c.series.requireSorting=!1,y(j)||(j=this.options.uniqueNames?u?E.indexOf(c.name):w(E.keys[c.name],-1):c.series.autoIncrement()),-1===j){if(!u)var G=E.length}else G=j;return void 0!==G&&(this.names[G]=c.name,this.names.keys[c.name]=G),G},B.prototype.updateNames=function(){var c=this,u=this.names;0<u.length&&(Object.keys(u.keys).forEach(function(E){delete u.keys[E]}),u.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(E){E.xIncrement=null,(!E.points||E.isDirtyData)&&(c.max=Math.max(c.max,E.xData.length-1),E.processData(),E.generatePoints()),E.data.forEach(function(j,G){if(j&&j.options&&void 0!==j.name){var W=c.nameToX(j);void 0!==W&&W!==j.x&&(j.x=W,E.xData[G]=W)}})}))},B.prototype.setAxisTranslation=function(){var R,c=this,u=c.max-c.min,E=c.linkedParent,j=!!c.categories,G=c.isXAxis,W=c.axisPointRange||0,b=0,z=0;if(G||j||W){var V=c.getClosest();E?(b=E.minPointOffset,z=E.pointRangePadding):c.series.forEach(function(Z){var nt=j?1:G?w(Z.options.pointRange,V,0):c.axisPointRange||0,it=Z.options.pointPlacement;W=Math.max(W,nt),(!c.single||j)&&(Z=Z.is("xrange")?!G:G,b=Math.max(b,Z&&a(it)?0:nt/2),z=Math.max(z,Z&&"on"===it?0:nt))}),c.minPointOffset=b*=E=c.ordinal&&c.ordinal.slope&&V?c.ordinal.slope/V:1,c.pointRangePadding=z*=E,c.pointRange=Math.min(W,c.single&&j?1:u),G&&(c.closestPointRange=V)}c.translationSlope=c.transA=R=c.staticScale||c.len/(u+z||1),c.transB=c.horiz?c.left:c.bottom,c.minPixelPadding=R*b,f(this,"afterSetAxisTranslation")},B.prototype.minFromRange=function(){return this.max-this.range},B.prototype.setTickInterval=function(c){var u=this.chart,E=this.logarithmic,j=this.options,G=this.isXAxis,W=this.isLinked,b=j.tickPixelInterval,z=this.categories,R=this.softThreshold,V=j.maxPadding,Z=j.minPadding,nt=p(j.tickInterval)&&0<=j.tickInterval?j.tickInterval:void 0,it=p(this.threshold)?this.threshold:null;this.dateTime||z||W||this.getTickAmount();var ot=w(this.userMin,j.min),at=w(this.userMax,j.max);if(W){this.linkedParent=u[this.coll][j.linkedTo];var mt=this.linkedParent.getExtremes();this.min=w(mt.min,mt.dataMin),this.max=w(mt.max,mt.dataMax),j.type!==this.linkedParent.options.type&&D(11,1,u)}else{if(R&&y(it))if(this.dataMin>=it)mt=it,Z=0;else if(this.dataMax<=it){var _t=it;V=0}this.min=w(ot,mt,this.dataMin),this.max=w(at,_t,this.dataMax)}if(E&&(this.positiveValuesOnly&&!c&&0>=Math.min(this.min,w(this.dataMin,this.min))&&D(10,1,u),this.min=T(E.log2lin(this.min),16),this.max=T(E.log2lin(this.max),16)),this.range&&y(this.max)&&(this.userMin=this.min=ot=Math.max(this.dataMin,this.minFromRange()),this.userMax=at=this.max,this.range=null),f(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(z||this.axisPointRange||this.stacking&&this.stacking.usePercentage||W)&&y(this.min)&&y(this.max)&&(u=this.max-this.min)&&(!y(ot)&&Z&&(this.min-=u*Z),!y(at)&&V&&(this.max+=u*V)),p(this.userMin)||(p(j.softMin)&&j.softMin<this.min&&(this.min=ot=j.softMin),p(j.floor)&&(this.min=Math.max(this.min,j.floor))),p(this.userMax)||(p(j.softMax)&&j.softMax>this.max&&(this.max=at=j.softMax),p(j.ceiling)&&(this.max=Math.min(this.max,j.ceiling))),R&&y(this.dataMin)&&(it=it||0,!y(ot)&&this.min<it&&this.dataMin>=it?this.min=this.options.minRange?Math.min(it,this.max-this.minRange):it:!y(at)&&this.max>it&&this.dataMax<=it&&(this.max=this.options.minRange?Math.max(it,this.min+this.minRange):it)),p(this.min)&&p(this.max)&&!this.chart.polar&&this.min>this.max&&(y(this.options.min)?this.max=this.min:y(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:W&&this.linkedParent&&!nt&&b===this.linkedParent.options.tickPixelInterval?nt=this.linkedParent.tickInterval:w(nt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,z?1:(this.max-this.min)*b/Math.max(this.len,b)),G&&!c){var yt=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(ut){ut.forceCrop=ut.forceCropping&&ut.forceCropping(),ut.processData(yt)}),f(this,"postProcessData",{hasExtemesChanged:yt})}this.setAxisTranslation(),f(this,"initialAxisTranslation"),this.pointRange&&!nt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),c=w(j.minTickInterval,this.dateTime&&!this.series.some(function(ut){return ut.noSharedTooltip})?this.closestPointRange:0),!nt&&this.tickInterval<c&&(this.tickInterval=c),this.dateTime||this.logarithmic||nt||(this.tickInterval=h(this.tickInterval,void 0,m(this.tickInterval),w(j.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},B.prototype.setTickPositions=function(){var c=this.options,u=c.tickPositions,E=this.getMinorTickInterval(),j=this.hasVerticalPanning(),G="colorAxis"===this.coll,W=(G||!j)&&c.startOnTick;j=(G||!j)&&c.endOnTick,G=c.tickPositioner,this.tickmarkOffset=this.categories&&"between"===c.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===E&&this.tickInterval?this.tickInterval/5:E,this.single=this.min===this.max&&y(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==c.allowDecimals),this.tickPositions=E=u&&u.slice(),!E&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?E=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,c.units),this.min,this.max,c.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(E=[this.min,this.max],D(19,!1,this.chart)),E.length>this.len&&(E=[E[0],E.pop()])[0]===E[1]&&(E.length=1),this.tickPositions=E,G&&(G=G.apply(this,[this.min,this.max])))&&(this.tickPositions=E=G),this.paddedTicks=E.slice(0),this.trimTicks(E,W,j),this.isLinked||(this.single&&2>E.length&&!this.categories&&!this.series.some(function(b){return b.is("heatmap")&&"between"===b.options.pointPlacement})&&(this.min-=.5,this.max+=.5),u||G||this.adjustTickAmount()),f(this,"afterSetTickPositions")},B.prototype.trimTicks=function(c,u,E){var j=c[0],G=c[c.length-1],W=!this.isOrdinal&&this.minPointOffset||0;if(f(this,"trimTicks"),!this.isLinked){if(u&&j!==-1/0)this.min=j;else for(;this.min-W>c[0];)c.shift();if(E)this.max=G;else for(;this.max+W<c[c.length-1];)c.pop();0===c.length&&y(j)&&!this.options.tickPositions&&c.push((G+j)/2)}},B.prototype.alignToOthers=function(){var E,c={},u=this.options;return!1!==this.chart.options.chart.alignTicks&&u.alignTicks&&!1!==u.startOnTick&&!1!==u.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach(function(j){var G=j.options;G=[j.horiz?G.left:G.top,G.width,G.height,G.pane].join(),j.series.length&&(c[G]?E=!0:c[G]=1)}),E},B.prototype.getTickAmount=function(){var c=this.options,u=c.tickPixelInterval,E=c.tickAmount;!y(c.tickInterval)&&!E&&this.len<u&&!this.isRadial&&!this.logarithmic&&c.startOnTick&&c.endOnTick&&(E=2),!E&&this.alignToOthers()&&(E=Math.ceil(this.len/u)+1),4>E&&(this.finalTickAmt=E,E=5),this.tickAmount=E},B.prototype.adjustTickAmount=function(){var c=this.options,u=this.tickInterval,E=this.tickPositions,j=this.tickAmount,G=this.finalTickAmt,W=E&&E.length,b=w(this.threshold,this.softThreshold?0:null);if(this.hasData()&&p(this.min)&&p(this.max)){if(W<j){for(;E.length<j;)E.length%2||this.min===b?E.push(T(E[E.length-1]+u)):E.unshift(T(E[0]-u));this.transA*=(W-1)/(j-1),this.min=c.startOnTick?E[0]:Math.min(this.min,E[0]),this.max=c.endOnTick?E[E.length-1]:Math.max(this.max,E[E.length-1])}else W>j&&(this.tickInterval*=2,this.setTickPositions());if(y(G)){for(u=c=E.length;u--;)(3===G&&u%2==1||2>=G&&0<u&&u<c-1)&&E.splice(u,1);this.finalTickAmt=void 0}}},B.prototype.setScale=function(){var c=!1,u=!1;this.series.forEach(function(j){c=c||j.isDirtyData||j.isDirty,u=u||j.xAxis&&j.xAxis.isDirty||!1}),this.setAxisSize();var E=this.len!==(this.old&&this.old.len);E||c||u||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=E||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),c&&this.panningState&&(this.panningState.isDirty=!0),f(this,"afterSetScale")},B.prototype.setExtremes=function(c,u,E,j,G){var W=this,b=W.chart;E=w(E,!0),W.series.forEach(function(z){delete z.kdTree}),G=x(G,{min:c,max:u}),f(W,"setExtremes",G,function(){W.userMin=c,W.userMax=u,W.eventArgs=G,E&&b.redraw(j)})},B.prototype.zoom=function(c,u){var E=this,j=this.dataMin,G=this.dataMax,W=this.options,b=Math.min(j,w(W.min,j)),z=Math.max(G,w(W.max,G));return f(this,"zoom",c={newMin:c,newMax:u},function(R){var V=R.newMin,Z=R.newMax;(V!==E.min||Z!==E.max)&&(E.allowZoomOutside||(y(j)&&(V<b&&(V=b),V>z&&(V=z)),y(G)&&(Z<b&&(Z=b),Z>z&&(Z=z))),E.displayBtn=void 0!==V||void 0!==Z,E.setExtremes(V,Z,!1,void 0,{trigger:"zoom"})),R.zoomed=!0}),c.zoomed},B.prototype.setAxisSize=function(){var c=this.chart,u=this.options,E=u.offsets||[0,0,0,0],j=this.horiz,G=this.width=Math.round(P(w(u.width,c.plotWidth-E[3]+E[1]),c.plotWidth)),W=this.height=Math.round(P(w(u.height,c.plotHeight-E[0]+E[2]),c.plotHeight)),b=this.top=Math.round(P(w(u.top,c.plotTop+E[0]),c.plotHeight,c.plotTop));u=this.left=Math.round(P(w(u.left,c.plotLeft+E[3]),c.plotWidth,c.plotLeft)),this.bottom=c.chartHeight-W-b,this.right=c.chartWidth-G-u,this.len=Math.max(j?G:W,0),this.pos=j?u:b},B.prototype.getExtremes=function(){var c=this.logarithmic;return{min:c?T(c.lin2log(this.min)):this.min,max:c?T(c.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},B.prototype.getThreshold=function(c){var u=this.logarithmic,E=u?u.lin2log(this.min):this.min;return u=u?u.lin2log(this.max):this.max,null===c||c===-1/0?c=E:c===1/0?c=u:E>c?c=E:u<c&&(c=u),this.translate(c,0,1,0,1)},B.prototype.autoLabelAlign=function(c){var u=(w(c,0)-90*this.side+720)%360;return f(this,"autoLabelAlign",c={align:"center"},function(E){15<u&&165>u?E.align="right":195<u&&345>u&&(E.align="left")}),c.align},B.prototype.tickSize=function(c){var u=this.options,E=w(u["tick"===c?"tickWidth":"minorTickWidth"],"tick"===c&&this.isXAxis&&!this.categories?1:0),j=u["tick"===c?"tickLength":"minorTickLength"];if(E&&j){"inside"===u[c+"Position"]&&(j=-j);var G=[j,E]}return f(this,"afterTickSize",c={tickSize:G}),c.tickSize},B.prototype.labelMetrics=function(){var c=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[c]&&this.ticks[c].label)},B.prototype.unsquish=function(){var V,Z,c=this.options.labels,u=this.horiz,E=this.tickInterval,j=this.len/(((this.categories?1:0)+this.max-this.min)/E),G=c.rotation,W=this.labelMetrics(),b=Math.max(this.max-this.min,0),z=function(ot){var at=ot/(j||1);return(at=1<at?Math.ceil(at):1)*E>b&&ot!==1/0&&j!==1/0&&b&&(at=Math.ceil(b/E)),T(at*E)},R=E,nt=Number.MAX_VALUE;if(u){if(!c.staggerLines&&!c.step)if(p(G))var it=[G];else j<c.autoRotationLimit&&(it=c.autoRotation);it&&it.forEach(function(ot){if(ot===G||ot&&-90<=ot&&90>=ot){var at=(Z=z(Math.abs(W.h/Math.sin(g*ot))))+Math.abs(ot/360);at<nt&&(nt=at,V=ot,R=Z)}})}else c.step||(R=z(W.h));return this.autoRotation=it,this.labelRotation=w(V,p(G)?G:0),R},B.prototype.getSlotWidth=function(c){var u=this.chart,E=this.horiz,j=this.options.labels,G=Math.max(this.tickPositions.length-(this.categories?0:1),1),W=u.margin[3];if(c&&p(c.slotWidth))return c.slotWidth;if(E&&2>j.step)return j.rotation?0:(this.staggerLines||1)*this.len/G;if(!E){if(void 0!==(c=j.style.width))return parseInt(String(c),10);if(W)return W-u.spacing[3]}return.33*u.chartWidth},B.prototype.renderUnsquish=function(){var c=this.chart,u=c.renderer,E=this.tickPositions,j=this.ticks,G=this.options.labels,W=G.style,b=this.horiz,z=this.getSlotWidth(),R=Math.max(1,Math.round(z-2*G.padding)),V={},Z=this.labelMetrics(),nt=W.textOverflow,it=0;if(a(G.rotation)||(V.rotation=G.rotation||0),E.forEach(function(_t){(_t=j[_t]).movedLabel&&_t.replaceMovedLabel(),_t&&_t.label&&_t.label.textPxLength>it&&(it=_t.label.textPxLength)}),this.maxLabelLength=it,this.autoRotation)it>R&&it>Z.h?V.rotation=this.labelRotation:this.labelRotation=0;else if(z){var ot=R;if(!nt){var at="clip";for(R=E.length;!b&&R--;){var mt=E[R];(mt=j[mt].label)&&(mt.styles&&"ellipsis"===mt.styles.textOverflow?mt.css({textOverflow:"clip"}):mt.textPxLength>z&&mt.css({width:z+"px"}),mt.getBBox().height>this.len/E.length-(Z.h-Z.f)&&(mt.specificTextOverflow="ellipsis"))}}}V.rotation&&(ot=it>.5*c.chartHeight?.33*c.chartHeight:it,nt||(at="ellipsis")),(this.labelAlign=G.align||this.autoLabelAlign(this.labelRotation))&&(V.align=this.labelAlign),E.forEach(function(_t){var yt=(_t=j[_t])&&_t.label,ut=W.width,ct={};yt&&(yt.attr(V),_t.shortenLabel?_t.shortenLabel():ot&&!ut&&"nowrap"!==W.whiteSpace&&(ot<yt.textPxLength||"SPAN"===yt.element.tagName)?(ct.width=ot+"px",nt||(ct.textOverflow=yt.specificTextOverflow||at),yt.css(ct)):yt.styles&&yt.styles.width&&!ct.width&&!ut&&yt.css({width:null}),delete yt.specificTextOverflow,_t.rotation=V.rotation)},this),this.tickRotCorr=u.rotCorr(Z.b,this.labelRotation||0,0!==this.side)},B.prototype.hasData=function(){return this.series.some(function(c){return c.hasData()})||this.options.showEmpty&&y(this.min)&&y(this.max)},B.prototype.addTitle=function(c){var b,j=this.opposite,G=this.options.title,W=this.chart.styledMode;this.axisTitle||((b=G.textAlign)||(b=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:j?"right":"left",middle:"center",high:j?"left":"right"})[G.align]),this.axisTitle=this.chart.renderer.text(G.text||"",0,0,G.useHTML).attr({zIndex:7,rotation:G.rotation,align:b}).addClass("highcharts-axis-title"),W||this.axisTitle.css(n(G.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),W||G.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[c?"show":"hide"](c)},B.prototype.generateTick=function(c){var u=this.ticks;u[c]?u[c].addLabel():u[c]=new X(this,c)},B.prototype.getOffset=function(){var c=this,u=this,E=u.chart,j=u.horiz,G=u.options,W=u.side,b=u.ticks,z=u.tickPositions,R=u.coll,V=u.axisParent,Z=E.renderer,nt=E.inverted&&!u.isZAxis?[1,0,3,2][W]:W,it=u.hasData(),ot=G.title,at=G.labels,mt=E.axisOffset;E=E.clipOffset;var ut,_t=[-1,1,1,-1][W],yt=G.className,ct=0,H=0,tt=0;if(u.showAxis=ut=it||G.showEmpty,u.staggerLines=u.horiz&&at.staggerLines||void 0,!u.axisGroup){var lt=function(ft,bt,Tt){return Z.g(ft).attr({zIndex:Tt}).addClass("highcharts-"+R.toLowerCase()+bt+" "+(c.isRadial?"highcharts-radial-axis"+bt+" ":"")+(yt||"")).add(V)};u.gridGroup=lt("grid","-grid",G.gridZIndex),u.axisGroup=lt("axis","",G.zIndex),u.labelGroup=lt("axis-labels","-labels",at.zIndex)}if(it||u.isLinked?(z.forEach(function(ft){u.generateTick(ft)}),u.renderUnsquish(),u.reserveSpaceDefault=0===W||2===W||{1:"left",3:"right"}[W]===u.labelAlign,w(at.reserveSpace,"center"===u.labelAlign||null,u.reserveSpaceDefault)&&z.forEach(function(ft){tt=Math.max(b[ft].getLabelSize(),tt)}),u.staggerLines&&(tt*=u.staggerLines),u.labelOffset=tt*(u.opposite?-1:1)):l(b,function(ft,bt){ft.destroy(),delete b[bt]}),ot&&ot.text&&!1!==ot.enabled&&(u.addTitle(ut),ut&&!1!==ot.reserveSpace)){u.titleOffset=ct=u.axisTitle.getBBox()[j?"height":"width"];var dt=ot.offset;H=y(dt)?0:w(ot.margin,j?5:10)}u.renderLine(),u.offset=_t*w(G.offset,mt[W]?mt[W]+(G.margin||0):0),u.tickRotCorr=u.tickRotCorr||{x:0,y:0},ot=0===W?-u.labelMetrics().h:2===W?u.tickRotCorr.y:0,it=Math.abs(tt)+H,tt&&(it=it-ot+_t*(j?w(at.y,u.tickRotCorr.y+8*_t):at.x)),u.axisTitleMargin=w(dt,it),u.getMaxLabelDimensions&&(u.maxLabelDimensions=u.getMaxLabelDimensions(b,z)),"colorAxis"!==R&&(j=this.tickSize("tick"),mt[W]=Math.max(mt[W],(u.axisTitleMargin||0)+ct+_t*u.offset,it,z&&z.length&&j?j[0]+_t*u.offset:0),G=!u.axisLine||G.offset?0:2*Math.floor(u.axisLine.strokeWidth()/2),E[nt]=Math.max(E[nt],G)),f(this,"afterGetOffset")},B.prototype.getLinePath=function(c){var u=this.chart,E=this.opposite,j=this.offset,G=this.horiz,W=this.left+(E?this.width:0)+j;return j=u.chartHeight-this.bottom-(E?this.height:0)+j,E&&(c*=-1),u.renderer.crispLine([["M",G?this.left:W,G?j:this.top],["L",G?u.chartWidth-this.right:W,G?j:u.chartHeight-this.bottom]],c)},B.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},B.prototype.getTitlePosition=function(){var c=this.horiz,u=this.left,E=this.top,j=this.len,G=this.options.title,W=c?u:E,b=this.opposite,z=this.offset,R=G.x,V=G.y,Z=this.axisTitle,nt=this.chart.renderer.fontMetrics(G.style.fontSize,Z);return Z=Math.max(Z.getBBox(null,0).height-nt.h-1,0),j={low:W+(c?0:j),middle:W+j/2,high:W+(c?j:0)}[G.align],u=(c?E+this.height:u)+(c?1:-1)*(b?-1:1)*this.axisTitleMargin+[-Z,Z,nt.f,-Z][this.side],f(this,"afterGetTitlePosition",{titlePosition:c={x:c?j+R:u+(b?this.width:0)+z+R,y:c?u+V-(b?this.height:0)+z:j+V}}),c},B.prototype.renderMinorTick=function(c,u){var E=this.minorTicks;E[c]||(E[c]=new X(this,c,"minor")),u&&E[c].isNew&&E[c].render(null,!0),E[c].render(null,!1,1)},B.prototype.renderTick=function(c,u,E){var j=this.ticks;(!this.isLinked||c>=this.min&&c<=this.max||this.grid&&this.grid.isColumn)&&(j[c]||(j[c]=new X(this,c)),E&&j[c].isNew&&j[c].render(u,!0,-1),j[c].render(u))},B.prototype.render=function(){var _t,yt,c=this,u=c.chart,E=c.logarithmic,j=c.options,G=c.isLinked,W=c.tickPositions,b=c.axisTitle,z=c.ticks,R=c.minorTicks,V=c.alternateBands,Z=j.stackLabels,nt=j.alternateGridColor,it=c.tickmarkOffset,ot=c.axisLine,at=c.showAxis,mt=N(u.renderer.globalAnimation);if(c.labelEdge.length=0,c.overlap=!1,[z,R,V].forEach(function(ct){l(ct,function(H){H.isActive=!1})}),c.hasData()||G){var ut=c.chart.hasRendered&&c.old&&p(c.old.min);c.minorTickInterval&&!c.categories&&c.getMinorTickPositions().forEach(function(ct){c.renderMinorTick(ct,ut)}),W.length&&(W.forEach(function(ct,H){c.renderTick(ct,H,ut)}),it&&(0===c.min||c.single)&&(z[-1]||(z[-1]=new X(c,-1,null,!0)),z[-1].render(-1))),nt&&W.forEach(function(ct,H){yt=void 0!==W[H+1]?W[H+1]+it:c.max-it,H%2==0&&ct<c.max&&yt<=c.max+(u.polar?-it:it)&&(V[ct]||(V[ct]=new K.PlotLineOrBand(c)),_t=ct+it,V[ct].options={from:E?E.lin2log(_t):_t,to:E?E.lin2log(yt):yt,color:nt,className:"highcharts-alternate-grid"},V[ct].render(),V[ct].isActive=!0)}),c._addedPlotLB||(c._addedPlotLB=!0,(j.plotLines||[]).concat(j.plotBands||[]).forEach(function(ct){c.addPlotBandOrLine(ct)}))}[z,R,V].forEach(function(ct){var H=[],tt=mt.duration;l(ct,function(lt,dt){lt.isActive||(lt.render(dt,!1,0),lt.isActive=!1,H.push(dt))}),S(function(){for(var lt=H.length;lt--;)ct[H[lt]]&&!ct[H[lt]].isActive&&(ct[H[lt]].destroy(),delete ct[H[lt]])},ct!==V&&u.hasRendered&&tt?tt:0)}),ot&&(ot[ot.isPlaced?"animate":"attr"]({d:this.getLinePath(ot.strokeWidth())}),ot.isPlaced=!0,ot[at?"show":"hide"](at)),b&&at&&(j=c.getTitlePosition(),p(j.y)?(b[b.isNew?"attr":"animate"](j),b.isNew=!1):(b.attr("y",-9999),b.isNew=!0)),Z&&Z.enabled&&c.stacking&&c.stacking.renderStackTotals(),c.old={len:c.len,max:c.max,min:c.min,transA:c.transA,userMax:c.userMax,userMin:c.userMin},c.isDirty=!1,f(this,"afterRender")},B.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(c){c.render()})),this.series.forEach(function(c){c.isDirty=!0})},B.prototype.getKeepProps=function(){return this.keepProps||B.keepProps},B.prototype.destroy=function(c){var u=this,E=u.plotLinesAndBands,j=this.eventOptions;if(f(this,"destroy",{keepEvents:c}),c||I(u),[u.ticks,u.minorTicks,u.alternateBands].forEach(function(W){C(W)}),E)for(c=E.length;c--;)E[c].destroy();for(var G in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(W){u[W]&&(u[W]=u[W].destroy())}),u.plotLinesAndBandsGroups)u.plotLinesAndBandsGroups[G]=u.plotLinesAndBandsGroups[G].destroy();l(u,function(W,b){-1===u.getKeepProps().indexOf(b)&&delete u[b]}),this.eventOptions=j},B.prototype.drawCrosshair=function(c,u){var W,E=this.crosshair,j=w(E&&E.snap,!0),G=this.chart,b=this.cross;if(f(this,"drawCrosshair",{e:c,point:u}),c||(c=this.cross&&this.cross.e),E&&!1!==(y(u)||!j)){if(j?y(u)&&(W=w("colorAxis"!==this.coll?u.crosshairPos:null,this.isXAxis?u.plotX:this.len-u.plotY)):W=c&&(this.horiz?c.chartX-this.pos:this.len-c.chartY+this.pos),y(W)){var z={value:u&&(this.isXAxis?u.x:w(u.stackY,u.y)),translatedValue:W};G.polar&&x(z,{isCrosshair:!0,chartX:c&&c.chartX,chartY:c&&c.chartY,point:u}),z=this.getPlotLinePath(z)||null}if(!y(z))return void this.hideCrosshair();j=this.categories&&!this.isRadial,b||(this.cross=b=G.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(j?"category ":"thin ")+(E.className||"")).attr({zIndex:w(E.zIndex,2)}).add(),G.styledMode||(b.attr({stroke:E.color||(j?q.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":w(E.width,1)}).css({"pointer-events":"none"}),E.dashStyle&&b.attr({dashstyle:E.dashStyle}))),b.show().attr({d:z}),j&&!E.width&&b.attr({"stroke-width":this.transA}),this.cross.e=c}else this.hideCrosshair();f(this,"afterDrawCrosshair",{e:c,point:u})},B.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),f(this,"afterHideCrosshair")},B.prototype.hasVerticalPanning=function(){var c=this.chart.options.chart.panning;return!!(c&&c.enabled&&/y/.test(c.type))},B.prototype.validatePositiveValue=function(c){return p(c)&&0<c},B.prototype.update=function(c,u){var E=this.chart;c=n(this.userOptions,c),this.destroy(!0),this.init(E,c),E.isDirtyBox=!0,w(u,!0)&&E.redraw()},B.prototype.remove=function(c){for(var u=this.chart,E=this.coll,j=this.series,G=j.length;G--;)j[G]&&j[G].remove(!1);M(u.axes,this),M(u[E],this),u[E].forEach(function(W,b){W.options.index=W.userOptions.index=b}),this.destroy(),u.isDirtyBox=!0,w(c,!0)&&u.redraw()},B.prototype.setTitle=function(c,u){this.update({title:c},u)},B.prototype.setCategories=function(c,u){this.update({categories:c},u)},B.defaultOptions=$.defaultXAxisOptions,B.keepProps="extKey hcEvents names series userMax userMin".split(" "),B}()}),wt(o,"Core/Axis/DateTimeAxis.js",[o["Core/Utilities.js"]],function(Y){var K,$=Y.addEvent,q=Y.getMagnitude,rt=Y.normalizeTickInterval,J=Y.timeUnits;return function(X){function F(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function N(g){"datetime"!==g.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new k(this))}var O=[];X.compose=function(g){return-1===O.indexOf(g)&&(O.push(g),g.keepProps.push("dateTime"),g.prototype.getTimeTicks=F,$(g,"init",N)),g};var k=function(){function g(d){this.axis=d}return g.prototype.normalizeTimeTickInterval=function(d,v){var C,_=v||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],T=J[(v=_[_.length-1])[0]],y=v[1];for(C=0;C<_.length&&(T=J[(v=_[C])[0]],y=v[1],!(_[C+1]&&d<=(T*y[y.length-1]+J[_[C+1][0]])/2));C++);return T===J.year&&d<5*T&&(y=[1,2,5]),{unitRange:T,count:d=rt(d/T,y,"year"===v[0]?Math.max(q(d/T),1):1),unitName:v[0]}},g.prototype.getXDateFormat=function(d,v){var _=this.axis;return _.closestPointRange?_.chart.time.getDateFormat(_.closestPointRange,d,_.options.startOfWeek,v)||v.year:v.day},g}();X.Additions=k}(K||(K={})),K}),wt(o,"Core/Axis/LogarithmicAxis.js",[o["Core/Utilities.js"]],function(Y){var K,$=Y.addEvent,q=Y.getMagnitude,rt=Y.normalizeTickInterval,J=Y.pick;return function(X){function F(g){var d=this.logarithmic;"logarithmic"!==g.userOptions.type?this.logarithmic=void 0:d||(this.logarithmic=new k(this))}function N(){var g=this.logarithmic;g&&(this.lin2val=function(d){return g.lin2log(d)},this.val2lin=function(d){return g.log2lin(d)})}var O=[];X.compose=function(g){return-1===O.indexOf(g)&&(O.push(g),g.keepProps.push("logarithmic"),$(g,"init",F),$(g,"afterInit",N)),g};var k=function(){function g(d){this.axis=d}return g.prototype.getLogTickPositions=function(d,v,_,T){var y=this.axis,C=y.len,M=y.options,D=[];if(T||(this.minorAutoInterval=void 0),.5<=d)d=Math.round(d),D=y.getLinearTickPositions(d,v,_);else if(.08<=d){var f,x=Math.floor(v),m=M=void 0;for(C=.3<d?[1,2,4]:.15<d?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];x<_+1&&!m;x++){var r=C.length;for(f=0;f<r&&!m;f++){var p=this.log2lin(this.lin2log(x)*C[f]);p>v&&(!T||M<=_)&&void 0!==M&&D.push(M),M>_&&(m=!0),M=p}}}else v=this.lin2log(v),_=this.lin2log(_),d=T?y.getMinorTickInterval():M.tickInterval,d=J("auto"===d?null:d,this.minorAutoInterval,M.tickPixelInterval/(T?5:1)*(_-v)/((T?C/y.tickPositions.length:C)||1)),d=rt(d,void 0,q(d)),D=y.getLinearTickPositions(d,v,_).map(this.log2lin),T||(this.minorAutoInterval=d/5);return T||(y.tickInterval=d),D},g.prototype.lin2log=function(d){return Math.pow(10,d)},g.prototype.log2lin=function(d){return Math.log(d)/Math.LN10},g}();X.Additions=k}(K||(K={})),K}),wt(o,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[o["Core/Utilities.js"]],function(Y){var J,$=Y.erase,q=Y.extend,rt=Y.isNumber;return function(K){var F,X=[];K.compose=function(O,k){return F||(F=O),-1===X.indexOf(k)&&(X.push(k),q(k.prototype,N.prototype)),k};var N=function(){function O(){}return O.prototype.getPlotBandPath=function(k,g,d){void 0===d&&(d=this.options);var v=this.getPlotLinePath({value:g,force:!0,acrossPanes:d.acrossPanes}),_=[],T=this.horiz;if(g=!rt(this.min)||!rt(this.max)||k<this.min&&g<this.min||k>this.max&&g>this.max,k=this.getPlotLinePath({value:k,force:!0,acrossPanes:d.acrossPanes}),d=1,k&&v){if(g){var y=k.toString()===v.toString();d=0}for(g=0;g<k.length;g+=2){var C=k[g],M=k[g+1],D=v[g],x=v[g+1];"M"!==C[0]&&"L"!==C[0]||"M"!==M[0]&&"L"!==M[0]||"M"!==D[0]&&"L"!==D[0]||"M"!==x[0]&&"L"!==x[0]||(T&&D[1]===C[1]?(D[1]+=d,x[1]+=d):T||D[2]!==C[2]||(D[2]+=d,x[2]+=d),_.push(["M",C[1],C[2]],["L",M[1],M[2]],["L",x[1],x[2]],["L",D[1],D[2]],["Z"])),_.isFlat=y}}return _},O.prototype.addPlotBand=function(k){return this.addPlotBandOrLine(k,"plotBands")},O.prototype.addPlotLine=function(k){return this.addPlotBandOrLine(k,"plotLines")},O.prototype.addPlotBandOrLine=function(k,g){var d=this,v=this.userOptions,_=new F(this,k);if(this.visible&&(_=_.render()),_){if(this._addedPlotLB||(this._addedPlotLB=!0,(v.plotLines||[]).concat(v.plotBands||[]).forEach(function(y){d.addPlotBandOrLine(y)})),g){var T=v[g]||[];T.push(k),v[g]=T}this.plotLinesAndBands.push(_)}return _},O.prototype.removePlotBandOrLine=function(k){var g=this.plotLinesAndBands,d=this.options,v=this.userOptions;if(g){for(var _=g.length;_--;)g[_].id===k&&g[_].destroy();[d.plotLines||[],v.plotLines||[],d.plotBands||[],v.plotBands||[]].forEach(function(T){for(_=T.length;_--;)(T[_]||{}).id===k&&$(T,T[_])})}},O.prototype.removePlotBand=function(k){this.removePlotBandOrLine(k)},O.prototype.removePlotLine=function(k){this.removePlotBandOrLine(k)},O}()}(J||(J={})),J}),wt(o,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[o["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],o["Core/Utilities.js"]],function(Y,$){var q=$.arrayMax,rt=$.arrayMin,J=$.defined,K=$.destroyObjectProperties,X=$.erase,F=$.fireEvent,N=$.merge,O=$.objectEach,k=$.pick;return function(){function g(d,v){this.axis=d,v&&(this.options=v,this.id=v.id)}return g.compose=function(d){return Y.compose(g,d)},g.prototype.render=function(){F(this,"render");var d=this,v=d.axis,_=v.horiz,T=v.logarithmic,y=d.options,C=y.color,M=k(y.zIndex,0),D=y.events,x={},f=v.chart.renderer,m=y.label,r=d.label,p=y.to,a=y.from,n=y.value,h=d.svgElem,l=[],w=J(a)&&J(p);l=J(n);var P=!h,I={class:"highcharts-plot-"+(w?"band ":"line ")+(y.className||"")},L=w?"bands":"lines";if(T&&(a=T.log2lin(a),p=T.log2lin(p),n=T.log2lin(n)),v.chart.styledMode||(l?(I.stroke=C||"#999999",I["stroke-width"]=k(y.width,1),y.dashStyle&&(I.dashstyle=y.dashStyle)):w&&(I.fill=C||"#e6ebf5",y.borderWidth&&(I.stroke=y.borderColor,I["stroke-width"]=y.borderWidth))),x.zIndex=M,(T=v.plotLinesAndBandsGroups[L+="-"+M])||(v.plotLinesAndBandsGroups[L]=T=f.g("plot-"+L).attr(x).add()),P&&(d.svgElem=h=f.path().attr(I).add(T)),l)l=v.getPlotLinePath({value:n,lineWidth:h.strokeWidth(),acrossPanes:y.acrossPanes});else{if(!w)return;l=v.getPlotBandPath(a,p,y)}return!d.eventsAdded&&D&&(O(D,function(S,B){h.on(B,function(c){D[B].apply(d,[c])})}),d.eventsAdded=!0),(P||!h.d)&&l&&l.length?h.attr({d:l}):h&&(l?(h.show(!0),h.animate({d:l})):h.d&&(h.hide(),r&&(d.label=r=r.destroy()))),m&&(J(m.text)||J(m.formatter))&&l&&l.length&&0<v.width&&0<v.height&&!l.isFlat?(m=N({align:_&&w&&"center",x:_?!w&&4:10,verticalAlign:!_&&w&&"middle",y:_?w?16:10:w?6:-4,rotation:_&&!w&&90},m),this.renderLabel(m,l,w,M)):r&&r.hide(),d},g.prototype.renderLabel=function(d,v,_,T){var y=this.axis,C=y.chart.renderer,M=this.label;M||(this.label=M=C.text(this.getLabelText(d),0,0,d.useHTML).attr({align:d.textAlign||d.align,rotation:d.rotation,class:"highcharts-plot-"+(_?"band":"line")+"-label "+(d.className||""),zIndex:T}).add(),y.chart.styledMode||M.css(N({textOverflow:"ellipsis"},d.style))),T=v.xBounds||[v[0][1],v[1][1],_?v[2][1]:v[0][1]],v=v.yBounds||[v[0][2],v[1][2],_?v[2][2]:v[0][2]],_=rt(T),C=rt(v),M.align(d,!1,{x:_,y:C,width:q(T)-_,height:q(v)-C}),M.alignValue&&"left"!==M.alignValue||M.css({width:(90===M.rotation?y.height-(M.alignAttr.y-y.top):y.width-(M.alignAttr.x-y.left))+"px"}),M.show(!0)},g.prototype.getLabelText=function(d){return J(d.formatter)?d.formatter.call(this):d.text},g.prototype.destroy=function(){X(this.axis.plotLinesAndBands,this),delete this.axis,K(this)},g}()}),wt(o,"Core/Tooltip.js",[o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var K=Y.format,X=$.doc,F=q.distribute,N=J.addEvent,O=J.clamp,k=J.css,g=J.defined,d=J.discardElement,v=J.extend,_=J.fireEvent,T=J.isArray,y=J.isNumber,C=J.isString,M=J.merge,D=J.pick,x=J.splat,f=J.syncTimeout;return function(){function m(r,p){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=r,this.init(r,p)}return m.prototype.applyFilter=function(){var r=this.chart;r.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+r.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},m.prototype.bodyFormatter=function(r){return r.map(function(p){var a=p.series.tooltipOptions;return(a[(p.point.formatPrefix||"point")+"Formatter"]||p.point.tooltipFormatter).call(p.point,a[(p.point.formatPrefix||"point")+"Format"]||"")})},m.prototype.cleanSplit=function(r){this.chart.series.forEach(function(p){var a=p&&p.tt;a&&(!a.isActive||r?p.tt=a.destroy():a.isActive=!1)})},m.prototype.defaultFormatter=function(r){var p=this.points||x(this),a=[r.tooltipFooterHeaderFormatter(p[0])];return(a=a.concat(r.bodyFormatter(p))).push(r.tooltipFooterHeaderFormatter(p[0],!0)),a},m.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),d(this.container)),J.clearTimeout(this.hideTimer),J.clearTimeout(this.tooltipTimeout)},m.prototype.getAnchor=function(r,p){var P,I,a=this.chart,n=a.pointer,h=a.inverted,l=a.plotTop,w=a.plotLeft,L=0,S=0;return r=x(r),this.followPointer&&p?(void 0===p.chartX&&(p=n.normalize(p)),n=[p.chartX-w,p.chartY-l]):r[0].tooltipPos?n=r[0].tooltipPos:(r.forEach(function(B){P=B.series.yAxis,L+=B.plotX||0,S+=B.plotLow?(B.plotLow+(B.plotHigh||0))/2:B.plotY||0,(I=B.series.xAxis)&&P&&(h?(L+=l+a.plotHeight-I.len-I.pos,S+=w+a.plotWidth-P.len-P.pos):(L+=I.pos-w,S+=P.pos-l))}),L/=r.length,S/=r.length,n=[h?a.plotWidth-S:L,h?a.plotHeight-L:S],this.shared&&1<r.length&&p&&(h?n[0]=p.chartX-w:n[1]=p.chartY-l)),n.map(Math.round)},m.prototype.getLabel=function(){var I,r=this,p=this.chart.styledMode,a=this.options,n=this.split&&this.allowShared,h="tooltip"+(g(a.className)?" "+a.className:""),l=a.style.pointerEvents||(!this.followPointer&&a.stickOnContact?"auto":"none"),w=function(){r.inContact=!0},P=function(j){var G=r.chart.hoverSeries;r.inContact=r.shouldStickOnContact()&&r.chart.pointer.inClass(j.relatedTarget,"highcharts-tooltip"),!r.inContact&&G&&G.onMouseOut&&G.onMouseOut()},L=this.chart.renderer;if(r.label){var S=!r.label.hasClass("highcharts-label");(n&&!S||!n&&S)&&r.destroy()}if(!this.label){if(this.outside){S=this.chart.options.chart.style;var B=rt.getRendererType();this.container=I=$.doc.createElement("div"),I.className="highcharts-tooltip-container",k(I,{position:"absolute",top:"1px",pointerEvents:l,zIndex:Math.max(this.options.style.zIndex||0,(S&&S.zIndex||0)+3)}),N(I,"mouseenter",w),N(I,"mouseleave",P),$.doc.body.appendChild(I),this.renderer=L=new B(I,0,0,S,void 0,void 0,L.styledMode)}if(n?this.label=L.g(h):(this.label=L.label("",0,0,a.shape,void 0,void 0,a.useHTML,void 0,h).attr({padding:a.padding,r:a.borderRadius}),p||this.label.attr({fill:a.backgroundColor,"stroke-width":a.borderWidth}).css(a.style).css({pointerEvents:l}).shadow(a.shadow)),p&&a.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),r.outside&&!r.split){var c=this.label,u=c.xSetter,E=c.ySetter;c.xSetter=function(j){u.call(c,r.distance),I.style.left=j+"px"},c.ySetter=function(j){E.call(c,r.distance),I.style.top=j+"px"}}this.label.on("mouseenter",w).on("mouseleave",P).attr({zIndex:8}).add()}return this.label},m.prototype.getPosition=function(r,p,a){var E,n=this.chart,h=this.distance,l={},w=n.inverted&&a.h||0,P=this.outside,I=P?X.documentElement.clientWidth-2*h:n.chartWidth,L=P?Math.max(X.body.scrollHeight,X.documentElement.scrollHeight,X.body.offsetHeight,X.documentElement.offsetHeight,X.documentElement.clientHeight):n.chartHeight,S=n.pointer.getChartPosition(),B=function(R){var V="x"===R;return[R,V?I:L,V?r:p].concat(P?[V?r*S.scaleX:p*S.scaleY,V?S.left-h+(a.plotX+n.plotLeft)*S.scaleX:S.top-h+(a.plotY+n.plotTop)*S.scaleY,0,V?I:L]:[V?r:p,V?a.plotX+n.plotLeft:a.plotY+n.plotTop,V?n.plotLeft:n.plotTop,V?n.plotLeft+n.plotWidth:n.plotTop+n.plotHeight])},c=B("y"),u=B("x");B=!!a.negative,!n.polar&&n.hoverSeries&&n.hoverSeries.yAxis&&n.hoverSeries.yAxis.reversed&&(B=!B);var j=!this.followPointer&&D(a.ttBelow,!n.inverted===B),G=function(R,V,Z,nt,it,ot,at){var mt=P?"y"===R?h*S.scaleY:h*S.scaleX:h,_t=(Z-nt)/2,yt=nt<it-h,ut=it+h+nt<V,ct=it-mt-Z+_t;if(it=it+mt-_t,j&&ut)l[R]=it;else if(!j&&yt)l[R]=ct;else if(yt)l[R]=Math.min(at-nt,0>ct-w?ct:ct-w);else{if(!ut)return!1;l[R]=Math.max(ot,it+w+Z>V?it:it+w)}},W=function(R,V,Z,nt,it){var ot;return it<h||it>V-h?ot=!1:l[R]=it<Z/2?1:it>V-nt/2?V-nt-2:it-Z/2,ot},b=function(R){var V=c;c=u,u=V,E=R},z=function(){!1!==G.apply(0,c)?!1!==W.apply(0,u)||E||(b(!0),z()):E?l.x=l.y=0:(b(!0),z())};return(n.inverted||1<this.len)&&b(),z(),l},m.prototype.hide=function(r){var p=this;J.clearTimeout(this.hideTimer),r=D(r,this.options.hideDelay),this.isHidden||(this.hideTimer=f(function(){p.getLabel().fadeOut(r&&void 0),p.isHidden=!0},r))},m.prototype.init=function(r,p){this.chart=r,this.options=p,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=p.split&&!r.inverted&&!r.polar,this.shared=p.shared||this.split,this.outside=D(p.outside,!(!r.scrollablePixelsX&&!r.scrollablePixelsY))},m.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},m.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},m.prototype.move=function(r,p,a,n){var h=this,l=h.now,w=!1!==h.options.animation&&!h.isHidden&&(1<Math.abs(r-l.x)||1<Math.abs(p-l.y)),P=h.followPointer||1<h.len;v(l,{x:w?(2*l.x+r)/3:r,y:w?(l.y+p)/2:p,anchorX:P?void 0:w?(2*l.anchorX+a)/3:a,anchorY:P?void 0:w?(l.anchorY+n)/2:n}),h.getLabel().attr(l),h.drawTracker(),w&&(J.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){h&&h.move(r,p,a,n)},32))},m.prototype.refresh=function(r,p){var a=this.chart,n=this.options,h=x(r),l=h[0],w=[],P=n.formatter||this.defaultFormatter,I=this.shared,L=a.styledMode,S={};if(n.enabled){J.clearTimeout(this.hideTimer),this.allowShared=!(!T(r)&&r.series&&r.series.noSharedTooltip),this.followPointer=!this.split&&l.series.tooltipOptions.followPointer;var B=(r=this.getAnchor(r,p))[0],c=r[1];if(I&&this.allowShared?(a.pointer.applyInactiveState(h),h.forEach(function(j){j.setState("hover"),w.push(j.getLabelConfig())}),(S={x:l.category,y:l.y}).points=w):S=l.getLabelConfig(),this.len=w.length,P=P.call(S,this),this.distance=D((I=l.series).tooltipOptions.distance,16),!1===P)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(P,h);else{var u=B,E=c;if(p&&a.pointer.isDirectTouch&&(u=p.chartX-a.plotLeft,E=p.chartY-a.plotTop),!a.polar&&!1!==I.options.clip&&!h.some(function(j){return j.series.shouldShowTooltip(u,E)}))return void this.hide();p=this.getLabel(),n.style.width&&!L||p.css({width:this.chart.spacingBox.width+"px"}),p.attr({text:P&&P.join?P.join(""):P}),p.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+D(l.colorIndex,I.colorIndex)),L||p.attr({stroke:n.borderColor||l.color||I.color||"#666666"}),this.updatePosition({plotX:B,plotY:c,negative:l.negative,ttBelow:l.ttBelow,h:r[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}_(this,"refresh")}},m.prototype.renderSplit=function(r,p){function a(ut,ct,H,tt,lt){return void 0===lt&&(lt=!0),H?(ct=nt?0:mt,ut=O(ut-tt/2,R.left,R.right-tt-(n.outside?it:0))):(ct-=ot,ut=O(ut=lt?ut-tt-W:ut+W,lt?ut:R.left,R.right)),{x:ut,y:ct}}var n=this,h=n.chart,l=n.chart,w=l.chartWidth,P=l.chartHeight,I=l.plotHeight,L=l.plotLeft,S=l.plotTop,B=l.pointer,c=l.scrollablePixelsY;c=void 0===c?0:c;var E=l.scrollingContainer,j=(E=void 0===E?{scrollLeft:0,scrollTop:0}:E).scrollLeft;E=E.scrollTop;var G=l.styledMode,W=n.distance,b=n.options,z=n.options.positioner,R=n.outside&&"number"!=typeof l.scrollablePixelsX?X.documentElement.getBoundingClientRect():{left:j,right:j+w,top:E,bottom:E+P},V=n.getLabel(),Z=this.renderer||h.renderer,nt=!(!h.xAxis[0]||!h.xAxis[0].opposite),it=(h=B.getChartPosition()).left;h=h.top;var ot=S+E,at=0,mt=I-c;C(r)&&(r=[!1,r]),r=r.slice(0,p.length+1).reduce(function(ut,ct,H){if(!1!==ct&&""!==ct){var tt=(H=p[H-1]||{isHeader:!0,plotX:p[0].plotX,plotY:I,series:{}}).isHeader,lt=tt?n:H.series;ct=ct.toString();var dt=lt.tt,ft=H.isHeader,bt=H.series,Tt="highcharts-color-"+D(H.colorIndex,bt.colorIndex,"none");if(dt||(dt={padding:b.padding,r:b.borderRadius},G||(dt.fill=b.backgroundColor,dt["stroke-width"]=b.borderWidth),dt=Z.label("",0,0,b[ft?"headerShape":"shape"],void 0,void 0,b.useHTML).addClass((ft?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+Tt).attr(dt).add(V)),dt.isActive=!0,dt.attr({text:ct}),G||dt.css(b.style).shadow(b.shadow).attr({stroke:b.borderColor||H.color||bt.color||"#333333"}),ct=(ft=(lt=lt.tt=dt).getBBox()).width+lt.strokeWidth(),tt&&(mt+=at=ft.height,nt&&(ot-=at)),bt=void 0===(bt=H.plotX)?0:bt,Tt=void 0===(Tt=H.plotY)?0:Tt,dt=H.series,H.isHeader){bt=L+bt;var Lt=S+I/2}else{var jt=dt.xAxis,Rt=dt.yAxis;bt=jt.pos+O(bt,-W,jt.len+W),dt.shouldShowTooltip(0,Rt.pos-S+Tt,{ignoreX:!0})&&(Lt=Rt.pos+Tt)}bt=O(bt,R.left-W,R.right+W),"number"==typeof Lt?(ft=ft.height+1,Tt=z?z.call(n,ct,ft,H):a(bt,Lt,tt,ct),ut.push({align:z?0:void 0,anchorX:bt,anchorY:Lt,boxWidth:ct,point:H,rank:D(Tt.rank,tt?1:0),size:ft,target:Tt.y,tt:lt,x:Tt.x})):lt.isActive=!1}return ut},[]),!z&&r.some(function(ut){var ct=(n.outside?it:0)+ut.anchorX;return ct<R.left&&ct+ut.boxWidth<R.right||ct<it-R.left+ut.boxWidth&&R.right-ct>ct})&&(r=r.map(function(ut){var ct=a(ut.anchorX,ut.anchorY,ut.point.isHeader,ut.boxWidth,!1);return v(ut,{target:ct.y,x:ct.x})})),n.cleanSplit(),F(r,mt);var _t=it,yt=it;r.forEach(function(ut){var ct=ut.x,H=ut.boxWidth;(ut=ut.isHeader)||(n.outside&&it+ct<_t&&(_t=it+ct),!ut&&n.outside&&_t+H>yt&&(yt=it+ct))}),r.forEach(function(ut){var ct=ut.x,H=ut.anchorX,tt=ut.pos,lt=ut.point.isHeader;if(tt={visibility:void 0===tt?"hidden":"inherit",x:ct,y:tt+ot,anchorX:H,anchorY:ut.anchorY},n.outside&&ct<H){var dt=it-_t;0<dt&&(lt||(tt.x=ct+dt,tt.anchorX=H+dt),lt&&(tt.x=(yt-_t)/2,tt.anchorX=H+dt))}ut.tt.attr(tt)}),r=n.container,c=n.renderer,n.outside&&r&&c&&(l=V.getBBox(),c.setSize(l.width+l.x,l.height+l.y,!1),r.style.left=_t+"px",r.style.top=h+"px")},m.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var r=this.chart,p=this.label,a=this.shared?r.hoverPoints:r.hoverPoint;if(p&&a){var n={x:0,y:0,width:0,height:0};a=this.getAnchor(a);var h=p.getBBox();a[0]+=r.plotLeft-p.translateX,a[1]+=r.plotTop-p.translateY,n.x=Math.min(0,a[0]),n.y=Math.min(0,a[1]),n.width=0>a[0]?Math.max(Math.abs(a[0]),h.width-a[0]):Math.max(Math.abs(a[0]),h.width),n.height=0>a[1]?Math.max(Math.abs(a[1]),h.height-Math.abs(a[1])):Math.max(Math.abs(a[1]),h.height),this.tracker?this.tracker.attr(n):(this.tracker=p.renderer.rect(n).addClass("highcharts-tracker").add(p),r.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},m.prototype.styledModeFormat=function(r){return r.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},m.prototype.tooltipFooterHeaderFormatter=function(r,p){var a=r.series,n=a.tooltipOptions,h=a.xAxis,l=h&&h.dateTime,w=n.xDateFormat,P=n[p?"footerFormat":"headerFormat"];return _(this,"headerFormatter",h={isFooter:p,labelConfig:r},function(I){l&&!w&&y(r.key)&&(w=l.getXDateFormat(r.key,n.dateTimeLabelFormats)),l&&w&&(r.point&&r.point.tooltipDateKeys||["key"]).forEach(function(L){P=P.replace("{point."+L+"}","{point."+L+":"+w+"}")}),a.chart.styledMode&&(P=this.styledModeFormat(P)),I.text=K(P,{point:r,series:a},this.chart)}),h.text},m.prototype.update=function(r){this.destroy(),M(!0,this.chart.options.tooltip.userOptions,r),this.init(this.chart,M(!0,this.options,r))},m.prototype.updatePosition=function(r){var p=this.chart,a=this.options,n=p.pointer,h=this.getLabel();n=n.getChartPosition();var l=(a.positioner||this.getPosition).call(this,h.width,h.height,r),w=r.plotX+p.plotLeft;r=r.plotY+p.plotTop,this.outside&&(this.renderer.setSize(h.width+(a=a.borderWidth+2*this.distance),h.height+a,!1),(1!==n.scaleX||1!==n.scaleY)&&(k(this.container,{transform:"scale("+n.scaleX+", "+n.scaleY+")"}),w*=n.scaleX,r*=n.scaleY),w+=n.left-l.x,r+=n.top-l.y),this.move(Math.round(l.x),Math.round(l.y||0),w,r)},m}()}),wt(o,"Core/Series/Point.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Animation/AnimationUtilities.js"],o["Core/DefaultOptions.js"],o["Core/FormatUtilities.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var K=$.animObject,X=q.defaultOptions,F=rt.format,N=J.addEvent,O=J.defined,k=J.erase,g=J.extend,d=J.fireEvent,v=J.getNestedProperty,_=J.isArray,T=J.isFunction,y=J.isNumber,C=J.isObject,M=J.merge,D=J.objectEach,x=J.pick,f=J.syncTimeout,m=J.removeEvent,r=J.uniqueKey;return function(){function p(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return p.prototype.animateBeforeDestroy=function(){var a=this,n={x:a.startXPos,opacity:0},h=a.getGraphicalProps();h.singular.forEach(function(l){a[l]=a[l].animate("dataLabel"===l?{x:a[l].startXPos,y:a[l].startYPos,opacity:0}:n)}),h.plural.forEach(function(l){a[l].forEach(function(w){w.element&&w.animate(g({x:a.startXPos},w.startYPos?{x:w.startXPos,y:w.startYPos}:{}))})})},p.prototype.applyOptions=function(a,n){var h=this.series,l=h.options.pointValKey||h.pointValKey;return a=p.prototype.optionsToObject.call(this,a),g(this,a),this.options=this.options?g(this.options,a):a,a.group&&delete this.group,a.dataLabels&&delete this.dataLabels,l&&(this.y=p.prototype.getNestedProperty.call(this,l)),this.formatPrefix=(this.isNull=x(this.isValid&&!this.isValid(),null===this.x||!y(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===n&&h.xAxis&&h.xAxis.hasNames&&(this.x=h.xAxis.nameToX(this)),void 0===this.x&&h?this.x=void 0===n?h.autoIncrement():n:y(a.x)&&h.options.relativeXValue&&(this.x=h.autoIncrement(a.x)),this},p.prototype.destroy=function(){function a(){for(I in(n.graphic||n.dataLabel||n.dataLabels)&&(m(n),n.destroyElements()),n)n[I]=null}var n=this,h=n.series,l=h.chart;h=h.options.dataSorting;var I,w=l.hoverPoints,P=K(n.series.chart.renderer.globalAnimation);n.legendItem&&l.legend.destroyItem(n),w&&(n.setState(),k(w,n),w.length||(l.hoverPoints=null)),n===l.hoverPoint&&n.onMouseOut(),h&&h.enabled?(this.animateBeforeDestroy(),f(a,P.duration)):a(),l.pointCount--},p.prototype.destroyElements=function(a){var n=this;(a=n.getGraphicalProps(a)).singular.forEach(function(h){n[h]=n[h].destroy()}),a.plural.forEach(function(h){n[h].forEach(function(l){l.element&&l.destroy()}),delete n[h]})},p.prototype.firePointEvent=function(a,n,h){var l=this,w=this.series.options;(w.point.events[a]||l.options&&l.options.events&&l.options.events[a])&&l.importEvents(),"click"===a&&w.allowPointSelect&&(h=function(P){l.select&&l.select(null,P.ctrlKey||P.metaKey||P.shiftKey)}),d(l,a,n,h)},p.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},p.prototype.getGraphicalProps=function(a){var w,n=this,h=[],l={singular:[],plural:[]};for((a=a||{graphic:1,dataLabel:1}).graphic&&h.push("graphic","upperGraphic","shadowGroup"),a.dataLabel&&h.push("dataLabel","dataLabelUpper","connector"),w=h.length;w--;){var P=h[w];n[P]&&l.singular.push(P)}return["dataLabel","connector"].forEach(function(I){var L=I+"s";a[I]&&n[L]&&l.plural.push(L)}),l},p.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},p.prototype.getNestedProperty=function(a){if(a)return 0===a.indexOf("custom.")?v(a,this.options):this[a]},p.prototype.getZone=function(){var a=this.series,n=a.zones;a=a.zoneAxis||"y";var h,l=0;for(h=n[l];this[a]>=h.value;)h=n[++l];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=h&&h.color&&!this.options.color?h.color:this.nonZonedColor,h},p.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},p.prototype.init=function(a,n,h){return this.series=a,this.applyOptions(n,h),this.id=O(this.id)?this.id:r(),this.resolveColor(),a.chart.pointCount++,d(this,"afterInit"),this},p.prototype.optionsToObject=function(a){var n=this.series,h=n.options.keys,l=h||n.pointArrayMap||["y"],w=l.length,P={},I=0,L=0;if(y(a)||null===a)P[l[0]]=a;else if(_(a))for(!h&&a.length>w&&("string"==(n=typeof a[0])?P.name=a[0]:"number"===n&&(P.x=a[0]),I++);L<w;)h&&void 0===a[I]||(0<l[L].indexOf(".")?p.prototype.setNestedProperty(P,a[I],l[L]):P[l[L]]=a[I]),I++,L++;else"object"==typeof a&&(P=a,a.dataLabels&&(n._hasPointLabels=!0),a.marker&&(n._hasPointMarkers=!0));return P},p.prototype.resolveColor=function(){var a=this.series,n=a.chart.styledMode,h=a.chart.options.chart.colorCount;if(delete this.nonZonedColor,a.options.colorByPoint){if(!n){var l=(h=a.options.colors||a.chart.options.colors)[a.colorCounter];h=h.length}n=a.colorCounter,a.colorCounter++,a.colorCounter===h&&(a.colorCounter=0)}else n||(l=a.color),n=a.colorIndex;this.colorIndex=x(this.options.colorIndex,n),this.color=x(this.options.color,l)},p.prototype.setNestedProperty=function(a,n,h){return h.split(".").reduce(function(l,w,P,I){return l[w]=I.length-1===P?n:C(l[w],!0)?l[w]:{},l[w]},a),a},p.prototype.tooltipFormatter=function(a){var n=this.series,h=n.tooltipOptions,l=x(h.valueDecimals,""),w=h.valuePrefix||"",P=h.valueSuffix||"";return n.chart.styledMode&&(a=n.chart.tooltip.styledModeFormat(a)),(n.pointArrayMap||["y"]).forEach(function(I){I="{point."+I,(w||P)&&(a=a.replace(RegExp(I+"}","g"),w+I+"}"+P)),a=a.replace(RegExp(I+"}","g"),I+":,."+l+"f}")}),F(a,{point:this,series:this.series},n.chart)},p.prototype.update=function(a,n,h,l){function w(){P.applyOptions(a);var u=L&&P.hasDummyGraphic;u=null===P.y?!u:u,L&&u&&(P.graphic=L.destroy(),delete P.hasDummyGraphic),C(a,!0)&&(L&&L.element&&a&&a.marker&&void 0!==a.marker.symbol&&(P.graphic=L.destroy()),a&&a.dataLabels&&P.dataLabel&&(P.dataLabel=P.dataLabel.destroy()),P.connector&&(P.connector=P.connector.destroy())),I.updateParallelArrays(P,c=P.index),B.data[c]=C(B.data[c],!0)||C(a,!0)?P.options:x(a,B.data[c]),I.isDirty=I.isDirtyData=!0,!I.fixedBox&&I.hasCartesianSeries&&(S.isDirtyBox=!0),"point"===B.legendType&&(S.isDirtyLegend=!0),n&&S.redraw(h)}var c,P=this,I=P.series,L=P.graphic,S=I.chart,B=I.options;n=x(n,!0),!1===l?w():P.firePointEvent("update",{options:a},w)},p.prototype.remove=function(a,n){this.series.removePoint(this.series.data.indexOf(this),a,n)},p.prototype.select=function(a,n){var h=this,l=h.series,w=l.chart;this.selectedStaging=a=x(a,!h.selected),h.firePointEvent(a?"select":"unselect",{accumulate:n},function(){h.selected=h.options.selected=a,l.options.data[l.data.indexOf(h)]=h.options,h.setState(a&&"select"),n||w.getSelectedPoints().forEach(function(P){var I=P.series;P.selected&&P!==h&&(P.selected=P.options.selected=!1,I.options.data[I.data.indexOf(P)]=P.options,P.setState(w.hoverPoints&&I.options.inactiveOtherPoints?"inactive":""),P.firePointEvent("unselect"))})}),delete this.selectedStaging},p.prototype.onMouseOver=function(a){var n=this.series.chart,h=n.pointer;a=a?h.normalize(a):h.getChartCoordinatesFromPoint(this,n.inverted),h.runPointActions(a,this)},p.prototype.onMouseOut=function(){var a=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(a.hoverPoints||[]).forEach(function(n){n.setState()}),a.hoverPoints=a.hoverPoint=null},p.prototype.importEvents=function(){if(!this.hasImportedEvents){var a=this,n=M(a.series.options.point,a.options).events;a.events=n,D(n,function(h,l){T(h)&&N(a,l,h)}),this.hasImportedEvents=!0}},p.prototype.setState=function(a,n){var j,h=this.series,l=this.state,w=h.options.states[a||"normal"]||{},P=X.plotOptions[h.type].marker&&h.options.marker,L=P&&P.states&&P.states[a||"normal"]||{},B=this.marker||{},c=h.chart,u=P&&h.markerAttribs,E=h.halo,G=h.stateMarkerGraphic;if(!((a=a||"")===this.state&&!n||this.selected&&"select"!==a||!1===w.enabled||a&&(!1===L.enabled||P&&!1===P.enabled&&!1===L.enabled)||a&&B.states&&B.states[a]&&!1===B.states[a].enabled)){if(this.state=a,u&&(j=h.markerAttribs(this,a)),this.graphic&&!this.hasDummyGraphic){if(l&&this.graphic.removeClass("highcharts-point-"+l),a&&this.graphic.addClass("highcharts-point-"+a),!c.styledMode){var W=h.pointAttribs(this,a),b=x(c.options.chart.animation,w.animation);h.options.inactiveOtherPoints&&y(W.opacity)&&((this.dataLabels||[]).forEach(function(z){z&&z.animate({opacity:W.opacity},b)}),this.connector&&this.connector.animate({opacity:W.opacity},b)),this.graphic.animate(W,b)}j&&this.graphic.animate(j,x(c.options.chart.animation,L.animation,P.animation)),G&&G.hide()}else a&&L&&(l=B.symbol||h.symbol,G&&G.currentSymbol!==l&&(G=G.destroy()),j&&(G?G[n?"animate":"attr"]({x:j.x,y:j.y}):l&&(h.stateMarkerGraphic=G=c.renderer.symbol(l,j.x,j.y,j.width,j.height).add(h.markerGroup),G.currentSymbol=l)),!c.styledMode&&G&&"inactive"!==this.state&&G.attr(h.pointAttribs(this,a))),G&&(G[a&&this.isInside?"show":"hide"](),G.element.point=this,G.addClass(this.getClassName(),!0));j=(G=this.graphic||G)&&G.visibility||"inherit",(w=w.halo)&&w.size&&G&&"hidden"!==j&&!this.isCluster?(E||(h.halo=E=c.renderer.path().add(G.parentGroup)),E.show()[n?"animate":"attr"]({d:this.haloPath(w.size)}),E.attr({class:"highcharts-halo highcharts-color-"+x(this.colorIndex,h.colorIndex)+(this.className?" "+this.className:""),visibility:j,zIndex:-1}),E.point=this,c.styledMode||E.attr(g({fill:this.color||h.color,"fill-opacity":w.opacity},Y.filterUserAttributes(w.attributes||{})))):E&&E.point&&E.point.haloPath&&E.animate({d:E.point.haloPath(0)},null,E.hide),d(this,"afterSetState",{state:a})}},p.prototype.haloPath=function(a){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-a,this.plotY-a,2*a,2*a)},p}()}),wt(o,"Core/Pointer.js",[o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Tooltip.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var J=Y.parse,K=$.charts,X=$.noop,F=rt.addEvent,N=rt.attr,O=rt.css,k=rt.defined,g=rt.extend,d=rt.find,v=rt.fireEvent,_=rt.isNumber,T=rt.isObject,y=rt.objectEach,C=rt.offset,M=rt.pick,D=rt.splat;return function(){function x(f,m){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=f,this.hasDragged=!1,this.options=m,this.init(f,m)}return x.prototype.applyInactiveState=function(f){var r,m=[];(f||[]).forEach(function(p){m.push(r=p.series),r.linkedParent&&m.push(r.linkedParent),r.linkedSeries&&(m=m.concat(r.linkedSeries)),r.navigatorSeries&&m.push(r.navigatorSeries)}),this.chart.series.forEach(function(p){-1===m.indexOf(p)?p.setState("inactive",!0):p.options.inactiveOtherPoints&&p.setAllPointsToState("inactive")})},x.prototype.destroy=function(){var f=this;this.eventsToUnbind.forEach(function(m){return m()}),this.eventsToUnbind=[],$.chartCount||(x.unbindDocumentMouseUp&&(x.unbindDocumentMouseUp=x.unbindDocumentMouseUp()),x.unbindDocumentTouchEnd&&(x.unbindDocumentTouchEnd=x.unbindDocumentTouchEnd())),clearInterval(f.tooltipTimeout),y(f,function(m,r){f[r]=void 0})},x.prototype.drag=function(f){var m=this.chart,r=m.options.chart,p=this.zoomHor,a=this.zoomVert,n=m.plotLeft,h=m.plotTop,l=m.plotWidth,w=m.plotHeight,P=this.mouseDownX||0,I=this.mouseDownY||0,L=T(r.panning)?r.panning&&r.panning.enabled:r.panning,S=r.panKey&&f[r.panKey+"Key"],B=f.chartX,c=f.chartY,u=this.selectionMarker;if((!u||!u.touch)&&(B<n?B=n:B>n+l&&(B=n+l),c<h?c=h:c>h+w&&(c=h+w),this.hasDragged=Math.sqrt(Math.pow(P-B,2)+Math.pow(I-c,2)),10<this.hasDragged)){var E=m.isInsidePlot(P-n,I-h,{visiblePlotOnly:!0});!m.hasCartesianSeries&&!m.mapView||!this.zoomX&&!this.zoomY||!E||S||u||(this.selectionMarker=u=m.renderer.rect(n,h,p?1:l,a?1:w,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),m.styledMode||u.attr({fill:r.selectionMarkerFill||J("#335cad").setOpacity(.25).get()})),u&&p&&(p=B-P,u.attr({width:Math.abs(p),x:(0<p?0:p)+P})),u&&a&&(p=c-I,u.attr({height:Math.abs(p),y:(0<p?0:p)+I})),E&&!u&&L&&m.pan(f,r.panning)}},x.prototype.dragStart=function(f){var m=this.chart;m.mouseIsDown=f.type,m.cancelClick=!1,m.mouseDownX=this.mouseDownX=f.chartX,m.mouseDownY=this.mouseDownY=f.chartY},x.prototype.drop=function(f){var m=this,r=this.chart,p=this.hasPinched;if(this.selectionMarker){var a=this.selectionMarker,n=a.attr?a.attr("x"):a.x,h=a.attr?a.attr("y"):a.y,l=a.attr?a.attr("width"):a.width,w=a.attr?a.attr("height"):a.height,P={originalEvent:f,xAxis:[],yAxis:[],x:n,y:h,width:l,height:w},I=!!r.mapView;(this.hasDragged||p)&&(r.axes.forEach(function(L){if(L.zoomEnabled&&k(L.min)&&(p||m[{xAxis:"zoomX",yAxis:"zoomY"}[L.coll]])&&_(n)&&_(h)){var S=L.horiz,B="touchend"===f.type?L.minPixelPadding:0,c=L.toValue((S?n:h)+B);S=L.toValue((S?n+l:h+w)-B),P[L.coll].push({axis:L,min:Math.min(c,S),max:Math.max(c,S)}),I=!0}}),I&&v(r,"selection",P,function(L){r.zoom(g(L,p?{animation:!1}:null))})),_(r.index)&&(this.selectionMarker=this.selectionMarker.destroy()),p&&this.scaleGroups()}r&&_(r.index)&&(O(r.container,{cursor:r._cursor}),r.cancelClick=10<this.hasDragged,r.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},x.prototype.findNearestKDPoint=function(f,m,r){var n,p=this.chart,a=p.hoverPoint;return p=p.tooltip,a&&p&&p.isStickyOnContact()?a:(f.forEach(function(h){var l=!(h.noSharedTooltip&&m)&&0>h.options.findNearestPointBy.indexOf("y");if(h=h.searchPoint(r,l),(l=T(h,!0)&&h.series)&&!(l=!T(n,!0))){var w=n.dist-h.dist,P=(h.series.group&&h.series.group.zIndex)-(n.series.group&&n.series.group.zIndex);l=0<(0!=(l=n.distX-h.distX)&&m?l:0!==w?w:0!==P?P:n.series.index>h.series.index?-1:1)}l&&(n=h)}),n)},x.prototype.getChartCoordinatesFromPoint=function(f,m){var r=f.series,p=r.xAxis;r=r.yAxis;var a=f.shapeArgs;if(p&&r){var n=M(f.clientX,f.plotX),h=f.plotY||0;return f.isNode&&a&&_(a.x)&&_(a.y)&&(n=a.x,h=a.y),m?{chartX:r.len+r.pos-h,chartY:p.len+p.pos-n}:{chartX:n+p.pos,chartY:h+r.pos}}if(a&&a.x&&a.y)return{chartX:a.x,chartY:a.y}},x.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var f=this.chart.container,m=C(f);this.chartPosition={left:m.left,top:m.top,scaleX:1,scaleY:1};var r=f.offsetWidth;return f=f.offsetHeight,2<r&&2<f&&(this.chartPosition.scaleX=m.width/r,this.chartPosition.scaleY=m.height/f),this.chartPosition},x.prototype.getCoordinates=function(f){var m={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(r){m[r.isXAxis?"xAxis":"yAxis"].push({axis:r,value:r.toValue(f[r.horiz?"chartX":"chartY"])})}),m},x.prototype.getHoverData=function(f,m,r,p,a,n){var h=[];p=!(!p||!f);var l={chartX:n?n.chartX:void 0,chartY:n?n.chartY:void 0,shared:a};v(this,"beforeGetHoverData",l);var w=m&&!m.stickyTracking?[m]:r.filter(function(I){return l.filter?l.filter(I):I.visible&&!(!a&&I.directTouch)&&M(I.options.enableMouseTracking,!0)&&I.stickyTracking}),P=p||!n?f:this.findNearestKDPoint(w,a,n);return m=P&&P.series,P&&(a&&!m.noSharedTooltip?(w=r.filter(function(I){return l.filter?l.filter(I):I.visible&&!(!a&&I.directTouch)&&M(I.options.enableMouseTracking,!0)&&!I.noSharedTooltip})).forEach(function(I){var L=d(I.points,function(S){return S.x===P.x&&!S.isNull});T(L)&&(I.chart.isBoosting&&(L=I.getPoint(L)),h.push(L))}):h.push(P)),v(this,"afterGetHoverData",l={hoverPoint:P}),{hoverPoint:l.hoverPoint,hoverSeries:m,hoverPoints:h}},x.prototype.getPointFromEvent=function(f){f=f.target;for(var m;f&&!m;)m=f.point,f=f.parentNode;return m},x.prototype.onTrackerMouseOut=function(f){f=f.relatedTarget||f.toElement;var m=this.chart.hoverSeries;this.isDirectTouch=!1,!m||!f||m.stickyTracking||this.inClass(f,"highcharts-tooltip")||this.inClass(f,"highcharts-series-"+m.index)&&this.inClass(f,"highcharts-tracker")||m.onMouseOut()},x.prototype.inClass=function(f,m){for(var r;f;){if(r=N(f,"class")){if(-1!==r.indexOf(m))return!0;if(-1!==r.indexOf("highcharts-container"))return!1}f=f.parentNode}},x.prototype.init=function(f,m){this.options=m,this.chart=f,this.runChartClick=!(!m.chart.events||!m.chart.events.click),this.pinchDown=[],this.lastValidTouch={},q&&(f.tooltip=new q(f,m.tooltip),this.followTouchMove=M(m.tooltip.followTouchMove,!0)),this.setDOMEvents()},x.prototype.normalize=function(f,m){var r=f.touches,p=r?r.length?r.item(0):M(r.changedTouches,f.changedTouches)[0]:f;return m||(m=this.getChartPosition()),r=p.pageX-m.left,p=p.pageY-m.top,r/=m.scaleX,p/=m.scaleY,g(f,{chartX:Math.round(r),chartY:Math.round(p)})},x.prototype.onContainerClick=function(f){var m=this.chart,r=m.hoverPoint;f=this.normalize(f);var p=m.plotLeft,a=m.plotTop;m.cancelClick||(r&&this.inClass(f.target,"highcharts-tracker")?(v(r.series,"click",g(f,{point:r})),m.hoverPoint&&r.firePointEvent("click",f)):(g(f,this.getCoordinates(f)),m.isInsidePlot(f.chartX-p,f.chartY-a,{visiblePlotOnly:!0})&&v(m,"click",f)))},x.prototype.onContainerMouseDown=function(f){var m=1==(1&(f.buttons||f.button));f=this.normalize(f),$.isFirefox&&0!==f.button&&this.onContainerMouseMove(f),(void 0===f.button||m)&&(this.zoomOption(f),m&&f.preventDefault&&f.preventDefault(),this.dragStart(f))},x.prototype.onContainerMouseLeave=function(f){var m=K[M(x.hoverChartIndex,-1)],r=this.chart.tooltip;r&&r.shouldStickOnContact()&&this.inClass(f.relatedTarget,"highcharts-tooltip-container")||(f=this.normalize(f),m&&(f.relatedTarget||f.toElement)&&(m.pointer.reset(),m.pointer.chartPosition=void 0),r&&!r.isHidden&&this.reset())},x.prototype.onContainerMouseEnter=function(f){delete this.chartPosition},x.prototype.onContainerMouseMove=function(f){var m=this.chart;f=this.normalize(f),this.setHoverChartIndex(),f.preventDefault||(f.returnValue=!1),("mousedown"===m.mouseIsDown||this.touchSelect(f))&&this.drag(f),m.openMenu||!this.inClass(f.target,"highcharts-tracker")&&!m.isInsidePlot(f.chartX-m.plotLeft,f.chartY-m.plotTop,{visiblePlotOnly:!0})||(this.inClass(f.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(f))},x.prototype.onDocumentTouchEnd=function(f){var m=K[M(x.hoverChartIndex,-1)];m&&m.pointer.drop(f)},x.prototype.onContainerTouchMove=function(f){this.touchSelect(f)?this.onContainerMouseMove(f):this.touch(f)},x.prototype.onContainerTouchStart=function(f){this.touchSelect(f)?this.onContainerMouseDown(f):(this.zoomOption(f),this.touch(f,!0))},x.prototype.onDocumentMouseMove=function(f){var m=this.chart,r=this.chartPosition;f=this.normalize(f,r);var p=m.tooltip;!r||p&&p.isStickyOnContact()||m.isInsidePlot(f.chartX-m.plotLeft,f.chartY-m.plotTop,{visiblePlotOnly:!0})||this.inClass(f.target,"highcharts-tracker")||this.reset()},x.prototype.onDocumentMouseUp=function(f){var m=K[M(x.hoverChartIndex,-1)];m&&m.pointer.drop(f)},x.prototype.pinch=function(f){var m=this,r=m.chart,p=m.pinchDown,a=f.touches||[],n=a.length,h=m.lastValidTouch,l=m.hasZoom,w={},P=1===n&&(m.inClass(f.target,"highcharts-tracker")&&r.runTrackerClick||m.runChartClick),I={},L=m.selectionMarker;1<n?m.initiated=!0:1===n&&this.followTouchMove&&(m.initiated=!1),l&&m.initiated&&!P&&!1!==f.cancelable&&f.preventDefault(),[].map.call(a,function(S){return m.normalize(S)}),"touchstart"===f.type?([].forEach.call(a,function(S,B){p[B]={chartX:S.chartX,chartY:S.chartY}}),h.x=[p[0].chartX,p[1]&&p[1].chartX],h.y=[p[0].chartY,p[1]&&p[1].chartY],r.axes.forEach(function(S){if(S.zoomEnabled){var B=r.bounds[S.horiz?"h":"v"],c=S.minPixelPadding,u=S.toPixels(Math.min(M(S.options.min,S.dataMin),S.dataMin)),E=S.toPixels(Math.max(M(S.options.max,S.dataMax),S.dataMax)),j=Math.max(u,E);B.min=Math.min(S.pos,Math.min(u,E)-c),B.max=Math.max(S.pos+S.len,j+c)}}),m.res=!0):m.followTouchMove&&1===n?this.runPointActions(m.normalize(f)):p.length&&(v(r,"touchpan",{originalEvent:f},function(){L||(m.selectionMarker=L=g({destroy:X,touch:!0},r.plotBox)),m.pinchTranslate(p,a,w,L,I,h),m.hasPinched=l,m.scaleGroups(w,I)}),m.res&&(m.res=!1,this.reset(!1,0)))},x.prototype.pinchTranslate=function(f,m,r,p,a,n){this.zoomHor&&this.pinchTranslateDirection(!0,f,m,r,p,a,n),this.zoomVert&&this.pinchTranslateDirection(!1,f,m,r,p,a,n)},x.prototype.pinchTranslateDirection=function(f,m,r,p,a,n,h,l){var w=this.chart,P=f?"x":"y",I=f?"X":"Y",L="chart"+I,S=f?"width":"height",B=w["plot"+(f?"Left":"Top")],c=w.inverted,u=w.bounds[f?"h":"v"],E=1===m.length,j=m[0][L],G=!E&&m[1][L];m=function(){"number"==typeof V&&20<Math.abs(j-G)&&(z=l||Math.abs(R-V)/Math.abs(j-G)),b=(B-R)/z+j,W=w["plot"+(f?"Width":"Height")]/z};var W,b,z=l||1,R=r[0][L],V=!E&&r[1][L];if(m(),(r=b)<u.min){r=u.min;var Z=!0}else r+W>u.max&&(r=u.max-W,Z=!0);Z?(R-=.8*(R-h[P][0]),"number"==typeof V&&(V-=.8*(V-h[P][1])),m()):h[P]=[R,V],c||(n[P]=b-B,n[S]=W),n=c?1/z:z,a[S]=W,a[P]=r,p[c?f?"scaleY":"scaleX":"scale"+I]=z,p["translate"+I]=n*B+(R-n*j)},x.prototype.reset=function(f,m){var r=this.chart,p=r.hoverSeries,a=r.hoverPoint,n=r.hoverPoints,h=r.tooltip,l=h&&h.shared?n:a;f&&l&&D(l).forEach(function(w){w.series.isCartesian&&void 0===w.plotX&&(f=!1)}),f?h&&l&&D(l).length&&(h.refresh(l),h.shared&&n?n.forEach(function(w){w.setState(w.state,!0),w.series.isCartesian&&(w.series.xAxis.crosshair&&w.series.xAxis.drawCrosshair(null,w),w.series.yAxis.crosshair&&w.series.yAxis.drawCrosshair(null,w))}):a&&(a.setState(a.state,!0),r.axes.forEach(function(w){w.crosshair&&a.series[w.coll]===w&&w.drawCrosshair(null,a)}))):(a&&a.onMouseOut(),n&&n.forEach(function(w){w.setState()}),p&&p.onMouseOut(),h&&h.hide(m),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),r.axes.forEach(function(w){w.hideCrosshair()}),this.hoverX=r.hoverPoints=r.hoverPoint=null)},x.prototype.runPointActions=function(f,m){var r=this.chart,p=r.tooltip&&r.tooltip.options.enabled?r.tooltip:void 0,a=!!p&&p.shared,n=m||r.hoverPoint,h=n&&n.series||r.hoverSeries;n=(m=this.getHoverData(n,h,r.series,(!f||"touchmove"!==f.type)&&(!!m||h&&h.directTouch&&this.isDirectTouch),a,f)).hoverPoint;var l=m.hoverPoints;if(m=(h=m.hoverSeries)&&h.tooltipOptions.followPointer&&!h.tooltipOptions.split,a=a&&h&&!h.noSharedTooltip,n&&(n!==r.hoverPoint||p&&p.isHidden)){if((r.hoverPoints||[]).forEach(function(w){-1===l.indexOf(w)&&w.setState()}),r.hoverSeries!==h&&h.onMouseOver(),this.applyInactiveState(l),(l||[]).forEach(function(w){w.setState("hover")}),r.hoverPoint&&r.hoverPoint.firePointEvent("mouseOut"),!n.series)return;r.hoverPoints=l,r.hoverPoint=n,n.firePointEvent("mouseOver"),p&&p.refresh(a?l:n,f)}else m&&p&&!p.isHidden&&(n=p.getAnchor([{}],f),r.isInsidePlot(n[0],n[1],{visiblePlotOnly:!0})&&p.updatePosition({plotX:n[0],plotY:n[1]}));this.unDocMouseMove||(this.unDocMouseMove=F(r.container.ownerDocument,"mousemove",function(w){var P=K[x.hoverChartIndex];P&&P.pointer.onDocumentMouseMove(w)}),this.eventsToUnbind.push(this.unDocMouseMove)),r.axes.forEach(function(w){var I,P=M((w.crosshair||{}).snap,!0);P&&((I=r.hoverPoint)&&I.series[w.coll]===w||(I=d(l,function(L){return L.series[w.coll]===w}))),I||!P?w.drawCrosshair(f,I):w.hideCrosshair()})},x.prototype.scaleGroups=function(f,m){var r=this.chart;r.series.forEach(function(p){var a=f||p.getPlotBox();p.group&&(p.xAxis&&p.xAxis.zoomEnabled||r.mapView)&&(p.group.attr(a),p.markerGroup&&(p.markerGroup.attr(a),p.markerGroup.clip(m?r.clipRect:null)),p.dataLabelsGroup&&p.dataLabelsGroup.attr(a))}),r.clipRect.attr(m||r.clipBox)},x.prototype.setDOMEvents=function(){var f=this,m=this.chart.container,r=m.ownerDocument;m.onmousedown=this.onContainerMouseDown.bind(this),m.onmousemove=this.onContainerMouseMove.bind(this),m.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(F(m,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(F(m,"mouseleave",this.onContainerMouseLeave.bind(this))),x.unbindDocumentMouseUp||(x.unbindDocumentMouseUp=F(r,"mouseup",this.onDocumentMouseUp.bind(this)));for(var p=this.chart.renderTo.parentElement;p&&"BODY"!==p.tagName;)this.eventsToUnbind.push(F(p,"scroll",function(){delete f.chartPosition})),p=p.parentElement;$.hasTouch&&(this.eventsToUnbind.push(F(m,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(F(m,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),x.unbindDocumentTouchEnd||(x.unbindDocumentTouchEnd=F(r,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},x.prototype.setHoverChartIndex=function(){var f=this.chart,m=$.charts[M(x.hoverChartIndex,-1)];m&&m!==f&&m.pointer.onContainerMouseLeave({relatedTarget:!0}),m&&m.mouseIsDown||(x.hoverChartIndex=f.index)},x.prototype.touch=function(f,m){var r=this.chart;if(this.setHoverChartIndex(),1===f.touches.length)if(f=this.normalize(f),r.isInsidePlot(f.chartX-r.plotLeft,f.chartY-r.plotTop,{visiblePlotOnly:!0})&&!r.openMenu){if(m&&this.runPointActions(f),"touchmove"===f.type)var a=!!(m=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(m[0].chartX-f.chartX,2)+Math.pow(m[0].chartY-f.chartY,2));M(a,!0)&&this.pinch(f)}else m&&this.reset();else 2===f.touches.length&&this.pinch(f)},x.prototype.touchSelect=function(f){return!(!this.chart.options.chart.zoomBySingleTouch||!f.touches||1!==f.touches.length)},x.prototype.zoomOption=function(f){var m=this.chart,r=m.options.chart;m=m.inverted;var p=r.zoomType||"";/touch/.test(f.type)&&(p=M(r.pinchType,p)),this.zoomX=f=/x/.test(p),this.zoomY=r=/y/.test(p),this.zoomHor=f&&!m||r&&m,this.zoomVert=r&&!m||f&&m,this.hasZoom=f||r},x}()}),wt(o,"Core/MSPointer.js",[o["Core/Globals.js"],o["Core/Pointer.js"],o["Core/Utilities.js"]],function(Y,$,q){function rt(){var y=[];return y.item=function(C){return this[C]},d(_,function(C){y.push({pageX:C.pageX,pageY:C.pageY,target:C.target})}),y}function J(y,C,M,D){var x=X[$.hoverChartIndex||NaN];"touch"!==y.pointerType&&y.pointerType!==y.MSPOINTER_TYPE_TOUCH||!x||(x=x.pointer,D(y),x[C]({type:M,target:y.currentTarget,preventDefault:N,touches:rt()}))}var y,K=this&&this.__extends||(y=function(C,M){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,x){D.__proto__=x}||function(D,x){for(var f in x)x.hasOwnProperty(f)&&(D[f]=x[f])})(C,M)},function(C,M){function D(){this.constructor=C}y(C,M),C.prototype=null===M?Object.create(M):(D.prototype=M.prototype,new D)}),X=Y.charts,F=Y.doc,N=Y.noop,O=Y.win,k=q.addEvent,g=q.css,d=q.objectEach,v=q.removeEvent,_={},T=!!O.PointerEvent;return function(y){function C(){return null!==y&&y.apply(this,arguments)||this}return K(C,y),C.isRequired=function(){return!(Y.hasTouch||!O.PointerEvent&&!O.MSPointerEvent)},C.prototype.batchMSEvents=function(M){M(this.chart.container,T?"pointerdown":"MSPointerDown",this.onContainerPointerDown),M(this.chart.container,T?"pointermove":"MSPointerMove",this.onContainerPointerMove),M(F,T?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},C.prototype.destroy=function(){this.batchMSEvents(v),y.prototype.destroy.call(this)},C.prototype.init=function(M,D){y.prototype.init.call(this,M,D),this.hasZoom&&g(M.container,{"-ms-touch-action":"none","touch-action":"none"})},C.prototype.onContainerPointerDown=function(M){J(M,"onContainerTouchStart","touchstart",function(D){_[D.pointerId]={pageX:D.pageX,pageY:D.pageY,target:D.currentTarget}})},C.prototype.onContainerPointerMove=function(M){J(M,"onContainerTouchMove","touchmove",function(D){_[D.pointerId]={pageX:D.pageX,pageY:D.pageY},_[D.pointerId].target||(_[D.pointerId].target=D.currentTarget)})},C.prototype.onDocumentPointerUp=function(M){J(M,"onDocumentTouchEnd","touchend",function(D){delete _[D.pointerId]})},C.prototype.setDOMEvents=function(){y.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(k)},C}($)}),wt(o,"Core/Legend/Legend.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Series/Point.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){var X=Y.animObject,F=Y.setAnimation,N=$.format;Y=q.isFirefox;var O=q.marginNames;q=q.win;var k=J.distribute,g=K.addEvent,d=K.createElement,v=K.css,_=K.defined,T=K.discardElement,y=K.find,C=K.fireEvent,M=K.isNumber,D=K.merge,x=K.pick,f=K.relativeLength,m=K.stableSort,r=K.syncTimeout;return J=K.wrap,K=function(){function p(a,n){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=a,this.init(a,n)}return p.prototype.init=function(a,n){this.chart=a,this.setOptions(n),n.enabled&&(this.render(),g(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=g(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},p.prototype.setOptions=function(a){var n=x(a.padding,8);this.options=a,this.chart.styledMode||(this.itemStyle=a.itemStyle,this.itemHiddenStyle=D(this.itemStyle,a.itemHiddenStyle)),this.itemMarginTop=a.itemMarginTop||0,this.itemMarginBottom=a.itemMarginBottom||0,this.padding=n,this.initialItemY=n-5,this.symbolWidth=x(a.symbolWidth,16),this.pages=[],this.proximate="proximate"===a.layout&&!this.chart.inverted,this.baseline=void 0},p.prototype.update=function(a,n){var h=this.chart;this.setOptions(D(!0,this.options,a)),this.destroy(),h.isDirtyLegend=h.isDirtyBox=!0,x(n,!0)&&h.redraw(),C(this,"afterUpdate")},p.prototype.colorizeItem=function(a,n){if(a.legendGroup[n?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var h=this.options,l=a.legendItem,w=a.legendLine,P=a.legendSymbol,I=this.itemHiddenStyle.color;h=n?h.itemStyle.color:I;var L=n&&a.color||I,S=a.options&&a.options.marker,B={fill:L};l&&l.css({fill:h,color:h}),w&&w.attr({stroke:L}),P&&(S&&P.isMarker&&(B=a.pointAttribs(),n||(B.stroke=B.fill=I)),P.attr(B))}C(this,"afterColorizeItem",{item:a,visible:n})},p.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},p.prototype.positionItem=function(a){var n=this,h=this.options,l=h.symbolPadding,w=!h.rtl,P=a._legendItemPos;h=P[0],P=P[1];var I=a.checkbox,L=a.legendGroup;L&&L.element&&(l={translateX:w?h:this.legendWidth-h-2*l-4,translateY:P},w=function(){C(n,"afterPositionItem",{item:a})},_(L.translateY)?L.animate(l,void 0,w):(L.attr(l),w())),I&&(I.x=h,I.y=P)},p.prototype.destroyItem=function(a){var n=a.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(h){a[h]&&(a[h]=a[h].destroy())}),n&&T(a.checkbox)},p.prototype.destroy=function(){function a(n){this[n]&&(this[n]=this[n].destroy())}this.getAllItems().forEach(function(n){["legendItem","legendGroup"].forEach(a,n)}),"clipRect up down pager nav box title group".split(" ").forEach(a,this),this.display=null},p.prototype.positionCheckboxes=function(){var a=this.group&&this.group.alignAttr,n=this.clipHeight||this.legendHeight,h=this.titleHeight;if(a){var l=a.translateY;this.allItems.forEach(function(w){var P=w.checkbox;if(P){var I=l+h+P.y+(this.scrollOffset||0)+3;v(P,{left:a.translateX+w.checkboxOffset+P.x-20+"px",top:I+"px",display:this.proximate||I>l-6&&I<l+n-6?"":"none"})}},this)}},p.prototype.renderTitle=function(){var a=this.options,n=this.padding,h=a.title,l=0;h.text&&(this.title||(this.title=this.chart.renderer.label(h.text,n-3,n-4,null,null,null,a.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(h.style),this.title.add(this.group)),h.width||this.title.css({width:this.maxLegendWidth+"px"}),l=(a=this.title.getBBox()).height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:l})),this.titleHeight=l},p.prototype.setText=function(a){var n=this.options;a.legendItem.attr({text:n.labelFormat?N(n.labelFormat,a,this.chart):n.labelFormatter.call(a)})},p.prototype.renderItem=function(a){var n=this.chart,h=n.renderer,l=this.options,w=this.symbolWidth,P=l.symbolPadding||0,I=this.itemStyle,L=this.itemHiddenStyle,S="horizontal"===l.layout?x(l.itemDistance,20):0,B=!l.rtl,c=!a.series,u=!c&&a.series.drawLegendSymbol?a.series:a,E=u.options,j=this.createCheckboxForItem&&E&&E.showCheckbox,G=l.useHTML,W=a.options.className,b=a.legendItem;E=w+P+S+(j?20:0),b||(a.legendGroup=h.g("legend-item").addClass("highcharts-"+u.type+"-series highcharts-color-"+a.colorIndex+(W?" "+W:"")+(c?" highcharts-series-"+a.index:"")).attr({zIndex:1}).add(this.scrollGroup),a.legendItem=b=h.text("",B?w+P:-P,this.baseline||0,G),n.styledMode||b.css(D(a.visible?I:L)),b.attr({align:B?"left":"right",zIndex:2}).add(a.legendGroup),this.baseline||(this.fontMetrics=h.fontMetrics(n.styledMode?12:I.fontSize,b),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,b.attr("y",this.baseline),this.symbolHeight=l.symbolHeight||this.fontMetrics.f,l.squareSymbol&&(this.symbolWidth=x(l.symbolWidth,Math.max(this.symbolHeight,16)),E=this.symbolWidth+P+S+(j?20:0),B&&b.attr("x",this.symbolWidth+P))),u.drawLegendSymbol(this,a),this.setItemEvents&&this.setItemEvents(a,b,G)),j&&!a.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(a),this.colorizeItem(a,a.visible),!n.styledMode&&I.width||b.css({width:(l.itemWidth||this.widthOption||n.spacingBox.width)-E+"px"}),this.setText(a),n=b.getBBox(),h=this.fontMetrics&&this.fontMetrics.h||0,a.itemWidth=a.checkboxOffset=l.itemWidth||a.legendItemWidth||n.width+E,this.maxItemWidth=Math.max(this.maxItemWidth,a.itemWidth),this.totalItemWidth+=a.itemWidth,this.itemHeight=a.itemHeight=Math.round(a.legendItemHeight||(n.height>1.5*h?n.height:h))},p.prototype.layoutItem=function(a){var n=this.options,h=this.padding,l="horizontal"===n.layout,w=a.itemHeight,P=this.itemMarginBottom,I=this.itemMarginTop,L=l?x(n.itemDistance,20):0,S=this.maxLegendWidth;n=n.alignColumns&&this.totalItemWidth>S?this.maxItemWidth:a.itemWidth,l&&this.itemX-h+n>S&&(this.itemX=h,this.lastLineHeight&&(this.itemY+=I+this.lastLineHeight+P),this.lastLineHeight=0),this.lastItemY=I+this.itemY+P,this.lastLineHeight=Math.max(w,this.lastLineHeight),a._legendItemPos=[this.itemX,this.itemY],l?this.itemX+=n:(this.itemY+=I+w+P,this.lastLineHeight=w),this.offsetWidth=this.widthOption||Math.max((l?this.itemX-h-(a.checkbox?0:L):n)+h,this.offsetWidth)},p.prototype.getAllItems=function(){var a=[];return this.chart.series.forEach(function(n){var h=n&&n.options;n&&x(h.showInLegend,!_(h.linkedTo)&&void 0,!0)&&(a=a.concat(n.legendItems||("point"===h.legendType?n.data:n)))}),C(this,"afterGetAllItems",{allItems:a}),a},p.prototype.getAlignment=function(){var a=this.options;return this.proximate?a.align.charAt(0)+"tv":a.floating?"":a.align.charAt(0)+a.verticalAlign.charAt(0)+a.layout.charAt(0)},p.prototype.adjustMargins=function(a,n){var h=this.chart,l=this.options,w=this.getAlignment();w&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(P,I){P.test(w)&&!_(a[I])&&(h[O[I]]=Math.max(h[O[I]],h.legend[(I+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][I]*l[I%2?"x":"y"]+x(l.margin,12)+n[I]+(h.titleOffset[I]||0)))})},p.prototype.proximatePositions=function(){var a=this.chart,n=[],h="left"===this.options.align;this.allItems.forEach(function(l){var w,P=h;if(l.yAxis){l.xAxis.options.reversed&&(P=!P),l.points&&(w=y(P?l.points:l.points.slice(0).reverse(),function(L){return M(L.plotY)})),P=this.itemMarginTop+l.legendItem.getBBox().height+this.itemMarginBottom;var I=l.yAxis.top-a.plotTop;l.visible?(w=w?w.plotY:l.yAxis.height,w+=I-.3*P):w=I+l.yAxis.height,n.push({target:w,size:P,item:l})}},this),k(n,a.plotHeight).forEach(function(l){l.item._legendItemPos&&(l.item._legendItemPos[1]=a.plotTop-a.spacing[0]+l.pos)})},p.prototype.render=function(){var a=this.chart,n=a.renderer,h=this.options,l=this.padding,w=this.getAllItems(),P=this.group,I=this.box;this.itemX=l,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=f(h.width,a.spacingBox.width-l);var L=a.spacingBox.width-2*l-h.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(L/=2),this.maxLegendWidth=this.widthOption||L,P||(this.group=P=n.g("legend").addClass(h.className||"").attr({zIndex:7}).add(),this.contentGroup=n.g().attr({zIndex:1}).add(P),this.scrollGroup=n.g().add(this.contentGroup)),this.renderTitle(),m(w,function(B,c){return(B.options&&B.options.legendIndex||0)-(c.options&&c.options.legendIndex||0)}),h.reversed&&w.reverse(),this.allItems=w,this.display=L=!!w.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,w.forEach(this.renderItem,this),w.forEach(this.layoutItem,this),w=(this.widthOption||this.offsetWidth)+l;var S=this.lastItemY+this.lastLineHeight+this.titleHeight;S=this.handleOverflow(S),S+=l,I||(this.box=I=n.rect().addClass("highcharts-legend-box").attr({r:h.borderRadius}).add(P),I.isNew=!0),a.styledMode||I.attr({stroke:h.borderColor,"stroke-width":h.borderWidth||0,fill:h.backgroundColor||"none"}).shadow(h.shadow),0<w&&0<S&&(I[I.isNew?"attr":"animate"](I.crisp.call({},{x:0,y:0,width:w,height:S},I.strokeWidth())),I.isNew=!1),I[L?"show":"hide"](),a.styledMode&&"none"===P.getStyle("display")&&(w=S=0),this.legendWidth=w,this.legendHeight=S,L&&this.align(),this.proximate||this.positionItems(),C(this,"afterRender")},p.prototype.align=function(a){void 0===a&&(a=this.chart.spacingBox);var n=this.chart,h=this.options,l=a.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<n.titleOffset[0]?l+=n.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<n.titleOffset[2]&&(l-=n.titleOffset[2]),l!==a.y&&(a=D(a,{y:l})),this.group.align(D(h,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":h.verticalAlign}),!0,a)},p.prototype.handleOverflow=function(a){var b,z,n=this,h=this.chart,l=h.renderer,w=this.options,P=w.y,I="top"===w.verticalAlign,L=this.padding,S=w.maxHeight,B=w.navigation,c=x(B.animation,!0),u=B.arrowSize||12,E=this.pages,j=this.allItems,G=function(Z){"number"==typeof Z?V.attr({height:Z}):V&&(n.clipRect=V.destroy(),n.contentGroup.clip()),n.contentGroup.div&&(n.contentGroup.div.style.clip=Z?"rect("+L+"px,9999px,"+(L+Z)+"px,0)":"auto")},W=function(Z){return n[Z]=l.circle(0,0,1.3*u).translate(u/2,u/2).add(R),h.styledMode||n[Z].attr("fill","rgba(0,0,0,0.0001)"),n[Z]};P=h.spacingBox.height+(I?-P:P)-L;var R=this.nav,V=this.clipRect;return"horizontal"!==w.layout||"middle"===w.verticalAlign||w.floating||(P/=2),S&&(P=Math.min(P,S)),E.length=0,a&&0<P&&a>P&&!1!==B.enabled?(this.clipHeight=b=Math.max(P-20-this.titleHeight-L,0),this.currentPage=x(this.currentPage,1),this.fullHeight=a,j.forEach(function(Z,nt){var it=Z._legendItemPos[1],ot=Math.round(Z.legendItem.getBBox().height),at=E.length;(!at||it-E[at-1]>b&&(z||it)!==E[at-1])&&(E.push(z||it),at++),Z.pageIx=at-1,z&&(j[nt-1].pageIx=at-1),nt===j.length-1&&it+ot-E[at-1]>b&&ot<=b&&(E.push(it),Z.pageIx=at),it!==z&&(z=it)}),V||(V=n.clipRect=l.clipRect(0,L,9999,0),n.contentGroup.clip(V)),G(b),R||(this.nav=R=l.g().attr({zIndex:1}).add(this.group),this.up=l.symbol("triangle",0,0,u,u).add(R),W("upTracker").on("click",function(){n.scroll(-1,c)}),this.pager=l.text("",15,10).addClass("highcharts-legend-navigation"),h.styledMode||this.pager.css(B.style),this.pager.add(R),this.down=l.symbol("triangle-down",0,0,u,u).add(R),W("downTracker").on("click",function(){n.scroll(1,c)})),n.scroll(0),a=P):R&&(G(),this.nav=R.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),a},p.prototype.scroll=function(a,n){var h=this,l=this.chart,w=this.pages,P=w.length,I=this.clipHeight,L=this.options.navigation,S=this.pager,B=this.padding,c=this.currentPage+a;c>P&&(c=P),0<c&&(void 0!==n&&F(n,l),this.nav.attr({translateX:B,translateY:I+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(u){u.attr({class:1===c?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),S.attr({text:c+"/"+P}),[this.down,this.downTracker].forEach(function(u){u.attr({x:18+this.pager.getBBox().width,class:c===P?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),l.styledMode||(this.up.attr({fill:1===c?L.inactiveColor:L.activeColor}),this.upTracker.css({cursor:1===c?"default":"pointer"}),this.down.attr({fill:c===P?L.inactiveColor:L.activeColor}),this.downTracker.css({cursor:c===P?"default":"pointer"})),this.scrollOffset=-w[c-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=c,this.positionCheckboxes(),a=X(x(n,l.renderer.globalAnimation,!0)),r(function(){C(h,"afterScroll",{currentPage:c})},a.duration))},p.prototype.setItemEvents=function(a,n,h){var l=this,w=l.chart.renderer.boxWrapper,P=a instanceof rt,I="highcharts-legend-"+(P?"point":"series")+"-active",L=l.chart.styledMode,S=function(B){l.allItems.forEach(function(c){a!==c&&[c].concat(c.linkedSeries||[]).forEach(function(u){u.setState(B,!P)})})};(h?[n,a.legendSymbol]:[a.legendGroup]).forEach(function(B){B&&B.on("mouseover",function(){a.visible&&S("inactive"),a.setState("hover"),a.visible&&w.addClass(I),L||n.css(l.options.itemHoverStyle)}).on("mouseout",function(){l.chart.styledMode||n.css(D(a.visible?l.itemStyle:l.itemHiddenStyle)),S(""),w.removeClass(I),a.setState()}).on("click",function(c){var u=function(){a.setVisible&&a.setVisible(),S(a.visible?"inactive":"")};w.removeClass(I),c={browserEvent:c},a.firePointEvent?a.firePointEvent("legendItemClick",c,u):C(a,"legendItemClick",c,u)})})},p.prototype.createCheckboxForItem=function(a){a.checkbox=d("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container),g(a.checkbox,"click",function(n){C(a.series||a,"checkboxClick",{checked:n.target.checked,item:a},function(){a.select()})})},p}(),(/Trident\/7\.0/.test(q.navigator&&q.navigator.userAgent)||Y)&&J(K.prototype,"positionItem",function(p,a){var n=this,h=function(){a._legendItemPos&&p.call(n,a)};h(),n.bubbleLegend||setTimeout(h)}),K}),wt(o,"Core/Series/SeriesRegistry.js",[o["Core/Globals.js"],o["Core/DefaultOptions.js"],o["Core/Series/Point.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var N,J=$.defaultOptions,K=rt.error,X=rt.extendClass,F=rt.merge;return function(O){function k(g,d){var v=J.plotOptions||{},_=d.defaultOptions;d.prototype.pointClass||(d.prototype.pointClass=q),d.prototype.type=g,_&&(v[g]=_),O.seriesTypes[g]=d}O.seriesTypes=Y.seriesTypes,O.getSeries=function(g,d){void 0===d&&(d={});var v=g.options.chart,_=O.seriesTypes[v=d.type||v.type||v.defaultSeriesType||""];return O||K(17,!0,g,{missingModuleFor:v}),"function"==typeof(v=new _).init&&v.init(g,d),v},O.registerSeriesType=k,O.seriesType=function(g,d,v,_,T){var y=J.plotOptions||{};return y[g]=F(y[d=d||""],v),k(g,X(O.seriesTypes[d]||function(){},_)),O.seriesTypes[g].prototype.type=g,T&&(O.seriesTypes[g].prototype.pointClass=X(q,T)),O.seriesTypes[g]}}(N||(N={})),N}),wt(o,"Core/Chart/Chart.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/Axis.js"],o["Core/FormatUtilities.js"],o["Core/Foundation.js"],o["Core/Globals.js"],o["Core/Legend/Legend.js"],o["Core/MSPointer.js"],o["Core/DefaultOptions.js"],o["Core/Pointer.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Time.js"],o["Core/Utilities.js"],o["Core/Renderer/HTML/AST.js"]],function(Y,$,q,rt,J,K,X,F,N,O,k,g,d,v,_){var T=Y.animate,y=Y.animObject,C=Y.setAnimation,M=q.numberFormat,D=rt.registerEventOptions,x=J.charts,f=J.doc,m=J.marginNames,r=J.svg,p=J.win,a=F.defaultOptions,n=F.defaultTime,h=k.seriesTypes,l=v.addEvent,w=v.attr,P=v.cleanRecursively,I=v.createElement,L=v.css,S=v.defined,B=v.discardElement,c=v.erase,u=v.error,E=v.extend,j=v.find,G=v.fireEvent,W=v.getStyle,b=v.isArray,z=v.isNumber,R=v.isObject,V=v.isString,Z=v.merge,nt=v.objectEach,it=v.pick,ot=v.pInt,at=v.relativeLength,mt=v.removeEvent,_t=v.splat,yt=v.syncTimeout,ut=v.uniqueKey;return Y=function(){function ct(H,tt,lt){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(H,tt,lt)}return ct.chart=function(H,tt,lt){return new ct(H,tt,lt)},ct.prototype.getArgs=function(H,tt,lt){V(H)||H.nodeName?(this.renderTo=H,this.init(tt,lt)):this.init(H,tt)},ct.prototype.init=function(H,tt){var lt=H.plotOptions||{};G(this,"init",{args:arguments},function(){var dt=Z(a,H),ft=dt.chart;nt(dt.plotOptions,function(bt,Tt){R(bt)&&(bt.tooltip=lt[Tt]&&Z(lt[Tt].tooltip)||void 0)}),dt.tooltip.userOptions=H.chart&&H.chart.forExport&&H.tooltip.userOptions||H.tooltip,this.userOptions=H,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=tt,this.isResizing=0,this.options=dt,this.axes=[],this.series=[],this.time=H.time&&Object.keys(H.time).length?new d(H.time):J.time,this.numberFormatter=ft.numberFormatter||M,this.styledMode=ft.styledMode,this.hasCartesianSeries=ft.showAxes,this.index=x.length,x.push(this),J.chartCount++,D(this,ft),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,G(this,"afterInit"),this.firstRender()})},ct.prototype.initSeries=function(H){var tt=this.options.chart,lt=h[tt=H.type||tt.type||tt.defaultSeriesType];return lt||u(17,!0,this,{missingModuleFor:tt}),"function"==typeof(tt=new lt).init&&tt.init(this,H),tt},ct.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(H){H.points||H.data||!H.enabledDataSorting||H.setData(H.options.data,!1)})},ct.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(H,tt){return H.linkedSeries.length||tt.linkedSeries.length?tt.linkedSeries.length-H.linkedSeries.length:0})},ct.prototype.orderSeries=function(H){var tt=this.series;H=H||0;for(var lt=tt.length;H<lt;++H)tt[H]&&(tt[H].index=H,tt[H].name=tt[H].getName())},ct.prototype.isInsidePlot=function(H,tt,lt){void 0===lt&&(lt={});var dt=this.inverted,ft=this.plotBox,bt=this.plotLeft,Tt=this.plotTop,Lt=this.scrollablePlotBox,jt=0,Rt=0;lt.visiblePlotOnly&&this.scrollingContainer&&(jt=(Rt=this.scrollingContainer).scrollLeft,Rt=Rt.scrollTop);var Et=lt.series;if(ft=lt.visiblePlotOnly&&Lt||ft,H={x:Lt=lt.inverted?tt:H,y:tt=lt.inverted?H:tt,isInsidePlot:!0},!lt.ignoreX){var Ht=Et&&(dt?Et.yAxis:Et.xAxis)||{pos:bt,len:1/0};(Lt=lt.paneCoordinates?Ht.pos+Lt:bt+Lt)>=Math.max(jt+bt,Ht.pos)&&Lt<=Math.min(jt+bt+ft.width,Ht.pos+Ht.len)||(H.isInsidePlot=!1)}return!lt.ignoreY&&H.isInsidePlot&&(dt=Et&&(dt?Et.xAxis:Et.yAxis)||{pos:Tt,len:1/0},(lt=lt.paneCoordinates?dt.pos+tt:Tt+tt)>=Math.max(Rt+Tt,dt.pos)&&lt<=Math.min(Rt+Tt+ft.height,dt.pos+dt.len)||(H.isInsidePlot=!1)),G(this,"afterIsInsidePlot",H),H.isInsidePlot},ct.prototype.redraw=function(H){G(this,"beforeRedraw");var tt=this.hasCartesianSeries?this.axes:this.colorAxis||[],lt=this.series,dt=this.pointer,ft=this.legend,bt=this.userOptions.legend,Tt=this.renderer,Lt=Tt.isHidden(),jt=[],Rt=this.isDirtyBox,Et=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),C(!!this.hasRendered&&H,this),Lt&&this.temporaryDisplay(),this.layOutTitles(),H=lt.length;H--;){var Ht=lt[H];if(Ht.options.stacking||Ht.options.centerInCategory){var It=!0;if(Ht.isDirty){var Pt=!0;break}}}if(Pt)for(H=lt.length;H--;)(Ht=lt[H]).options.stacking&&(Ht.isDirty=!0);lt.forEach(function(kt){kt.isDirty&&("point"===kt.options.legendType?("function"==typeof kt.updateTotals&&kt.updateTotals(),Et=!0):bt&&(bt.labelFormatter||bt.labelFormat)&&(Et=!0)),kt.isDirtyData&&G(kt,"updatedData")}),Et&&ft&&ft.options.enabled&&(ft.render(),this.isDirtyLegend=!1),It&&this.getStacks(),tt.forEach(function(kt){kt.updateNames(),kt.setScale()}),this.getMargins(),tt.forEach(function(kt){kt.isDirty&&(Rt=!0)}),tt.forEach(function(kt){var Ut=kt.min+","+kt.max;kt.extKey!==Ut&&(kt.extKey=Ut,jt.push(function(){G(kt,"afterSetExtremes",E(kt.eventArgs,kt.getExtremes())),delete kt.eventArgs})),(Rt||It)&&kt.redraw()}),Rt&&this.drawChartBox(),G(this,"predraw"),lt.forEach(function(kt){(Rt||kt.isDirty)&&kt.visible&&kt.redraw(),kt.isDirtyData=!1}),dt&&dt.reset(!0),Tt.draw(),G(this,"redraw"),G(this,"render"),Lt&&this.temporaryDisplay(!0),jt.forEach(function(kt){kt.call()})},ct.prototype.get=function(H){function tt(bt){return bt.id===H||bt.options&&bt.options.id===H}for(var lt=this.series,dt=j(this.axes,tt)||j(this.series,tt),ft=0;!dt&&ft<lt.length;ft++)dt=j(lt[ft].points||[],tt);return dt},ct.prototype.getAxes=function(){var H=this,tt=this.options,lt=tt.xAxis=_t(tt.xAxis||{});tt=tt.yAxis=_t(tt.yAxis||{}),G(this,"getAxes"),lt.forEach(function(dt,ft){dt.index=ft,dt.isX=!0}),tt.forEach(function(dt,ft){dt.index=ft}),lt.concat(tt).forEach(function(dt){new $(H,dt)}),G(this,"afterGetAxes")},ct.prototype.getSelectedPoints=function(){return this.series.reduce(function(H,tt){return tt.getPointsCollection().forEach(function(lt){it(lt.selectedStaging,lt.selected)&&H.push(lt)}),H},[])},ct.prototype.getSelectedSeries=function(){return this.series.filter(function(H){return H.selected})},ct.prototype.setTitle=function(H,tt,lt){this.applyDescription("title",H),this.applyDescription("subtitle",tt),this.applyDescription("caption",void 0),this.layOutTitles(lt)},ct.prototype.applyDescription=function(H,tt){var lt=this,dt="title"===H?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};dt=this.options[H]=Z(!this.styledMode&&{style:dt},this.options[H],tt);var ft=this[H];ft&&tt&&(this[H]=ft=ft.destroy()),dt&&!ft&&((ft=this.renderer.text(dt.text,0,0,dt.useHTML).attr({align:dt.align,class:"highcharts-"+H,zIndex:dt.zIndex||4}).add()).update=function(bt){lt[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[H]](bt)},this.styledMode||ft.css(dt.style),this[H]=ft)},ct.prototype.layOutTitles=function(H){var tt=[0,0,0],lt=this.renderer,dt=this.spacingBox;["title","subtitle","caption"].forEach(function(bt){var Rt,Tt=this[bt],Lt=this.options[bt],jt=Lt.verticalAlign||"top";if(bt="title"===bt?"top"===jt?-3:0:"top"===jt?tt[0]+2:0,Tt){this.styledMode||(Rt=Lt.style&&Lt.style.fontSize),Rt=lt.fontMetrics(Rt,Tt).b,Tt.css({width:(Lt.width||dt.width+(Lt.widthAdjust||0))+"px"});var Et=Math.round(Tt.getBBox(Lt.useHTML).height);Tt.align(E({y:"bottom"===jt?Rt:bt+Rt,height:Et},Lt),!1,"spacingBox"),Lt.floating||("top"===jt?tt[0]=Math.ceil(tt[0]+Et):"bottom"===jt&&(tt[2]=Math.ceil(tt[2]+Et)))}},this),tt[0]&&"top"===(this.options.title.verticalAlign||"top")&&(tt[0]+=this.options.title.margin),tt[2]&&"bottom"===this.options.caption.verticalAlign&&(tt[2]+=this.options.caption.margin);var ft=!this.titleOffset||this.titleOffset.join(",")!==tt.join(",");this.titleOffset=tt,G(this,"afterLayOutTitles"),!this.isDirtyBox&&ft&&(this.isDirtyBox=this.isDirtyLegend=ft,this.hasRendered&&it(H,!0)&&this.isDirtyBox&&this.redraw())},ct.prototype.getChartSize=function(){var H=this.options.chart,tt=H.width;H=H.height;var lt=this.renderTo;S(tt)||(this.containerWidth=W(lt,"width")),S(H)||(this.containerHeight=W(lt,"height")),this.chartWidth=Math.max(0,tt||this.containerWidth||600),this.chartHeight=Math.max(0,at(H,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},ct.prototype.temporaryDisplay=function(H){var tt=this.renderTo;if(H)for(;tt&&tt.style;)tt.hcOrigStyle&&(L(tt,tt.hcOrigStyle),delete tt.hcOrigStyle),tt.hcOrigDetached&&(f.body.removeChild(tt),tt.hcOrigDetached=!1),tt=tt.parentNode;else for(;tt&&tt.style&&(f.body.contains(tt)||tt.parentNode||(tt.hcOrigDetached=!0,f.body.appendChild(tt)),("none"===W(tt,"display",!1)||tt.hcOricDetached)&&(tt.hcOrigStyle={display:tt.style.display,height:tt.style.height,overflow:tt.style.overflow},H={display:"block",overflow:"hidden"},tt!==this.renderTo&&(H.height=0),L(tt,H),tt.offsetWidth||tt.style.setProperty("display","block","important")),(tt=tt.parentNode)!==f.body););},ct.prototype.setClassName=function(H){this.container.className="highcharts-container "+(H||"")},ct.prototype.getContainer=function(){var dt,H=this.options,tt=H.chart,lt=ut(),ft=this.renderTo;ft||(this.renderTo=ft=tt.renderTo),V(ft)&&(this.renderTo=ft=f.getElementById(ft)),ft||u(13,!0,this);var bt=ot(w(ft,"data-highcharts-chart"));z(bt)&&x[bt]&&x[bt].hasRendered&&x[bt].destroy(),w(ft,"data-highcharts-chart",this.index),ft.innerHTML=_.emptyHTML,tt.skipClone||ft.offsetWidth||this.temporaryDisplay(),this.getChartSize(),bt=this.chartWidth;var Tt=this.chartHeight;if(L(ft,{overflow:"hidden"}),this.styledMode||(dt=E({position:"relative",overflow:"hidden",width:bt+"px",height:Tt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},tt.style||{})),this.container=lt=I("div",{id:lt},dt,ft),this._cursor=lt.style.cursor,this.renderer=new(tt.renderer||!r?O.getRendererType(tt.renderer):g)(lt,bt,Tt,void 0,tt.forExport,H.exporting&&H.exporting.allowHTML,this.styledMode),C(void 0,this),this.setClassName(tt.className),this.styledMode)for(var Lt in H.defs)this.renderer.definition(H.defs[Lt]);else this.renderer.setStyle(tt.style);this.renderer.chartIndex=this.index,G(this,"afterGetContainer")},ct.prototype.getMargins=function(H){var tt=this.spacing,lt=this.margin,dt=this.titleOffset;this.resetMargins(),dt[0]&&!S(lt[0])&&(this.plotTop=Math.max(this.plotTop,dt[0]+tt[0])),dt[2]&&!S(lt[2])&&(this.marginBottom=Math.max(this.marginBottom,dt[2]+tt[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(lt,tt),G(this,"getMargins"),H||this.getAxisMargins()},ct.prototype.getAxisMargins=function(){var H=this,tt=H.axisOffset=[0,0,0,0],lt=H.colorAxis,dt=H.margin,ft=function(bt){bt.forEach(function(Tt){Tt.visible&&Tt.getOffset()})};H.hasCartesianSeries?ft(H.axes):lt&&lt.length&&ft(lt),m.forEach(function(bt,Tt){S(dt[Tt])||(H[bt]+=tt[Tt])}),H.setChartSize()},ct.prototype.reflow=function(H){var tt=this,lt=tt.options.chart,dt=tt.renderTo,ft=S(lt.width)&&S(lt.height),bt=lt.width||W(dt,"width");lt=lt.height||W(dt,"height"),dt=H?H.target:p,delete tt.pointer.chartPosition,!ft&&!tt.isPrinting&&bt&&lt&&(dt===p||dt===f)&&((bt!==tt.containerWidth||lt!==tt.containerHeight)&&(v.clearTimeout(tt.reflowTimeout),tt.reflowTimeout=yt(function(){tt.container&&tt.setSize(void 0,void 0,!1)},H?100:0)),tt.containerWidth=bt,tt.containerHeight=lt)},ct.prototype.setReflow=function(H){var tt=this;!1===H||this.unbindReflow?!1===H&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=l(p,"resize",function(lt){tt.options&&tt.reflow(lt)}),l(this,"destroy",this.unbindReflow))},ct.prototype.setSize=function(H,tt,lt){var dt=this,ft=dt.renderer;dt.isResizing+=1,C(lt,dt),lt=ft.globalAnimation,dt.oldChartHeight=dt.chartHeight,dt.oldChartWidth=dt.chartWidth,void 0!==H&&(dt.options.chart.width=H),void 0!==tt&&(dt.options.chart.height=tt),dt.getChartSize(),dt.styledMode||(lt?T:L)(dt.container,{width:dt.chartWidth+"px",height:dt.chartHeight+"px"},lt),dt.setChartSize(!0),ft.setSize(dt.chartWidth,dt.chartHeight,lt),dt.axes.forEach(function(bt){bt.isDirty=!0,bt.setScale()}),dt.isDirtyLegend=!0,dt.isDirtyBox=!0,dt.layOutTitles(),dt.getMargins(),dt.redraw(lt),dt.oldChartHeight=null,G(dt,"resize"),yt(function(){dt&&G(dt,"endResize",null,function(){--dt.isResizing})},y(lt).duration)},ct.prototype.setChartSize=function(H){var jt,Rt,Et,Ht,tt=this.inverted,lt=this.renderer,dt=this.chartWidth,ft=this.chartHeight,bt=this.options.chart,Tt=this.spacing,Lt=this.clipOffset;this.plotLeft=jt=Math.round(this.plotLeft),this.plotTop=Rt=Math.round(this.plotTop),this.plotWidth=Et=Math.max(0,Math.round(dt-jt-this.marginRight)),this.plotHeight=Ht=Math.max(0,Math.round(ft-Rt-this.marginBottom)),this.plotSizeX=tt?Ht:Et,this.plotSizeY=tt?Et:Ht,this.plotBorderWidth=bt.plotBorderWidth||0,this.spacingBox=lt.spacingBox={x:Tt[3],y:Tt[0],width:dt-Tt[3]-Tt[1],height:ft-Tt[0]-Tt[2]},this.plotBox=lt.plotBox={x:jt,y:Rt,width:Et,height:Ht},tt=2*Math.floor(this.plotBorderWidth/2),dt=Math.ceil(Math.max(tt,Lt[3])/2),ft=Math.ceil(Math.max(tt,Lt[0])/2),this.clipBox={x:dt,y:ft,width:Math.floor(this.plotSizeX-Math.max(tt,Lt[1])/2-dt),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(tt,Lt[2])/2-ft))},H||(this.axes.forEach(function(It){It.setAxisSize(),It.setAxisTranslation()}),lt.alignElements()),G(this,"afterSetChartSize",{skipAxes:H})},ct.prototype.resetMargins=function(){G(this,"resetMargins");var H=this,tt=H.options.chart;["margin","spacing"].forEach(function(lt){var dt=tt[lt],ft=R(dt)?dt:[dt,dt,dt,dt];["Top","Right","Bottom","Left"].forEach(function(bt,Tt){H[lt][Tt]=it(tt[lt+bt],ft[Tt])})}),m.forEach(function(lt,dt){H[lt]=it(H.margin[dt],H.spacing[dt])}),H.axisOffset=[0,0,0,0],H.clipOffset=[0,0,0,0]},ct.prototype.drawChartBox=function(){var pe,H=this.options.chart,tt=this.renderer,lt=this.chartWidth,dt=this.chartHeight,ft=this.styledMode,bt=this.plotBGImage,Tt=H.backgroundColor,Lt=H.plotBackgroundColor,jt=H.plotBackgroundImage,Rt=this.plotLeft,Et=this.plotTop,Ht=this.plotWidth,It=this.plotHeight,Pt=this.plotBox,kt=this.clipRect,Ut=this.clipBox,zt=this.chartBackground,Vt=this.plotBackground,ie=this.plotBorder,ne="animate";if(zt||(this.chartBackground=zt=tt.rect().addClass("highcharts-background").add(),ne="attr"),ft)var de=pe=zt.strokeWidth();else pe=(de=H.borderWidth||0)+(H.shadow?8:0),Tt={fill:Tt||"none"},(de||zt["stroke-width"])&&(Tt.stroke=H.borderColor,Tt["stroke-width"]=de),zt.attr(Tt).shadow(H.shadow);zt[ne]({x:pe/2,y:pe/2,width:lt-pe-de%2,height:dt-pe-de%2,r:H.borderRadius}),ne="animate",Vt||(ne="attr",this.plotBackground=Vt=tt.rect().addClass("highcharts-plot-background").add()),Vt[ne](Pt),ft||(Vt.attr({fill:Lt||"none"}).shadow(H.plotShadow),jt&&(bt?(jt!==bt.attr("href")&&bt.attr("href",jt),bt.animate(Pt)):this.plotBGImage=tt.image(jt,Rt,Et,Ht,It).add())),kt?kt.animate({width:Ut.width,height:Ut.height}):this.clipRect=tt.clipRect(Ut),ne="animate",ie||(ne="attr",this.plotBorder=ie=tt.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),ft||ie.attr({stroke:H.plotBorderColor,"stroke-width":H.plotBorderWidth||0,fill:"none"}),ie[ne](ie.crisp({x:Rt,y:Et,width:Ht,height:It},-ie.strokeWidth())),this.isDirtyBox=!1,G(this,"afterDrawChartBox")},ct.prototype.propFromSeries=function(){var dt,ft,bt,H=this,tt=H.options.chart,lt=H.options.series;["inverted","angular","polar"].forEach(function(Tt){for(ft=h[tt.type||tt.defaultSeriesType],bt=tt[Tt]||ft&&ft.prototype[Tt],dt=lt&&lt.length;!bt&&dt--;)(ft=h[lt[dt].type])&&ft.prototype[Tt]&&(bt=!0);H[Tt]=bt})},ct.prototype.linkSeries=function(){var H=this,tt=H.series;tt.forEach(function(lt){lt.linkedSeries.length=0}),tt.forEach(function(lt){var dt=lt.options.linkedTo;V(dt)&&(dt=":previous"===dt?H.series[lt.index-1]:H.get(dt))&&dt.linkedParent!==lt&&(dt.linkedSeries.push(lt),lt.linkedParent=dt,dt.enabledDataSorting&&lt.setDataSortingOptions(),lt.visible=it(lt.options.visible,dt.options.visible,lt.visible))}),G(this,"afterLinkSeries")},ct.prototype.renderSeries=function(){this.series.forEach(function(H){H.translate(),H.render()})},ct.prototype.renderLabels=function(){var H=this,tt=H.options.labels;tt.items&&tt.items.forEach(function(lt){var dt=E(tt.style,lt.style),ft=ot(dt.left)+H.plotLeft,bt=ot(dt.top)+H.plotTop+12;delete dt.left,delete dt.top,H.renderer.text(lt.html,ft,bt).attr({zIndex:2}).css(dt).add()})},ct.prototype.render=function(){var H=this.axes,tt=this.colorAxis,lt=this.renderer,dt=this.options,ft=function(Rt){Rt.forEach(function(Et){Et.visible&&Et.render()})},bt=0;this.setTitle(),this.legend=new K(this,dt.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),dt=this.plotWidth,H.some(function(Rt){if(Rt.horiz&&Rt.visible&&Rt.options.labels.enabled&&Rt.series.length)return bt=21,!0});var Tt=this.plotHeight=Math.max(this.plotHeight-bt,0);H.forEach(function(Rt){Rt.setScale()}),this.getAxisMargins();var Lt=1.1<dt/this.plotWidth,jt=1.05<Tt/this.plotHeight;(Lt||jt)&&(H.forEach(function(Rt){(Rt.horiz&&Lt||!Rt.horiz&&jt)&&Rt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?ft(H):tt&&tt.length&&ft(tt),this.seriesGroup||(this.seriesGroup=lt.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},ct.prototype.addCredits=function(H){var tt=this,lt=Z(!0,this.options.credits,H);lt.enabled&&!this.credits&&(this.credits=this.renderer.text(lt.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){lt.href&&(p.location.href=lt.href)}).attr({align:lt.position.align,zIndex:8}),tt.styledMode||this.credits.css(lt.style),this.credits.add().align(lt.position),this.credits.update=function(dt){tt.credits=tt.credits.destroy(),tt.addCredits(dt)})},ct.prototype.destroy=function(){var bt,H=this,tt=H.axes,lt=H.series,dt=H.container,ft=dt&&dt.parentNode;for(G(H,"destroy"),H.renderer.forExport?c(x,H):x[H.index]=void 0,J.chartCount--,H.renderTo.removeAttribute("data-highcharts-chart"),mt(H),bt=tt.length;bt--;)tt[bt]=tt[bt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),bt=lt.length;bt--;)lt[bt]=lt[bt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Tt){var Lt=H[Tt];Lt&&Lt.destroy&&(H[Tt]=Lt.destroy())}),dt&&(dt.innerHTML=_.emptyHTML,mt(dt),ft&&B(dt)),nt(H,function(Tt,Lt){delete H[Lt]})},ct.prototype.firstRender=function(){var H=this,tt=H.options;(!H.isReadyToRender||H.isReadyToRender())&&(H.getContainer(),H.resetMargins(),H.setChartSize(),H.propFromSeries(),H.getAxes(),(b(tt.series)?tt.series:[]).forEach(function(lt){H.initSeries(lt)}),H.linkSeries(),H.setSeriesData(),G(H,"beforeRender"),N&&(H.pointer=X.isRequired()?new X(H,tt):new N(H,tt)),H.render(),H.pointer.getChartPosition(),!H.renderer.imgCount&&!H.hasLoaded&&H.onload(),H.temporaryDisplay(!0))},ct.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(H){H&&void 0!==this.index&&H.apply(this,[this])},this),G(this,"load"),G(this,"render"),S(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},ct.prototype.addSeries=function(H,tt,lt){var ft,dt=this;return H&&(tt=it(tt,!0),G(dt,"addSeries",{options:H},function(){ft=dt.initSeries(H),dt.isDirtyLegend=!0,dt.linkSeries(),ft.enabledDataSorting&&ft.setData(H.data,!1),G(dt,"afterAddSeries",{series:ft}),tt&&dt.redraw(lt)})),ft},ct.prototype.addAxis=function(H,tt,lt,dt){return this.createAxis(tt?"xAxis":"yAxis",{axis:H,redraw:lt,animation:dt})},ct.prototype.addColorAxis=function(H,tt,lt){return this.createAxis("colorAxis",{axis:H,redraw:tt,animation:lt})},ct.prototype.createAxis=function(H,tt){return H=new $(this,Z(tt.axis,{index:this[H].length,isX:"xAxis"===H})),it(tt.redraw,!0)&&this.redraw(tt.animation),H},ct.prototype.showLoading=function(H){var tt=this,lt=tt.options,dt=lt.loading,ft=function(){bt&&L(bt,{left:tt.plotLeft+"px",top:tt.plotTop+"px",width:tt.plotWidth+"px",height:tt.plotHeight+"px"})},bt=tt.loadingDiv,Tt=tt.loadingSpan;bt||(tt.loadingDiv=bt=I("div",{className:"highcharts-loading highcharts-loading-hidden"},null,tt.container)),Tt||(tt.loadingSpan=Tt=I("span",{className:"highcharts-loading-inner"},null,bt),l(tt,"redraw",ft)),bt.className="highcharts-loading",_.setElementHTML(Tt,it(H,lt.lang.loading,"")),tt.styledMode||(L(bt,E(dt.style,{zIndex:10})),L(Tt,dt.labelStyle),tt.loadingShown||(L(bt,{opacity:0,display:""}),T(bt,{opacity:dt.style.opacity||.5},{duration:dt.showDuration||0}))),tt.loadingShown=!0,ft()},ct.prototype.hideLoading=function(){var H=this.options,tt=this.loadingDiv;tt&&(tt.className="highcharts-loading highcharts-loading-hidden",this.styledMode||T(tt,{opacity:0},{duration:H.loading.hideDuration||100,complete:function(){L(tt,{display:"none"})}})),this.loadingShown=!1},ct.prototype.update=function(H,tt,lt,dt){var jt,Rt,ft=this,bt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Tt=H.isResponsiveOptions,Lt=[];G(ft,"update",{options:H}),Tt||ft.setResponsive(!1,!0),H=P(H,ft.options),ft.userOptions=Z(ft.userOptions,H);var Et=H.chart;if(Et){if(Z(!0,ft.options.chart,Et),"className"in Et&&ft.setClassName(Et.className),"reflow"in Et&&ft.setReflow(Et.reflow),"inverted"in Et||"polar"in Et||"type"in Et){ft.propFromSeries();var Ht=!0}"alignTicks"in Et&&(Ht=!0),"events"in Et&&D(this,Et),nt(Et,function(It,Pt){-1!==ft.propsRequireUpdateSeries.indexOf("chart."+Pt)&&(jt=!0),-1!==ft.propsRequireDirtyBox.indexOf(Pt)&&(ft.isDirtyBox=!0),-1!==ft.propsRequireReflow.indexOf(Pt)&&(Tt?ft.isDirtyBox=!0:Rt=!0)}),!ft.styledMode&&Et.style&&ft.renderer.setStyle(ft.options.chart.style||{})}!ft.styledMode&&H.colors&&(this.options.colors=H.colors),H.time&&(this.time===n&&(this.time=new d(H.time)),Z(!0,ft.options.time,H.time)),nt(H,function(It,Pt){ft[Pt]&&"function"==typeof ft[Pt].update?ft[Pt].update(It,!1):"function"==typeof ft[bt[Pt]]?ft[bt[Pt]](It):"colors"!==Pt&&-1===ft.collectionsWithUpdate.indexOf(Pt)&&Z(!0,ft.options[Pt],H[Pt]),"chart"!==Pt&&-1!==ft.propsRequireUpdateSeries.indexOf(Pt)&&(jt=!0)}),this.collectionsWithUpdate.forEach(function(It){if(H[It]){var Pt=[];ft[It].forEach(function(kt,Ut){kt.options.isInternal||Pt.push(it(kt.options.index,Ut))}),_t(H[It]).forEach(function(kt,Ut){var Vt,zt=S(kt.id);zt&&(Vt=ft.get(kt.id)),!Vt&&ft[It]&&(Vt=ft[It][Pt?Pt[Ut]:Ut])&&zt&&S(Vt.options.id)&&(Vt=void 0),Vt&&Vt.coll===It&&(Vt.update(kt,!1),lt&&(Vt.touched=!0)),!Vt&&lt&&ft.collectionsWithInit[It]&&(ft.collectionsWithInit[It][0].apply(ft,[kt].concat(ft.collectionsWithInit[It][1]||[]).concat([!1])).touched=!0)}),lt&&ft[It].forEach(function(kt){kt.touched||kt.options.isInternal?delete kt.touched:Lt.push(kt)})}}),Lt.forEach(function(It){It.chart&&It.remove&&It.remove(!1)}),Ht&&ft.axes.forEach(function(It){It.update({},!1)}),jt&&ft.getSeriesOrderByLinks().forEach(function(It){It.chart&&It.update({},!1)},this),Ht=Et&&Et.width,Et=Et&&(V(Et.height)?at(Et.height,Ht||ft.chartWidth):Et.height),Rt||z(Ht)&&Ht!==ft.chartWidth||z(Et)&&Et!==ft.chartHeight?ft.setSize(Ht,Et,dt):it(tt,!0)&&ft.redraw(dt),G(ft,"afterUpdate",{options:H,redraw:tt,animation:dt})},ct.prototype.setSubtitle=function(H,tt){this.applyDescription("subtitle",H),this.layOutTitles(tt)},ct.prototype.setCaption=function(H,tt){this.applyDescription("caption",H),this.layOutTitles(tt)},ct.prototype.showResetZoom=function(){function H(){tt.zoomOut()}var tt=this,lt=a.lang,dt=tt.options.chart.resetZoomButton,ft=dt.theme,bt=ft.states,Tt="chart"===dt.relativeTo||"spacingBox"===dt.relativeTo?null:"scrollablePlotBox";G(this,"beforeShowResetZoom",null,function(){tt.resetZoomButton=tt.renderer.button(lt.resetZoom,null,null,H,ft,bt&&bt.hover).attr({align:dt.position.align,title:lt.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(dt.position,!1,Tt)}),G(this,"afterShowResetZoom")},ct.prototype.zoomOut=function(){G(this,"selection",{resetSelection:!0},this.zoom)},ct.prototype.zoom=function(H){var bt,tt=this,lt=tt.pointer,dt=tt.inverted?lt.mouseDownX:lt.mouseDownY,ft=!1;!H||H.resetSelection?(tt.axes.forEach(function(Lt){bt=Lt.zoom()}),lt.initiated=!1):H.xAxis.concat(H.yAxis).forEach(function(Lt){var jt=Lt.axis,Rt=tt.inverted?jt.left:jt.top,Ht=jt.isXAxis,It=!1;(!Ht&&dt>=Rt&&dt<=(tt.inverted?Rt+jt.width:Rt+jt.height)||Ht||!S(dt))&&(It=!0),lt[Ht?"zoomX":"zoomY"]&&It&&(bt=jt.zoom(Lt.min,Lt.max),jt.displayBtn&&(ft=!0))});var Tt=tt.resetZoomButton;ft&&!Tt?tt.showResetZoom():!ft&&R(Tt)&&(tt.resetZoomButton=Tt.destroy()),bt&&tt.redraw(it(tt.options.chart.animation,H&&H.animation,100>tt.pointCount))},ct.prototype.pan=function(H,tt){var lt=this,dt=lt.hoverPoints;tt="object"==typeof tt?tt:{enabled:tt,type:"x"};var ft=lt.options.chart,bt=lt.options.mapNavigation&&lt.options.mapNavigation.enabled;ft&&ft.panning&&(ft.panning=tt);var Lt,Tt=tt.type;G(this,"pan",{originalEvent:H},function(){dt&&dt.forEach(function(Et){Et.setState()});var jt=lt.xAxis;"xy"===Tt?jt=jt.concat(lt.yAxis):"y"===Tt&&(jt=lt.yAxis);var Rt={};jt.forEach(function(Et){if(Et.options.panningEnabled&&!Et.options.isInternal){var Ht=Et.horiz,It=H[Ht?"chartX":"chartY"],Pt=lt[Ht=Ht?"mouseDownX":"mouseDownY"],kt=Et.minPointOffset||0,Ut=Et.reversed&&!lt.inverted||!Et.reversed&&lt.inverted?-1:1,zt=Et.getExtremes(),Vt=Et.toValue(Pt-It,!0)+kt*Ut,ie=Et.toValue(Pt+Et.len-It,!0)-(kt*Ut||Et.isXAxis&&Et.pointRangePadding||0),pe=ie<Vt;Ut=Et.hasVerticalPanning(),Pt=pe?ie:Vt,Vt=pe?Vt:ie;var ne=Et.panningState;!Ut||Et.isXAxis||ne&&!ne.isDirty||Et.series.forEach(function(de){var Ae=de.getProcessedData(!0);Ae=de.getExtremes(Ae.yData,!0),ne||(ne={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),z(Ae.dataMin)&&z(Ae.dataMax)&&(ne.startMin=Math.min(it(de.options.threshold,1/0),Ae.dataMin,ne.startMin),ne.startMax=Math.max(it(de.options.threshold,-1/0),Ae.dataMax,ne.startMax))}),Ut=Math.min(it(ne&&ne.startMin,zt.dataMin),kt?zt.min:Et.toValue(Et.toPixels(zt.min)-Et.minPixelPadding)),ie=Math.max(it(ne&&ne.startMax,zt.dataMax),kt?zt.max:Et.toValue(Et.toPixels(zt.max)+Et.minPixelPadding)),Et.panningState=ne,Et.isOrdinal||(0<(kt=Ut-Pt)&&(Vt+=kt,Pt=Ut),0<(kt=Vt-ie)&&(Vt=ie,Pt-=kt),Et.series.length&&Pt!==zt.min&&Vt!==zt.max&&Pt>=Ut&&Vt<=ie&&(Et.setExtremes(Pt,Vt,!1,!1,{trigger:"pan"}),lt.resetZoomButton||bt||Pt===Ut||Vt===ie||!Tt.match("y")||(lt.showResetZoom(),Et.displayBtn=!1),Lt=!0),Rt[Ht]=It)}}),nt(Rt,function(Et,Ht){lt[Ht]=Et}),Lt&&lt.redraw(!1),L(lt.container,{cursor:"move"})})},ct}(),E(Y.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Y.prototype.addAxis,[!0]],yAxis:[Y.prototype.addAxis,[!1]],series:[Y.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),Y}),wt(o,"Core/Legend/LegendSymbol.js",[o["Core/Utilities.js"]],function(Y){var rt,J,$=Y.merge,q=Y.pick;return(J=rt||(rt={})).drawLineMarker=function(K){var X=this.options,F=K.symbolWidth,N=K.symbolHeight,O=N/2,k=this.chart.renderer,g=this.legendGroup;K=K.baseline-Math.round(.3*K.fontMetrics.b);var d={},v=X.marker;this.chart.styledMode||(d={"stroke-width":X.lineWidth||0},X.dashStyle&&(d.dashstyle=X.dashStyle)),this.legendLine=k.path([["M",0,K],["L",F,K]]).addClass("highcharts-graph").attr(d).add(g),v&&!1!==v.enabled&&F&&(X=Math.min(q(v.radius,O),O),0===this.symbol.indexOf("url")&&(v=$(v,{width:N,height:N}),X=0),this.legendSymbol=F=k.symbol(this.symbol,F/2-X,K-X,2*X,2*X,v).addClass("highcharts-point").add(g),F.isMarker=!0)},J.drawRectangle=function(K,X){var F=K.symbolHeight,N=K.options.squareSymbol;X.legendSymbol=this.chart.renderer.rect(N?(K.symbolWidth-F)/2:0,K.baseline-F+1,N?F:K.symbolWidth,F,q(K.options.symbolRadius,F/2)).addClass("highcharts-point").attr({zIndex:3}).add(X.legendGroup)},rt}),wt(o,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),wt(o,"Core/Series/Series.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/DefaultOptions.js"],o["Core/Foundation.js"],o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/Point.js"],o["Core/Series/SeriesDefaults.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N,O){var k=Y.animObject,g=Y.setAnimation,d=$.defaultOptions,v=q.registerEventOptions,_=rt.hasTouch,T=rt.svg,y=rt.win,C=F.seriesTypes,M=O.addEvent,D=O.arrayMax,x=O.arrayMin,f=O.clamp,m=O.cleanRecursively,r=O.correctFloat,p=O.defined,a=O.erase,n=O.error,h=O.extend,l=O.find,w=O.fireEvent,P=O.getNestedProperty,I=O.isArray,L=O.isNumber,S=O.isString,B=O.merge,c=O.objectEach,u=O.pick,E=O.removeEvent,j=O.splat,G=O.syncTimeout;return Y=function(){function W(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return W.prototype.init=function(b,z){w(this,"init",{options:z});var R=this,V=b.series;this.eventsToUnbind=[],R.chart=b,R.options=R.setOptions(z),z=R.options,R.linkedSeries=[],R.bindAxes(),h(R,{name:z.name,state:"",visible:!1!==z.visible,selected:!0===z.selected}),v(this,z);var nt,Z=z.events;(Z&&Z.click||z.point&&z.point.events&&z.point.events.click||z.allowPointSelect)&&(b.runTrackerClick=!0),R.getColor(),R.getSymbol(),R.parallelArrays.forEach(function(it){R[it+"Data"]||(R[it+"Data"]=[])}),R.isCartesian&&(b.hasCartesianSeries=!0),V.length&&(nt=V[V.length-1]),R._i=u(nt&&nt._i,-1)+1,R.opacity=R.options.opacity,b.orderSeries(this.insert(V)),z.dataSorting&&z.dataSorting.enabled?R.setDataSortingOptions():R.points||R.data||R.setData(z.data,!1),w(this,"afterInit")},W.prototype.is=function(b){return C[b]&&this instanceof C[b]},W.prototype.insert=function(b){var R,z=this.options.index;if(L(z)){for(R=b.length;R--;)if(z>=u(b[R].options.index,b[R]._i)){b.splice(R+1,0,this);break}-1===R&&b.unshift(this),R+=1}else b.push(this);return u(R,b.length-1)},W.prototype.bindAxes=function(){var V,b=this,z=b.options,R=b.chart;w(this,"bindAxes",null,function(){(b.axisTypes||[]).forEach(function(Z){var nt=0;R[Z].forEach(function(it){V=it.options,(z[Z]===nt&&!V.isInternal||void 0!==z[Z]&&z[Z]===V.id||void 0===z[Z]&&0===V.index)&&(b.insert(it.series),b[Z]=it,it.isDirty=!0),V.isInternal||nt++}),b[Z]||b.optionalAxis===Z||n(18,!0,R)})}),w(this,"afterBindAxes")},W.prototype.updateParallelArrays=function(b,z){var R=b.series,V=arguments,Z=L(z)?function(nt){var it="y"===nt&&R.toYData?R.toYData(b):b[nt];R[nt+"Data"][z]=it}:function(nt){Array.prototype[z].apply(R[nt+"Data"],Array.prototype.slice.call(V,2))};R.parallelArrays.forEach(Z)},W.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},W.prototype.autoIncrement=function(b){var it,z=this.options,R=z.pointIntervalUnit,V=z.relativeXValue,Z=this.chart.time,nt=this.xIncrement;return nt=u(nt,z.pointStart,0),this.pointInterval=it=u(this.pointInterval,z.pointInterval,1),V&&L(b)&&(it*=b),R&&(z=new Z.Date(nt),"day"===R?Z.set("Date",z,Z.get("Date",z)+it):"month"===R?Z.set("Month",z,Z.get("Month",z)+it):"year"===R&&Z.set("FullYear",z,Z.get("FullYear",z)+it),it=z.getTime()-nt),V&&L(b)?nt+it:(this.xIncrement=nt+it,nt)},W.prototype.setDataSortingOptions=function(){var b=this.options;h(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),p(b.pointRange)||(b.pointRange=1)},W.prototype.setOptions=function(b){var z=this.chart,R=z.options,V=R.plotOptions,Z=z.userOptions||{};b=B(b),z=z.styledMode;var nt={plotOptions:V,userOptions:b};w(this,"setOptions",nt);var it=nt.plotOptions[this.type],ot=Z.plotOptions||{};return this.userOptions=nt.userOptions,Z=B(it,V.series,Z.plotOptions&&Z.plotOptions[this.type],b),this.tooltipOptions=B(d.tooltip,d.plotOptions.series&&d.plotOptions.series.tooltip,d.plotOptions[this.type].tooltip,R.tooltip.userOptions,V.series&&V.series.tooltip,V[this.type].tooltip,b.tooltip),this.stickyTracking=u(b.stickyTracking,ot[this.type]&&ot[this.type].stickyTracking,ot.series&&ot.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||Z.stickyTracking),null===it.marker&&delete Z.marker,this.zoneAxis=Z.zoneAxis,V=this.zones=(Z.zones||[]).slice(),!Z.negativeColor&&!Z.negativeFillColor||Z.zones||(R={value:Z[this.zoneAxis+"Threshold"]||Z.threshold||0,className:"highcharts-negative"},z||(R.color=Z.negativeColor,R.fillColor=Z.negativeFillColor),V.push(R)),V.length&&p(V[V.length-1].value)&&V.push(z?{}:{color:this.color,fillColor:this.fillColor}),w(this,"afterSetOptions",{options:Z}),Z},W.prototype.getName=function(){return u(this.options.name,"Series "+(this.index+1))},W.prototype.getCyclic=function(b,z,R){var V=this.chart,Z=this.userOptions,nt=b+"Index",it=b+"Counter",ot=R?R.length:u(V.options.chart[b+"Count"],V[b+"Count"]);if(!z){var at=u(Z[nt],Z["_"+nt]);p(at)||(V.series.length||(V[it]=0),Z["_"+nt]=at=V[it]%ot,V[it]+=1),R&&(z=R[at])}void 0!==at&&(this[nt]=at),this[b]=z},W.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||d.plotOptions[this.type].color,this.chart.options.colors)},W.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},W.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},W.prototype.findPointIndex=function(b,z){var it,ot,R=b.id,V=b.x,Z=this.points,nt=this.options.dataSorting;if(R)(nt=this.chart.get(R))instanceof K&&(it=nt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(it=function(mt){return!mt.touched&&mt.index===b.index},nt&&nt.matchByName?it=function(mt){return!mt.touched&&mt.name===b.name}:this.options.relativeXValue&&(it=function(mt){return!mt.touched&&mt.options.x===b.x}),!(it=l(Z,it))))return;if(it){var at=it&&it.index;void 0!==at&&(ot=!0)}return void 0===at&&L(V)&&(at=this.xData.indexOf(V,z)),-1!==at&&void 0!==at&&this.cropped&&(at=at>=this.cropStart?at-this.cropStart:at),!ot&&L(at)&&Z[at]&&Z[at].touched&&(at=void 0),at},W.prototype.updateData=function(b,z){var at,mt,_t,R=this.options,V=R.dataSorting,Z=this.points,nt=[],it=this.requireSorting,ot=b.length===Z.length,yt=!0;if(this.xIncrement=null,b.forEach(function(ut,ct){var H=p(ut)&&this.pointClass.prototype.optionsToObject.call({series:this},ut)||{};H.id||L(H.x)?(-1===(H=this.findPointIndex(H,_t))||void 0===H?nt.push(ut):Z[H]&&ut!==R.data[H]?(Z[H].update(ut,!1,null,!1),Z[H].touched=!0,it&&(_t=H+1)):Z[H]&&(Z[H].touched=!0),(!ot||ct!==H||V&&V.enabled||this.hasDerivedData)&&(at=!0)):nt.push(ut)},this),at)for(b=Z.length;b--;)(mt=Z[b])&&!mt.touched&&mt.remove&&mt.remove(!1,z);else!ot||V&&V.enabled?yt=!1:(b.forEach(function(ut,ct){ut!==Z[ct].y&&Z[ct].update&&Z[ct].update(ut,!1,null,!1)}),nt.length=0);return Z.forEach(function(ut){ut&&(ut.touched=!1)}),!!yt&&(nt.forEach(function(ut){this.addPoint(ut,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=D(this.xData),this.autoIncrement()),!0)},W.prototype.setData=function(b,z,R,V){var Z=this,nt=Z.points,it=nt&&nt.length||0,ot=Z.options,at=Z.chart,mt=ot.dataSorting,_t=Z.xAxis,yt=ot.turboThreshold,ut=this.xData,ct=this.yData,H=Z.pointArrayMap;H=H&&H.length;var lt,tt=ot.keys,dt=0,ft=1,bt=null,Tt=(b=b||[]).length;if(z=u(z,!0),mt&&mt.enabled&&(b=this.sortData(b)),!1!==V&&Tt&&it&&!Z.cropped&&!Z.hasGroupedData&&Z.visible&&!Z.isSeriesBoosting&&(lt=this.updateData(b,R)),!lt){if(Z.xIncrement=null,Z.colorCounter=0,this.parallelArrays.forEach(function(Lt){Z[Lt+"Data"].length=0}),yt&&Tt>yt)if(bt=Z.getFirstValidPoint(b),L(bt))for(R=0;R<Tt;R++)ut[R]=this.autoIncrement(),ct[R]=b[R];else if(I(bt))if(H)if(bt.length===H)for(R=0;R<Tt;R++)ut[R]=this.autoIncrement(),ct[R]=b[R];else for(R=0;R<Tt;R++)ut[R]=(V=b[R])[0],ct[R]=V.slice(1,H+1);else if(tt&&(dt=0<=(dt=tt.indexOf("x"))?dt:0,ft=0<=(ft=tt.indexOf("y"))?ft:1),1===bt.length&&(ft=0),dt===ft)for(R=0;R<Tt;R++)ut[R]=this.autoIncrement(),ct[R]=b[R][ft];else for(R=0;R<Tt;R++)ut[R]=(V=b[R])[dt],ct[R]=V[ft];else n(12,!1,at);else for(R=0;R<Tt;R++)void 0!==b[R]&&(Z.pointClass.prototype.applyOptions.apply(V={series:Z},[b[R]]),Z.updateParallelArrays(V,R));for(ct&&S(ct[0])&&n(14,!0,at),Z.data=[],Z.options.data=Z.userOptions.data=b,R=it;R--;)nt[R]&&nt[R].destroy&&nt[R].destroy();_t&&(_t.minRange=_t.userMinRange),Z.isDirty=at.isDirtyBox=!0,Z.isDirtyData=!!nt,R=!1}"point"===ot.legendType&&(this.processData(),this.generatePoints()),z&&at.redraw(R)},W.prototype.sortData=function(b){var z=this,R=z.options.dataSorting.sortKey||"y",V=function(Z,nt){return p(nt)&&Z.pointClass.prototype.optionsToObject.call({series:Z},nt)||{}};return b.forEach(function(Z,nt){b[nt]=V(z,Z),b[nt].index=nt},this),b.concat().sort(function(Z,nt){return Z=P(R,Z),(nt=P(R,nt))<Z?-1:nt>Z?1:0}).forEach(function(Z,nt){Z.x=nt},this),z.linkedSeries&&z.linkedSeries.forEach(function(Z){var nt=Z.options,it=nt.data;nt.dataSorting&&nt.dataSorting.enabled||!it||(it.forEach(function(ot,at){it[at]=V(Z,ot),b[at]&&(it[at].x=b[at].x,it[at].index=at)}),Z.setData(it,!1))}),b},W.prototype.getProcessedData=function(b){var z=this.xAxis,R=this.options,V=R.cropThreshold,Z=b||this.getExtremesFromAll||R.getExtremesFromAll,nt=this.isCartesian;b=z&&z.val2lin,R=!(!z||!z.logarithmic);var it=0,ot=this.xData,at=this.yData,mt=this.requireSorting,_t=!1,yt=ot.length;if(z){var ut=(_t=z.getExtremes()).min,ct=_t.max;_t=z.categories&&!z.names.length}if(nt&&this.sorted&&!Z&&(!V||yt>V||this.forceCrop))if(ot[yt-1]<ut||ot[0]>ct)ot=[],at=[];else if(this.yData&&(ot[0]<ut||ot[yt-1]>ct)){var H=this.cropData(this.xData,this.yData,ut,ct);ot=H.xData,at=H.yData,it=H.start,H=!0}for(V=ot.length||1;--V;)if(0<(z=R?b(ot[V])-b(ot[V-1]):ot[V]-ot[V-1])&&(void 0===tt||z<tt))var tt=z;else 0>z&&mt&&!_t&&(n(15,!1,this.chart),mt=!1);return{xData:ot,yData:at,cropped:H,cropStart:it,closestPointRange:tt}},W.prototype.processData=function(b){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!b)return!1;b=this.getProcessedData(),this.cropped=b.cropped,this.cropStart=b.cropStart,this.processedXData=b.xData,this.processedYData=b.yData,this.closestPointRange=this.basePointRange=b.closestPointRange,w(this,"afterProcessData")},W.prototype.cropData=function(b,z,R,V,Z){var it,nt=b.length,ot=0,at=nt;for(Z=u(Z,this.cropShoulder),it=0;it<nt;it++)if(b[it]>=R){ot=Math.max(0,it-Z);break}for(R=it;R<nt;R++)if(b[R]>V){at=R+Z;break}return{xData:b.slice(ot,at),yData:z.slice(ot,at),start:ot,end:at}},W.prototype.generatePoints=function(){var b=this.options,z=b.data,R=this.processedXData,V=this.processedYData,Z=this.pointClass,nt=R.length,it=this.cropStart||0,ot=this.hasGroupedData,at=b.keys,mt=[];b=b.dataGrouping&&b.dataGrouping.groupAll?it:0;var _t,yt,ut=this.data;if(!ut&&!ot){var ct=[];ct.length=z.length,ut=this.data=ct}for(at&&ot&&(this.options.keys=!1),yt=0;yt<nt;yt++){if(ct=it+yt,ot){var H=(new Z).init(this,[R[yt]].concat(j(V[yt])));H.dataGroup=this.groupMap[b+yt],H.dataGroup.options&&(H.options=H.dataGroup.options,h(H,H.dataGroup.options),delete H.dataLabels)}else(H=ut[ct])||void 0===z[ct]||(ut[ct]=H=(new Z).init(this,z[ct],R[yt]));H&&(H.index=ot?b+yt:ct,mt[yt]=H)}if(this.options.keys=at,ut&&(nt!==(_t=ut.length)||ot))for(yt=0;yt<_t;yt++)yt!==it||ot||(yt+=nt),ut[yt]&&(ut[yt].destroyElements(),ut[yt].plotX=void 0);this.data=ut,this.points=mt,w(this,"afterGeneratePoints")},W.prototype.getXExtremes=function(b){return{min:x(b),max:D(b)}},W.prototype.getExtremes=function(b,z){var R=this.xAxis,V=this.yAxis,Z=this.processedXData||this.xData,nt=[],it=this.requireSorting?this.cropShoulder:0;V=!!V&&V.positiveValuesOnly;var ot,at=0,mt=0,_t=0,yt=(b=b||this.stackedYData||this.processedYData||[]).length;if(R){var ut=R.getExtremes();at=ut.min,mt=ut.max}for(ot=0;ot<yt;ot++){var ct=Z[ot],H=(L(ut=b[ot])||I(ut))&&(ut.length||0<ut||!V);if(ct=z||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!R||(Z[ot+it]||ct)>=at&&(Z[ot-it]||ct)<=mt,H&&ct)if(H=ut.length)for(;H--;)L(ut[H])&&(nt[_t++]=ut[H]);else nt[_t++]=ut}return b={activeYData:nt,dataMin:x(nt),dataMax:D(nt)},w(this,"afterGetExtremes",{dataExtremes:b}),b},W.prototype.applyExtremes=function(){var b=this.getExtremes();return this.dataMin=b.dataMin,this.dataMax=b.dataMax,b},W.prototype.getFirstValidPoint=function(b){for(var z=b.length,R=0,V=null;null===V&&R<z;)V=b[R],R++;return V},W.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var ct,H,b=this.options,z=b.stacking,R=this.xAxis,V=R.categories,Z=this.enabledDataSorting,nt=this.yAxis,it=this.points,ot=it.length,at=this.pointPlacementToXValue(),mt=!!at,_t=b.threshold,yt=b.startFromThreshold?_t:0,ut=this.zoneAxis||"y",tt=Number.MAX_VALUE;for(ct=0;ct<ot;ct++){var lt=it[ct],dt=lt.x,ft=void 0,bt=void 0,Tt=lt.y,Lt=lt.low,jt=z&&nt.stacking&&nt.stacking.stacks[(this.negStacks&&Tt<(yt?0:_t)?"-":"")+this.stackKey];if((nt.positiveValuesOnly&&!nt.validatePositiveValue(Tt)||R.positiveValuesOnly&&!R.validatePositiveValue(dt))&&(lt.isNull=!0),lt.plotX=H=r(f(R.translate(dt,0,0,0,1,at,"flags"===this.type),-1e5,1e5)),z&&this.visible&&jt&&jt[dt]){var Rt=this.getStackIndicator(Rt,dt,this.index);lt.isNull||(bt=(ft=jt[dt]).points[Rt.key])}if(I(bt)&&(Tt=bt[1],(Lt=bt[0])===yt&&Rt.key===jt[dt].base&&(Lt=u(L(_t)&&_t,nt.min)),nt.positiveValuesOnly&&0>=Lt&&(Lt=null),lt.total=lt.stackTotal=ft.total,lt.percentage=ft.total&&lt.y/ft.total*100,lt.stackY=Tt,this.irregularWidths||ft.setOffset(this.pointXOffset||0,this.barW||0)),lt.yBottom=p(Lt)?f(nt.translate(Lt,0,1,0,1),-1e5,1e5):null,this.dataModify&&(Tt=this.dataModify.modifyValue(Tt,ct)),lt.plotY=void 0,L(Tt)&&void 0!==(ft=nt.translate(Tt,!1,!0,!1,!0))&&(lt.plotY=f(ft,-1e5,1e5)),lt.isInside=this.isPointInside(lt),lt.clientX=mt?r(R.translate(dt,0,0,0,1,at)):H,lt.negative=lt[ut]<(b[ut+"Threshold"]||_t||0),lt.category=V&&void 0!==V[lt.x]?V[lt.x]:lt.x,!lt.isNull&&!1!==lt.visible){void 0!==Et&&(tt=Math.min(tt,Math.abs(H-Et)));var Et=H}lt.zone=this.zones.length?lt.getZone():void 0,!lt.graphic&&this.group&&Z&&(lt.isNew=!0)}this.closestPointRangePx=tt,w(this,"afterTranslate")},W.prototype.getValidPoints=function(b,z,R){var V=this.chart;return(b||this.points||[]).filter(function(Z){return!(z&&!V.isInsidePlot(Z.plotX,Z.plotY,{inverted:V.inverted}))&&!1!==Z.visible&&(R||!Z.isNull)})},W.prototype.getClipBox=function(){var b=this.chart,z=this.xAxis,R=this.yAxis,V=B(b.clipBox);return z&&z.len!==b.plotSizeX&&(V.width=z.len),R&&R.len!==b.plotSizeY&&(V.height=R.len),V},W.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},W.prototype.setClip=function(){var b=this.chart,z=this.group,R=this.markerGroup,V=b.sharedClips;b=b.renderer;var Z=this.getClipBox(),nt=this.getSharedClipKey(),it=V[nt];it?it.animate(Z):V[nt]=it=b.clipRect(Z),z&&z.clip(!1===this.options.clip?void 0:it),R&&R.clip()},W.prototype.animate=function(b){var z=this.chart,R=this.group,V=this.markerGroup,Z=z.inverted,nt=k(this.options.animation),it=[this.getSharedClipKey(),nt.duration,nt.easing,nt.defer].join(),ot=z.sharedClips[it],at=z.sharedClips[it+"m"];if(b&&R)nt=this.getClipBox(),ot?ot.attr("height",nt.height):(nt.width=0,Z&&(nt.x=z.plotHeight),ot=z.renderer.clipRect(nt),z.sharedClips[it]=ot,at=z.renderer.clipRect({x:Z?(z.plotSizeX||0)+99:-99,y:Z?-z.plotLeft:-z.plotTop,width:99,height:Z?z.chartWidth:z.chartHeight}),z.sharedClips[it+"m"]=at),R.clip(ot),V&&V.clip(at);else if(ot&&!ot.hasClass("highcharts-animating")){z=this.getClipBox();var mt=nt.step;V&&V.element.childNodes.length&&(nt.step=function(_t,yt){mt&&mt.apply(yt,arguments),at&&at.element&&at.attr(yt.prop,"width"===yt.prop?_t+99:_t)}),ot.addClass("highcharts-animating").animate(z,nt)}},W.prototype.afterAnimate=function(){var b=this;this.setClip(),c(this.chart.sharedClips,function(z,R,V){z&&!b.chart.container.querySelector('[clip-path="url(#'+z.id+')"]')&&(z.destroy(),delete V[R])}),this.finishedAnimating=!0,w(this,"afterAnimate")},W.prototype.drawPoints=function(){var it,ot,b=this.points,z=this.chart,R=this.options.marker,V=this[this.specialGroup]||this.markerGroup,Z=this.xAxis,nt=u(R.enabled,!(Z&&!Z.isRadial)||null,this.closestPointRangePx>=R.enabledThreshold*R.radius);if(!1!==R.enabled||this._hasPointMarkers)for(it=0;it<b.length;it++){var at=b[it],mt=(ot=at.graphic)?"animate":"attr",_t=at.marker||{},yt=!!at.marker;if((nt&&void 0===_t.enabled||_t.enabled)&&!at.isNull&&!1!==at.visible){var ut=u(_t.symbol,this.symbol,"rect"),ct=this.markerAttribs(at,at.selected&&"select");this.enabledDataSorting&&(at.startXPos=Z.reversed?-(ct.width||0):Z.width);var H=!1!==at.isInside;ot?ot[H?"show":"hide"](H).animate(ct):H&&(0<(ct.width||0)||at.hasImage)&&(at.graphic=ot=z.renderer.symbol(ut,ct.x,ct.y,ct.width,ct.height,yt?_t:R).add(V),this.enabledDataSorting&&z.hasRendered&&(ot.attr({x:at.startXPos}),mt="animate")),ot&&"animate"===mt&&ot[H?"show":"hide"](H).animate(ct),ot&&!z.styledMode&&ot[mt](this.pointAttribs(at,at.selected&&"select")),ot&&ot.addClass(at.getClassName(),!0)}else ot&&(at.graphic=ot.destroy())}},W.prototype.markerAttribs=function(b,z){var R=this.options,V=R.marker,Z=b.marker||{},nt=Z.symbol||V.symbol,it=u(Z.radius,V.radius);return z&&(V=V.states[z],it=u((z=Z.states&&Z.states[z])&&z.radius,V&&V.radius,it+(V&&V.radiusPlus||0))),b.hasImage=nt&&0===nt.indexOf("url"),b.hasImage&&(it=0),b={x:R.crisp?Math.floor(b.plotX-it):b.plotX-it,y:b.plotY-it},it&&(b.width=b.height=2*it),b},W.prototype.pointAttribs=function(b,z){var R=this.options.marker,V=b&&b.options,Z=V&&V.marker||{},nt=V&&V.color,it=b&&b.color,ot=b&&b.zone&&b.zone.color,at=this.color;return b=u(Z.lineWidth,R.lineWidth),V=1,at=nt||ot||it||at,nt=Z.fillColor||R.fillColor||at,it=Z.lineColor||R.lineColor||at,R=R.states[z=z||"normal"]||{},b=u((z=Z.states&&Z.states[z]||{}).lineWidth,R.lineWidth,b+u(z.lineWidthPlus,R.lineWidthPlus,0)),{stroke:it=z.lineColor||R.lineColor||it,"stroke-width":b,fill:nt=z.fillColor||R.fillColor||nt,opacity:V=u(z.opacity,R.opacity,V)}},W.prototype.destroy=function(b){var it,ot,at,z=this,R=z.chart,V=/AppleWebKit\/533/.test(y.navigator.userAgent),Z=z.data||[];for(w(z,"destroy"),this.removeEvents(b),(z.axisTypes||[]).forEach(function(mt){(at=z[mt])&&at.series&&(a(at.series,z),at.isDirty=at.forceRedraw=!0)}),z.legendItem&&z.chart.legend.destroyItem(z),it=Z.length;it--;)(ot=Z[it])&&ot.destroy&&ot.destroy();z.clips&&z.clips.forEach(function(mt){return mt.destroy()}),O.clearTimeout(z.animationTimeout),c(z,function(mt,_t){mt instanceof N&&!mt.survive&&mt[V&&"group"===_t?"hide":"destroy"]()}),R.hoverSeries===z&&(R.hoverSeries=void 0),a(R.series,z),R.orderSeries(),c(z,function(mt,_t){b&&"hcEvents"===_t||delete z[_t]})},W.prototype.applyZones=function(){var _t,yt,ut,ct,H,tt,lt,dt,b=this,z=this.chart,R=z.renderer,V=this.zones,Z=this.clips||[],nt=this.graph,it=this.area,ot=Math.max(z.chartWidth,z.chartHeight),at=this[(this.zoneAxis||"y")+"Axis"],mt=z.inverted,ft=!1;if(V.length&&(nt||it)&&at&&void 0!==at.min){var bt=at.reversed,Tt=at.horiz;nt&&!this.showLine&&nt.hide(),it&&it.hide();var Lt=at.getExtremes();V.forEach(function(jt,Rt){_t=bt?Tt?z.plotWidth:0:Tt?0:at.toPixels(Lt.min)||0,_t=f(u(yt,_t),0,ot),yt=f(Math.round(at.toPixels(u(jt.value,Lt.max),!0)||0),0,ot),ft&&(_t=yt=at.toPixels(Lt.max)),ct=Math.abs(_t-yt),H=Math.min(_t,yt),tt=Math.max(_t,yt),at.isXAxis?(ut={x:mt?tt:H,y:0,width:ct,height:ot},Tt||(ut.x=z.plotHeight-ut.x)):(ut={x:0,y:mt?tt:H,width:ot,height:ct},Tt&&(ut.y=z.plotWidth-ut.y)),mt&&R.isVML&&(ut=at.isXAxis?{x:0,y:bt?H:tt,height:ut.width,width:z.chartWidth}:{x:ut.y-z.plotLeft-z.spacingBox.x,y:0,width:ut.height,height:z.chartHeight}),Z[Rt]?Z[Rt].animate(ut):Z[Rt]=R.clipRect(ut),lt=b["zone-area-"+Rt],dt=b["zone-graph-"+Rt],nt&&dt&&dt.clip(Z[Rt]),it&&lt&&lt.clip(Z[Rt]),ft=jt.value>Lt.max,b.resetZones&&0===yt&&(yt=void 0)}),this.clips=Z}else b.visible&&(nt&&nt.show(!0),it&&it.show(!0))},W.prototype.invertGroups=function(b){function z(){["group","markerGroup"].forEach(function(Z){R[Z]&&(V.renderer.isVML&&R[Z].attr({width:R.yAxis.len,height:R.xAxis.len}),R[Z].width=R.yAxis.len,R[Z].height=R.xAxis.len,R[Z].invert(!R.isRadialSeries&&b))})}var R=this,V=R.chart;R.xAxis&&(R.eventsToUnbind.push(M(V,"resize",z)),z(),R.invertGroups=z)},W.prototype.plotGroup=function(b,z,R,V,Z){var nt=this[b],it=!nt;return R={visibility:R,zIndex:V||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(R.opacity=this.opacity),it&&(this[b]=nt=this.chart.renderer.g().add(Z)),nt.addClass("highcharts-"+z+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(p(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(nt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),nt.attr(R)[it?"attr":"animate"](this.getPlotBox()),nt},W.prototype.getPlotBox=function(){var b=this.chart,z=this.xAxis,R=this.yAxis;return b.inverted&&(z=R,R=this.xAxis),{translateX:z?z.left:b.plotLeft,translateY:R?R.top:b.plotTop,scaleX:1,scaleY:1}},W.prototype.removeEvents=function(b){b||E(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(z){z()}),this.eventsToUnbind.length=0)},W.prototype.render=function(){var b=this,z=b.chart,R=b.options,V=k(R.animation),Z=b.visible?"inherit":"hidden",nt=R.zIndex,it=b.hasRendered,ot=z.seriesGroup,at=z.inverted;z=!b.finishedAnimating&&z.renderer.isSVG?V.duration:0,w(this,"render");var mt=b.plotGroup("group","series",Z,nt,ot);b.markerGroup=b.plotGroup("markerGroup","markers",Z,nt,ot),!1!==R.clip&&b.setClip(),b.animate&&z&&b.animate(!0),mt.inverted=!!u(b.invertible,b.isCartesian)&&at,b.drawGraph&&(b.drawGraph(),b.applyZones()),b.visible&&b.drawPoints(),b.drawDataLabels&&b.drawDataLabels(),b.redrawPoints&&b.redrawPoints(),b.drawTracker&&!1!==b.options.enableMouseTracking&&b.drawTracker(),b.invertGroups(at),b.animate&&z&&b.animate(),it||(z&&V.defer&&(z+=V.defer),b.animationTimeout=G(function(){b.afterAnimate()},z||0)),b.isDirty=!1,b.hasRendered=!0,w(b,"afterRender")},W.prototype.redraw=function(){var b=this.chart,z=this.isDirty||this.isDirtyData,R=this.group,V=this.xAxis,Z=this.yAxis;R&&(b.inverted&&R.attr({width:b.plotWidth,height:b.plotHeight}),R.animate({translateX:u(V&&V.left,b.plotLeft),translateY:u(Z&&Z.top,b.plotTop)})),this.translate(),this.render(),z&&delete this.kdTree},W.prototype.searchPoint=function(b,z){var R=this.xAxis,V=this.yAxis,Z=this.chart.inverted;return this.searchKDTree({clientX:Z?R.len-b.chartY+R.pos:b.chartX-R.pos,plotY:Z?V.len-b.chartX+V.pos:b.chartY-V.pos},z,b)},W.prototype.buildKDTree=function(b){function z(Z,nt,it){var ot=Z&&Z.length;if(ot){var at=R.kdAxisArray[nt%it];return Z.sort(function(mt,_t){return mt[at]-_t[at]}),{point:Z[ot=Math.floor(ot/2)],left:z(Z.slice(0,ot),nt+1,it),right:z(Z.slice(ot+1),nt+1,it)}}}this.buildingKdTree=!0;var R=this,V=-1<R.options.findNearestPointBy.indexOf("y")?2:1;delete R.kdTree,G(function(){R.kdTree=z(R.getValidPoints(null,!R.directTouch),V,V),R.buildingKdTree=!1},R.options.kdNow||b&&"touchstart"===b.type?0:1)},W.prototype.searchKDTree=function(b,z,R){var Z=this,nt=this.kdAxisArray[0],it=this.kdAxisArray[1],ot=z?"distX":"dist";if(z=-1<Z.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(R),this.kdTree)return function V(at,mt,_t,yt){var ut=mt.point,ct=Z.kdAxisArray[_t%yt],H=ut,tt=p(at[nt])&&p(ut[nt])?Math.pow(at[nt]-ut[nt],2):null,lt=p(at[it])&&p(ut[it])?Math.pow(at[it]-ut[it],2):null;return ut.dist=p(lt=(tt||0)+(lt||0))?Math.sqrt(lt):Number.MAX_VALUE,ut.distX=p(tt)?Math.sqrt(tt):Number.MAX_VALUE,tt=0>(ct=at[ct]-ut[ct])?"right":"left",mt[lt=0>ct?"left":"right"]&&(H=(lt=V(at,mt[lt],_t+1,yt))[ot]<H[ot]?lt:ut),mt[tt]&&Math.sqrt(ct*ct)<H[ot]&&(H=(at=V(at,mt[tt],_t+1,yt))[ot]<H[ot]?at:H),H}(b,this.kdTree,z,z)},W.prototype.pointPlacementToXValue=function(){var b=this.options,z=b.pointRange,R=this.xAxis;return"between"===(b=b.pointPlacement)&&(b=R.reversed?-.5:.5),L(b)?b*(z||R.pointRange):0},W.prototype.isPointInside=function(b){var z=this.chart,R=this.xAxis,V=this.yAxis;return void 0!==b.plotY&&void 0!==b.plotX&&0<=b.plotY&&b.plotY<=(V?V.len:z.plotHeight)&&0<=b.plotX&&b.plotX<=(R?R.len:z.plotWidth)},W.prototype.drawTracker=function(){var b=this,z=b.options,R=z.trackByArea,V=[].concat(R?b.areaPath:b.graphPath),Z=b.chart,nt=Z.pointer,it=Z.renderer,ot=Z.options.tooltip.snap,at=b.tracker,mt=function(yt){Z.hoverSeries!==b&&b.onMouseOver()},_t="rgba(192,192,192,"+(T?1e-4:.002)+")";at?at.attr({d:V}):b.graph&&(b.tracker=it.path(V).attr({visibility:b.visible?"visible":"hidden",zIndex:2}).addClass(R?"highcharts-tracker-area":"highcharts-tracker-line").add(b.group),Z.styledMode||b.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:_t,fill:R?_t:"none","stroke-width":b.graph.strokeWidth()+(R?0:2*ot)}),[b.tracker,b.markerGroup,b.dataLabelsGroup].forEach(function(yt){yt&&(yt.addClass("highcharts-tracker").on("mouseover",mt).on("mouseout",function(ut){nt.onTrackerMouseOut(ut)}),z.cursor&&!Z.styledMode&&yt.css({cursor:z.cursor}),_)&&yt.on("touchstart",mt)})),w(this,"afterDrawTracker")},W.prototype.addPoint=function(b,z,R,V,Z){var nt=this.options,it=this.data,ot=this.chart,at=this.xAxis;at=at&&at.hasNames&&at.names;var yt,mt=nt.data,_t=this.xData;z=u(z,!0);var ut={series:this};this.pointClass.prototype.applyOptions.apply(ut,[b]);var ct=ut.x,H=_t.length;if(this.requireSorting&&ct<_t[H-1])for(yt=!0;H&&_t[H-1]>ct;)H--;this.updateParallelArrays(ut,"splice",H,0,0),this.updateParallelArrays(ut,H),at&&ut.name&&(at[ct]=ut.name),mt.splice(H,0,b),yt&&(this.data.splice(H,0,null),this.processData()),"point"===nt.legendType&&this.generatePoints(),R&&(it[0]&&it[0].remove?it[0].remove(!1):(it.shift(),this.updateParallelArrays(ut,"shift"),mt.shift())),!1!==Z&&w(this,"addPoint",{point:ut}),this.isDirtyData=this.isDirty=!0,z&&ot.redraw(V)},W.prototype.removePoint=function(b,z,R){var V=this,Z=V.data,nt=Z[b],it=V.points,ot=V.chart,at=function(){it&&it.length===Z.length&&it.splice(b,1),Z.splice(b,1),V.options.data.splice(b,1),V.updateParallelArrays(nt||{series:V},"splice",b,1),nt&&nt.destroy(),V.isDirty=!0,V.isDirtyData=!0,z&&ot.redraw()};g(R,ot),z=u(z,!0),nt?nt.firePointEvent("remove",null,at):at()},W.prototype.remove=function(b,z,R,V){function Z(){nt.destroy(V),it.isDirtyLegend=it.isDirtyBox=!0,it.linkSeries(),u(b,!0)&&it.redraw(z)}var nt=this,it=nt.chart;!1!==R?w(nt,"remove",null,Z):Z()},W.prototype.update=function(b,z){b=m(b,this.userOptions),w(this,"update",{options:b});var _t,R=this,V=R.chart,Z=R.userOptions,nt=R.initialType||R.type,it=V.options.plotOptions,ot=C[nt].prototype,at=R.finishedAnimating&&{animation:!1},mt={},yt=["eventOptions","navigatorSeries","baseSeries"],ut=b.type||Z.type||V.options.chart.type,ct=!(this.hasDerivedData||ut&&ut!==this.type||void 0!==b.pointStart||void 0!==b.pointInterval||void 0!==b.relativeXValue||R.hasOptionChanged("dataGrouping")||R.hasOptionChanged("pointStart")||R.hasOptionChanged("pointInterval")||R.hasOptionChanged("pointIntervalUnit")||R.hasOptionChanged("keys"));if(ut=ut||nt,ct&&(yt.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==b.visible&&yt.push("area","graph"),R.parallelArrays.forEach(function(tt){yt.push(tt+"Data")}),b.data&&(b.dataSorting&&h(R.options.dataSorting,b.dataSorting),this.setData(b.data,!1))),b=B(Z,at,{index:void 0===Z.index?R.index:Z.index,pointStart:u(it&&it.series&&it.series.pointStart,Z.pointStart,R.xData[0])},!ct&&{data:R.options.data},b),ct&&b.data&&(b.data=R.options.data),(yt=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(yt)).forEach(function(tt){yt[tt]=R[tt],delete R[tt]}),it=!1,C[ut]){if(it=ut!==R.type,R.remove(!1,!1,!1,!0),it)if(Object.setPrototypeOf)Object.setPrototypeOf(R,C[ut].prototype);else{for(_t in at=Object.hasOwnProperty.call(R,"hcEvents")&&R.hcEvents,ot)R[_t]=void 0;h(R,C[ut].prototype),at?R.hcEvents=at:delete R.hcEvents}}else n(17,!0,V,{missingModuleFor:ut});if(yt.forEach(function(tt){R[tt]=yt[tt]}),R.init(V,b),ct&&this.points){var H=R.options;!1===H.visible?(mt.graphic=1,mt.dataLabel=1):R._hasPointLabels||(ot=H.dataLabels,!(b=H.marker)||!1!==b.enabled&&(Z.marker&&Z.marker.symbol)===b.symbol||(mt.graphic=1),ot&&!1===ot.enabled&&(mt.dataLabel=1)),this.points.forEach(function(tt){tt&&tt.series&&(tt.resolveColor(),Object.keys(mt).length&&tt.destroyElements(mt),!1===H.showInLegend&&tt.legendItem&&V.legend.destroyItem(tt))},this)}R.initialType=nt,V.linkSeries(),it&&R.linkedSeries.length&&(R.isDirtyData=!0),w(this,"afterUpdate"),u(z,!0)&&V.redraw(!!ct&&void 0)},W.prototype.setName=function(b){this.name=this.options.name=this.userOptions.name=b,this.chart.isDirtyLegend=!0},W.prototype.hasOptionChanged=function(b){var z=this.options[b],R=this.chart.options.plotOptions,V=this.userOptions[b];return V?z!==V:z!==u(R&&R[this.type]&&R[this.type][b],R&&R.series&&R.series[b],z)},W.prototype.onMouseOver=function(){var b=this.chart,z=b.hoverSeries;b.pointer.setHoverChartIndex(),z&&z!==this&&z.onMouseOut(),this.options.events.mouseOver&&w(this,"mouseOver"),this.setState("hover"),b.hoverSeries=this},W.prototype.onMouseOut=function(){var b=this.options,z=this.chart,R=z.tooltip,V=z.hoverPoint;z.hoverSeries=null,V&&V.onMouseOut(),this&&b.events.mouseOut&&w(this,"mouseOut"),!R||this.stickyTracking||R.shared&&!this.noSharedTooltip||R.hide(),z.series.forEach(function(Z){Z.setState("",!0)})},W.prototype.setState=function(b,z){var R=this,V=R.options,Z=R.graph,nt=V.inactiveOtherPoints,it=V.states,ot=u(it[b||"normal"]&&it[b||"normal"].animation,R.chart.options.chart.animation),at=V.lineWidth,mt=0,_t=V.opacity;if(R.state!==(b=b||"")&&([R.group,R.markerGroup,R.dataLabelsGroup].forEach(function(yt){yt&&(R.state&&yt.removeClass("highcharts-series-"+R.state),b&&yt.addClass("highcharts-series-"+b))}),R.state=b,!R.chart.styledMode)){if(it[b]&&!1===it[b].enabled)return;if(b&&(at=it[b].lineWidth||at+(it[b].lineWidthPlus||0),_t=u(it[b].opacity,_t)),Z&&!Z.dashstyle)for(Z.animate(V={"stroke-width":at},ot);R["zone-graph-"+mt];)R["zone-graph-"+mt].animate(V,ot),mt+=1;nt||[R.group,R.markerGroup,R.dataLabelsGroup,R.labelBySeries].forEach(function(yt){yt&&yt.animate({opacity:_t},ot)})}z&&nt&&R.points&&R.setAllPointsToState(b||void 0)},W.prototype.setAllPointsToState=function(b){this.points.forEach(function(z){z.setState&&z.setState(b)})},W.prototype.setVisible=function(b,z){var R=this,V=R.chart,Z=R.legendItem,nt=V.options.chart.ignoreHiddenSeries,ot=(R.visible=b=R.options.visible=R.userOptions.visible=void 0===b?!R.visible:b)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(at){R[at]&&R[at][ot]()}),(V.hoverSeries===R||(V.hoverPoint&&V.hoverPoint.series)===R)&&R.onMouseOut(),Z&&V.legend.colorizeItem(R,b),R.isDirty=!0,R.options.stacking&&V.series.forEach(function(at){at.options.stacking&&at.visible&&(at.isDirty=!0)}),R.linkedSeries.forEach(function(at){at.setVisible(b,!1)}),nt&&(V.isDirtyBox=!0),w(R,ot),!1!==z&&V.redraw()},W.prototype.show=function(){this.setVisible(!0)},W.prototype.hide=function(){this.setVisible(!1)},W.prototype.select=function(b){this.selected=b=this.options.selected=void 0===b?!this.selected:b,this.checkbox&&(this.checkbox.checked=b),w(this,b?"select":"unselect")},W.prototype.shouldShowTooltip=function(b,z,R){return void 0===R&&(R={}),R.series=this,R.visiblePlotOnly=!0,this.chart.isInsidePlot(b,z,R)},W.defaultOptions=X,W}(),h(Y.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:J.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:K,requireSorting:!0,sorted:!0}),F.series=Y,Y}),wt(o,"Extensions/ScrollablePlotArea.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/Series/Series.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){var X=Y.stop,F=K.addEvent,N=K.createElement,O=K.merge,k=K.pick;F(q,"afterSetChartSize",function(g){var d=this.options.chart.scrollablePlotArea,v=d&&d.minWidth;if(d=d&&d.minHeight,!this.renderer.forExport){if(v){if(this.scrollablePixelsX=v=Math.max(0,v-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=O(this.plotBox),this.plotBox.width=this.plotWidth+=v,this.inverted?this.clipBox.height+=v:this.clipBox.width+=v;var _={1:{name:"right",value:v}}}}else d&&(this.scrollablePixelsY=v=Math.max(0,d-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=O(this.plotBox),this.plotBox.height=this.plotHeight+=v,this.inverted?this.clipBox.width+=v:this.clipBox.height+=v,_={2:{name:"bottom",value:v}});_&&!g.skipAxes&&this.axes.forEach(function(T){_[T.side]?T.getPlotLinePath=function(){var y=_[T.side].name,C=this[y];this[y]=C-_[T.side].value;var M=$.prototype.getPlotLinePath.apply(this,arguments);return this[y]=C,M}:(T.setAxisSize(),T.setAxisTranslation())})}}),F(q,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),q.prototype.setUpScrolling=function(){var g=this,d={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(d.overflowX="auto"),this.scrollablePixelsY&&(d.overflowY="auto"),this.scrollingParent=N("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=N("div",{className:"highcharts-scrolling"},d,this.scrollingParent),F(this.scrollingContainer,"scroll",function(){g.pointer&&delete g.pointer.chartPosition}),this.innerContainer=N("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},q.prototype.moveFixedElements=function(){var _,g=this.container,d=this.fixedRenderer,v=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?_=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?_=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(_=".highcharts-yaxis"),_&&v.push(_+":not(.highcharts-radial-axis)",_+"-labels:not(.highcharts-radial-axis-labels)"),v.forEach(function(T){[].forEach.call(g.querySelectorAll(T),function(y){(y.namespaceURI===d.SVG_NS?d.box:d.box.parentNode).appendChild(y),y.style.pointerEvents="auto"})})},q.prototype.applyFixed=function(){var g=!this.fixedDiv,d=this.options.chart,v=d.scrollablePlotArea,_=J.getRendererType();g?(this.fixedDiv=N("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(d.style&&d.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=d=new _(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=d.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":k(v.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),F(this,"afterShowResetZoom",this.moveFixedElements),F(this,"afterDrilldown",this.moveFixedElements),F(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||g)&&(this.scrollableDirty=!1,this.moveFixedElements()),d=this.chartWidth+(this.scrollablePixelsX||0),_=this.chartHeight+(this.scrollablePixelsY||0),X(this.container),this.container.style.width=d+"px",this.container.style.height=_+"px",this.renderer.boxWrapper.attr({width:d,height:_,viewBox:[0,0,d,_].join(" ")}),this.chartBackground.attr({width:d,height:_}),this.scrollingContainer.style.height=this.chartHeight+"px",g&&(v.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*v.scrollPositionX),v.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*v.scrollPositionY)),g=this.plotTop-(_=this.axisOffset)[0]-1,v=this.plotLeft-_[3]-1,d=this.plotTop+this.plotHeight+_[2]+1,_=this.plotLeft+this.plotWidth+_[1]+1;var T=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),y=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);g=this.scrollablePixelsX?[["M",0,g],["L",this.plotLeft-1,g],["L",this.plotLeft-1,d],["L",0,d],["Z"],["M",T,g],["L",this.chartWidth,g],["L",this.chartWidth,d],["L",T,d],["Z"]]:this.scrollablePixelsY?[["M",v,0],["L",v,this.plotTop-1],["L",_,this.plotTop-1],["L",_,0],["Z"],["M",v,y],["L",v,this.chartHeight],["L",_,this.chartHeight],["L",_,y],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:g})},F($,"afterInit",function(){this.chart.scrollableDirty=!0}),F(rt,"show",function(){this.chart.scrollableDirty=!0})}),wt(o,"Core/Axis/StackingAxis.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/Axis.js"],o["Core/Utilities.js"]],function(Y,$,q){var O,rt=Y.getDeferredAnimation,J=q.addEvent,K=q.destroyObjectProperties,X=q.fireEvent,F=q.isNumber,N=q.objectEach;return function(k){function g(){var T=this.stacking;if(T){var y=T.stacks;N(y,function(C,M){K(C),y[M]=null}),T&&T.stackTotalGroup&&T.stackTotalGroup.destroy()}}function d(){this.stacking||(this.stacking=new _(this))}var v=[];k.compose=function(T){return-1===v.indexOf(T)&&(v.push(T),J(T,"init",d),J(T,"destroy",g)),T};var _=function(){function T(y){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=y}return T.prototype.buildStacks=function(){var x,y=this.axis,C=y.series,M=y.options.reversedStacks,D=C.length;if(!y.isXAxis){for(this.usePercentage=!1,x=D;x--;){var f=C[M?x:D-x-1];f.setStackedPoints(),f.setGroupedPoints()}for(x=0;x<D;x++)C[x].modifyStacks();X(y,"afterBuildStacks")}},T.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var y=this.stacks=this.oldStacks;N(y,function(C){N(C,function(M){M.cumulative=M.total})})}},T.prototype.resetStacks=function(){var y=this;y.axis.isXAxis||N(y.stacks,function(M){N(M,function(D,x){F(D.touched)&&D.touched<y.stacksTouched?(D.destroy(),delete M[x]):(D.total=null,D.cumulative=null)})})},T.prototype.renderStackTotals=function(){var y=this.axis,C=y.chart,M=C.renderer,D=this.stacks;y=rt(C,y.options.stackLabels&&y.options.stackLabels.animation||!1);var x=this.stackTotalGroup=this.stackTotalGroup||M.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();x.translate(C.plotLeft,C.plotTop),N(D,function(f){N(f,function(m){m.render(x)})}),x.animate({opacity:1},y)},T}();k.Additions=_}(O||(O={})),O}),wt(o,"Extensions/Stacking.js",[o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Series/Series.js"],o["Core/Axis/StackingAxis.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X){var F=q.format,N=X.correctFloat,O=X.defined,k=X.destroyObjectProperties,g=X.isArray,d=X.isNumber,v=X.objectEach,_=X.pick,T=function(){function y(C,M,D,x,f){var m=C.chart.inverted;this.axis=C,this.isNegative=D,this.options=M=M||{},this.x=x,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=f,this.rightCliff=this.leftCliff=0,this.alignOptions={align:M.align||(m?D?"left":"right":"center"),verticalAlign:M.verticalAlign||(m?"middle":D?"bottom":"top"),y:M.y,x:M.x},this.textAlign=M.textAlign||(m?D?"right":"left":"center")}return y.prototype.destroy=function(){k(this,this.axis)},y.prototype.render=function(C){var M=this.axis.chart,D=this.options,x=D.format;x=x?F(x,this,M):D.formatter.call(this),this.label?this.label.attr({text:x,visibility:"hidden"}):(this.label=M.renderer.label(x,null,null,D.shape,null,null,D.useHTML,!1,"stack-labels"),x={r:D.borderRadius||0,text:x,rotation:D.rotation,padding:_(D.padding,5),visibility:"hidden"},M.styledMode||(x.fill=D.backgroundColor,x.stroke=D.borderColor,x["stroke-width"]=D.borderWidth,this.label.css(D.style)),this.label.attr(x),this.label.added||this.label.add(C)),this.label.labelrank=M.plotSizeY},y.prototype.setOffset=function(C,M,D,x,f){var m=this.axis,r=m.chart;x=m.translate(m.stacking.usePercentage?100:x||this.total,0,0,0,1),D=m.translate(D||0),D=O(x)&&Math.abs(x-D),C=_(f,r.xAxis[0].translate(this.x))+C,m=O(x)&&this.getStackBox(r,this,C,x,M,D,m),M=this.label,D=this.isNegative,C="justify"===_(this.options.overflow,"justify");var p=this.textAlign;M&&m&&(f=M.getBBox(),x=M.padding,p="left"===p?r.inverted?-x:x:"right"===p?f.width:r.inverted&&"center"===p?f.width/2:r.inverted?D?f.width+x:-x:f.width/2,D=r.inverted?f.height/2:D?-x:f.height,this.alignOptions.x=_(this.options.x,0),this.alignOptions.y=_(this.options.y,0),m.x-=p,m.y-=D,M.align(this.alignOptions,null,m),r.isInsidePlot(M.alignAttr.x+p-this.alignOptions.x,M.alignAttr.y+D-this.alignOptions.y)?M.show():(M.alignAttr.y=-9999,C=!1),C&&J.prototype.justifyDataLabel.call(this.axis,M,this.alignOptions,M.alignAttr,f,m),M.attr({x:M.alignAttr.x,y:M.alignAttr.y}),_(!C&&this.options.crop,!0)&&((r=d(M.x)&&d(M.y)&&r.isInsidePlot(M.x-x+M.width,M.y)&&r.isInsidePlot(M.x+x,M.y))||M.hide()))},y.prototype.getStackBox=function(C,M,D,x,f,m,r){var p=M.axis.reversed,a=C.inverted,n=r.height+r.pos-(a?C.plotLeft:C.plotTop);return M=M.isNegative&&!p||!M.isNegative&&p,{x:a?M?x-r.right:x-m+r.pos-C.plotLeft:D+C.xAxis[0].transB-C.plotLeft,y:a?r.height-D-f:M?n-x-m:n-x,width:a?m:f,height:a?f:m}},y}();return $.prototype.getStacks=function(){var y=this,C=y.inverted;y.yAxis.forEach(function(M){M.stacking&&M.stacking.stacks&&M.hasVisibleSeries&&(M.stacking.oldStacks=M.stacking.stacks)}),y.series.forEach(function(M){var D=M.xAxis&&M.xAxis.options||{};!M.options.stacking||!0!==M.visible&&!1!==y.options.chart.ignoreHiddenSeries||(M.stackKey=[M.type,_(M.options.stack,""),C?D.top:D.left,C?D.height:D.width].join())})},K.compose(Y),J.prototype.setGroupedPoints=function(){var y=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?J.prototype.setStackedPoints.call(this,"group"):y&&v(y.stacks,function(C,M){"group"===M.slice(-5)&&(v(C,function(D){return D.destroy()}),delete y.stacks[M])})},J.prototype.setStackedPoints=function(y){var C=y||this.options.stacking;if(C&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var M=this.processedXData,D=this.processedYData,x=[],f=D.length,m=this.options,r=m.threshold,p=_(m.startFromThreshold&&r,0);m=m.stack;var P,I,a="-"+(y=y?this.type+","+C:this.stackKey),n=this.negStacks,h=this.yAxis,l=h.stacking.stacks,w=h.stacking.oldStacks;for(h.stacking.stacksTouched+=1,I=0;I<f;I++){var L=M[I],S=D[I],B=this.getStackIndicator(B,L,this.index),c=B.key,u=(P=n&&S<(p?0:r))?a:y;l[u]||(l[u]={}),l[u][L]||(w[u]&&w[u][L]?(l[u][L]=w[u][L],l[u][L].total=null):l[u][L]=new T(h,h.options.stackLabels,P,L,m)),u=l[u][L],null!==S?(u.points[c]=u.points[this.index]=[_(u.cumulative,p)],O(u.cumulative)||(u.base=c),u.touched=h.stacking.stacksTouched,0<B.index&&!1===this.singleStacks&&(u.points[c][0]=u.points[this.index+","+L+",0"][0])):u.points[c]=u.points[this.index]=null,"percent"===C?(P=P?y:a,u.total=n&&l[P]&&l[P][L]?(P=l[P][L]).total=Math.max(P.total,u.total)+Math.abs(S)||0:N(u.total+(Math.abs(S)||0))):"group"===C?(g(S)&&(S=S[0]),null!==S&&(u.total=(u.total||0)+1)):u.total=N(u.total+(S||0)),u.cumulative="group"===C?(u.total||1)-1:_(u.cumulative,p)+(S||0),null!==S&&(u.points[c].push(u.cumulative),x[I]=u.cumulative,u.hasValidPoints=!0)}"percent"===C&&(h.stacking.usePercentage=!0),"group"!==C&&(this.stackedYData=x),h.stacking.oldStacks={}}},J.prototype.modifyStacks=function(){var x,y=this,C=y.stackKey,M=y.yAxis.stacking.stacks,D=y.processedXData,f=y.options.stacking;y[f+"Stacker"]&&[C,"-"+C].forEach(function(m){for(var p,a,r=D.length;r--;)x=y.getStackIndicator(x,p=D[r],y.index,m),(a=(p=M[m]&&M[m][p])&&p.points[x.key])&&y[f+"Stacker"](a,p,r)})},J.prototype.percentStacker=function(y,C,M){y[0]=N(y[0]*(C=C.total?100/C.total:0)),y[1]=N(y[1]*C),this.stackedYData[M]=y[1]},J.prototype.getStackIndicator=function(y,C,M,D){return!O(y)||y.x!==C||D&&y.key!==D?y={x:C,index:0,key:D}:y.index++,y.key=[M,C,y.index].join(),y},rt.StackItem=T,rt.StackItem}),wt(o,"Series/Line/LineSeries.js",[o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var X,rt=this&&this.__extends||(X=function(F,N){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var g in k)k.hasOwnProperty(g)&&(O[g]=k[g])})(F,N)},function(F,N){function O(){this.constructor=F}X(F,N),F.prototype=null===N?Object.create(N):(O.prototype=N.prototype,new O)}),J=q.defined,K=q.merge;return q=function(X){function F(){var N=null!==X&&X.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return rt(F,X),F.prototype.drawGraph=function(){var N=this,O=this.options,k=(this.gappedPath||this.getGraphPath).call(this),g=this.chart.styledMode,d=[["graph","highcharts-graph"]];g||d[0].push(O.lineColor||this.color||"#cccccc",O.dashStyle),(d=N.getZonesGraphs(d)).forEach(function(v,_){var T=v[0],y=N[T],C=y?"animate":"attr";y?(y.endX=N.preventGraphAnimation?null:k.xMap,y.animate({d:k})):k.length&&(N[T]=y=N.chart.renderer.path(k).addClass(v[1]).attr({zIndex:1}).add(N.group)),y&&!g&&(T={stroke:v[2],"stroke-width":O.lineWidth,fill:N.fillGraph&&N.color||"none"},v[3]?T.dashstyle=v[3]:"square"!==O.linecap&&(T["stroke-linecap"]=T["stroke-linejoin"]="round"),y[C](T).shadow(2>_&&O.shadow)),y&&(y.startX=k.xMap,y.isArea=k.isArea)})},F.prototype.getGraphPath=function(N,O,k){var T,g=this,d=g.options,v=[],_=[],y=d.step,C=(N=N||g.points).reversed;return C&&N.reverse(),(y={right:1,center:2}[y]||y&&3)&&C&&(y=4-y),(N=this.getValidPoints(N,!1,!(d.connectNulls&&!O&&!k))).forEach(function(M,D){var x=M.plotX,f=M.plotY,m=N[D-1];(M.leftCliff||m&&m.rightCliff)&&!k&&(T=!0),M.isNull&&!J(O)&&0<D?T=!d.connectNulls:M.isNull&&!O?T=!0:(0===D||T?D=[["M",M.plotX,M.plotY]]:g.getPointSpline?D=[g.getPointSpline(N,M,D)]:y?(D=1===y?[["L",m.plotX,f]]:2===y?[["L",(m.plotX+x)/2,m.plotY],["L",(m.plotX+x)/2,f]]:[["L",x,m.plotY]]).push(["L",x,f]):D=[["L",x,f]],_.push(M.x),y&&(_.push(M.x),2===y&&_.push(M.x)),v.push.apply(v,D),T=!1)}),v.xMap=_,g.graphPath=v},F.prototype.getZonesGraphs=function(N){return this.zones.forEach(function(O,k){k=["zone-graph-"+k,"highcharts-graph highcharts-zone-graph-"+k+" "+(O.className||"")],this.chart.styledMode||k.push(O.color||this.color,O.dashStyle||this.options.dashStyle),N.push(k)},this),N},F.defaultOptions=K(Y.defaultOptions,{}),F}(Y),$.registerSeriesType("line",q),q}),wt(o,"Series/Area/AreaSeries.js",[o["Core/Color/Color.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var k,J=this&&this.__extends||(k=function(g,d){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var T in _)_.hasOwnProperty(T)&&(v[T]=_[T])})(g,d)},function(g,d){function v(){this.constructor=g}k(g,d),g.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)}),K=Y.parse,X=q.seriesTypes.line;Y=rt.extend;var F=rt.merge,N=rt.objectEach,O=rt.pick;return rt=function(k){function g(){var d=null!==k&&k.apply(this,arguments)||this;return d.data=void 0,d.options=void 0,d.points=void 0,d}return J(g,k),g.prototype.drawGraph=function(){this.areaPath=[],k.prototype.drawGraph.apply(this);var d=this,v=this.areaPath,_=this.options,T=[["area","highcharts-area",this.color,_.fillColor]];this.zones.forEach(function(y,C){T.push(["zone-area-"+C,"highcharts-area highcharts-zone-area-"+C+" "+y.className,y.color||d.color,y.fillColor||_.fillColor])}),T.forEach(function(y){var C=y[0],M=d[C],D=M?"animate":"attr",x={};M?(M.endX=d.preventGraphAnimation?null:v.xMap,M.animate({d:v})):(x.zIndex=0,(M=d[C]=d.chart.renderer.path(v).addClass(y[1]).add(d.group)).isArea=!0),d.chart.styledMode||(x.fill=O(y[3],K(y[2]).setOpacity(O(_.fillOpacity,.75)).get())),M[D](x),M.startX=v.xMap,M.shiftUnit=_.step?2:1})},g.prototype.getGraphPath=function(d){var C,v=X.prototype.getGraphPath,_=this.options,T=_.stacking,y=this.yAxis,M=[],D=[],x=this.index,f=y.stacking.stacks[this.stackKey],m=_.threshold,r=Math.round(y.getThreshold(_.threshold));_=O(_.connectNulls,"percent"===T);var p=function(l,w,P){var I=d[l];l=T&&f[I.x].points[x];var L=I[P+"Null"]||0;if(P=I[P+"Cliff"]||0,I=!0,P||L){var S=(L?l[0]:l[1])+P,B=l[0]+P;I=!!L}else!T&&d[w]&&d[w].isNull&&(S=B=m);void 0!==S&&(D.push({plotX:n,plotY:null===S?r:y.getThreshold(S),isNull:I,isCliff:!0}),M.push({plotX:n,plotY:null===B?r:y.getThreshold(B),doCurve:!1}))};for(d=d||this.points,T&&(d=this.getStackPoints(d)),C=0;C<d.length;C++){T||(d[C].leftCliff=d[C].rightCliff=d[C].leftNull=d[C].rightNull=void 0);var a=d[C].isNull,n=O(d[C].rectPlotX,d[C].plotX),h=T?O(d[C].yBottom,r):r;(!a||_)&&(_||p(C,C-1,"left"),a&&!T&&_||(D.push(d[C]),M.push({x:C,plotX:n,plotY:h})),_||p(C,C+1,"right"))}return C=v.call(this,D,!0,!0),M.reversed=!0,(h=(a=v.call(this,M,!0,!0))[0])&&"M"===h[0]&&(a[0]=["L",h[1],h[2]]),(a=C.concat(a)).length&&a.push(["Z"]),v=v.call(this,D,!1,_),a.xMap=C.xMap,this.areaPath=a,v},g.prototype.getStackPoints=function(d){var v=this,_=[],T=[],y=this.xAxis,C=this.yAxis,M=C.stacking.stacks[this.stackKey],D={},x=C.series,f=x.length,m=C.options.reversedStacks?1:-1,r=x.indexOf(v);if(d=d||this.points,this.options.stacking){for(var p=0;p<d.length;p++)d[p].leftNull=d[p].rightNull=void 0,D[d[p].x]=d[p];N(M,function(n,h){null!==n.total&&T.push(h)}),T.sort(function(n,h){return n-h});var a=x.map(function(n){return n.visible});T.forEach(function(n,h){var w,P,l=0;if(D[n]&&!D[n].isNull)_.push(D[n]),[-1,1].forEach(function(L){var S=1===L?"rightNull":"leftNull",B=0,c=M[T[h+L]];if(c)for(var u=r;0<=u&&u<f;){var E=x[u].index;(w=c.points[E])||(E===v.index?D[n][S]=!0:a[u]&&(P=M[n].points[E])&&(B-=P[1]-P[0])),u+=m}D[n][1===L?"rightCliff":"leftCliff"]=B});else{for(var I=r;0<=I&&I<f;){if(w=M[n].points[x[I].index]){l=w[1];break}I+=m}l=O(l,0),l=C.translate(l,0,1,0,1),_.push({isNull:!0,plotX:y.translate(n,0,0,0,1),x:n,plotY:l,yBottom:l})}})}return _},g.defaultOptions=F(X.defaultOptions,{threshold:0}),g}(X),Y(rt.prototype,{singleStacks:!1,drawLegendSymbol:$.drawRectangle}),q.registerSeriesType("area",rt),rt}),wt(o,"Series/Spline/SplineSeries.js",[o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$){var X,q=this&&this.__extends||(X=function(F,N){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var g in k)k.hasOwnProperty(g)&&(O[g]=k[g])})(F,N)},function(F,N){function O(){this.constructor=F}X(F,N),F.prototype=null===N?Object.create(N):(O.prototype=N.prototype,new O)}),rt=Y.seriesTypes.line,J=$.merge,K=$.pick;return $=function(X){function F(){var N=null!==X&&X.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return q(F,X),F.prototype.getPointSpline=function(N,O,k){var g=O.plotX||0,d=O.plotY||0,v=N[k-1];if(k=N[k+1],v&&!v.isNull&&!1!==v.doCurve&&!O.isCliff&&k&&!k.isNull&&!1!==k.doCurve&&!O.isCliff){var _=k.plotX||0,T=0,y=(1.5*g+(v.plotX||0))/2.5,C=(1.5*d+(N=v.plotY||0))/2.5,M=(1.5*d+(k=k.plotY||0))/2.5;(_=(1.5*g+_)/2.5)!==y&&(T=(M-C)*(_-g)/(_-y)+d-M),M+=T,(C+=T)>N&&C>d?M=2*d-(C=Math.max(N,d)):C<N&&C<d&&(M=2*d-(C=Math.min(N,d))),M>k&&M>d?C=2*d-(M=Math.max(k,d)):M<k&&M<d&&(C=2*d-(M=Math.min(k,d))),O.rightContX=_,O.rightContY=M}return O=["C",K(v.rightContX,v.plotX,0),K(v.rightContY,v.plotY,0),K(y,g,0),K(C,d,0),g,d],v.rightContX=v.rightContY=void 0,O},F.defaultOptions=J(rt.defaultOptions),F}(rt),Y.registerSeriesType("spline",$),$}),wt(o,"Series/AreaSpline/AreaSplineSeries.js",[o["Series/Area/AreaSeries.js"],o["Series/Spline/SplineSeries.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var O,K=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),X=Y.prototype,F=J.extend,N=J.merge;return J=function(O){function k(){var g=null!==O&&O.apply(this,arguments)||this;return g.data=void 0,g.points=void 0,g.options=void 0,g}return K(k,O),k.defaultOptions=N($.defaultOptions,Y.defaultOptions),k}($),F(J.prototype,{getGraphPath:X.getGraphPath,getStackPoints:X.getStackPoints,drawGraph:X.drawGraph,drawLegendSymbol:q.drawRectangle}),rt.registerSeriesType("areaspline",J),J}),wt(o,"Series/Column/ColumnSeries.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X){var f,F=this&&this.__extends||(f=function(m,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var n in a)a.hasOwnProperty(n)&&(p[n]=a[n])})(m,r)},function(m,r){function p(){this.constructor=m}f(m,r),m.prototype=null===r?Object.create(r):(p.prototype=r.prototype,new p)}),N=Y.animObject,O=$.parse,k=q.hasTouch;Y=q.noop;var g=X.clamp,d=X.css,v=X.defined,_=X.extend,T=X.fireEvent,y=X.isArray,C=X.isNumber,M=X.merge,D=X.pick,x=X.objectEach;return X=function(f){function m(){var r=null!==f&&f.apply(this,arguments)||this;return r.borderWidth=void 0,r.data=void 0,r.group=void 0,r.options=void 0,r.points=void 0,r}return F(m,f),m.prototype.animate=function(r){var p=this,a=this.yAxis,n=p.options,h=this.chart.inverted,l={},w=h?"translateX":"translateY";if(r)l.scaleY=.001,r=g(a.toPixels(n.threshold),a.pos,a.pos+a.len),h?l.translateX=r-a.len:l.translateY=r,p.clipBox&&p.setClip(),p.group.attr(l);else{var P=Number(p.group.attr(w));p.group.animate({scaleY:1},_(N(p.options.animation),{step:function(I,L){p.group&&(l[w]=P+L.pos*(a.pos-P),p.group.attr(l))}}))}},m.prototype.init=function(r,p){f.prototype.init.apply(this,arguments);var a=this;(r=a.chart).hasRendered&&r.series.forEach(function(n){n.type===a.type&&(n.isDirty=!0)})},m.prototype.getColumnMetrics=function(){var r=this,p=r.options,a=r.xAxis,n=r.yAxis,h=a.options.reversedStacks;h=a.reversed&&!h||!a.reversed&&h;var w,l={},P=0;!1===p.grouping?P=1:r.chart.series.forEach(function(B){var c=B.yAxis,u=B.options;if(B.type===r.type&&(B.visible||!r.chart.options.chart.ignoreHiddenSeries)&&n.len===c.len&&n.pos===c.pos){if(u.stacking&&"group"!==u.stacking){void 0===l[w=B.stackKey]&&(l[w]=P++);var E=l[w]}else!1!==u.grouping&&(E=P++);B.columnIndex=E}});var I=Math.min(Math.abs(a.transA)*(a.ordinal&&a.ordinal.slope||p.pointRange||a.closestPointRange||a.tickInterval||1),a.len),L=I*p.groupPadding,S=(I-2*L)/(P||1);return p=Math.min(p.maxPointWidth||a.len,D(p.pointWidth,S*(1-2*p.pointPadding))),r.columnMetrics={width:p,offset:(S-p)/2+(L+((r.columnIndex||0)+(h?1:0))*S-I/2)*(h?-1:1),paddedWidth:S,columnCount:P},r.columnMetrics},m.prototype.crispCol=function(r,p,a,n){var h=this.chart,l=this.borderWidth,w=-(l%2?.5:0);return l=l%2?.5:1,h.inverted&&h.renderer.isVML&&(l+=1),this.options.crisp&&(a=Math.round(r+a)+w,a-=r=Math.round(r)+w),n=Math.round(p+n)+l,w=.5>=Math.abs(p)&&.5<n,n-=p=Math.round(p)+l,w&&n&&(--p,n+=1),{x:r,y:p,width:a,height:n}},m.prototype.adjustForMissingColumns=function(r,p,a,n){var h=this,l=this.options.stacking;if(!a.isNull&&1<n.columnCount){var w=0,P=0;x(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(I){if("number"==typeof a.x&&(I=I[a.x.toString()])){var L=I.points[h.index],S=I.total;l?(L&&(w=P),I.hasValidPoints&&P++):y(L)&&(w=L[1],P=S||0)}}),r=(a.plotX||0)+((P-1)*n.paddedWidth+p)/2-p-w*n.paddedWidth}return r},m.prototype.translate=function(){var r=this,p=r.chart,a=r.options,n=r.dense=2>r.closestPointRange*r.xAxis.transA;n=r.borderWidth=D(a.borderWidth,n?0:1);var h=r.xAxis,l=r.yAxis,w=a.threshold,P=r.translatedThreshold=l.getThreshold(w),I=D(a.minPointLength,5),L=r.getColumnMetrics(),S=L.width,B=r.pointXOffset=L.offset,c=r.dataMin,u=r.dataMax,E=r.barW=Math.max(S,1+2*n);p.inverted&&(P-=.5),a.pointPadding&&(E=Math.ceil(E)),J.prototype.translate.apply(r),r.points.forEach(function(j){var G=D(j.yBottom,P),W=999+Math.abs(G),b=j.plotX||0;W=g(j.plotY,-W,l.len+W);var z=Math.min(W,G),R=Math.max(W,G)-z,V=S,Z=b+B,nt=E;I&&Math.abs(R)<I&&(R=I,b=!l.reversed&&!j.negative||l.reversed&&j.negative,C(w)&&C(u)&&j.y===w&&u<=w&&(l.min||0)<w&&(c!==u||(l.max||0)<=w)&&(b=!b),z=Math.abs(z-P)>I?G-I:P-(b?I:0)),v(j.options.pointWidth)&&(V=nt=Math.ceil(j.options.pointWidth),Z-=Math.round((V-S)/2)),a.centerInCategory&&(Z=r.adjustForMissingColumns(Z,V,j,L)),j.barX=Z,j.pointWidth=V,j.tooltipPos=p.inverted?[g(l.len+l.pos-p.plotLeft-W,l.pos-p.plotLeft,l.len+l.pos-p.plotLeft),h.len+h.pos-p.plotTop-Z-nt/2,R]:[h.left-p.plotLeft+Z+nt/2,g(W+l.pos-p.plotTop,l.pos-p.plotTop,l.len+l.pos-p.plotTop),R],j.shapeType=r.pointClass.prototype.shapeType||"rect",j.shapeArgs=r.crispCol.apply(r,j.isNull?[Z,P,nt,0]:[Z,z,nt,R])})},m.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},m.prototype.pointAttribs=function(r,p){var a=this.options,n=this.pointAttrToOptions||{},h=n.stroke||"borderColor",l=n["stroke-width"]||"borderWidth",w=r&&r.color||this.color,P=r&&r[h]||a[h]||w;n=r&&r.options.dashStyle||a.dashStyle;var I=r&&r[l]||a[l]||this[l]||0,L=D(r&&r.opacity,a.opacity,1);if(r&&this.zones.length){var S=r.getZone();w=r.options.color||S&&(S.color||r.nonZonedColor)||this.color,S&&(P=S.borderColor||P,n=S.dashStyle||n,I=S.borderWidth||I)}return p&&r&&(p=(r=M(a.states[p],r.options.states&&r.options.states[p]||{})).brightness,w=r.color||void 0!==p&&O(w).brighten(r.brightness).get()||w,P=r[h]||P,I=r[l]||I,n=r.dashStyle||n,L=D(r.opacity,L)),h={fill:w,stroke:P,"stroke-width":I,opacity:L},n&&(h.dashstyle=n),h},m.prototype.drawPoints=function(){var l,r=this,p=this.chart,a=r.options,n=p.renderer,h=a.animationLimit||250;r.points.forEach(function(w){var P=w.graphic,I=!!P,L=P&&p.pointCount<h?"animate":"attr";C(w.plotY)&&null!==w.y?(l=w.shapeArgs,P&&w.hasNewShapeType()&&(P=P.destroy()),r.enabledDataSorting&&(w.startXPos=r.xAxis.reversed?-(l&&l.width||0):r.xAxis.width),P||(w.graphic=P=n[w.shapeType](l).add(w.group||r.group))&&r.enabledDataSorting&&p.hasRendered&&p.pointCount<h&&(P.attr({x:w.startXPos}),I=!0,L="animate"),P&&I&&P[L](M(l)),a.borderRadius&&P[L]({r:a.borderRadius}),p.styledMode||P[L](r.pointAttribs(w,w.selected&&"select")).shadow(!1!==w.allowShadow&&a.shadow,null,a.stacking&&!a.borderRadius),P&&(P.addClass(w.getClassName(),!0),P.attr({visibility:w.visible?"inherit":"hidden"}))):P&&(w.graphic=P.destroy())})},m.prototype.drawTracker=function(){var h,r=this,p=r.chart,a=p.pointer,n=function(l){var w=a.getPointFromEvent(l);void 0!==w&&(a.isDirectTouch=!0,w.onMouseOver(l))};r.points.forEach(function(l){h=y(l.dataLabels)?l.dataLabels:l.dataLabel?[l.dataLabel]:[],l.graphic&&(l.graphic.element.point=l),h.forEach(function(w){w.div?w.div.point=l:w.element.point=l})}),r._hasTracking||(r.trackerGroups.forEach(function(l){r[l]&&(r[l].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(w){a.onTrackerMouseOut(w)}),k&&r[l].on("touchstart",n),!p.styledMode&&r.options.cursor&&r[l].css(d).css({cursor:r.options.cursor}))}),r._hasTracking=!0),T(this,"afterDrawTracker")},m.prototype.remove=function(){var r=this,p=r.chart;p.hasRendered&&p.series.forEach(function(a){a.type===r.type&&(a.isDirty=!0)}),J.prototype.remove.apply(r,arguments)},m.defaultOptions=M(J.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),m}(J),_(X.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:rt.drawRectangle,getSymbol:Y,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),K.registerSeriesType("column",X),X}),wt(o,"Core/Series/DataLabel.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/FormatUtilities.js"],o["Core/Utilities.js"]],function(Y,$,q){var v,rt=Y.getDeferredAnimation,J=$.format,K=q.defined,X=q.extend,F=q.fireEvent,N=q.isArray,O=q.merge,k=q.objectEach,g=q.pick,d=q.splat;return function(_){function T(m,r,p,a,n){var h=this,l=this.chart,w=this.isCartesian&&l.inverted,P=this.enabledDataSorting,I=g(m.dlBox&&m.dlBox.centerX,m.plotX,-9999),L=g(m.plotY,-9999),S=r.getBBox(),B=p.rotation,c=p.align,u=l.isInsidePlot(I,Math.round(L),{inverted:w,paneCoordinates:!0,series:h}),E=function(b){P&&h.xAxis&&!j&&h.setDataLabelStartPos(m,r,n,u,b)},j="justify"===g(p.overflow,P?"none":"justify"),G=this.visible&&!1!==m.visible&&(m.series.forceDL||P&&!j||u||g(p.inside,!!this.options.stacking)&&a&&l.isInsidePlot(I,w?a.x+1:a.y+a.height-1,{inverted:w,paneCoordinates:!0,series:h}));if(G){var W=l.renderer.fontMetrics(l.styledMode?void 0:p.style.fontSize,r).b;a=X({x:w?this.yAxis.len-L:I,y:Math.round(w?this.xAxis.len-I:L),width:0,height:0},a),X(p,{width:S.width,height:S.height}),B?(j=!1,I=l.renderer.rotCorr(W,B),E(I={x:a.x+(p.x||0)+a.width/2+I.x,y:a.y+(p.y||0)+{top:0,middle:.5,bottom:1}[p.verticalAlign]*a.height}),r[n?"attr":"animate"](I).attr({align:c}),E=180<(E=(B+720)%360)&&360>E,"left"===c?I.y-=E?S.height:0:"center"===c?(I.x-=S.width/2,I.y-=S.height/2):"right"===c&&(I.x-=S.width,I.y-=E?0:S.height),r.placed=!0,r.alignAttr=I):(E(a),r.align(p,void 0,a),I=r.alignAttr),j&&0<=a.height?this.justifyDataLabel(r,p,I,S,a,n):g(p.crop,!0)&&(G=l.isInsidePlot(I.x,I.y,{paneCoordinates:!0,series:h})&&l.isInsidePlot(I.x+S.width,I.y+S.height,{paneCoordinates:!0,series:h})),p.shape&&!B&&r[n?"attr":"animate"]({anchorX:w?l.plotWidth-m.plotY:m.plotX,anchorY:w?l.plotHeight-m.plotX:m.plotY})}n&&P&&(r.placed=!1),G||P&&!j||(r.hide(!0),r.placed=!1)}function C(){var m=this,r=m.chart,p=m.options,a=m.points,n=m.hasRendered||0,h=r.renderer,l=p.dataLabels,P=l.animation;if(P=l.defer?rt(r,P,m):{defer:0,duration:0},l=D(D(r.options.plotOptions&&r.options.plotOptions.series&&r.options.plotOptions.series.dataLabels,r.options.plotOptions&&r.options.plotOptions[m.type]&&r.options.plotOptions[m.type].dataLabels),l),F(this,"drawDataLabels"),N(l)||l.enabled||m._hasPointLabels){var I=m.plotGroup("dataLabelsGroup","data-labels",n?"inherit":"hidden",l.zIndex||6);I.attr({opacity:+n}),!n&&(n=m.dataLabelsGroup)&&(m.visible&&I.show(!0),n[p.animation?"animate":"attr"]({opacity:1},P)),a.forEach(function(L){d(D(l,L.dlOptions||L.options&&L.options.dataLabels)).forEach(function(S,B){var c=S.enabled&&(!L.isNull||L.dataLabelOnNull)&&function(m,r){var p=r.filter;return!p||(r=p.operator,m=m[p.property],p=p.value,">"===r&&m>p||"<"===r&&m<p||">="===r&&m>=p||"<="===r&&m<=p||"=="===r&&m==p||"==="===r&&m===p)}(L,S),u=L.connectors?L.connectors[B]:L.connector,E=L.dataLabels?L.dataLabels[B]:L.dataLabel,j=g(S.distance,L.labelDistance),G=!E;if(c){var W=L.getLabelConfig(),b=g(S[L.formatPrefix+"Format"],S.format);W=K(b)?J(b,W,r):(S[L.formatPrefix+"Formatter"]||S.formatter).call(W,S),b=S.style;var z=S.rotation;r.styledMode||(b.color=g(S.color,b.color,m.color,"#000000"),"contrast"===b.color?(L.contrastColor=h.getContrast(L.color||m.color),b.color=!K(j)&&S.inside||0>j||p.stacking?L.contrastColor:"#000000"):delete L.contrastColor,p.cursor&&(b.cursor=p.cursor));var R={r:S.borderRadius||0,rotation:z,padding:S.padding,zIndex:1};r.styledMode||(R.fill=S.backgroundColor,R.stroke=S.borderColor,R["stroke-width"]=S.borderWidth),k(R,function(V,Z){void 0===V&&delete R[Z]})}!E||c&&K(W)&&!!E.div==!!S.useHTML||(L.dataLabel=E=L.dataLabel&&L.dataLabel.destroy(),L.dataLabels&&(1===L.dataLabels.length?delete L.dataLabels:delete L.dataLabels[B]),B||delete L.dataLabel,u&&(L.connector=L.connector.destroy(),L.connectors&&(1===L.connectors.length?delete L.connectors:delete L.connectors[B]))),c&&K(W)&&(E?R.text=W:(L.dataLabels=L.dataLabels||[],E=L.dataLabels[B]=z?h.text(W,0,-9999,S.useHTML).addClass("highcharts-data-label"):h.label(W,0,-9999,S.shape,null,null,S.useHTML,null,"data-label"),B||(L.dataLabel=E),E.addClass(" highcharts-data-label-color-"+L.colorIndex+" "+(S.className||"")+(S.useHTML?" highcharts-tracker":""))),E.options=S,E.attr(R),r.styledMode||E.css(b).shadow(S.shadow),E.added||E.add(I),S.textPath&&!S.useHTML&&(E.setTextPath(L.getDataLabelPath&&L.getDataLabelPath(E)||L.graphic,S.textPath),L.dataLabelPath&&!S.textPath.enabled&&(L.dataLabelPath=L.dataLabelPath.destroy())),m.alignDataLabel(L,E,S,null,G))})})}F(this,"afterDrawDataLabels")}function M(m,r,p,a,n,h){var l=this.chart,w=r.align,P=r.verticalAlign,I=m.box?0:m.padding||0,L=r.x;L=void 0===L?0:L;var S=r.y;S=void 0===S?0:S;var B=(p.x||0)+I;if(0>B){"right"===w&&0<=L?(r.align="left",r.inside=!0):L-=B;var c=!0}return(B=(p.x||0)+a.width-I)>l.plotWidth&&("left"===w&&0>=L?(r.align="right",r.inside=!0):L+=l.plotWidth-B,c=!0),0>(B=p.y+I)&&("bottom"===P&&0<=S?(r.verticalAlign="top",r.inside=!0):S-=B,c=!0),(B=(p.y||0)+a.height-I)>l.plotHeight&&("top"===P&&0>=S?(r.verticalAlign="bottom",r.inside=!0):S+=l.plotHeight-B,c=!0),c&&(r.x=L,r.y=S,m.placed=!h,m.align(r,void 0,n)),c}function D(m,r){var a,p=[];if(N(m)&&!N(r))p=m.map(function(n){return O(n,r)});else if(N(r)&&!N(m))p=r.map(function(n){return O(m,n)});else if(N(m)||N(r))for(a=Math.max(m.length,r.length);a--;)p[a]=O(m[a],r[a]);else p=O(m,r);return p}function x(m,r,p,a,n){var h=this.chart,l=h.inverted,w=this.xAxis,P=w.reversed,I=l?r.height/2:r.width/2;m=(m=m.pointWidth)?m/2:0,r.startXPos=l?n.x:P?-I-m:w.width-I+m,r.startYPos=l?P?this.yAxis.height-I+m:-I-m:n.y,a?"hidden"===r.visibility&&(r.show(),r.attr({opacity:0}).animate({opacity:1})):r.attr({opacity:1}).animate({opacity:0},void 0,r.hide),h.hasRendered&&(p&&r.attr({x:r.startXPos,y:r.startYPos}),r.placed=!0)}var f=[];_.compose=function(m){if(-1===f.indexOf(m)){var r=m.prototype;f.push(m),r.alignDataLabel=T,r.drawDataLabels=C,r.justifyDataLabel=M,r.setDataLabelStartPos=x}}}(v||(v={})),v}),wt(o,"Series/Column/ColumnDataLabel.js",[o["Core/Series/DataLabel.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var X,rt=$.series,J=q.merge,K=q.pick;return function(F){function N(k,g,d,v,_){var T=this.chart.inverted,y=k.series,C=(y.xAxis?y.xAxis.len:this.chart.plotSizeX)||0,M=k.dlBox||k.shapeArgs,D=K(k.below,k.plotY>K(this.translatedThreshold,y=(y.yAxis?y.yAxis.len:this.chart.plotSizeY)||0)),x=K(d.inside,!!this.options.stacking);M&&(0>(v=J(M)).y&&(v.height+=v.y,v.y=0),0<(M=v.y+v.height-y)&&M<v.height&&(v.height-=M),T&&(v={x:y-v.y-v.height,y:C-v.x-v.width,width:v.height,height:v.width}),x||(T?(v.x+=D?0:v.width,v.width=0):(v.y+=D?v.height:0,v.height=0))),d.align=K(d.align,!T||x?"center":D?"right":"left"),d.verticalAlign=K(d.verticalAlign,T||x?"middle":D?"top":"bottom"),rt.prototype.alignDataLabel.call(this,k,g,d,v,_),d.inside&&k.contrastColor&&g.css({color:k.contrastColor})}var O=[];F.compose=function(k){Y.compose(rt),-1===O.indexOf(k)&&(O.push(k),k.prototype.alignDataLabel=N)}}(X||(X={})),X}),wt(o,"Series/Bar/BarSeries.js",[o["Series/Column/ColumnSeries.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var X,rt=this&&this.__extends||(X=function(F,N){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var g in k)k.hasOwnProperty(g)&&(O[g]=k[g])})(F,N)},function(F,N){function O(){this.constructor=F}X(F,N),F.prototype=null===N?Object.create(N):(O.prototype=N.prototype,new O)}),J=q.extend,K=q.merge;return q=function(X){function F(){var N=null!==X&&X.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return rt(F,X),F.defaultOptions=K(Y.defaultOptions,{}),F}(Y),J(q.prototype,{inverted:!0}),$.registerSeriesType("bar",q),q}),wt(o,"Series/Scatter/ScatterSeries.js",[o["Series/Column/ColumnSeries.js"],o["Series/Line/LineSeries.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var N,J=this&&this.__extends||(N=function(O,k){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var v in d)d.hasOwnProperty(v)&&(g[v]=d[v])})(O,k)},function(O,k){function g(){this.constructor=O}N(O,k),O.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)}),K=rt.addEvent,X=rt.extend,F=rt.merge;return rt=function(N){function O(){var k=null!==N&&N.apply(this,arguments)||this;return k.data=void 0,k.options=void 0,k.points=void 0,k}return J(O,N),O.prototype.applyJitter=function(){var k=this,g=this.options.jitter,d=this.points.length;g&&this.points.forEach(function(v,_){["x","y"].forEach(function(T,y){var C="plot"+T.toUpperCase();if(g[T]&&!v.isNull){var M=k[T+"Axis"],D=g[T]*M.transA;if(M&&!M.isLog){var x=Math.max(0,v[C]-D);M=Math.min(M.len,v[C]+D),y=1e4*Math.sin(_+y*d),v[C]=x+(M-x)*(y-Math.floor(y)),"x"===T&&(v.clientX=v.plotX)}}})})},O.prototype.drawGraph=function(){this.options.lineWidth?N.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},O.defaultOptions=F($.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),O}($),X(rt.prototype,{drawTracker:Y.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),K(rt,"afterTranslate",function(){this.applyJitter()}),q.registerSeriesType("scatter",rt),rt}),wt(o,"Series/CenteredUtilities.js",[o["Core/Globals.js"],o["Core/Series/Series.js"],o["Core/Utilities.js"]],function(Y,$,q){var F,N,rt=Y.deg2rad,J=q.isNumber,K=q.pick,X=q.relativeLength;return(N=F||(F={})).getCenter=function(){var O=this.options,k=this.chart,g=2*(O.slicedOffset||0),d=k.plotWidth-2*g,v=k.plotHeight-2*g,_=O.center,T=Math.min(d,v),y=O.size,C=O.innerSize||0;for("string"==typeof y&&(y=parseFloat(y)),"string"==typeof C&&(C=parseFloat(C)),O=[K(_[0],"50%"),K(_[1],"50%"),K(y&&0>y?void 0:O.size,"100%"),K(C&&0>C?void 0:O.innerSize||0,"0%")],!k.angular||this instanceof $||(O[3]=0),_=0;4>_;++_)y=O[_],k=2>_||2===_&&/%$/.test(y),O[_]=X(y,[d,v,T,O[2]][_])+(k?g:0);return O[3]>O[2]&&(O[3]=O[2]),O},N.getStartAndEndRadians=function(O,k){return O=J(O)?O:0,k=J(k)&&k>O&&360>k-O?k:O+360,{start:rt*(O+-90),end:rt*(k+-90)}},F}),wt(o,"Series/Pie/PiePoint.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Series/Point.js"],o["Core/Utilities.js"]],function(Y,$,q){var k,rt=this&&this.__extends||(k=function(g,d){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var T in _)_.hasOwnProperty(T)&&(v[T]=_[T])})(g,d)},function(g,d){function v(){this.constructor=g}k(g,d),g.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)}),J=Y.setAnimation,K=q.addEvent,X=q.defined;Y=q.extend;var F=q.isNumber,N=q.pick,O=q.relativeLength;return $=function(k){function g(){var d=null!==k&&k.apply(this,arguments)||this;return d.labelDistance=void 0,d.options=void 0,d.series=void 0,d}return rt(g,k),g.prototype.getConnectorPath=function(){var d=this.labelPosition,v=this.series.options.dataLabels,_=this.connectorShapes,T=v.connectorShape;return _[T]&&(T=_[T]),T.call(this,{x:d.final.x,y:d.final.y,alignment:d.alignment},d.connectorPosition,v)},g.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},g.prototype.haloPath=function(d){var v=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(v.x,v.y,v.r+d,v.r+d,{innerR:v.r-1,start:v.start,end:v.end})},g.prototype.init=function(){var d=this;k.prototype.init.apply(this,arguments),this.name=N(this.name,"Slice");var v=function(_){d.slice("select"===_.type)};return K(this,"select",v),K(this,"unselect",v),this},g.prototype.isValid=function(){return F(this.y)&&0<=this.y},g.prototype.setVisible=function(d,v){var _=this,T=this.series,y=T.chart,C=T.options.ignoreHiddenPoint;v=N(v,C),d!==this.visible&&(this.visible=this.options.visible=d=void 0===d?!this.visible:d,T.options.data[T.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(M){_[M]&&_[M][d?"show":"hide"](d)}),this.legendItem&&y.legend.colorizeItem(this,d),d||"hover"!==this.state||this.setState(""),C&&(T.isDirty=!0),v&&y.redraw())},g.prototype.slice=function(d,v,_){var T=this.series;J(_,T.chart),N(v,!0),this.sliced=this.options.sliced=X(d)?d:!this.sliced,T.options.data[T.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},g}($),Y($.prototype,{connectorShapes:{fixedOffset:function(k,g,d){var v=g.breakAt;return g=g.touchingSliceAt,[["M",k.x,k.y],d.softConnector?["C",k.x+("left"===k.alignment?-5:5),k.y,2*v.x-g.x,2*v.y-g.y,v.x,v.y]:["L",v.x,v.y],["L",g.x,g.y]]},straight:function(k,g){return[["M",k.x,k.y],["L",(g=g.touchingSliceAt).x,g.y]]},crookedLine:function(k,g,d){g=g.touchingSliceAt;var v=this.series,_=v.center[0],T=v.chart.plotWidth,y=v.chart.plotLeft;v=k.alignment;var C=this.shapeArgs.r;return d=O(d.crookDistance,1),d=["L",T="left"===v?_+C+(T+y-_-C)*(1-d):y+(_-C)*d,k.y],_=!0,("left"===v?T>k.x||T<g.x:T<k.x||T>g.x)&&(_=!1),k=[["M",k.x,k.y]],_&&k.push(d),k.push(["L",g.x,g.y]),k}}}),$}),wt(o,"Series/Pie/PieSeries.js",[o["Series/CenteredUtilities.js"],o["Series/Column/ColumnSeries.js"],o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Series/Pie/PiePoint.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/Symbols.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N){var C,O=this&&this.__extends||(C=function(M,D){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,f){x.__proto__=f}||function(x,f){for(var m in f)f.hasOwnProperty(m)&&(x[m]=f[m])})(M,D)},function(M,D){function x(){this.constructor=M}C(M,D),M.prototype=null===D?Object.create(D):(x.prototype=D.prototype,new x)}),k=Y.getStartAndEndRadians;q=q.noop;var g=N.clamp,d=N.extend,v=N.fireEvent,_=N.merge,T=N.pick,y=N.relativeLength;return N=function(C){function M(){var D=null!==C&&C.apply(this,arguments)||this;return D.center=void 0,D.data=void 0,D.maxLabelDistance=void 0,D.options=void 0,D.points=void 0,D}return O(M,C),M.prototype.animate=function(D){var x=this,m=x.startAngleRad;D||x.points.forEach(function(r){var p=r.graphic,a=r.shapeArgs;p&&a&&(p.attr({r:T(r.startR,x.center&&x.center[3]/2),start:m,end:m}),p.animate({r:a.r,start:a.start,end:a.end},x.options.animation))})},M.prototype.drawEmpty=function(){var D=this.startAngleRad,x=this.endAngleRad,f=this.options;if(0===this.total&&this.center){var m=this.center[0],r=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(m,r,this.center[1]/2,0,D,x).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:F.arc(m,r,this.center[2]/2,0,{start:D,end:x,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":f.borderWidth,fill:f.fillColor||"none",stroke:f.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},M.prototype.drawPoints=function(){var D=this.chart.renderer;this.points.forEach(function(x){x.graphic&&x.hasNewShapeType()&&(x.graphic=x.graphic.destroy()),x.graphic||(x.graphic=D[x.shapeType](x.shapeArgs).add(x.series.group),x.delayedRendering=!0)})},M.prototype.generatePoints=function(){C.prototype.generatePoints.call(this),this.updateTotals()},M.prototype.getX=function(D,x,f){var m=this.center,r=this.radii?this.radii[f.index]||0:m[2]/2;return D=Math.asin(g((D-m[1])/(r+f.labelDistance),-1,1)),m[0]+(x?-1:1)*Math.cos(D)*(r+f.labelDistance)+(0<f.labelDistance?(x?-1:1)*this.options.dataLabels.padding:0)},M.prototype.hasData=function(){return!!this.processedXData.length},M.prototype.redrawPoints=function(){var r,p,a,n,D=this,x=D.chart,f=x.renderer,m=D.options.shadow;this.drawEmpty(),!m||D.shadowGroup||x.styledMode||(D.shadowGroup=f.g("shadow").attr({zIndex:-1}).add(D.group)),D.points.forEach(function(h){var l={};if(p=h.graphic,!h.isNull&&p){var w=void 0;n=h.shapeArgs,r=h.getTranslate(),x.styledMode||(w=h.shadowGroup,m&&!w&&(w=h.shadowGroup=f.g("shadow").add(D.shadowGroup)),w&&w.attr(r),a=D.pointAttribs(h,h.selected&&"select")),h.delayedRendering?(p.setRadialReference(D.center).attr(n).attr(r),x.styledMode||p.attr(a).attr({"stroke-linejoin":"round"}).shadow(m,w),h.delayedRendering=!1):(p.setRadialReference(D.center),x.styledMode||_(!0,l,a),_(!0,l,n,r),p.animate(l)),p.attr({visibility:h.visible?"inherit":"hidden"}),p.addClass(h.getClassName(),!0)}else p&&(h.graphic=p.destroy())})},M.prototype.sortByAngle=function(D,x){D.sort(function(f,m){return void 0!==f.angle&&(m.angle-f.angle)*x})},M.prototype.translate=function(D){this.generatePoints();var x=this.options,f=x.slicedOffset,m=f+(x.borderWidth||0),r=k(x.startAngle,x.endAngle),p=this.startAngleRad=r.start;r=(this.endAngleRad=r.end)-p;var a=this.points,n=x.dataLabels.distance;x=x.ignoreHiddenPoint;var l,h=a.length,w=0;for(D||(this.center=D=this.getCenter()),l=0;l<h;l++){var P=a[l],I=p+w*r;!P.isValid()||x&&!P.visible||(w+=P.percentage/100);var L=p+w*r,S={x:D[0],y:D[1],r:D[2]/2,innerR:D[3]/2,start:Math.round(1e3*I)/1e3,end:Math.round(1e3*L)/1e3};P.shapeType="arc",P.shapeArgs=S,P.labelDistance=T(P.options.dataLabels&&P.options.dataLabels.distance,n),P.labelDistance=y(P.labelDistance,S.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,P.labelDistance),(L=(L+I)/2)>1.5*Math.PI?L-=2*Math.PI:L<-Math.PI/2&&(L+=2*Math.PI),P.slicedTranslation={translateX:Math.round(Math.cos(L)*f),translateY:Math.round(Math.sin(L)*f)},S=Math.cos(L)*D[2]/2;var B=Math.sin(L)*D[2]/2;P.tooltipPos=[D[0]+.7*S,D[1]+.7*B],P.half=L<-Math.PI/2||L>Math.PI/2?1:0,P.angle=L,I=Math.min(m,P.labelDistance/5),P.labelPosition={natural:{x:D[0]+S+Math.cos(L)*P.labelDistance,y:D[1]+B+Math.sin(L)*P.labelDistance},final:{},alignment:0>P.labelDistance?"center":P.half?"right":"left",connectorPosition:{breakAt:{x:D[0]+S+Math.cos(L)*I,y:D[1]+B+Math.sin(L)*I},touchingSliceAt:{x:D[0]+S,y:D[1]+B}}}}v(this,"afterTranslate")},M.prototype.updateTotals=function(){var m,D=this.points,x=D.length,f=this.options.ignoreHiddenPoint,r=0;for(m=0;m<x;m++){var p=D[m];!p.isValid()||f&&!p.visible||(r+=p.y)}for(this.total=r,m=0;m<x;m++)(p=D[m]).percentage=0<r&&(p.visible||!f)?p.y/r*100:0,p.total=r},M.defaultOptions=_(K.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),M}(K),d(N.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:rt.drawRectangle,drawTracker:$.prototype.drawTracker,getCenter:Y.getCenter,getSymbol:q,isCartesian:!1,noSharedTooltip:!0,pointAttribs:$.prototype.pointAttribs,pointClass:J,requireSorting:!1,searchPoint:q,trackerGroups:["group","dataLabelsGroup"]}),X.registerSeriesType("pie",N),N}),wt(o,"Series/Pie/PieDataLabel.js",[o["Core/Series/DataLabel.js"],o["Core/Globals.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var _,K=$.noop,X=q.distribute,F=rt.series,N=J.arrayMax,O=J.clamp,k=J.defined,g=J.merge,d=J.pick,v=J.relativeLength;return function(T){function y(){var u,E,j,G,W,b,z,R,V,Z,nt,it,f=this,m=f.data,r=f.chart,p=f.options.dataLabels||{},a=p.connectorPadding,n=r.plotWidth,h=r.plotHeight,l=r.plotLeft,w=Math.round(r.chartWidth/3),P=f.center,I=P[2]/2,L=P[1],S=[[],[]],B=[0,0,0,0],c=f.dataLabelPositioners;f.visible&&(p.enabled||f._hasPointLabels)&&(m.forEach(function(ot){ot.dataLabel&&ot.visible&&ot.dataLabel.shortened&&(ot.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ot.dataLabel.shortened=!1)}),F.prototype.drawDataLabels.apply(f),m.forEach(function(ot){ot.dataLabel&&(ot.visible?(S[ot.half].push(ot),ot.dataLabel._pos=null,!k(p.style.width)&&!k(ot.options.dataLabels&&ot.options.dataLabels.style&&ot.options.dataLabels.style.width)&&ot.dataLabel.getBBox().width>w&&(ot.dataLabel.css({width:Math.round(.7*w)+"px"}),ot.dataLabel.shortened=!0)):(ot.dataLabel=ot.dataLabel.destroy(),ot.dataLabels&&1===ot.dataLabels.length&&delete ot.dataLabels))}),S.forEach(function(ot,at){var yt,mt=ot.length,_t=[];if(mt){if(f.sortByAngle(ot,at-.5),0<f.maxLabelDistance){var ut=Math.max(0,L-I-f.maxLabelDistance),ct=Math.min(L+I+f.maxLabelDistance,r.plotHeight);ot.forEach(function(H){0<H.labelDistance&&H.dataLabel&&(H.top=Math.max(0,L-I-H.labelDistance),H.bottom=Math.min(L+I+H.labelDistance,r.plotHeight),yt=H.dataLabel.getBBox().height||21,H.distributeBox={target:H.labelPosition.natural.y-H.top+yt/2,size:yt,rank:H.y},_t.push(H.distributeBox))}),X(_t,ut=ct+yt-ut,ut/5)}for(nt=0;nt<mt;nt++){if(G=(u=ot[nt]).dataLabel,Z=!1===u.visible?"hidden":"inherit",V=ut=(b=u.labelPosition).natural.y,_t&&k(u.distributeBox)&&(void 0===u.distributeBox.pos?Z="hidden":(z=u.distributeBox.size,V=c.radialDistributionY(u))),delete u.positionIndex,p.justify)R=c.justify(u,I,P);else switch(p.alignTo){case"connectors":R=c.alignToConnectors(ot,at,n,l);break;case"plotEdges":R=c.alignToPlotEdges(G,at,n,l);break;default:R=c.radialDistributionX(f,u,V,ut)}G._attr={visibility:Z,align:b.alignment},G._pos={x:R+d((it=u.options.dataLabels||{}).x,p.x)+({left:a,right:-a}[b.alignment]||0),y:V+d(it.y,p.y)-10},b.final.x=R,b.final.y=V,d(p.crop,!0)&&(W=G.getBBox().width,ut=null,R-W<a&&1===at?(ut=Math.round(W-R+a),B[3]=Math.max(ut,B[3])):R+W>n-a&&0===at&&(ut=Math.round(R+W-n+a),B[1]=Math.max(ut,B[1])),0>V-z/2?B[0]=Math.max(Math.round(z/2-V),B[0]):V+z/2>h&&(B[2]=Math.max(Math.round(V+z/2-h),B[2])),G.sideOverflow=ut)}}}),0===N(B)||this.verifyDataLabelOverflow(B))&&(this.placeDataLabels(),this.points.forEach(function(ot){var at;it=g(p,ot.options.dataLabels),(E=d(it.connectorWidth,1))&&(j=ot.connector,(G=ot.dataLabel)&&G._pos&&ot.visible&&0<ot.labelDistance?(Z=G._attr.visibility,(at=!j)&&(ot.connector=j=r.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ot.colorIndex+(ot.className?" "+ot.className:"")).add(f.dataLabelsGroup),r.styledMode||j.attr({"stroke-width":E,stroke:it.connectorColor||ot.color||"#666666"})),j[at?"attr":"animate"]({d:ot.getConnectorPath()}),j.attr("visibility",Z)):j&&(ot.connector=j.destroy()))}))}function C(){this.points.forEach(function(f){var r,m=f.dataLabel;m&&f.visible&&((r=m._pos)?(m.sideOverflow&&(m._attr.width=Math.max(m.getBBox().width-m.sideOverflow,0),m.css({width:m._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),m.shortened=!0),m.attr(m._attr),m[m.moved?"animate":"attr"](r),m.moved=!0):m&&m.attr({y:-9999})),delete f.distributeBox},this)}function M(f){var m=this.center,r=this.options,p=r.center,a=r.minSize||80,n=null!==r.size;if(!n){if(null!==p[0])var h=Math.max(m[2]-Math.max(f[1],f[3]),a);else h=Math.max(m[2]-f[1]-f[3],a),m[0]+=(f[3]-f[1])/2;null!==p[1]?h=O(h,a,m[2]-Math.max(f[0],f[2])):(h=O(h,a,m[2]-f[0]-f[2]),m[1]+=(f[0]-f[2])/2),h<m[2]?(m[2]=h,m[3]=Math.min(v(r.innerSize||0,h),h),this.translate(m),this.drawDataLabels&&this.drawDataLabels()):n=!0}return n}var D=[],x={radialDistributionY:function(f){return f.top+f.distributeBox.pos},radialDistributionX:function(f,m,r,p){return f.getX(r<m.top+2||r>m.bottom-2?p:r,m.half,m)},justify:function(f,m,r){return r[0]+(f.half?-1:1)*(m+f.labelDistance)},alignToPlotEdges:function(f,m,r,p){return f=f.getBBox().width,m?f+p:r-f-p},alignToConnectors:function(f,m,r,p){var n,a=0;return f.forEach(function(h){(n=h.dataLabel.getBBox().width)>a&&(a=n)}),m?a+p:r-a-p}};T.compose=function(f){Y.compose(F),-1===D.indexOf(f)&&(D.push(f),(f=f.prototype).dataLabelPositioners=x,f.alignDataLabel=K,f.drawDataLabels=y,f.placeDataLabels=C,f.verifyDataLabelOverflow=M)}}(_||(_={})),_}),wt(o,"Extensions/OverlappingDataLabels.js",[o["Core/Chart/Chart.js"],o["Core/Utilities.js"]],function(Y,$){function q(O,k){var g=!1;if(O){var d=O.newOpacity;O.oldOpacity!==d&&(O.alignAttr&&O.placed?(O[d?"removeClass":"addClass"]("highcharts-data-label-hidden"),g=!0,O.alignAttr.opacity=d,O[O.isOld?"animate":"attr"](O.alignAttr,null,function(){k.styledMode||O.css({pointerEvents:d?"auto":"none"})}),J(k,"afterHideOverlappingLabel")):O.attr({opacity:d})),O.isOld=!0}return g}var J=$.fireEvent,K=$.isArray,X=$.isNumber,F=$.objectEach,N=$.pick;(0,$.addEvent)(Y,"render",function(){var O=this,k=[];(this.labelCollectors||[]).forEach(function(g){k=k.concat(g())}),(this.yAxis||[]).forEach(function(g){g.stacking&&g.options.stackLabels&&!g.options.stackLabels.allowOverlap&&F(g.stacking.stacks,function(d){F(d,function(v){v.label&&"hidden"!==v.label.visibility&&k.push(v.label)})})}),(this.series||[]).forEach(function(g){var d=g.options.dataLabels;g.visible&&(!1!==d.enabled||g._hasPointLabels)&&((d=function(v){return v.forEach(function(_){_.visible&&(K(_.dataLabels)?_.dataLabels:_.dataLabel?[_.dataLabel]:[]).forEach(function(T){var y=T.options;T.labelrank=N(y.labelrank,_.labelrank,_.shapeArgs&&_.shapeArgs.height),y.allowOverlap?(T.oldOpacity=T.opacity,T.newOpacity=1,q(T,O)):k.push(T)})})})(g.nodes||[]),d(g.points))}),this.hideOverlappingLabels(k)}),Y.prototype.hideOverlappingLabels=function(O){var v,_,T,k=this,g=O.length,d=k.renderer,y=!1,C=function(x){var f,p,m=x.box?0:x.padding||0,r=f=0;if(x&&(!x.alignAttr||x.placed)){var a=x.alignAttr||{x:x.attr("x"),y:x.attr("y")},n=x.parentGroup;return x.width||(f=x.getBBox(),x.width=f.width,x.height=f.height,f=d.fontMetrics(null,x.element).h),(p={left:"0",center:"0.5",right:"1"}[x.alignValue])?r=+p*(x.width-2*m):X(x.x)&&Math.round(x.x)!==x.translateX&&(r=x.x-x.translateX),{x:a.x+(n.translateX||0)+m-(r||0),y:a.y+(n.translateY||0)+m-f,width:x.width-2*m,height:x.height-2*m}}};for(_=0;_<g;_++)(v=O[_])&&(v.oldOpacity=v.opacity,v.newOpacity=1,v.absoluteBox=C(v));for(O.sort(function(x,f){return(f.labelrank||0)-(x.labelrank||0)}),_=0;_<g;_++){var M=(C=O[_])&&C.absoluteBox;for(v=_+1;v<g;++v){var D=(T=O[v])&&T.absoluteBox;!M||!D||C===T||0===C.newOpacity||0===T.newOpacity||D.x>=M.x+M.width||D.x+D.width<=M.x||D.y>=M.y+M.height||D.y+D.height<=M.y||((C.labelrank<T.labelrank?C:T).newOpacity=0)}}O.forEach(function(x){q(x,k)&&(y=!0)}),y&&J(k,"afterHideAllOverlappingLabels")}}),wt(o,"Core/Responsive.js",[o["Core/Utilities.js"]],function(Y){var k,$=Y.extend,q=Y.find,rt=Y.isArray,J=Y.isObject,K=Y.merge,X=Y.objectEach,F=Y.pick,N=Y.splat,O=Y.uniqueKey;return function(g){var d=[];g.compose=function(_){return-1===d.indexOf(_)&&(d.push(_),$(_.prototype,v.prototype)),_};var v=function(){function _(){}return _.prototype.currentOptions=function(T){var C=this,M={};return function y(D,x,f,m){var r;X(D,function(p,a){if(!m&&-1<C.collectionsWithUpdate.indexOf(a)&&x[a])for(p=N(p),f[a]=[],r=0;r<Math.max(p.length,x[a].length);r++)x[a][r]&&(void 0===p[r]?f[a][r]=x[a][r]:(f[a][r]={},y(p[r],x[a][r],f[a][r],m+1)));else J(p)?(f[a]=rt(p)?[]:{},y(p,x[a]||{},f[a],m+1)):f[a]=void 0===x[a]?null:x[a]})}(T,this.options,M,0),M},_.prototype.matchResponsiveRule=function(T,y){var C=T.condition;(C.callback||function(){return this.chartWidth<=F(C.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=F(C.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=F(C.minWidth,0)&&this.chartHeight>=F(C.minHeight,0)}).call(this)&&y.push(T._id)},_.prototype.setResponsive=function(T,y){var C=this,M=this.options.responsive,D=this.currentResponsive,x=[];!y&&M&&M.rules&&M.rules.forEach(function(f){void 0===f._id&&(f._id=O()),C.matchResponsiveRule(f,x)},this),(y=K.apply(void 0,x.map(function(f){return q((M||{}).rules||[],function(m){return m._id===f})}).map(function(f){return f&&f.chartOptions}))).isResponsiveOptions=!0,(x=x.toString()||void 0)!==(D&&D.ruleIds)&&(D&&this.update(D.undoOptions,T,!0),x?((D=this.currentOptions(y)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:x,mergedOptions:y,undoOptions:D},this.update(y,T,!0)):this.currentResponsive=void 0)},_}()}(k||(k={})),k}),wt(o,"masters/highcharts.src.js",[o["Core/Globals.js"],o["Core/Utilities.js"],o["Core/DefaultOptions.js"],o["Core/Animation/Fx.js"],o["Core/Animation/AnimationUtilities.js"],o["Core/Renderer/HTML/AST.js"],o["Core/FormatUtilities.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Renderer/HTML/HTMLElement.js"],o["Core/Renderer/HTML/HTMLRenderer.js"],o["Core/Axis/Axis.js"],o["Core/Axis/DateTimeAxis.js"],o["Core/Axis/LogarithmicAxis.js"],o["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],o["Core/Axis/Tick.js"],o["Core/Tooltip.js"],o["Core/Series/Point.js"],o["Core/Pointer.js"],o["Core/MSPointer.js"],o["Core/Legend/Legend.js"],o["Core/Chart/Chart.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Series/Column/ColumnSeries.js"],o["Series/Column/ColumnDataLabel.js"],o["Series/Pie/PieSeries.js"],o["Series/Pie/PieDataLabel.js"],o["Core/Series/DataLabel.js"],o["Core/Responsive.js"],o["Core/Color/Color.js"],o["Core/Time.js"]],function(Y,$,q,rt,J,K,X,F,N,O,k,g,d,v,_,T,y,C,M,D,x,f,m,r,p,a,n,h,l,w,P,I,L){return Y.animate=J.animate,Y.animObject=J.animObject,Y.getDeferredAnimation=J.getDeferredAnimation,Y.setAnimation=J.setAnimation,Y.stop=J.stop,Y.timers=rt.timers,Y.AST=K,Y.Axis=d,Y.Chart=m,Y.chart=m.chart,Y.Fx=rt,Y.Legend=f,Y.PlotLineOrBand=T,Y.Point=M,Y.Pointer=x.isRequired()?x:D,Y.Series=r,Y.SVGElement=N,Y.SVGRenderer=O,Y.Tick=y,Y.Time=L,Y.Tooltip=C,Y.Color=I,Y.color=I.parse,g.compose(O),k.compose(N),Y.defaultOptions=q.defaultOptions,Y.getOptions=q.getOptions,Y.time=q.defaultTime,Y.setOptions=q.setOptions,Y.dateFormat=X.dateFormat,Y.format=X.format,Y.numberFormat=X.numberFormat,Y.addEvent=$.addEvent,Y.arrayMax=$.arrayMax,Y.arrayMin=$.arrayMin,Y.attr=$.attr,Y.clearTimeout=$.clearTimeout,Y.correctFloat=$.correctFloat,Y.createElement=$.createElement,Y.css=$.css,Y.defined=$.defined,Y.destroyObjectProperties=$.destroyObjectProperties,Y.discardElement=$.discardElement,Y.distribute=F.distribute,Y.erase=$.erase,Y.error=$.error,Y.extend=$.extend,Y.extendClass=$.extendClass,Y.find=$.find,Y.fireEvent=$.fireEvent,Y.getMagnitude=$.getMagnitude,Y.getStyle=$.getStyle,Y.inArray=$.inArray,Y.isArray=$.isArray,Y.isClass=$.isClass,Y.isDOMElement=$.isDOMElement,Y.isFunction=$.isFunction,Y.isNumber=$.isNumber,Y.isObject=$.isObject,Y.isString=$.isString,Y.keys=$.keys,Y.merge=$.merge,Y.normalizeTickInterval=$.normalizeTickInterval,Y.objectEach=$.objectEach,Y.offset=$.offset,Y.pad=$.pad,Y.pick=$.pick,Y.pInt=$.pInt,Y.relativeLength=$.relativeLength,Y.removeEvent=$.removeEvent,Y.seriesType=p.seriesType,Y.splat=$.splat,Y.stableSort=$.stableSort,Y.syncTimeout=$.syncTimeout,Y.timeUnits=$.timeUnits,Y.uniqueKey=$.uniqueKey,Y.useSerialIds=$.useSerialIds,Y.wrap=$.wrap,n.compose(a),w.compose(r),v.compose(d),_.compose(d),l.compose(h),T.compose(d),P.compose(m),Y}),wt(o,"Series/XRange/XRangePoint.js",[o["Core/Series/Point.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var J,rt=this&&this.__extends||(J=function(K,X){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,N){F.__proto__=N}||function(F,N){for(var O in N)N.hasOwnProperty(O)&&(F[O]=N[O])})(K,X)},function(K,X){function F(){this.constructor=K}J(K,X),K.prototype=null===X?Object.create(X):(F.prototype=X.prototype,new F)});return q=q.extend,$=function(J){function K(){var X=null!==J&&J.apply(this,arguments)||this;return X.options=void 0,X.series=void 0,X}return rt(K,J),K.getColorByCategory=function(X,F){var N=X.options.colors||X.chart.options.colors;return{colorIndex:X=F.y%(N?N.length:X.chart.options.chart.colorCount),color:N&&N[X]}},K.prototype.resolveColor=function(){var X=this.series;if(X.options.colorByPoint&&!this.options.color){var F=K.getColorByCategory(X,this);X.chart.styledMode||(this.color=F.color),this.options.colorIndex||(this.colorIndex=F.colorIndex)}else this.color||(this.color=X.color)},K.prototype.init=function(){return Y.prototype.init.apply(this,arguments),this.y||(this.y=0),this},K.prototype.setState=function(){Y.prototype.setState.apply(this,arguments),this.series.drawPoint(this,this.series.getAnimationVerb())},K.prototype.getLabelConfig=function(){var X=Y.prototype.getLabelConfig.call(this),F=this.series.yAxis.categories;return X.x2=this.x2,X.yCategory=this.yCategory=F&&F[this.y],X},K.prototype.isValid=function(){return"number"==typeof this.x&&"number"==typeof this.x2},K}($.seriesTypes.column.prototype.pointClass),q($.prototype,{ttBelow:!1,tooltipDateKeys:["x","x2"]}),$}),wt(o,"Series/XRange/XRangeComposition.js",[o["Core/Axis/Axis.js"],o["Core/Utilities.js"]],function(Y,$){var rt=$.pick;(0,$.addEvent)(Y,"afterGetSeriesExtremes",function(){var K,J=this.series;if(this.isXAxis){var X=rt(this.dataMax,-Number.MAX_VALUE);J.forEach(function(F){F.x2Data&&F.x2Data.forEach(function(N){N>X&&(X=N,K=!0)})}),K&&(this.dataMax=X)}})}),wt(o,"Series/XRange/XRangeSeries.js",[o["Core/Globals.js"],o["Core/Color/Color.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"],o["Series/XRange/XRangePoint.js"]],function(Y,$,q,rt,J){var M,K=this&&this.__extends||(M=function(D,x){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var r in m)m.hasOwnProperty(r)&&(f[r]=m[r])})(D,x)},function(D,x){function f(){this.constructor=D}M(D,x),D.prototype=null===x?Object.create(x):(f.prototype=x.prototype,new f)}),X=$.parse,F=q.series,N=q.seriesTypes.column,O=N.prototype,k=rt.clamp,g=rt.correctFloat,d=rt.defined;$=rt.extend;var v=rt.find,_=rt.isNumber,T=rt.isObject,y=rt.merge,C=rt.pick;return rt=function(M){function D(){var x=null!==M&&M.apply(this,arguments)||this;return x.data=void 0,x.options=void 0,x.points=void 0,x}return K(D,M),D.prototype.init=function(){N.prototype.init.apply(this,arguments),this.options.stacking=void 0},D.prototype.getColumnMetrics=function(){function x(){f.series.forEach(function(r){var p=r.xAxis;r.xAxis=r.yAxis,r.yAxis=p})}var f=this.chart;x();var m=O.getColumnMetrics.call(this);return x(),m},D.prototype.cropData=function(x,f,m,r){return(f=F.prototype.cropData.call(this,this.x2Data,f,m,r)).xData=x.slice(f.start,f.end),f},D.prototype.findPointIndex=function(x){var f=this.cropped,m=this.cropStart,r=this.points,p=x.id;if(p)var a=(a=v(r,function(n){return n.id===p}))?a.index:void 0;return void 0===a&&(a=(a=v(r,function(n){return n.x===x.x&&n.x2===x.x2&&!n.touched}))?a.index:void 0),f&&_(a)&&_(m)&&a>=m&&(a-=m),a},D.prototype.translatePoint=function(x){var f=this.xAxis,m=this.yAxis,r=this.columnMetrics,p=this.options,a=p.minPointLength||0,n=(x.shapeArgs&&x.shapeArgs.width||0)/2,h=this.pointXOffset=r.offset,l=x.plotX,w=C(x.x2,x.x+(x.len||0)),P=f.translate(w,0,0,0,1);w=Math.abs(P-l);var I=this.chart.inverted,L=C(p.borderWidth,1)%2/2,S=r.offset,B=Math.round(r.width);a&&(0>(a-=w)&&(a=0),l-=a/2,P+=a/2),l=Math.max(l,-10),P=k(P,-10,f.len+10),d(x.options.pointWidth)&&(S-=(Math.ceil(x.options.pointWidth)-B)/2,B=Math.ceil(x.options.pointWidth)),p.pointPlacement&&_(x.plotY)&&m.categories&&(x.plotY=m.translate(x.y,0,1,0,1,p.pointPlacement)),p={x:p=Math.floor(Math.min(l,P))+L,y:Math.floor(x.plotY+S)+L,width:Math.floor(Math.max(l,P))+L-p,height:B,r:this.options.borderRadius},x.shapeArgs=p,I?x.tooltipPos[1]+=h+n:x.tooltipPos[0]-=n+h-p.width/2,h=(n=p.x)+p.width,0>n||h>f.len?(n=k(n,0,f.len),h=k(h,0,f.len),x.dlBox=y(p,{x:n,width:h-n,centerX:(P=h-n)?P/2:null})):x.dlBox=null,P=I?0:1,r=this.columnMetrics?this.columnMetrics.offset:-r.width/2,(n=x.tooltipPos)[h=I?1:0]=I?n[h]+p.width/2:n[h]+(f.reversed?-1:0)*p.width,n[P]=k(n[P]+(I?-1:1)*r,0,m.len-1),(m=x.partialFill)&&(T(m)&&(m=m.amount),_(m)||(m=0),x.partShapeArgs=y(p,{r:this.options.borderRadius}),l=Math.max(Math.round(w*m+x.plotX-l),0),x.clipRectArgs={x:f.reversed?p.x+w-l:p.x,y:p.y,width:l,height:p.height})},D.prototype.translate=function(){O.translate.apply(this,arguments),this.points.forEach(function(x){this.translatePoint(x)},this)},D.prototype.drawPoint=function(x,f){var m=this.options,r=this.chart.renderer,p=x.graphic,a=x.shapeType,n=x.shapeArgs,h=x.partShapeArgs,l=x.clipRectArgs,w=x.partialFill,P=m.stacking&&!m.borderRadius,I=x.state,L=m.states[I||"normal"]||{},S=void 0===I?"attr":f;I=this.pointAttribs(x,I),L=C(this.chart.options.chart.animation,L.animation),x.isNull||!1===x.visible?p&&(x.graphic=p.destroy()):(p?p.rect[f](n):(x.graphic=p=r.g("point").addClass(x.getClassName()).add(x.group||this.group),p.rect=r[a](y(n)).addClass(x.getClassName()).addClass("highcharts-partfill-original").add(p)),h&&(p.partRect?(p.partRect[f](y(h)),p.partialClipRect[f](y(l))):(p.partialClipRect=r.clipRect(l.x,l.y,l.width,l.height),p.partRect=r[a](h).addClass("highcharts-partfill-overlay").add(p).clip(p.partialClipRect))),this.chart.styledMode||(p.rect[f](I,L).shadow(m.shadow,null,P),h&&(T(w)||(w={}),T(m.partialFill)&&(w=y(m.partialFill,w)),x=w.fill||X(I.fill).brighten(-.3).get()||X(x.color||this.color).brighten(-.3).get(),I.fill=x,p.partRect[S](I,L).shadow(m.shadow,null,P))))},D.prototype.drawPoints=function(){var x=this,f=x.getAnimationVerb();x.points.forEach(function(m){x.drawPoint(m,f)})},D.prototype.getAnimationVerb=function(){return this.chart.pointCount<(this.options.animationLimit||250)?"animate":"attr"},D.prototype.isPointInside=function(x){var f=x.shapeArgs,m=x.plotX,r=x.plotY;return f?void 0!==m&&void 0!==r&&0<=r&&r<=this.yAxis.len&&0<=(f.x||0)+(f.width||0)&&m<=this.xAxis.len:M.prototype.isPointInside.apply(this,arguments)},D.defaultOptions=y(N.defaultOptions,{colorByPoint:!0,dataLabels:{formatter:function(){var x=this.point.partialFill;if(T(x)&&(x=x.amount),_(x)&&0<x)return g(100*x)+"%"},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:'<span style="font-size: 10px">{point.x} - {point.x2}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.yCategory}</b><br/>'},borderRadius:3,pointRange:0}),D}(N),$(rt.prototype,{type:"xrange",parallelArrays:["x","x2","y"],requireSorting:!1,animate:F.prototype.animate,cropShoulder:1,getExtremesFromAll:!0,autoIncrement:Y.noop,buildKDTree:Y.noop,pointClass:J}),q.registerSeriesType("xrange",rt),rt}),wt(o,"Series/Gantt/GanttPoint.js",[o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$){var J,q=this&&this.__extends||(J=function(K,X){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,N){F.__proto__=N}||function(F,N){for(var O in N)N.hasOwnProperty(O)&&(F[O]=N[O])})(K,X)},function(K,X){function F(){this.constructor=K}J(K,X),K.prototype=null===X?Object.create(X):(F.prototype=X.prototype,new F)}),rt=$.pick;return function(J){function K(){var X=null!==J&&J.apply(this,arguments)||this;return X.options=void 0,X.series=void 0,X}return q(K,J),K.setGanttPointAliases=function(X){function F(N,O){void 0!==O&&(X[N]=O)}F("x",rt(X.start,X.x)),F("x2",rt(X.end,X.x2)),F("partialFill",rt(X.completed,X.partialFill))},K.prototype.applyOptions=function(X,F){return X=J.prototype.applyOptions.call(this,X,F),K.setGanttPointAliases(X),X},K.prototype.isValid=function(){return("number"==typeof this.start||"number"==typeof this.x)&&("number"==typeof this.end||"number"==typeof this.x2||this.milestone)},K}(Y.seriesTypes.xrange.prototype.pointClass)}),wt(o,"Core/Axis/BrokenAxis.js",[o["Extensions/Stacking.js"],o["Core/Utilities.js"]],function(Y,$){var N,q=$.addEvent,rt=$.find,J=$.fireEvent,K=$.isArray,X=$.isNumber,F=$.pick;return function(O){function k(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function g(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function d(){var x=this.brokenAxis;if(x&&x.hasBreaks){for(var f=this.tickPositions,m=this.tickPositions.info,r=[],p=0;p<f.length;p++)x.isInAnyBreak(f[p])||r.push(f[p]);this.tickPositions=r,this.tickPositions.info=m}}function v(){this.brokenAxis||(this.brokenAxis=new D(this))}function _(){var x=this.options.connectNulls,f=this.points,m=this.xAxis,r=this.yAxis;if(this.isDirty)for(var p=f.length;p--;){var a=f[p],n=!(null===a.y&&!1===x)&&(m&&m.brokenAxis&&m.brokenAxis.isInAnyBreak(a.x,!0)||r&&r.brokenAxis&&r.brokenAxis.isInAnyBreak(a.y,!0));a.visible=!n&&!1!==a.options.visible}}function T(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,F(this.pointArrayMap,["y"]))}function y(x,f){var p,a,n,h,m=this,r=m.points;if(x&&x.brokenAxis&&x.brokenAxis.hasBreaks){var l=x.brokenAxis;f.forEach(function(w){p=l&&l.breakArray||[],a=x.isXAxis?x.min:F(m.options.threshold,x.min),r.forEach(function(P){h=F(P["stack"+w.toUpperCase()],P[w]),p.forEach(function(I){X(a)&&X(h)&&(n=!1,a<I.from&&h>I.to||a>I.from&&h<I.from?n="pointBreak":(a<I.from&&h>I.from&&h<I.to||a>I.from&&h>I.to&&h<I.from)&&(n="pointInBreak"),n&&J(x,n,{point:P,brk:I}))})})})}}function C(){var x=this.currentDataGrouping,f=x&&x.gapSize;x=this.points.slice();var a,m=this.yAxis,r=this.options.gapSize,p=x.length-1;if(r&&0<p)for("value"!==this.options.gapUnit&&(r*=this.basePointRange),f&&f>r&&f>=this.basePointRange&&(r=f),a=void 0;p--;)a&&!1!==a.visible||(a=x[p+1]),f=x[p],!1!==a.visible&&!1!==f.visible&&(a.x-f.x>r&&(x.splice(p+1,0,{isNull:!0,x:a=(f.x+a.x)/2}),m.stacking&&this.options.stacking&&((a=m.stacking.stacks[this.stackKey][a]=new Y(m,m.options.stackLabels,!1,a,this.stack)).total=0)),a=f);return this.getGraphPath(x)}var M=[];O.compose=function(x,f){if(-1===M.indexOf(x)&&(M.push(x),x.keepProps.push("brokenAxis"),q(x,"init",v),q(x,"afterInit",k),q(x,"afterSetTickPositions",d),q(x,"afterSetOptions",g)),-1===M.indexOf(f)){M.push(f);var m=f.prototype;m.drawBreaks=y,m.gappedPath=C,q(f,"afterGeneratePoints",_),q(f,"afterRender",T)}return x};var D=function(){function x(f){this.hasBreaks=!1,this.axis=f}return x.isInBreak=function(f,m){var r=f.repeat||1/0,p=f.from,a=f.to-f.from;return m=m>=p?(m-p)%r:r-(p-m)%r,f.inclusive?m<=a:m<a&&0!==m},x.lin2Val=function(f){var r,m=this.brokenAxis;if(!(m=m&&m.breakArray)||!X(f))return f;for(r=0;r<m.length;r++){var p=m[r];if(p.from>=f)break;(p.to<f||x.isInBreak(p,f))&&(f+=p.len)}return f},x.val2Lin=function(f){var m=this.brokenAxis;if(!(m=m&&m.breakArray)||!X(f))return f;var p,r=f;for(p=0;p<m.length;p++){var a=m[p];if(a.to<=f)r-=a.len;else{if(a.from>=f)break;if(x.isInBreak(a,f)){r-=f-a.from;break}}}return r},x.prototype.findBreakAt=function(f,m){return rt(m,function(r){return r.from<f&&f<r.to})},x.prototype.isInAnyBreak=function(f,m){var n,r=this.axis,p=r.options.breaks||[],a=p.length;if(a&&X(f)){for(;a--;)if(x.isInBreak(p[a],f)){var h=!0;n||(n=F(p[a].showPoints,!r.isXAxis))}var l=h&&m?h&&!n:h}return l},x.prototype.setBreaks=function(f,m){var r=this,p=r.axis,a=K(f)&&!!f.length;p.isDirty=r.hasBreaks!==a,r.hasBreaks=a,p.options.breaks=p.userOptions.breaks=f,p.forceRedraw=!0,p.series.forEach(function(n){n.isDirty=!0}),a||p.val2lin!==x.val2Lin||(delete p.val2lin,delete p.lin2val),a&&(p.userOptions.ordinal=!1,p.lin2val=x.lin2Val,p.val2lin=x.val2Lin,p.setExtremes=function(n,h,l,w,P){if(r.hasBreaks){for(var L,I=this.options.breaks||[];L=r.findBreakAt(n,I);)n=L.to;for(;L=r.findBreakAt(h,I);)h=L.from;h<n&&(h=n)}p.constructor.prototype.setExtremes.call(this,n,h,l,w,P)},p.setAxisTranslation=function(){if(p.constructor.prototype.setAxisTranslation.call(this),r.unitLength=void 0,r.hasBreaks){var I,B,n=p.options.breaks||[],h=[],l=[],w=F(p.pointRangePadding,0),P=0,L=p.userMin||p.min,S=p.userMax||p.max;n.forEach(function(E){I=E.repeat||1/0,X(L)&&X(S)&&(x.isInBreak(E,L)&&(L+=E.to%I-L%I),x.isInBreak(E,S)&&(S-=S%I-E.from%I))}),n.forEach(function(E){if(u=E.from,I=E.repeat||1/0,X(L)&&X(S)){for(;u-I>L;)u-=I;for(;u<L;)u+=I;for(B=u;B<S;B+=I)h.push({value:B,move:"in"}),h.push({value:B+E.to-E.from,move:"out",size:E.breakSize})}}),h.sort(function(E,j){return E.value===j.value?("in"===E.move?0:1)-("in"===j.move?0:1):E.value-j.value});var c=0,u=L;h.forEach(function(E){1===(c+="in"===E.move?1:-1)&&"in"===E.move&&(u=E.value),0===c&&X(u)&&(l.push({from:u,to:E.value,len:E.value-u-(E.size||0)}),P+=E.value-u-(E.size||0))}),r.breakArray=l,X(L)&&X(S)&&X(p.min)&&(r.unitLength=S-L-P+w,J(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:r.unitLength&&(p.transA*=(S-p.min+w)/r.unitLength),w&&(p.minPixelPadding=p.transA*(p.minPointOffset||0)),p.min=L,p.max=S)}}),F(m,!0)&&p.chart.redraw()},x}();O.Additions=D}(N||(N={})),N}),wt(o,"Core/Axis/GridAxis.js",[o["Core/Axis/Axis.js"],o["Core/Axis/AxisDefaults.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var T,J=q.dateFormats,K=rt.addEvent,X=rt.defined,F=rt.erase,N=rt.find,O=rt.isArray,k=rt.isNumber,g=rt.merge,d=rt.pick,v=rt.timeUnits,_=rt.wrap;return function(y){function C(c,u){var E={width:0,height:0};return u.forEach(function(j){if(rt.isObject(j=c[j],!0)){var G=rt.isObject(j.label,!0)?j.label:{};j=G.getBBox?G.getBBox().height:0,G.textStr&&!k(G.textPxLength)&&(G.textPxLength=G.getBBox().width);var W=k(G.textPxLength)?Math.round(G.textPxLength):0;G.textStr&&(W=Math.round(G.getBBox().width)),E.height=Math.max(j,E.height),E.width=Math.max(W,E.width)}}),"treegrid"===this.options.type&&this.treeGrid&&this.treeGrid.mapOfPosToGridNode&&(E.width+=this.options.labels.indentation*((this.treeGrid.mapOfPosToGridNode[-1].height||0)-1)),E}function M(){var c=this.grid;(c&&c.columns||[]).forEach(function(u){u.getOffset()})}function D(c){if(!0===(this.options.grid||{}).enabled){var u=this.axisTitle,E=this.height,j=this.horiz,G=this.left,W=this.offset,b=this.opposite,z=this.options,R=this.top,V=this.width,Z=this.tickSize(),nt=u&&u.getBBox().width,it=z.title.x,ot=z.title.y,at=d(z.title.margin,j?5:10);u=this.chart.renderer.fontMetrics(z.title.style.fontSize,u).f,Z=(j?R+E:G)+(j?1:-1)*(b?-1:1)*(Z?Z[0]/2:0)+(this.side===y.Side.bottom?u:0),c.titlePosition.x=j?G-(nt||0)/2-at+it:Z+(b?V:0)+W+it,c.titlePosition.y=j?Z-(b?E:0)+(b?u:-u)/2+W+ot:R-at+ot}}function x(){var c=this.chart,u=this.options.grid,E=this.userOptions;if((u=void 0===u?{}:u).enabled){var j=this.options;j.labels.align=d(j.labels.align,"center"),this.categories||(j.showLastLabel=!1),this.labelRotation=0,j.labels.rotation=0}if(u.columns){j=this.grid.columns=[];for(var G=this.grid.columnIndex=0;++G<u.columns.length;){var W=g(E,u.columns[u.columns.length-G-1],{linkedTo:0,type:"category",scrollbar:{enabled:!1}});delete W.grid.columns,(W=new Y(this.chart,W)).grid.isColumn=!0,W.grid.columnIndex=G,F(c.axes,W),F(c[this.coll],W),j.push(W)}}}function f(){var c=this.grid,u=this.options;if(!0===(u.grid||{}).enabled){var E=this.min||0,j=this.max||0;if(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.grid&&this.grid.isOuterAxis()&&this.axisLine){var G=u.lineWidth;if(G){var W=(G=this.getLinePath(G))[0],b=G[1],z=((this.tickSize("tick")||[1])[0]-1)*(this.side===y.Side.top||this.side===y.Side.left?-1:1);"M"===W[0]&&"L"===b[0]&&(this.horiz?(W[2]+=z,b[2]+=z):(W[1]+=z,b[1]+=z)),!this.horiz&&this.chart.marginRight&&(W=[W,["L",this.left,W[2]||0]],z=["L",this.chart.chartWidth-this.chart.marginRight,this.toPixels(j+this.tickmarkOffset)],b=[["M",b[1]||0,this.toPixels(j+this.tickmarkOffset)],z],this.grid.upperBorder||E%1==0||(this.grid.upperBorder=this.grid.renderBorder(W)),this.grid.upperBorder&&(this.grid.upperBorder.attr({stroke:u.lineColor,"stroke-width":u.lineWidth}),this.grid.upperBorder.animate({d:W})),this.grid.lowerBorder||j%1==0||(this.grid.lowerBorder=this.grid.renderBorder(b)),this.grid.lowerBorder&&(this.grid.lowerBorder.attr({stroke:u.lineColor,"stroke-width":u.lineWidth}),this.grid.lowerBorder.animate({d:b}))),this.grid.axisLineExtra?(this.grid.axisLineExtra.attr({stroke:u.lineColor,"stroke-width":u.lineWidth}),this.grid.axisLineExtra.animate({d:G})):this.grid.axisLineExtra=this.grid.renderBorder(G),this.axisLine[this.showAxis?"show":"hide"](!0)}}if((c&&c.columns||[]).forEach(function(R){R.render()}),!this.horiz&&this.chart.hasRendered&&(this.scrollbar||this.linkedParent&&this.linkedParent.scrollbar)){for(c=this.tickmarkOffset,u=this.tickPositions[this.tickPositions.length-1],G=this.tickPositions[0],b=void 0;(b=this.hiddenLabels.pop())&&b.element;)b.show();(b=this.ticks[G].label)&&(E-G>c?this.hiddenLabels.push(b.hide()):b.show()),(b=this.ticks[u].label)&&(u-j>c?this.hiddenLabels.push(b.hide()):b.show()),(E=this.ticks[u].mark)&&(u-j<c&&0<u-j&&this.ticks[u].isLast?E.hide():this.ticks[u-1]&&E.show())}}}function m(){var c=this.tickPositions&&this.tickPositions.info,u=this.options,E=this.userOptions.labels||{};(u.grid||{}).enabled&&(this.horiz?(this.series.forEach(function(j){j.options.pointRange=0}),c&&u.dateTimeLabelFormats&&u.labels&&!X(E.align)&&(!1===u.dateTimeLabelFormats[c.unitName].range||1<c.count)&&(u.labels.align="left",X(E.x)||(u.labels.x=3))):"treegrid"!==this.options.type&&this.grid&&this.grid.columns&&(this.minPointOffset=this.tickInterval))}function r(c){var u=this.options;c=c.userOptions;var E=u&&rt.isObject(u.grid,!0)?u.grid:{};if(!0===E.enabled){var j=g(!0,{className:"highcharts-grid-axis "+(c.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},c);"xAxis"===this.coll&&(X(c.linkedTo)&&!X(c.tickPixelInterval)&&(j.tickPixelInterval=350),X(c.tickPixelInterval)||!X(c.linkedTo)||X(c.tickPositioner)||X(c.tickInterval)||(j.tickPositioner=function(G,W){var b=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(b){for(var z=j.units||[],R=void 0,V=void 0,Z=void 0,nt=0;nt<z.length;nt++)if(z[nt][0]===b.unitName){R=nt;break}return z[R+1]?(Z=z[R+1][0],V=(z[R+1][1]||[1])[0]):"year"===b.unitName&&(Z="year",V=10*b.count),this.tickInterval=(b=v[Z])*V,this.getTimeTicks({unitRange:b,count:V,unitName:Z},G,W,this.options.startOfWeek)}})),g(!0,this.options,j),this.horiz&&(u.minPadding=d(c.minPadding,0),u.maxPadding=d(c.maxPadding,0)),k(u.grid.borderWidth)&&(u.tickWidth=u.lineWidth=E.borderWidth)}}function p(c){var u=(c=(c=c.userOptions)&&c.grid||{}).columns;c.enabled&&u&&g(!0,this.options,u[u.length-1])}function a(){(this.grid.columns||[]).forEach(function(c){c.setScale()})}function n(c){var u=$.defaultLeftAxisOptions,E=this.horiz,j=this.maxLabelDimensions,G=this.options.grid;(G=void 0===G?{}:G).enabled&&j&&(u=2*Math.abs(u.labels.x),E=E?G.cellHeight||u+j.height:u+j.width,O(c.tickSize)?c.tickSize[0]=E:c.tickSize=[E,0])}function h(){this.axes.forEach(function(c){(c.grid&&c.grid.columns||[]).forEach(function(u){u.setAxisSize(),u.setAxisTranslation()})})}function l(c){var u=this.grid;(u.columns||[]).forEach(function(E){E.destroy(c.keepEvents)}),u.columns=void 0}function w(c){var u=(c=c.userOptions||{}).grid||{};u.enabled&&X(u.borderColor)&&(c.tickColor=c.lineColor=u.borderColor),this.grid||(this.grid=new B(this)),this.hiddenLabels=[]}function P(c){var u=this.label,E=this.axis,j=E.reversed,G=E.chart,W=E.options.grid||{},b=E.options.labels,z=b.align,R=y.Side[E.side],V=c.tickmarkOffset,Z=E.tickPositions,nt=this.pos-V;Z=k(Z[c.index+1])?Z[c.index+1]-V:(E.max||0)+V;var it=E.tickSize("tick");if(V=it?it[0]:0,it=it?it[1]/2:0,!0===W.enabled){if("top"===R)var ot=(W=E.top+E.offset)-V;else"bottom"===R?W=(ot=G.chartHeight-E.bottom+E.offset)+V:(W=E.top+E.len-(E.translate(j?Z:nt)||0),ot=E.top+E.len-(E.translate(j?nt:Z)||0));"right"===R?j=(R=G.chartWidth-E.right+E.offset)+V:"left"===R?R=(j=E.left+E.offset)-V:(R=Math.round(E.left+(E.translate(j?Z:nt)||0))-it,j=Math.min(Math.round(E.left+(E.translate(j?nt:Z)||0))-it,E.left+E.len)),this.slotWidth=j-R,c.pos.x="left"===z?R:"right"===z?j:R+(j-R)/2,c.pos.y=ot+(W-ot)/2,G=G.renderer.fontMetrics(b.style.fontSize,u&&u.element),u=u?u.getBBox().height:0,b.useHTML?c.pos.y+=G.b+-u/2:(u=Math.round(u/G.h),c.pos.y+=(G.b-(G.h-G.f))/2+-(u-1)*G.h/2),c.pos.x+=E.horiz&&b.x||0}}function I(c){var u=c.axis,E=c.value;if(u.options.grid&&u.options.grid.enabled){var j=u.tickPositions,G=(u.linkedParent||u).series[0],W=E===j[0];j=E===j[j.length-1];var b=G&&N(G.options.data,function(R){return R[u.isXAxis?"x":"y"]===E}),z=void 0;b&&G.is("gantt")&&(z=g(b),q.seriesTypes.gantt.prototype.pointClass.setGanttPointAliases(z)),c.isFirst=W,c.isLast=j,c.point=z}}function L(){var c=this.options,E=this.tickPositions,j=E[0],G=E[E.length-1],W=this.linkedParent&&this.linkedParent.min||this.min,b=this.linkedParent&&this.linkedParent.max||this.max,z=this.tickInterval;!0!==(c.grid||{}).enabled||this.categories||!this.horiz&&!this.isLinked||(j<W&&j+z>W&&!c.startOnTick&&(E[0]=W),G>b&&G-z<b&&!c.endOnTick&&(E[E.length-1]=b))}function S(c){var u=this.options.grid;return!0===(void 0===u?{}:u).enabled&&this.categories?this.tickInterval:c.apply(this,Array.prototype.slice.call(arguments,1))}var c;(c=y.Side||(y.Side={}))[c.top=0]="top",c[c.right=1]="right",c[c.bottom=2]="bottom",c[c.left=3]="left",y.compose=function(c,u,E){return-1===c.keepProps.indexOf("grid")&&(c.keepProps.push("grid"),c.prototype.getMaxLabelDimensions=C,_(c.prototype,"unsquish",S),K(c,"init",w),K(c,"afterGetOffset",M),K(c,"afterGetTitlePosition",D),K(c,"afterInit",x),K(c,"afterRender",f),K(c,"afterSetAxisTranslation",m),K(c,"afterSetOptions",r),K(c,"afterSetOptions",p),K(c,"afterSetScale",a),K(c,"afterTickSize",n),K(c,"trimTicks",L),K(c,"destroy",l)),K(u,"afterSetChartSize",h),K(E,"afterGetLabelPosition",P),K(E,"labelFormat",I),c};var B=function(){function c(u){this.axis=u}return c.prototype.isOuterAxis=function(){var u=this.axis,E=u.grid.columnIndex,j=u.linkedParent&&u.linkedParent.grid.columns||u.grid.columns,G=E?u.linkedParent:u,W=-1,b=0;return u.chart[u.coll].forEach(function(z,R){z.side!==u.side||z.options.isInternal||(b=R,z===G&&(W=R))}),b===W&&(!k(E)||j.length===E)},c.prototype.renderBorder=function(u){var E=this.axis,j=E.chart.renderer,G=E.options;return u=j.path(u).addClass("highcharts-axis-line").add(E.axisBorder),j.styledMode||u.attr({stroke:G.lineColor,"stroke-width":G.lineWidth,zIndex:7}),u},c}();y.Additions=B}(T||(T={})),J.E=function(y){return this.dateFormat("%a",y,!0).charAt(0)},J.W=function(y){y=new this.Date(y);var C=(this.get("Day",y)+6)%7,M=new this.Date(y.valueOf());return this.set("Date",M,this.get("Date",y)-C+3),C=new this.Date(this.get("FullYear",M),0,1),4!==this.get("Day",C)&&(this.set("Month",y,0),this.set("Date",y,1+(11-this.get("Day",C))%7)),(1+Math.floor((M.valueOf()-C.valueOf())/6048e5)).toString()},T}),wt(o,"Gantt/Tree.js",[o["Core/Utilities.js"]],function(Y){var $=Y.extend,q=Y.isNumber,rt=Y.pick,J=function(X,F){var N=X.reduce(function(O,k){var g=rt(k.parent,"");return void 0===O[g]&&(O[g]=[]),O[g].push(k),O},{});return Object.keys(N).forEach(function(O,k){var g=N[O];""!==O&&-1===F.indexOf(O)&&(g.forEach(function(d){k[""].push(d)}),delete k[O])}),N},K=function(X,F,N,O,k,g){var y,C,d=0,v=0,_=g&&g.after,T=g&&g.before;return F={data:O,depth:N-1,id:X,level:N,parent:F},"function"==typeof T&&T(F,g),T=(k[X]||[]).map(function(M){var D=K(M.id,X,N+1,M,k,g),x=M.start;return M=!0===M.milestone?x:M.end,y=!q(y)||x<y?x:y,C=!q(C)||M>C?M:C,d=d+1+D.descendants,v=Math.max(D.height+1,v),D}),O&&(O.start=rt(O.start,y),O.end=rt(O.end,C)),$(F,{children:T,descendants:d,height:v}),"function"==typeof _&&_(F,g),F};return{getListOfParents:J,getNode:K,getTree:function(X,F){var N=X.map(function(O){return O.id});return X=J(X,N),K("",null,1,null,X,F)}}}),wt(o,"Core/Axis/TreeGridTick.js",[o["Core/Utilities.js"]],function(Y){var X,$=Y.addEvent,q=Y.isObject,rt=Y.isNumber,J=Y.pick,K=Y.wrap;return function(F){function N(){this.treeGrid||(this.treeGrid=new v(this))}function O(_,T){var y=!(_=_.treeGrid).labelIcon,C=T.renderer,M=T.xy,D=T.options,x=D.width||0,f=D.height||0,m=M.x-x/2-(D.padding||0);M=M.y-f/2;var r=T.collapsed?90:180,p=T.show&&rt(M),a=_.labelIcon;a||(_.labelIcon=a=C.path(C.symbols[D.type](D.x||0,D.y||0,x,f)).addClass("highcharts-label-icon").add(T.group)),a.attr({y:p?0:-9999}),C.styledMode||a.attr({cursor:"pointer",fill:J(T.color,"#666666"),"stroke-width":1,stroke:D.lineColor,strokeWidth:D.lineWidth||0}),a[y?"attr":"animate"]({translateX:m,translateY:M,rotation:r})}function k(_,T,y,C,M,D,x,f,m){var r=J(this.options&&this.options.labels,D);D=this.pos;var p=this.axis,a="treegrid"===p.options.type;return _=_.apply(this,[T,y,C,M,r,x,f,m]),a&&(T=r&&q(r.symbol,!0)?r.symbol:{},r=r&&rt(r.indentation)?r.indentation:0,D=(D=(p=p.treeGrid.mapOfPosToGridNode)&&p[D])&&D.depth||1,_.x+=(T.width||0)+2*(T.padding||0)+(D-1)*r),_}function g(_){var T=this,y=T.pos,C=T.axis,M=T.label,D=C.treeGrid.mapOfPosToGridNode,x=C.options,f=J(T.options&&T.options.labels,x&&x.labels),m=f&&q(f.symbol,!0)?f.symbol:{},r=(D=D&&D[y])&&D.depth;x="treegrid"===x.type;var p=-1<C.tickPositions.indexOf(y);y=C.chart.styledMode,x&&D&&M&&M.element&&M.addClass("highcharts-treegrid-node-level-"+r),_.apply(T,Array.prototype.slice.call(arguments,1)),x&&M&&M.element&&D&&D.descendants&&0<D.descendants&&(C=C.treeGrid.isCollapsed(D),O(T,{color:!y&&M.styles&&M.styles.color||"",collapsed:C,group:M.parentGroup,options:m,renderer:M.renderer,show:p,xy:M.xy}),m="highcharts-treegrid-node-"+(C?"expanded":"collapsed"),M.addClass("highcharts-treegrid-node-"+(C?"collapsed":"expanded")).removeClass(m),y||M.css({cursor:"pointer"}),[M,T.treeGrid.labelIcon].forEach(function(a){a&&!a.attachedTreeGridEvents&&($(a.element,"mouseover",function(){M.addClass("highcharts-treegrid-node-active"),M.renderer.styledMode||M.css({textDecoration:"underline"})}),$(a.element,"mouseout",function(){var n=q(f.style)?f.style:{};M.removeClass("highcharts-treegrid-node-active"),M.renderer.styledMode||M.css({textDecoration:n.textDecoration})}),$(a.element,"click",function(){T.treeGrid.toggleCollapse()}),a.attachedTreeGridEvents=!0)}))}var d=!1;F.compose=function(_){d||($(_,"init",N),K(_.prototype,"getLabelPosition",k),K(_.prototype,"renderLabel",g),_.prototype.collapse=function(T){this.treeGrid.collapse(T)},_.prototype.expand=function(T){this.treeGrid.expand(T)},_.prototype.toggleCollapse=function(T){this.treeGrid.toggleCollapse(T)},d=!0)};var v=function(){function _(T){this.tick=T}return _.prototype.collapse=function(T){var y=this.tick,C=y.axis,M=C.brokenAxis;M&&C.treeGrid.mapOfPosToGridNode&&(y=C.treeGrid.collapse(C.treeGrid.mapOfPosToGridNode[y.pos]),M.setBreaks(y,J(T,!0)))},_.prototype.expand=function(T){var y=this.tick,C=y.axis,M=C.brokenAxis;M&&C.treeGrid.mapOfPosToGridNode&&(y=C.treeGrid.expand(C.treeGrid.mapOfPosToGridNode[y.pos]),M.setBreaks(y,J(T,!0)))},_.prototype.toggleCollapse=function(T){var y=this.tick,C=y.axis,M=C.brokenAxis;M&&C.treeGrid.mapOfPosToGridNode&&(y=C.treeGrid.toggleCollapse(C.treeGrid.mapOfPosToGridNode[y.pos]),M.setBreaks(y,J(T,!0)))},_}();F.Additions=v}(X||(X={})),X}),wt(o,"Series/TreeUtilities.js",[o["Core/Color/Color.js"],o["Core/Utilities.js"]],function(Y,$){var rt=$.extend,J=$.isArray,K=$.isNumber,X=$.isObject,F=$.merge,N=$.pick;return{getColor:function(O,k){var x,g=k.index,d=k.mapOptionsToLevel,v=k.parentColor,_=k.parentColorIndex,T=k.series,y=k.colors,C=k.siblings,M=T.points,D=T.chart.options.chart;if(O){if(M=M[O.i],O=d[O.level]||{},d=M&&O.colorByPoint)var f=M.index%(y?y.length:D.colorCount),m=y&&y[f];T.chart.styledMode||(y=M&&M.options.color,D=O&&O.color,(x=v)&&(x=(x=O&&O.colorVariation)&&"brightness"===x.key&&g&&C?Y.parse(v).brighten(g/C*x.to).get():v),x=N(y,D,m,x,T.color));var r=N(M&&M.options.colorIndex,O&&O.colorIndex,f,_,k.colorIndex)}return{color:x,colorIndex:r}},getLevelOptions:function(O){var k=null;if(X(O)){k={};var g=K(O.from)?O.from:1,d=O.levels,v={},_=X(O.defaults)?O.defaults:{};for(J(d)&&(v=d.reduce(function(T,y){if(X(y)&&K(y.level)){var C=F({},y),M=N(C.levelIsConstant,_.levelIsConstant);delete C.levelIsConstant,delete C.level,X(T[y=y.level+(M?0:g-1)])?F(!0,T[y],C):T[y]=C}return T},{})),d=K(O.to)?O.to:1,O=0;O<=d;O++)k[O]=F({},_,X(v[O])?v[O]:{})}return k},setTreeValues:function q(O,k){var g=k.before,d=k.idRoot,_=k.points[O.i],T=_&&_.options||{},y=[],C=0;return O.levelDynamic=O.level-(!1!==k.levelIsConstant?0:k.mapIdToNode[d].level),O.name=N(_&&_.name,""),O.visible=d===O.id||!0===k.visible,"function"==typeof g&&(O=g(O,k)),O.children.forEach(function(M,D){var x=rt({},k);rt(x,{index:D,siblings:O.children.length,visible:O.visible}),M=q(M,x),y.push(M),M.visible&&(C+=M.val)}),g=N(T.value,C),O.visible=0<=g&&(0<C||O.visible),O.children=y,O.childrenTotal=C,O.isLeaf=O.visible&&!C,O.val=g,O},updateRootId:function(O){if(X(O)){var k=X(O.options)?O.options:{};k=N(O.rootNode,k.rootId,""),X(O.userOptions)&&(O.userOptions.rootId=k),O.rootNode=k}return k}}}),wt(o,"Core/Axis/TreeGridAxis.js",[o["Core/Axis/BrokenAxis.js"],o["Core/Axis/GridAxis.js"],o["Gantt/Tree.js"],o["Core/Axis/TreeGridTick.js"],o["Series/TreeUtilities.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){var y,X=J.getLevelOptions,F=K.addEvent,N=K.find,O=K.fireEvent,k=K.isArray,g=K.isObject,d=K.isString,v=K.merge,_=K.pick,T=K.wrap;return function(C){function M(n,h){var l=n.collapseEnd||0;return n=n.collapseStart||0,l>=h&&(n-=.5),{from:n,to:l,showPoints:!1}}function D(n,h,l){var u,E,w=[],P=[],I={},L="boolean"==typeof h&&h,S={},B=-1;return n=q.getTree(n,{after:function(c){var u=0,E=0;(c=S[c.pos]).children.forEach(function(j){E+=(j.descendants||0)+1,u=Math.max((j.height||0)+1,u)}),c.descendants=E,c.height=u,c.collapsed&&P.push(c)},before:function(c){var u=g(c.data,!0)?c.data:{},E=d(u.name)?u.name:"",j=I[c.parent];j=g(j,!0)?S[j.pos]:null;var W,G=function(b){return b.name===E};L&&g(j,!0)&&(W=N(j.children,G))?(G=W.pos,W.nodes.push(c)):G=B++,S[G]||(S[G]=W={depth:j?j.depth+1:0,name:E,id:u.id,nodes:[c],children:[],pos:G},-1!==G&&w.push(E),g(j,!0)&&j.children.push(W)),d(c.id)&&(I[c.id]=c),W&&!0===u.collapsed&&(W.collapsed=!0),c.pos=G}}),u=l,S=(E=function(j,G,W){var b=G+(-1===G?0:u-1),z=(b-G)/2,R=G+z;return j.nodes.forEach(function(V){var Z=V.data;g(Z,!0)&&(Z.y=G+(Z.seriesIndex||0),delete Z.seriesIndex),V.pos=R}),W[R]=j,j.pos=R,j.tickmarkOffset=z+.5,j.collapseStart=b+.5,j.children.forEach(function(V){E(V,b+1,W),b=(V.collapseEnd||0)-.5}),j.collapseEnd=b+.5,W})(S[-1],-1,{}),{categories:w,mapOfIdToNode:I,mapOfPosToGridNode:S,collapsedNodes:P,tree:n}}function x(n){n.target.axes.filter(function(h){return"treegrid"===h.options.type}).forEach(function(h){var l=h.options||{},w=l.labels,P=l.uniqueNames;l=l.max;var I=0;if(!h.treeGrid.mapOfPosToGridNode||h.series.some(function(B){return!B.hasRendered||B.isDirtyData||B.isDirty})){var L=h.series.reduce(function(B,c){return c.visible&&((c.options.data||[]).forEach(function(u){c.options.keys&&c.options.keys.length&&(u=c.pointClass.prototype.optionsToObject.call({series:c},u),c.pointClass.setGanttPointAliases(u)),g(u,!0)&&(u.seriesIndex=I,B.push(u))}),!0===P&&I++),B},[]);if(l&&L.length<l)for(var S=L.length;S<=l;S++)L.push({name:S+"\u200b"});l=D(L,P||!1,!0===P?I:1),h.categories=l.categories,h.treeGrid.mapOfPosToGridNode=l.mapOfPosToGridNode,h.hasNames=!0,h.treeGrid.tree=l.tree,h.series.forEach(function(B){var c=(B.options.data||[]).map(function(u){return k(u)&&B.options.keys&&B.options.keys.length&&L.forEach(function(E){0<=u.indexOf(E.x)&&0<=u.indexOf(E.x2)&&(u=E)}),g(u,!0)?v(u):u});B.visible&&B.setData(c,!1)}),h.treeGrid.mapOptionsToLevel=X({defaults:w,from:1,levels:w&&w.levels,to:h.treeGrid.tree&&h.treeGrid.tree.height}),"beforeRender"===n.type&&(h.treeGrid.collapsedNodes=l.collapsedNodes)}})}function f(n,h){var I,l=this.treeGrid.mapOptionsToLevel||{},w=this.ticks,P=w[h];if("treegrid"===this.options.type&&this.treeGrid.mapOfPosToGridNode){var L=this.treeGrid.mapOfPosToGridNode[h];(l=l[L.depth])&&(I={labels:l}),!P&&p?w[h]=new p(this,h,void 0,void 0,{category:L.name,tickmarkOffset:L.tickmarkOffset,options:I}):(P.parameters.category=L.name,P.options=I,P.addLabel())}else n.apply(this,Array.prototype.slice.call(arguments,1))}function m(n,h,l){var w=this,P="treegrid"===l.type;w.treeGrid||(w.treeGrid=new a(w)),P&&(F(h,"beforeRender",x),F(h,"beforeRedraw",x),F(h,"addSeries",function(I){I.options.data&&(I=D(I.options.data,l.uniqueNames||!1,1),w.treeGrid.collapsedNodes=(w.treeGrid.collapsedNodes||[]).concat(I.collapsedNodes))}),F(w,"foundExtremes",function(){w.treeGrid.collapsedNodes&&w.treeGrid.collapsedNodes.forEach(function(I){var L=w.treeGrid.collapse(I);w.brokenAxis&&(w.brokenAxis.setBreaks(L,!1),w.treeGrid.collapsedNodes&&(w.treeGrid.collapsedNodes=w.treeGrid.collapsedNodes.filter(function(S){return I.collapseStart!==S.collapseStart||I.collapseEnd!==S.collapseEnd})))})}),F(w,"afterBreaks",function(){"yAxis"===w.coll&&!w.staticScale&&w.chart.options.chart.height&&(w.isDirty=!0)}),l=v({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},l,{reversed:!0,grid:{columns:void 0}})),n.apply(w,[h,l]),P&&(w.hasNames=!0,w.options.showLastLabel=!0)}function r(n){var h=this.options;"treegrid"===h.type?(this.min=_(this.userMin,h.min,this.dataMin),this.max=_(this.userMax,h.max,this.dataMax),O(this,"foundExtremes"),this.setAxisTranslation(),this.tickmarkOffset=.5,this.tickInterval=1,this.tickPositions=this.treeGrid.mapOfPosToGridNode?this.treeGrid.getTickPositions():[]):n.apply(this,Array.prototype.slice.call(arguments,1))}var p;C.compose=function(n,h,l,w){return-1===n.keepProps.indexOf("treeGrid")&&(n.keepProps.push("treeGrid"),p=w,T(n.prototype,"generateTick",f),T(n.prototype,"init",m),T(n.prototype,"setTickInterval",r),n.prototype.utils={getNode:q.getNode},$.compose(n,h,w),Y.compose(n,l),rt.compose(w)),n};var a=function(){function n(h){this.axis=h}return n.prototype.setCollapsedStatus=function(h){var l=this.axis,w=l.chart;l.series.forEach(function(P){var I=P.options.data;if(h.id&&I){var L=w.get(h.id);P=I[P.data.indexOf(L)],L&&P&&(L.collapsed=h.collapsed,P.collapsed=h.collapsed)}})},n.prototype.collapse=function(h){var l=this.axis,w=l.options.breaks||[],P=M(h,l.max);return w.push(P),h.collapsed=!0,l.treeGrid.setCollapsedStatus(h),w},n.prototype.expand=function(h){var l=this.axis,w=l.options.breaks||[],P=M(h,l.max);return h.collapsed=!1,l.treeGrid.setCollapsedStatus(h),w.reduce(function(I,L){return L.to===P.to&&L.from===P.from||I.push(L),I},[])},n.prototype.getTickPositions=function(){var h=this.axis,l=Math.floor(h.min/h.tickInterval)*h.tickInterval,w=Math.ceil(h.max/h.tickInterval)*h.tickInterval;return Object.keys(h.treeGrid.mapOfPosToGridNode||{}).reduce(function(P,I){return!((I=+I)>=l&&I<=w)||h.brokenAxis&&h.brokenAxis.isInAnyBreak(I)||P.push(I),P},[])},n.prototype.isCollapsed=function(h){var l=this.axis,w=l.options.breaks||[],P=M(h,l.max);return w.some(function(I){return I.from===P.from&&I.to===P.to})},n.prototype.toggleCollapse=function(h){return this.isCollapsed(h)?this.expand(h):this.collapse(h)},n}();C.Additions=a}(y||(y={})),y}),wt(o,"Extensions/CurrentDateIndication.js",[o["Core/Axis/Axis.js"],o["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=q.addEvent,J=q.merge;q=q.wrap;var K={color:"#ccd6eb",width:2,label:{format:"%a, %b %d %Y, %H:%M",formatter:function(X,F){return this.axis.chart.time.dateFormat(F||"",X)},rotation:0,style:{fontSize:"10px"}}};rt(Y,"afterSetOptions",function(){var X=this.options,F=X.currentDateIndicator;F&&((F="object"==typeof F?J(K,F):J(K)).value=Date.now(),F.className="highcharts-current-date-indicator",X.plotLines||(X.plotLines=[]),X.plotLines.push(F))}),rt($,"render",function(){this.label&&this.label.attr({text:this.getLabelText(this.options.label)})}),q($.prototype,"getLabelText",function(X,F){var N=this.options;return N&&N.className&&-1!==N.className.indexOf("highcharts-current-date-indicator")&&N.label&&"function"==typeof N.label.formatter?(N.value=Date.now(),N.label.formatter.call(this,N.value,N.label.format)):X.call(this,F)})}),wt(o,"Extensions/StaticScale.js",[o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=q.addEvent,J=q.defined,K=q.isNumber,X=q.pick;rt(Y,"afterSetOptions",function(){var F=this.chart.options.chart;!this.horiz&&K(this.options.staticScale)&&(!F.height||F.scrollablePlotArea&&F.scrollablePlotArea.minHeight)&&(this.staticScale=this.options.staticScale)}),$.prototype.adjustHeight=function(){"adjustHeight"!==this.redrawTrigger&&((this.axes||[]).forEach(function(F){var N=F.chart,O=!!N.initiatedScale&&N.options.animation,k=F.options.staticScale;if(F.staticScale&&J(F.min)){var g=X(F.brokenAxis&&F.brokenAxis.unitLength,F.max+F.tickInterval-F.min)*k;k=(g=Math.max(g,k))-N.plotHeight,!N.scrollablePixelsY&&1<=Math.abs(k)&&(N.plotHeight=g,N.redrawTrigger="adjustHeight",N.setSize(void 0,N.chartHeight+k,O)),F.series.forEach(function(d){(d=d.sharedClipKey&&N.sharedClips[d.sharedClipKey])&&d.attr(N.inverted?{width:N.plotHeight}:{height:N.plotHeight})})}}),this.initiatedScale=!0),this.redrawTrigger=null},rt($,"render",$.prototype.adjustHeight)}),wt(o,"Extensions/ArrowSymbols.js",[o["Core/Renderer/SVG/SVGRenderer.js"]],function(Y){function $(J,K,X,F){return[["M",J,K+F/2],["L",J+X,K],["L",J,K+F/2],["L",J+X,K+F]]}function q(J,K,X,F){return[["M",J+X,K],["L",J,K+F/2],["L",J+X,K+F],["Z"]]}function rt(J,K,X,F){return q(J,K,X/2,F)}return(Y=Y.prototype.symbols).arrow=$,Y["arrow-filled"]=q,Y["arrow-filled-half"]=rt,Y["arrow-half"]=function(J,K,X,F){return $(J,K,X/2,F)},Y["triangle-left"]=q,Y["triangle-left-half"]=rt,Y}),wt(o,"Gantt/Connection.js",[o["Core/Globals.js"],o["Core/DefaultOptions.js"],o["Core/Series/Point.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){function J(v){var _=v.shapeArgs;return _?{xMin:_.x||0,xMax:(_.x||0)+(_.width||0),yMin:_.y||0,yMax:(_.y||0)+(_.height||0)}:(_=v.graphic&&v.graphic.getBBox())?{xMin:v.plotX-_.width/2,xMax:v.plotX+_.width/2,yMin:v.plotY-_.height/2,yMax:v.plotY+_.height/2}:null}var K=rt.defined,X=rt.error,F=rt.extend,N=rt.merge,O=rt.objectEach,k=Y.deg2rad,g=Math.max,d=Math.min;return F($.defaultOptions,{connectors:{type:"straight",lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}}),$=function(){function v(_,T,y){this.toPoint=this.pathfinder=this.graphics=this.fromPoint=this.chart=void 0,this.init(_,T,y)}return v.prototype.init=function(_,T,y){this.fromPoint=_,this.toPoint=T,this.options=y,this.chart=_.series.chart,this.pathfinder=this.chart.pathfinder},v.prototype.renderPath=function(_,T,y){var C=this.chart,M=C.styledMode,D=C.pathfinder,x=!C.options.chart.forExport&&!1!==y,f=this.graphics&&this.graphics.path;D.group||(D.group=C.renderer.g().addClass("highcharts-pathfinder-group").attr({zIndex:-1}).add(C.seriesGroup)),D.group.translate(C.plotLeft,C.plotTop),f&&f.renderer||(f=C.renderer.path().add(D.group),M||f.attr({opacity:0})),f.attr(T),_={d:_},M||(_.opacity=1),f[x?"animate":"attr"](_,y),this.graphics=this.graphics||{},this.graphics.path=f},v.prototype.addMarker=function(_,T,y){var C=this.fromPoint.series.chart,M=C.pathfinder;C=C.renderer;var D="start"===_?this.fromPoint:this.toPoint,x=D.getPathfinderAnchorPoint(T);if(T.enabled&&((y="start"===_?y[1]:y[y.length-2])&&"M"===y[0]||"L"===y[0])){if(y=D.getRadiansToVector(y={x:y[1],y:y[2]},x),x=D.getMarkerVector(y,T.radius,x),y=-y/k,T.width&&T.height)var f=T.width,m=T.height;else f=m=2*T.radius;this.graphics=this.graphics||{},x={x:x.x-f/2,y:x.y-m/2,width:f,height:m,rotation:y,rotationOriginX:x.x,rotationOriginY:x.y},this.graphics[_]?this.graphics[_].animate(x):(this.graphics[_]=C.symbol(T.symbol).addClass("highcharts-point-connecting-path-"+_+"-marker").attr(x).add(M.group),C.styledMode||this.graphics[_].attr({fill:T.color||this.fromPoint.color,stroke:T.lineColor,"stroke-width":T.lineWidth,opacity:0}).animate({opacity:1},D.series.options.animation))}},v.prototype.getPath=function(_){var T=this.pathfinder,y=this.chart,C=T.algorithms[_.type],M=T.chartObstacles;return"function"!=typeof C?(X('"'+_.type+'" is not a Pathfinder algorithm.'),{path:[],obstacles:[]}):(C.requiresObstacles&&!M&&(M=T.chartObstacles=T.getChartObstacles(_),y.options.connectors.algorithmMargin=_.algorithmMargin,T.chartObstacleMetrics=T.getObstacleMetrics(M)),C(this.fromPoint.getPathfinderAnchorPoint(_.startMarker),this.toPoint.getPathfinderAnchorPoint(_.endMarker),N({chartObstacles:M,lineObstacles:T.lineObstacles||[],obstacleMetrics:T.chartObstacleMetrics,hardBounds:{xMin:0,xMax:y.plotWidth,yMin:0,yMax:y.plotHeight},obstacleOptions:{margin:_.algorithmMargin},startDirectionX:T.getAlgorithmStartDirection(_.startMarker)},_)))},v.prototype.render=function(){var _=this.fromPoint,T=_.series,y=T.chart,C=y.pathfinder,M=N(y.options.connectors,T.options.connectors,_.options.connectors,this.options),D={};y.styledMode||(D.stroke=M.lineColor||_.color,D["stroke-width"]=M.lineWidth,M.dashStyle&&(D.dashstyle=M.dashStyle)),D.class="highcharts-point-connecting-path highcharts-color-"+_.colorIndex,M=N(D,M),K(M.marker.radius)||(M.marker.radius=d(g(Math.ceil((M.algorithmMargin||8)/2)-1,1),5)),y=(_=this.getPath(M)).path,_.obstacles&&(C.lineObstacles=C.lineObstacles||[],C.lineObstacles=C.lineObstacles.concat(_.obstacles)),this.renderPath(y,D,T.options.animation),this.addMarker("start",N(M.marker,M.startMarker),y),this.addMarker("end",N(M.marker,M.endMarker),y)},v.prototype.destroy=function(){this.graphics&&(O(this.graphics,function(_){_.destroy()}),delete this.graphics)},v}(),Y.Connection=$,F(q.prototype,{getPathfinderAnchorPoint:function(v){var _=J(this);switch(v.align){case"right":var T="xMax";break;case"left":T="xMin"}switch(v.verticalAlign){case"top":var y="yMin";break;case"bottom":y="yMax"}return{x:T?_[T]:(_.xMin+_.xMax)/2,y:y?_[y]:(_.yMin+_.yMax)/2}},getRadiansToVector:function(v,_){var T;return K(_)||(T=J(this))&&(_={x:(T.xMin+T.xMax)/2,y:(T.yMin+T.yMax)/2}),Math.atan2(_.y-v.y,v.x-_.x)},getMarkerVector:function(v,_,T){for(var y=2*Math.PI,C=J(this),M=C.xMax-C.xMin,D=C.yMax-C.yMin,x=Math.atan2(D,M),f=!1,m=D/2,r=C.xMin+(M/=2),p=r,a=C=C.yMin+m,n=1,h=1;v<-Math.PI;)v+=y;for(;v>Math.PI;)v-=y;return y=Math.tan(v),v>-x&&v<=x?(h=-1,f=!0):v>x&&v<=Math.PI-x?h=-1:v>Math.PI-x||v<=-(Math.PI-x)?(n=-1,f=!0):n=-1,f?(p+=n*M,a+=h*M*y):(p+=D/(2*y)*n,a+=h*m),T.x!==r&&(p=T.x),T.y!==C&&(a=T.y),{x:p+_*Math.cos(v),y:a-_*Math.sin(v)}}}),$}),wt(o,"Gantt/PathfinderAlgorithms.js",[o["Core/Utilities.js"]],function(Y){function $(k,g,d){d=d||0;var _,T,v=k.length-1;for(g-=1e-7;d<=v;)if(0<(T=g-k[_=v+d>>1].xMin))d=_+1;else{if(!(0>T))return _;v=_-1}return 0<d?d-1:0}function q(k,g){for(var d=$(k,g.x+1)+1;d--;){var v;if((v=k[d].xMax>=g.x)&&(v=g.x<=(v=k[d]).xMax&&g.x>=v.xMin&&g.y<=v.yMax&&g.y>=v.yMin),v)return d}return-1}function rt(k){var g=[];if(k.length){g.push(["M",k[0].start.x,k[0].start.y]);for(var d=0;d<k.length;++d)g.push(["L",k[d].end.x,k[d].end.y])}return g}function J(k,g){k.yMin=F(k.yMin,g.yMin),k.yMax=X(k.yMax,g.yMax),k.xMin=F(k.xMin,g.xMin),k.xMax=X(k.xMax,g.xMax)}var K=Y.pick,X=Math.min,F=Math.max,N=Math.abs;(Y=function(k,g,d){function v(f,m,r,p,a){return(f={x:f.x,y:f.y})[m]=r[p||m]+(a||0),f}function _(f,m,r){var p=N(m[r]-f[r+"Min"])>N(m[r]-f[r+"Max"]);return v(m,r,f,r+(p?"Max":"Min"),p?1:-1)}var T=[],y=K(d.startDirectionX,N(g.x-k.x)>N(g.y-k.y))?"x":"y",C=d.chartObstacles,M=q(C,k);if(-1<(d=q(C,g))){var D=C[d];D={start:d=_(D,g,y),end:g};var x=d}else x=g;return-1<M&&(d=_(C=C[M],k,y),T.push({start:k,end:d}),d[y]>=k[y]==d[y]>=x[y]&&(T.push({start:d,end:v(d,y="y"===y?"x":"y",C,y+((g=k[y]<g[y])?"Max":"Min"),g?1:-1)}),y="y"===y?"x":"y")),d=v(k=T.length?T[T.length-1].end:k,y,x),T.push({start:k,end:d}),y=v(d,"y"===y?"x":"y",x),T.push({start:d,end:y}),T.push(D),{path:rt(T),obstacles:T}}).requiresObstacles=!0;var O=function(k,g,d){function v(w,P,I){var L,S=w.x<P.x?1:-1;if(w.x<P.x)var B=w,c=P;else B=P,c=w;if(w.y<P.y)var u=w,E=P;else u=P,E=w;for(L=0>S?X($(n,c.x),n.length-1):0;n[L]&&(0<S&&n[L].xMin<=c.x||0>S&&n[L].xMax>=B.x);){if(n[L].xMin<=c.x&&n[L].xMax>=B.x&&n[L].yMin<=E.y&&n[L].yMax>=u.y)return I?{y:w.y,x:w.x<P.x?n[L].xMin-1:n[L].xMax+1,obstacle:n[L]}:{x:w.x,y:w.y<P.y?n[L].yMin-1:n[L].yMax+1,obstacle:n[L]};L+=S}return P}function _(w,P,I,L,S){var B=S.soft,c=S.hard,u=L?"x":"y",E={x:P.x,y:P.y},j={x:P.x,y:P.y};S=w[u+"Max"]>=B[u+"Max"],B=w[u+"Min"]<=B[u+"Min"];var G=w[u+"Max"]>=c[u+"Max"];c=w[u+"Min"]<=c[u+"Min"];var W=N(w[u+"Min"]-P[u]),b=N(w[u+"Max"]-P[u]);return I=10>N(W-b)?P[u]<I[u]:b<W,j[u]=w[u+"Min"],E[u]=w[u+"Max"],w=v(P,j,L)[u]!==j[u],P=v(P,E,L)[u]!==E[u],I=w?!P||I:!P&&I,I=B?!S||I:!S&&I,c?!G||I:!G&&I}var w,P,I,L,C=K(d.startDirectionX,N(g.x-k.x)>N(g.y-k.y)),M=C?"x":"y",D=[],x=!1,f=d.obstacleMetrics,m=X(k.x,g.x)-f.maxWidth-10,r=F(k.x,g.x)+f.maxWidth+10,p=X(k.y,g.y)-f.maxHeight-10,a=F(k.y,g.y)+f.maxHeight+10,n=d.chartObstacles,h=$(n,m);if(f=$(n,r),-1<(f=q(n=n.slice(h,f+1),g))){var l=(I=k,L=X((w=n[f]).xMax-(P=g).x,P.x-w.xMin)<X(w.yMax-P.y,P.y-w.yMin),I=_(w,P,I,L,{soft:d.hardBounds,hard:d.hardBounds}),L?{y:P.y,x:w[I?"xMax":"xMin"]+(I?1:-1)}:{x:P.x,y:w[I?"yMax":"yMin"]+(I?1:-1)});D.push({end:g,start:l}),g=l}for(;-1<(f=q(n,g));)(l={x:g.x,y:g.y})[M]=n[f][(h=0>g[M]-k[M])?M+"Max":M+"Min"]+(h?1:-1),D.push({end:g,start:l}),g=l;return k=function T(w,P,I){if(w.x===P.x&&w.y===P.y)return[];var L=I?"x":"y",S=d.obstacleOptions.margin,B={soft:{xMin:m,xMax:r,yMin:p,yMax:a},hard:d.hardBounds},c=q(n,w);if(-1<c){B=_(c=n[c],w,P,I,B),J(c,d.hardBounds);var u=I?{y:w.y,x:c[B?"xMax":"xMin"]+(B?1:-1)}:{x:w.x,y:c[B?"yMax":"yMin"]+(B?1:-1)},E=q(n,u);-1<E&&(J(E=n[E],d.hardBounds),u[L]=B?F(c[L+"Max"]-S+1,(E[L+"Min"]+c[L+"Max"])/2):X(c[L+"Min"]+S-1,(E[L+"Max"]+c[L+"Min"])/2),w.x===u.x&&w.y===u.y?(x&&(u[L]=B?F(c[L+"Max"],E[L+"Max"])+1:X(c[L+"Min"],E[L+"Min"])-1),x=!x):x=!1),w=[{start:w,end:u}]}else w=[{start:w,end:{x:(L=v(w,{x:I?P.x:w.x,y:I?w.y:P.y},I)).x,y:L.y}}],L[I?"x":"y"]!==P[I?"x":"y"]&&(B=_(L.obstacle,L,P,!I,B),J(L.obstacle,d.hardBounds),w=w.concat(T({x:L.x,y:L.y},B={x:I?L.x:L.obstacle[B?"xMax":"xMin"]+(B?1:-1),y:I?L.obstacle[B?"yMax":"yMin"]+(B?1:-1):L.y},I=!I)));return w.concat(T(w[w.length-1].end,P,!I))}(k,g,C),{path:rt(k=k.concat(D.reverse())),obstacles:k}};return O.requiresObstacles=!0,{fastAvoid:O,straight:function(k,g){return{path:[["M",k.x,k.y],["L",g.x,g.y]],obstacles:[{start:k,end:g}]}},simpleConnect:Y}}),wt(o,"Gantt/Pathfinder.js",[o["Gantt/Connection.js"],o["Core/Chart/Chart.js"],o["Core/Globals.js"],o["Core/DefaultOptions.js"],o["Core/Series/Point.js"],o["Core/Utilities.js"],o["Gantt/PathfinderAlgorithms.js"]],function(Y,$,q,rt,J,K,X){function F(x){var f=x.shapeArgs;return f?{xMin:f.x||0,xMax:(f.x||0)+(f.width||0),yMin:f.y||0,yMax:(f.y||0)+(f.height||0)}:(f=x.graphic&&x.graphic.getBBox())?{xMin:x.plotX-f.width/2,xMax:x.plotX+f.width/2,yMin:x.plotY-f.height/2,yMax:x.plotY+f.height/2}:null}var k=K.addEvent,g=K.defined,d=K.error,v=K.extend,_=K.merge,T=K.pick,y=K.splat,C=Math.max,M=Math.min;v(rt.defaultOptions,{connectors:{type:"straight",lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}});var D=function(){function x(f){this.lineObstacles=this.group=this.connections=this.chartObstacleMetrics=this.chartObstacles=this.chart=void 0,this.init(f)}return x.prototype.init=function(f){this.chart=f,this.connections=[],k(f,"redraw",function(){this.pathfinder.update()})},x.prototype.update=function(f){var m=this.chart,r=this,p=r.connections;r.connections=[],m.series.forEach(function(P){P.visible&&!P.options.isInternal&&P.points.forEach(function(I){var S,L=I.options;L&&L.dependency&&(L.connect=L.dependency),L=I.options&&I.options.connect&&y(I.options.connect),I.visible&&!1!==I.isInside&&L&&L.forEach(function(B){(S=m.get("string"==typeof B?B:B.to))instanceof J&&S.series.visible&&S.visible&&!1!==S.isInside&&r.connections.push(new Y(I,S,"string"==typeof B?{}:B))})})});for(var a=0,n=void 0,h=void 0,l=p.length,w=r.connections.length;a<l;++a){for(h=!1,n=0;n<w;++n)if(p[a].fromPoint===r.connections[n].fromPoint&&p[a].toPoint===r.connections[n].toPoint){r.connections[n].graphics=p[a].graphics,h=!0;break}h||p[a].destroy()}delete this.chartObstacles,delete this.lineObstacles,r.renderConnections(f)},x.prototype.renderConnections=function(f){f?this.chart.series.forEach(function(m){var r=function(){var p=m.chart.pathfinder;(p&&p.connections||[]).forEach(function(a){a.fromPoint&&a.fromPoint.series===m&&a.render()}),m.pathfinderRemoveRenderEvent&&(m.pathfinderRemoveRenderEvent(),delete m.pathfinderRemoveRenderEvent)};!1===m.options.animation?r():m.pathfinderRemoveRenderEvent=k(m,"afterAnimate",r)}):this.connections.forEach(function(m){m.render()})},x.prototype.getChartObstacles=function(f){for(var a,m=[],r=this.chart.series,p=T(f.algorithmMargin,0),n=0,h=r.length;n<h;++n)if(r[n].visible&&!r[n].options.isInternal){var l=0,w=r[n].points.length,P=void 0;for(P=void 0;l<w;++l)(P=r[n].points[l]).visible&&(P=F(P))&&m.push({xMin:P.xMin-p,xMax:P.xMax+p,yMin:P.yMin-p,yMax:P.yMax+p})}return m=m.sort(function(I,L){return I.xMin-L.xMin}),g(f.algorithmMargin)||(a=f.algorithmMargin=function(x){for(var r,p,f=x.length,m=0,a=[],n=function(h,l,w){w=T(w,10);var P=h.yMax+w>l.yMin-w&&h.yMin-w<l.yMax+w,I=h.xMax+w>l.xMin-w&&h.xMin-w<l.xMax+w,L=P?h.xMin>l.xMax?h.xMin-l.xMax:l.xMin-h.xMax:1/0,S=I?h.yMin>l.yMax?h.yMin-l.yMax:l.yMin-h.yMax:1/0;return I&&P?w?n(h,l,Math.floor(w/2)):1/0:M(L,S)};m<f;++m)for(r=m+1;r<f;++r)80>(p=n(x[m],x[r]))&&a.push(p);return a.push(80),C(Math.floor(a.sort(function(h,l){return h-l})[Math.floor(a.length/10)]/2-1),1)}(m),m.forEach(function(I){I.xMin-=a,I.xMax+=a,I.yMin-=a,I.yMax+=a})),m},x.prototype.getObstacleMetrics=function(f){for(var p,a,m=0,r=0,n=f.length;n--;)m<(p=f[n].xMax-f[n].xMin)&&(m=p),r<(a=f[n].yMax-f[n].yMin)&&(r=a);return{maxHeight:r,maxWidth:m}},x.prototype.getAlgorithmStartDirection=function(f){var m="top"!==f.verticalAlign&&"bottom"!==f.verticalAlign;return"left"!==f.align&&"right"!==f.align?!!m&&void 0:!!m||void 0},x}();return D.prototype.algorithms=X,q.Pathfinder=D,v(J.prototype,{getPathfinderAnchorPoint:function(x){var f=F(this);switch(x.align){case"right":var m="xMax";break;case"left":m="xMin"}switch(x.verticalAlign){case"top":var r="yMin";break;case"bottom":r="yMax"}return{x:m?f[m]:(f.xMin+f.xMax)/2,y:r?f[r]:(f.yMin+f.yMax)/2}},getRadiansToVector:function(x,f){var m;return g(f)||(m=F(this))&&(f={x:(m.xMin+m.xMax)/2,y:(m.yMin+m.yMax)/2}),Math.atan2(f.y-x.y,x.x-f.x)},getMarkerVector:function(x,f,m){for(var r=2*Math.PI,p=F(this),a=p.xMax-p.xMin,n=p.yMax-p.yMin,h=Math.atan2(n,a),l=!1,w=n/2,P=p.xMin+(a/=2),I=P,L=p=p.yMin+w,S=1,B=1;x<-Math.PI;)x+=r;for(;x>Math.PI;)x-=r;return r=Math.tan(x),x>-h&&x<=h?(B=-1,l=!0):x>h&&x<=Math.PI-h?B=-1:x>Math.PI-h||x<=-(Math.PI-h)?(S=-1,l=!0):S=-1,l?(I+=S*a,L+=B*a*r):(I+=n/(2*r)*S,L+=B*w),m.x!==P&&(I=m.x),m.y!==p&&(L=m.y),{x:I+f*Math.cos(x),y:L-f*Math.sin(x)}}}),$.prototype.callbacks.push(function(x){!1!==x.options.connectors.enabled&&(function(x){(x.options.pathfinder||x.series.reduce(function(f,m){return m.options&&_(!0,m.options.connectors=m.options.connectors||{},m.options.pathfinder),f||m.options&&m.options.pathfinder},!1))&&(_(!0,x.options.connectors=x.options.connectors||{},x.options.pathfinder),d('WARNING: Pathfinder options have been renamed. Use "chart.connectors" or "series.connectors" instead.'))}(x),this.pathfinder=new D(this),this.pathfinder.update(!0))}),D}),wt(o,"Series/Gantt/GanttSeries.js",[o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Series/Gantt/GanttPoint.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Axis/Tick.js"],o["Core/Utilities.js"],o["Core/Axis/TreeGridAxis.js"]],function(Y,$,q,rt,J,K,X){var v,F=this&&this.__extends||(v=function(_,T){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,C){y.__proto__=C}||function(y,C){for(var M in C)C.hasOwnProperty(M)&&(y[M]=C[M])})(_,T)},function(_,T){function y(){this.constructor=_}v(_,T),_.prototype=null===T?Object.create(T):(y.prototype=T.prototype,new y)}),N=rt.series,O=rt.seriesTypes.xrange,k=K.extend,g=K.isNumber,d=K.merge;return X.compose(Y,$,N,J),Y=function(v){function _(){var T=null!==v&&v.apply(this,arguments)||this;return T.data=void 0,T.options=void 0,T.points=void 0,T}return F(_,v),_.prototype.drawPoint=function(T,y){var C=this.options,M=this.chart.renderer,D=T.shapeArgs,f=T.graphic,m=T.selected&&"select",r=C.stacking&&!C.borderRadius;T.options.milestone?g(T.plotY)&&null!==T.y&&!1!==T.visible?(D=M.symbols.diamond(D.x||0,D.y||0,D.width||0,D.height||0),f?f[y]({d:D}):T.graphic=M.path(D).addClass(T.getClassName(),!0).add(T.group||this.group),this.chart.styledMode||T.graphic.attr(this.pointAttribs(T,m)).shadow(C.shadow,null,r)):f&&(T.graphic=f.destroy()):O.prototype.drawPoint.call(this,T,y)},_.prototype.translatePoint=function(T){if(O.prototype.translatePoint.call(this,T),T.options.milestone){var y=T.shapeArgs,C=y.height||0;T.shapeArgs={x:(y.x||0)-C/2,y:y.y,width:C,height:C}}},_.defaultOptions=d(O.defaultOptions,{grouping:!1,dataLabels:{enabled:!0},tooltip:{headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:null,pointFormatter:function(){var T=this.series,y=T.xAxis,C=T.tooltipOptions.dateTimeLabelFormats,M=y.options.startOfWeek,D=T.tooltipOptions,x=D.xDateFormat,f=this.options.milestone,m="<b>"+(this.name||this.yCategory)+"</b>";return D.pointFormat?this.tooltipFormatter(D.pointFormat):(!x&&g(this.start)&&(x=T.chart.time.getDateFormat(y.closestPointRange,this.start,M,C||{})),y=T.chart.time.dateFormat(x,this.start),T=T.chart.time.dateFormat(x,this.end),m+="<br/>",f?m+(y+"<br/>"):m+"Start: "+y+"<br/>End: "+T+"<br/>")}},connectors:{type:"simpleConnect",animation:{reversed:!0},startMarker:{enabled:!0,symbol:"arrow-filled",radius:4,fill:"#fa0",align:"left"},endMarker:{enabled:!1,align:"right"}}}),_}(O),k(Y.prototype,{pointArrayMap:["start","end","y"],pointClass:q,setData:N.prototype.setData}),rt.registerSeriesType("gantt",Y),Y}),wt(o,"Core/Chart/GanttChart.js",[o["Core/Chart/Chart.js"],o["Core/DefaultOptions.js"],o["Core/Utilities.js"]],function(Y,$,q){var N,rt=this&&this.__extends||(N=function(O,k){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var v in d)d.hasOwnProperty(v)&&(g[v]=d[v])})(O,k)},function(O,k){function g(){this.constructor=O}N(O,k),O.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)}),J=$.getOptions,K=q.isArray,X=q.merge,F=q.splat;return Y=function(N){function O(){return null!==N&&N.apply(this,arguments)||this}return rt(O,N),O.prototype.init=function(k,g){var T,d=J(),v=k.xAxis,_=k.yAxis;k.xAxis=k.yAxis=void 0;var y=X(!0,{chart:{type:"gantt"},title:{text:null},legend:{enabled:!1},navigator:{series:{type:"gantt"},yAxis:{type:"category"}}},k,{isGantt:!0});k.xAxis=v,k.yAxis=_,y.xAxis=(K(k.xAxis)?k.xAxis:[k.xAxis||{},{}]).map(function(C,M){return 1===M&&(T=0),X(d.xAxis,{grid:{enabled:!0},opposite:!0,linkedTo:T},C,{type:"datetime"})}),y.yAxis=F(k.yAxis||{}).map(function(C){return X(d.yAxis,{grid:{enabled:!0},staticScale:50,reversed:!0,type:C.categories?C.type:"treegrid"},C)}),N.prototype.init.call(this,y,g)},O}(Y),function(N){N.ganttChart=function(O,k,g){return new N(O,k,g)}}(Y||(Y={})),Y}),wt(o,"Core/Axis/ScrollbarAxis.js",[o["Core/Utilities.js"]],function(Y){var $=Y.addEvent,q=Y.defined,rt=Y.pick;return function(){function J(){}return J.compose=function(K,X){if(-1!==J.composed.indexOf(K))return K;J.composed.push(K);var F=function(N){var O=rt(N.options&&N.options.min,N.min),k=rt(N.options&&N.options.max,N.max);return{axisMin:O,axisMax:k,scrollMin:q(N.dataMin)?Math.min(O,N.min,N.dataMin,rt(N.threshold,1/0)):O,scrollMax:q(N.dataMax)?Math.max(k,N.max,N.dataMax,rt(N.threshold,-1/0)):k}};return $(K,"afterInit",function(){var N=this;N.options&&N.options.scrollbar&&N.options.scrollbar.enabled&&(N.options.scrollbar.vertical=!N.horiz,N.options.startOnTick=N.options.endOnTick=!1,N.scrollbar=new X(N.chart.renderer,N.options.scrollbar,N.chart),$(N.scrollbar,"changed",function(O){var k=F(N),g=k.axisMax,d=k.scrollMin,v=k.scrollMax-d;q(k.axisMin)&&q(g)&&(N.horiz&&!N.reversed||!N.horiz&&N.reversed?(k=d+v*this.to,d+=v*this.from):(k=d+v*(1-this.from),d+=v*(1-this.to)),this.shouldUpdateExtremes(O.DOMType)?N.setExtremes(d,k,!0,"mousemove"!==O.DOMType&&"touchmove"!==O.DOMType,O):this.setRange(this.from,this.to))}))}),$(K,"afterRender",function(){var N=F(this),O=N.scrollMin,k=N.scrollMax,g=this.axisTitleMargin+(this.titleOffset||0),d=this.chart.scrollbarsOffsets,v=this.options.margin||0;(N=this.scrollbar)&&(this.horiz?(this.opposite||(d[1]+=g),N.position(this.left,this.top+this.height+2+d[1]-(this.opposite?v:0),this.width,this.height),this.opposite||(d[1]+=v),g=1):(this.opposite&&(d[0]+=g),N.position(N.options.opposite?this.left+this.width+2+d[0]-(this.opposite?0:v):this.opposite?0:v,this.top,this.width,this.height),this.opposite&&(d[0]+=v),g=0),d[g]+=N.size+N.options.margin,isNaN(O)||isNaN(k)||!q(this.min)||!q(this.max)||this.min===this.max?N.setRange(0,1):(d=(this.min-O)/(k-O),O=(this.max-O)/(k-O),this.horiz&&!this.reversed||!this.horiz&&this.reversed?N.setRange(d,O):N.setRange(1-O,1-d)))}),$(K,"afterGetOffset",function(){var N=this.scrollbar&&!this.scrollbar.options.opposite;N=this.horiz?2:N?3:1;var O=this.scrollbar;O&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[N]+=O.size+O.options.margin)}),K},J.composed=[],J}()}),wt(o,"Core/ScrollbarDefaults.js",[o["Core/Globals.js"]],function(Y){return{height:Y.isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1}}),wt(o,"Core/Scrollbar.js",[o["Core/DefaultOptions.js"],o["Core/Globals.js"],o["Core/Axis/ScrollbarAxis.js"],o["Core/ScrollbarDefaults.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var K=Y.defaultOptions,X=J.addEvent,F=J.correctFloat,N=J.defined,O=J.destroyObjectProperties,k=J.fireEvent,g=J.merge,d=J.pick,v=J.removeEvent;return Y=function(){function _(T,y,C){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(T,y,C)}return _.compose=function(T){q.compose(T,_)},_.swapXY=function(T,y){return y&&T.forEach(function(C){for(var D,M=C.length,x=0;x<M;x+=2)"number"==typeof(D=C[x+1])&&(C[x+1]=C[x+2],C[x+2]=D)}),T},_.prototype.addEvents=function(){var T=this.options.inverted?[1,0]:[0,1],y=this.scrollbarButtons,C=this.scrollbarGroup.element,M=this.track.element,D=this.mouseDownHandler.bind(this),x=this.mouseMoveHandler.bind(this),f=this.mouseUpHandler.bind(this);T=[[y[T[0]].element,"click",this.buttonToMinClick.bind(this)],[y[T[1]].element,"click",this.buttonToMaxClick.bind(this)],[M,"click",this.trackClick.bind(this)],[C,"mousedown",D],[C.ownerDocument,"mousemove",x],[C.ownerDocument,"mouseup",f]],$.hasTouch&&T.push([C,"touchstart",D],[C.ownerDocument,"touchmove",x],[C.ownerDocument,"touchend",f]),T.forEach(function(m){X.apply(null,m)}),this._events=T},_.prototype.buttonToMaxClick=function(T){var y=(this.to-this.from)*d(this.options.step,.2);this.updatePosition(this.from+y,this.to+y),k(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:T})},_.prototype.buttonToMinClick=function(T){var y=F(this.to-this.from)*d(this.options.step,.2);this.updatePosition(F(this.from-y),F(this.to-y)),k(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:T})},_.prototype.cursorToScrollbarPosition=function(T){var y=this.options;return{chartX:(T.chartX-this.x-this.xOffset)/(this.barWidth-(y=y.minWidth>this.calculatedWidth?y.minWidth:0)),chartY:(T.chartY-this.y-this.yOffset)/(this.barWidth-y)}},_.prototype.destroy=function(){var T=this,y=T.chart.scroller;T.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(C){T[C]&&T[C].destroy&&(T[C]=T[C].destroy())}),y&&T===y.scrollbar&&(y.scrollbar=null,O(y.scrollbarButtons))},_.prototype.drawScrollbarButton=function(T){var y=this.renderer,C=this.scrollbarButtons,M=this.options,D=this.size,x=y.g().add(this.group);C.push(x),x=y.rect().addClass("highcharts-scrollbar-button").add(x),this.chart.styledMode||x.attr({stroke:M.buttonBorderColor,"stroke-width":M.buttonBorderWidth,fill:M.buttonBackgroundColor}),x.attr(x.crisp({x:-.5,y:-.5,width:D+1,height:D+1,r:M.buttonBorderRadius},x.strokeWidth())),x=y.path(_.swapXY([["M",D/2+(T?-1:1),D/2-3],["L",D/2+(T?-1:1),D/2+3],["L",D/2+(T?2:-2),D/2]],M.vertical)).addClass("highcharts-scrollbar-arrow").add(C[T]),this.chart.styledMode||x.attr({fill:M.buttonArrowColor})},_.prototype.init=function(T,y,C){this.scrollbarButtons=[],this.renderer=T,this.userOptions=y,this.options=g(rt,K.scrollbar,y),this.chart=C,this.size=d(this.options.size,this.options.height),y.enabled&&(this.render(),this.addEvents())},_.prototype.mouseDownHandler=function(T){T=this.chart.pointer.normalize(T),T=this.cursorToScrollbarPosition(T),this.chartX=T.chartX,this.chartY=T.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0},_.prototype.mouseMoveHandler=function(T){var y=this.chart.pointer.normalize(T),C=this.options.vertical?"chartY":"chartX",M=this.initPositions||[];!this.grabbedCenter||T.touches&&0===T.touches[0][C]||(C=(y=this.cursorToScrollbarPosition(y)[C])-(C=this[C]),this.hasDragged=!0,this.updatePosition(M[0]+C,M[1]+C),this.hasDragged&&k(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:T.type,DOMEvent:T}))},_.prototype.mouseUpHandler=function(T){this.hasDragged&&k(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:T.type,DOMEvent:T}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null},_.prototype.position=function(T,y,C,M){var D=this.options.vertical,x=this.rendered?"animate":"attr",f=0;this.x=T,this.y=y+this.trackBorderWidth,this.width=C,this.xOffset=this.height=M,this.yOffset=f,D?(this.width=this.yOffset=C=f=this.size,this.xOffset=y=0,this.barWidth=M-2*C,this.x=T+=this.options.margin):(this.height=this.xOffset=M=y=this.size,this.barWidth=C-2*M,this.y+=this.options.margin),this.group[x]({translateX:T,translateY:this.y}),this.track[x]({width:C,height:M}),this.scrollbarButtons[1][x]({translateX:D?0:C-y,translateY:D?M-f:0})},_.prototype.removeEvents=function(){this._events.forEach(function(T){v.apply(null,T)}),this._events.length=0},_.prototype.render=function(){var T=this.renderer,y=this.options,C=this.size,M=this.chart.styledMode,D=T.g("scrollbar").attr({zIndex:y.zIndex,translateY:-99999}).add();this.group=D,this.track=T.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:y.trackBorderRadius||0,height:C,width:C}).add(D),M||this.track.attr({fill:y.trackBackgroundColor,stroke:y.trackBorderColor,"stroke-width":y.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=T.g().add(D),this.scrollbar=T.rect().addClass("highcharts-scrollbar-thumb").attr({height:C,width:C,r:y.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=T.path(_.swapXY([["M",-3,C/4],["L",-3,2*C/3],["M",0,C/4],["L",0,2*C/3],["M",3,C/4],["L",3,2*C/3]],y.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),M||(this.scrollbar.attr({fill:y.barBackgroundColor,stroke:y.barBorderColor,"stroke-width":y.barBorderWidth}),this.scrollbarRifles.attr({stroke:y.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},_.prototype.setRange=function(T,y){var C=this.options,M=C.vertical,D=C.minWidth,x=this.barWidth,f=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(N(x)){var m=x*Math.min(y,1);T=Math.max(T,0);var r=Math.ceil(x*T);this.calculatedWidth=m=F(m-r),m<D&&(r=(x-D+m)*T,m=D),D=Math.floor(r+this.xOffset+this.yOffset),x=m/2-.5,this.from=T,this.to=y,M?(this.scrollbarGroup[f]({translateY:D}),this.scrollbar[f]({height:m}),this.scrollbarRifles[f]({translateY:x}),this.scrollbarTop=D,this.scrollbarLeft=0):(this.scrollbarGroup[f]({translateX:D}),this.scrollbar[f]({width:m}),this.scrollbarRifles[f]({translateX:x}),this.scrollbarLeft=D,this.scrollbarTop=0),12>=m?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===C.showFull&&(0>=T&&1<=y?this.group.hide():this.group.show()),this.rendered=!0}},_.prototype.shouldUpdateExtremes=function(T){return d(this.options.liveRedraw,$.svg&&!$.isTouchDevice&&!this.chart.isBoosting)||"mouseup"===T||"touchend"===T||!N(T)},_.prototype.trackClick=function(T){var y=this.chart.pointer.normalize(T),C=this.to-this.from;this.options.vertical&&y.chartY>this.y+this.scrollbarTop||!this.options.vertical&&y.chartX>this.x+this.scrollbarLeft?this.updatePosition(this.from+C,this.to+C):this.updatePosition(this.from-C,this.to-C),k(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:T})},_.prototype.update=function(T){this.destroy(),this.init(this.chart.renderer,g(!0,this.options,T),this.chart)},_.prototype.updatePosition=function(T,y){1<y&&(T=F(1-F(y-T)),y=1),0>T&&(y=F(y-T),T=0),this.from=T,this.to=y},_.defaultOptions=rt,_}(),K.scrollbar=g(!0,Y.defaultOptions,K.scrollbar),Y}),wt(o,"Extensions/RangeSelector.js",[o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/Globals.js"],o["Core/DefaultOptions.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){var F=rt.defaultOptions,N=K.addEvent,O=K.createElement,k=K.css,g=K.defined,d=K.destroyObjectProperties,v=K.discardElement,_=K.extend,T=K.find,y=K.fireEvent,C=K.isNumber,M=K.merge,D=K.objectEach,x=K.pad,f=K.pick,m=K.pInt,r=K.splat;_(F,{rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#335cad",cursor:"pointer"},labelStyle:{color:"#666666"}}}),_(F.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"});var p=function(){function h(l){this.buttons=void 0,this.buttonOptions=h.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=l,this.init(l)}return h.prototype.clickButton=function(l,w){var P=this.chart,I=this.buttonOptions[l],L=P.xAxis[0],S=P.scroller&&P.scroller.getUnionExtremes()||L||{},B=S.dataMin,c=S.dataMax,u=L&&Math.round(Math.min(L.max,f(c,L.max))),E=I.type;S=I._range;var j,G=I.dataGrouping;if(null!==B&&null!==c){if(P.fixedRange=S,this.setSelected(l),G&&(this.forcedDataGrouping=!0,Y.prototype.setDataGrouping.call(L||{chart:this.chart},G,!1),this.frozenStates=I.preserveDataGrouping),"month"===E||"year"===E)if(L){var W=L.minFromRange.call(E={range:I,max:u,chart:P,dataMin:B,dataMax:c});C(E.newMax)&&(u=E.newMax)}else S=I;else if(S)W=Math.max(u-S,B),u=Math.min(W+S,c);else if("ytd"===E){if(!L)return void(this.deferredYTDClick=l);void 0===c&&(B=Number.MAX_VALUE,c=Number.MIN_VALUE,P.series.forEach(function(V){V=V.xData,B=Math.min(V[0],B),c=Math.max(V[V.length-1],c)}),w=!1),W=j=(u=this.getYTDExtremes(c,B,P.time.useUTC)).min,u=u.max}else"all"===E&&L&&(P.navigator&&P.navigator.baseSeries[0]&&(P.navigator.baseSeries[0].xAxis.options.range=void 0),W=B,u=c);if(g(W)&&(W+=I._offsetMin),g(u)&&(u+=I._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=l+1),L)L.setExtremes(W,u,f(w,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:I});else{var b=r(P.options.xAxis)[0],z=b.range;b.range=S;var R=b.min;b.min=j,N(P,"load",function(){b.range=z,b.min=R})}y(this,"afterBtnClick")}},h.prototype.setSelected=function(l){this.selected=this.options.selected=l},h.prototype.init=function(l){var w=this,P=l.options.rangeSelector,I=P.buttons||w.defaultButtons.slice(),L=P.selected,S=function(){var B=w.minInput,c=w.maxInput;B&&B.blur&&y(B,"blur"),c&&c.blur&&y(c,"blur")};w.chart=l,w.options=P,w.buttons=[],w.buttonOptions=I,this.eventsToUnbind=[],this.eventsToUnbind.push(N(l.container,"mousedown",S)),this.eventsToUnbind.push(N(l,"resize",S)),I.forEach(w.computeButtonRange),void 0!==L&&I[L]&&this.clickButton(L,!1),this.eventsToUnbind.push(N(l,"load",function(){l.xAxis&&l.xAxis[0]&&N(l.xAxis[0],"setExtremes",function(B){this.max-this.min!==l.fixedRange&&"rangeSelectorButton"!==B.trigger&&"updatedData"!==B.trigger&&w.forcedDataGrouping&&!w.frozenStates&&this.setDataGrouping(!1,!1)})}))},h.prototype.updateButtonStates=function(){var l=this,w=this.chart,P=this.dropdown,I=w.xAxis[0],L=Math.round(I.max-I.min),S=!I.hasVisibleSeries,B=w.scroller&&w.scroller.getUnionExtremes()||I,c=B.dataMin,u=B.dataMax,E=(w=l.getYTDExtremes(u,c,w.time.useUTC)).min,j=w.max,G=l.selected,W=C(G),b=l.options.allButtonsEnabled,z=l.buttons;l.buttonOptions.forEach(function(R,V){var Z=R._range,nt=R.type,it=R.count||1,ot=z[V],at=0,mt=R._offsetMax-R._offsetMin;R=V===G;var _t=Z>u-c,yt=Z<I.minRange,ut=!1,ct=!1;Z=Z===L,("month"===nt||"year"===nt)&&L+36e5>=864e5*{month:28,year:365}[nt]*it-mt&&L-36e5<=864e5*{month:31,year:366}[nt]*it+mt?Z=!0:"ytd"===nt?(Z=j-E+mt===L,ut=!R):"all"===nt&&(Z=I.max-I.min>=u-c,ct=!R&&W&&Z),it=R&&Z||Z&&!W&&!ut||R&&l.frozenStates,(nt=!b&&(_t||yt||ct||S))?at=3:it&&(W=!0,at=2),ot.state!==at&&(ot.setState(at),P&&(P.options[V+1].disabled=nt,2===at&&(P.selectedIndex=V+1)),0===at&&G===V&&l.setSelected())})},h.prototype.computeButtonRange=function(l){var w=l.type,P=l.count||1,I={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};I[w]?l._range=I[w]*P:("month"===w||"year"===w)&&(l._range=864e5*{month:30,year:365}[w]*P),l._offsetMin=f(l.offsetMin,0),l._offsetMax=f(l.offsetMax,0),l._range+=l._offsetMax-l._offsetMin},h.prototype.getInputValue=function(l){var P=this.chart.time;return(l="min"===l?this.minInput:this.maxInput)?("text"===l.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(l.value,P.useUTC,P):0},h.prototype.setInputValue=function(l,w){var P=this.options,I=this.chart.time,L="min"===l?this.minInput:this.maxInput;if(l="min"===l?this.minDateBox:this.maxDateBox,L){var S=L.getAttribute("data-hc-time");S=g(S)?Number(S):void 0,g(w)&&(g(S)&&L.setAttribute("data-hc-time-previous",S),L.setAttribute("data-hc-time",w),S=w),L.value=I.dateFormat(this.inputTypeFormats[L.type]||P.inputEditDateFormat,S),l&&l.attr({text:I.dateFormat(P.inputDateFormat,S)})}},h.prototype.setInputExtremes=function(l,w,P){if(l="min"===l?this.minInput:this.maxInput){var I=this.inputTypeFormats[l.type],L=this.chart.time;I&&(w=L.dateFormat(I,w),l.min!==w&&(l.min=w),P=L.dateFormat(I,P),l.max!==P&&(l.max=P))}},h.prototype.showInput=function(l){var w="min"===l?this.minDateBox:this.maxDateBox;if((l="min"===l?this.minInput:this.maxInput)&&w&&this.inputGroup){var P="text"===l.type,I=this.inputGroup,L=I.translateX;I=I.translateY;var S=this.options.inputBoxWidth;k(l,{width:P?w.width+(S?-2:20)+"px":"auto",height:P?w.height-2+"px":"auto",border:"2px solid silver"}),k(l,P&&S?{left:L+w.x+"px",top:I+"px"}:{left:Math.min(Math.round(w.x+L-(l.offsetWidth-w.width)/2),this.chart.chartWidth-l.offsetWidth)+"px",top:I-(l.offsetHeight-w.height)/2+"px"})}},h.prototype.hideInput=function(l){(l="min"===l?this.minInput:this.maxInput)&&k(l,{top:"-9999em",border:0,width:"1px",height:"1px"})},h.prototype.defaultInputDateParser=function(l,w,P){var L,I=l.split("/").join("-").split(" ").join("T");return-1===I.indexOf("T")&&(I+="T00:00"),w?I+="Z":((L=q.isSafari)&&(L=!(6<(L=I).length&&(L.lastIndexOf("-")===L.length-6||L.lastIndexOf("+")===L.length-6))),L&&(I+=0>=(L=new Date(I).getTimezoneOffset()/60)?"+"+x(-L)+":00":"-"+x(L)+":00")),I=Date.parse(I),C(I)||(l=l.split("-"),I=Date.UTC(m(l[0]),m(l[1])-1,m(l[2]))),P&&w&&C(I)&&(I+=P.getTimezoneOffset(I)),I},h.prototype.drawInput=function(l){function w(){var b=S.getInputValue(l),z=P.xAxis[0],R=P.scroller&&P.scroller.xAxis?P.scroller.xAxis:z,V=R.dataMin;R=R.dataMax;var Z=S.maxInput,nt=S.minInput;b!==Number(G.getAttribute("data-hc-time-previous"))&&C(b)&&(G.setAttribute("data-hc-time-previous",b),E&&Z&&C(V)?b>Number(Z.getAttribute("data-hc-time"))?b=void 0:b<V&&(b=V):nt&&C(R)&&(b<Number(nt.getAttribute("data-hc-time"))?b=void 0:b>R&&(b=R)),void 0!==b&&z.setExtremes(E?b:z.min,E?z.max:b,void 0,void 0,{trigger:"rangeSelectorInput"}))}var P=this.chart,I=this.div,L=this.inputGroup,S=this,B=P.renderer.style||{},c=P.renderer,u=P.options.rangeSelector,E="min"===l,j=F.lang[E?"rangeSelectorFrom":"rangeSelectorTo"]||"";j=c.label(j,0).addClass("highcharts-range-label").attr({padding:j?2:0,height:j?u.inputBoxHeight:0}).add(L),c=c.label("",0).addClass("highcharts-range-input").attr({padding:2,width:u.inputBoxWidth,height:u.inputBoxHeight,"text-align":"center"}).on("click",function(){S.showInput(l),S[l+"Input"].focus()}),P.styledMode||c.attr({stroke:u.inputBoxBorderColor,"stroke-width":1}),c.add(L);var G=O("input",{name:l,className:"highcharts-range-selector"},void 0,I);G.setAttribute("type",function(h){if(-1!==h.indexOf("%L"))return"text";var l="aAdewbBmoyY".split("").some(function(P){return-1!==h.indexOf("%"+P)}),w="HkIlMS".split("").some(function(P){return-1!==h.indexOf("%"+P)});return l&&w?"datetime-local":l?"date":w?"time":"text"}(u.inputDateFormat||"%b %e, %Y")),P.styledMode||(j.css(M(B,u.labelStyle)),c.css(M({color:"#333333"},B,u.inputStyle)),k(G,_({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:B.fontSize,fontFamily:B.fontFamily,top:"-9999em"},u.inputStyle))),G.onfocus=function(){S.showInput(l)},G.onblur=function(){G===q.doc.activeElement&&w(),S.hideInput(l),S.setInputValue(l),G.blur()};var W=!1;return G.onchange=function(){W||(w(),S.hideInput(l),G.blur())},G.onkeypress=function(b){13===b.keyCode&&w()},G.onkeydown=function(b){W=!0,38!==b.keyCode&&40!==b.keyCode||w()},G.onkeyup=function(){W=!1},{dateBox:c,input:G,label:j}},h.prototype.getPosition=function(){var l=this.chart,w=l.options.rangeSelector;return{buttonTop:(l="top"===w.verticalAlign?l.plotTop-l.axisOffset[0]:0)+w.buttonPosition.y,inputTop:l+w.inputPosition.y-10}},h.prototype.getYTDExtremes=function(l,w,P){var I=this.chart.time,L=new I.Date(l),S=I.get("FullYear",L);return P=P?I.Date.UTC(S,0,1):+new I.Date(S,0,1),w=Math.max(w,P),L=L.getTime(),{max:Math.min(l||L,L),min:w}},h.prototype.render=function(l,w){var P=this.chart,I=P.renderer,L=P.container,S=P.options,B=S.rangeSelector,c=f(S.chart.style&&S.chart.style.zIndex,0)+1;if(S=B.inputEnabled,!1!==B.enabled){if(this.rendered||(this.group=I.g("range-selector-group").attr({zIndex:7}).add(),this.div=O("div",void 0,{position:"relative",height:0,zIndex:c}),this.buttonOptions.length&&this.renderButtons(),L.parentNode&&L.parentNode.insertBefore(this.div,L),S&&(this.inputGroup=I.g("input-group").add(this.group),I=this.drawInput("min"),this.minDateBox=I.dateBox,this.minLabel=I.label,this.minInput=I.input,I=this.drawInput("max"),this.maxDateBox=I.dateBox,this.maxLabel=I.label,this.maxInput=I.input)),S&&(this.setInputValue("min",l),this.setInputValue("max",w),l=P.scroller&&P.scroller.getUnionExtremes()||P.xAxis[0]||{},g(l.dataMin)&&g(l.dataMax)&&(P=P.xAxis[0].minRange||0,this.setInputExtremes("min",l.dataMin,Math.min(l.dataMax,this.getInputValue("max"))-P),this.setInputExtremes("max",Math.max(l.dataMin,this.getInputValue("min"))+P,l.dataMax)),this.inputGroup)){var u=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(E){if(E){var j=E.getBBox().width;j&&(E.attr({x:u}),u+=j+B.inputSpacing)}})}this.alignElements(),this.rendered=!0}},h.prototype.renderButtons=function(){var l=this,w=this.buttons,P=this.options,I=F.lang,L=this.chart.renderer,S=M(P.buttonTheme),B=S&&S.states,c=S.width||28;delete S.width,delete S.states,this.buttonGroup=L.g("range-selector-buttons").add(this.group);var u=this.dropdown=O("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);N(u,"touchstart",function(){u.style.fontSize="16px"}),[[q.isMS?"mouseover":"mouseenter"],[q.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(E){var j=E[0],G=E[1];N(u,j,function(){var W=w[l.currentButtonIndex()];W&&y(W.element,G||j)})}),this.zoomText=L.label(I&&I.rangeSelectorZoom||"",0).attr({padding:P.buttonTheme.padding,height:P.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(P.labelStyle),S["stroke-width"]=f(S["stroke-width"],0)),O("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,u),this.buttonOptions.forEach(function(E,j){O("option",{textContent:E.title||E.text},void 0,u),w[j]=L.button(E.text,0,0,function(G){var b,W=E.events&&E.events.click;W&&(b=W.call(E,G)),!1!==b&&l.clickButton(j),l.isActive=!0},S,B&&B.hover,B&&B.select,B&&B.disabled).attr({"text-align":"center",width:c}).add(l.buttonGroup),E.title&&w[j].attr("title",E.title)})},h.prototype.alignElements=function(){var l=this,w=this.buttonGroup,P=this.buttons,I=this.chart,L=this.group,S=this.inputGroup,B=this.options,c=this.zoomText,u=I.options,E=u.exporting&&!1!==u.exporting.enabled&&u.navigation&&u.navigation.buttonOptions;u=B.buttonPosition;var j=B.inputPosition,G=B.verticalAlign,W=function(V,Z){return E&&l.titleCollision(I)&&"top"===G&&"right"===Z.align&&Z.y-V.getBBox().height-12<(E.y||0)+(E.height||0)+I.spacing[0]?-40:0},b=I.plotLeft;if(L&&u&&j){var z=u.x-I.spacing[3];if(w){if(this.positionButtons(),!this.initialButtonGroupWidth){var R=0;c&&(R+=c.getBBox().width+5),P.forEach(function(V,Z){R+=V.width,Z!==P.length-1&&(R+=B.buttonSpacing)}),this.initialButtonGroupWidth=R}b-=I.spacing[3],this.updateButtonStates(),c=W(w,u),this.alignButtonGroup(c),L.placed=w.placed=I.hasLoaded}w=0,S&&(w=W(S,j),"left"===j.align?z=b:"right"===j.align&&(z=-Math.max(I.axisOffset[1],-w)),S.align({y:j.y,width:S.getBBox().width,align:j.align,x:j.x+z-2},!0,I.spacingBox),S.placed=I.hasLoaded),this.handleCollision(w),L.align({verticalAlign:G},!0,I.spacingBox),S=L.alignAttr.translateY,w=L.getBBox().height+20,W=0,"bottom"===G&&(W=S-(w=w+(W=(W=I.legend&&I.legend.options)&&"bottom"===W.verticalAlign&&W.enabled&&!W.floating?I.legend.legendHeight+f(W.margin,10):0)-20)-(B.floating?0:B.y)-(I.titleOffset?I.titleOffset[2]:0)-10),"top"===G?(B.floating&&(W=0),I.titleOffset&&I.titleOffset[0]&&(W=I.titleOffset[0]),W+=I.margin[0]-I.spacing[0]||0):"middle"===G&&(j.y===u.y?W=S:(j.y||u.y)&&(W=0>j.y||0>u.y?W-Math.min(j.y,u.y):S-w)),L.translate(B.x,B.y+Math.floor(W)),u=this.minInput,j=this.maxInput,S=this.dropdown,B.inputEnabled&&u&&j&&(u.style.marginTop=L.translateY+"px",j.style.marginTop=L.translateY+"px"),S&&(S.style.marginTop=L.translateY+"px")}},h.prototype.alignButtonGroup=function(l,w){var P=this.chart,I=this.buttonGroup,L=this.options.buttonPosition,S=P.plotLeft-P.spacing[3],B=L.x-P.spacing[3];"right"===L.align?B+=l-S:"center"===L.align&&(B-=S/2),I&&I.align({y:L.y,width:f(w,this.initialButtonGroupWidth),align:L.align,x:B},!0,P.spacingBox)},h.prototype.positionButtons=function(){var l=this.buttons,w=this.chart,P=this.options,I=this.zoomText,L=w.hasLoaded?"animate":"attr",S=P.buttonPosition,B=w.plotLeft,c=B;I&&"hidden"!==I.visibility&&(I[L]({x:f(B+S.x,B)}),c+=S.x+I.getBBox().width+5),this.buttonOptions.forEach(function(u,E){"hidden"!==l[E].visibility?(l[E][L]({x:c}),c+=l[E].width+P.buttonSpacing):l[E][L]({x:B})})},h.prototype.handleCollision=function(l){var w=this,P=this.chart,I=this.buttonGroup,L=this.inputGroup,S=this.options,B=S.buttonPosition,c=S.dropdown,u=S.inputPosition;S=function(){var G=0;return w.buttons.forEach(function(W){(W=W.getBBox()).width>G&&(G=W.width)}),G};var E=function(G){if(L&&I){var W=L.alignAttr.translateX+L.alignOptions.x-l+L.getBBox().x+2,b=L.alignOptions.width,z=I.alignAttr.translateX+I.getBBox().x;return z+G>W&&W+b>z&&B.y<u.y+L.getBBox().height}return!1},j=function(){L&&I&&L.attr({translateX:L.alignAttr.translateX+(P.axisOffset[1]>=-l?0:-l),translateY:L.alignAttr.translateY+I.getBBox().height+10})};if(I){if("always"===c)return this.collapseButtons(l),void(E(S())&&j());"never"===c&&this.expandButtons()}L&&I?u.align===B.align||E(this.initialButtonGroupWidth+20)?"responsive"===c?(this.collapseButtons(l),E(S())&&j()):j():"responsive"===c&&this.expandButtons():I&&"responsive"===c&&(this.initialButtonGroupWidth>P.plotWidth?this.collapseButtons(l):this.expandButtons())},h.prototype.collapseButtons=function(l){var w=this.buttons,P=this.buttonOptions,I=this.chart,L=this.dropdown,S=this.options,B=this.zoomText,c=I.userOptions.rangeSelector&&I.userOptions.rangeSelector.buttonTheme||{},u=function(j){return{text:j?j+" \u25be":"\u25be",width:"auto",paddingLeft:f(S.buttonTheme.paddingLeft,c.padding,8),paddingRight:f(S.buttonTheme.paddingRight,c.padding,8)}};B&&B.hide();var E=!1;P.forEach(function(j,G){2!==(G=w[G]).state?G.hide():(G.show(),G.attr(u(j.text)),E=!0)}),E||(L&&(L.selectedIndex=0),w[0].show(),w[0].attr(u(this.zoomText&&this.zoomText.textStr))),P=S.buttonPosition.align,this.positionButtons(),"right"!==P&&"center"!==P||this.alignButtonGroup(l,w[this.currentButtonIndex()].getBBox().width),this.showDropdown()},h.prototype.expandButtons=function(){var l=this.buttons,w=this.buttonOptions,P=this.options,I=this.zoomText;this.hideDropdown(),I&&I.show(),w.forEach(function(L,S){(S=l[S]).show(),S.attr({text:L.text,width:P.buttonTheme.width||28,paddingLeft:f(P.buttonTheme.paddingLeft,"unset"),paddingRight:f(P.buttonTheme.paddingRight,"unset")}),2>S.state&&S.setState(0)}),this.positionButtons()},h.prototype.currentButtonIndex=function(){var l=this.dropdown;return l&&0<l.selectedIndex?l.selectedIndex-1:0},h.prototype.showDropdown=function(){var l=this.buttonGroup,w=this.buttons,P=this.chart,I=this.dropdown;if(l&&I){var L=l.translateX;l=l.translateY,w=w[this.currentButtonIndex()].getBBox(),k(I,{left:P.plotLeft+L+"px",top:l+.5+"px",width:w.width+"px",height:w.height+"px"}),this.hasVisibleDropdown=!0}},h.prototype.hideDropdown=function(){var l=this.dropdown;l&&(k(l,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)},h.prototype.getHeight=function(){var l=this.options,w=this.group,P=l.y,I=l.buttonPosition.y,L=l.inputPosition.y;return l.height?l.height:(this.alignElements(),l=w?w.getBBox(!0).height+13+P:0,w=Math.min(L,I),(0>L&&0>I||0<L&&0<I)&&(l+=Math.abs(w)),l)},h.prototype.titleCollision=function(l){return!(l.options.title.text||l.options.subtitle.text)},h.prototype.update=function(l){var w=this.chart;M(!0,w.options.rangeSelector,l),this.destroy(),this.init(w),this.render()},h.prototype.destroy=function(){var l=this,w=l.minInput,P=l.maxInput;l.eventsToUnbind&&(l.eventsToUnbind.forEach(function(I){return I()}),l.eventsToUnbind=void 0),d(l.buttons),w&&(w.onfocus=w.onblur=w.onchange=null),P&&(P.onfocus=P.onblur=P.onchange=null),D(l,function(I,L){I&&"chart"!==L&&(I instanceof J?I.destroy():I instanceof window.HTMLElement&&v(I)),I!==h.prototype[L]&&(l[L]=null)},this)},h}();if(p.prototype.defaultButtons=[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],p.prototype.inputTypeFormats={"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"},Y.prototype.minFromRange=function(){var h=this.range,l=h.type,w=this.max,P=this.chart.time,I=function(c,u){var E="year"===l?"FullYear":"Month",j=new P.Date(c),G=P.get(E,j);return P.set(E,j,G+u),G===P.get(E,j)&&P.set("Date",j,0),j.getTime()-c};if(C(h))var L=w-h,S=h;else L=w+I(w,-h.count),this.chart&&(this.chart.fixedRange=w-L);var B=f(this.dataMin,Number.MIN_VALUE);return C(L)||(L=B),L<=B&&(L=B,void 0===S&&(S=I(L,h.count)),this.newMax=Math.min(L+S,this.dataMax)),C(w)||(L=void 0),L},!q.RangeSelector){var a=[],n=function(h){function l(){P&&(w=h.xAxis[0].getExtremes(),I=h.legend,S=P&&P.options.verticalAlign,C(w.min)&&P.render(w.min,w.max),I.display&&"top"===S&&S===I.options.verticalAlign&&((L=M(h.spacingBox)).y="vertical"===I.options.layout?h.plotTop:L.y+P.getHeight(),I.group.placed=!1,I.align(L)))}var w,I,L,S,P=h.rangeSelector;P&&(T(a,function(B){return B[0]===h})||a.push([h,[N(h.xAxis[0],"afterSetExtremes",function(B){P&&P.render(B.min,B.max)}),N(h,"redraw",l)]]),l())};N($,"afterGetContainer",function(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new p(this))}),N($,"beforeRender",function(){var h=this.axes,l=this.rangeSelector;l&&(C(l.deferredYTDClick)&&(l.clickButton(l.deferredYTDClick),delete l.deferredYTDClick),h.forEach(function(w){w.updateNames(),w.setScale()}),this.getAxisMargins(),l.render(),h=l.options.verticalAlign,l.options.floating||("bottom"===h?this.extraBottomMargin=!0:"middle"!==h&&(this.extraTopMargin=!0)))}),N($,"update",function(h){var l=h.options.rangeSelector;h=this.rangeSelector;var w=this.extraBottomMargin,P=this.extraTopMargin;l&&l.enabled&&!g(h)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=h=new p(this)),this.extraTopMargin=this.extraBottomMargin=!1,h&&(n(this),l=l&&l.verticalAlign||h.options&&h.options.verticalAlign,h.options.floating||("bottom"===l?this.extraBottomMargin=!0:"middle"!==l&&(this.extraTopMargin=!0)),this.extraBottomMargin!==w||this.extraTopMargin!==P)&&(this.isDirtyBox=!0)}),N($,"render",function(){var h=this.rangeSelector;h&&!h.options.floating&&(h.render(),"bottom"===(h=h.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==h&&(this.extraTopMargin=!0))}),N($,"getMargins",function(){var h=this.rangeSelector;h&&(h=h.getHeight(),this.extraTopMargin&&(this.plotTop+=h),this.extraBottomMargin&&(this.marginBottom+=h))}),$.prototype.callbacks.push(n),N($,"destroy",function(){for(var h=0;h<a.length;h++){var l=a[h];if(l[0]===this){l[1].forEach(function(w){return w()}),a.splice(h,1);break}}}),q.RangeSelector=p}return p}),wt(o,"Core/Axis/NavigatorAxis.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$){var q=Y.isTouchDevice,rt=$.addEvent,J=$.correctFloat,K=$.defined,X=$.isNumber,F=$.pick,N=function(){function O(k){this.axis=k}return O.prototype.destroy=function(){this.axis=void 0},O.prototype.toFixedRange=function(k,g,d,v){var _=this.axis,T=_.chart;T=T&&T.fixedRange;var y=(_.pointRange||0)/2;return k=F(d,_.translate(k,!0,!_.horiz)),g=F(v,_.translate(g,!0,!_.horiz)),_=T&&(g-k)/T,K(d)||(k=J(k+y)),K(v)||(g=J(g-y)),.7<_&&1.3>_&&(v?k=g-T:g=k+T),X(k)&&X(g)||(k=g=void 0),{min:k,max:g}},O}();return function(){function O(){}return O.compose=function(k){k.keepProps.push("navigatorAxis"),rt(k,"init",function(){this.navigatorAxis||(this.navigatorAxis=new N(this))}),rt(k,"zoom",function(g){var d=this.chart.options,v=d.navigator,_=this.navigatorAxis,T=d.chart.pinchType,y=d.rangeSelector;d=d.chart.zoomType,this.isXAxis&&(v&&v.enabled||y&&y.enabled)&&("y"===d?g.zoomed=!1:(!q&&"xy"===d||q&&"xy"===T)&&this.options.range&&(v=_.previousZoom,K(g.newMin)?_.previousZoom=[this.min,this.max]:v&&(g.newMin=v[0],g.newMax=v[1],_.previousZoom=void 0))),void 0!==g.zoomed&&g.preventDefault()})},O.AdditionsClass=N,O}()}),wt(o,"Core/Navigator.js",[o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Axis/NavigatorAxis.js"],o["Core/DefaultOptions.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Scrollbar.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N,O,k){var g=rt.hasTouch,d=rt.isTouchDevice,v=K.defaultOptions,_=k.addEvent,T=k.clamp,y=k.correctFloat,C=k.defined,M=k.destroyObjectProperties,D=k.erase,x=k.extend,f=k.find,m=k.isArray,r=k.isNumber,p=k.merge,a=k.pick,n=k.removeEvent,h=k.splat,l=function(P){for(var I=[],L=1;L<arguments.length;L++)I[L-1]=arguments[L];if((I=[].filter.call(I,r)).length)return Math[P].apply(0,I)};K=void 0===O.seriesTypes.areaspline?"line":"areaspline",x(v,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:(q=q.parse)("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:K,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),X.getRendererType().prototype.symbols["navigator-handle"]=function(P,I,L,S,B){return P=(B&&B.width||0)/2,I=Math.round(P/3)+.5,[["M",-P-1,.5],["L",P,.5],["L",P,(B=B&&B.height||0)+.5],["L",-P-1,B+.5],["L",-P-1,.5],["M",-I,4],["L",-I,B-3],["M",I-1,4],["L",I-1,B-3]]};var w=function(){function P(I){this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.rendered=this.range=this.outlineHeight=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.init(I)}return P.prototype.drawHandle=function(I,L,S,B){var c=this.navigatorOptions.handles.height;this.handles[L][B](S?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(I,10)+.5-c)}:{translateX:Math.round(this.left+parseInt(I,10)),translateY:Math.round(this.top+this.height/2-c/2-1)})},P.prototype.drawOutline=function(I,L,S,B){var c=this.navigatorOptions.maskInside,u=this.outline.strokeWidth(),E=u/2,j=u%2/2;u=this.outlineHeight;var G=this.scrollbarHeight||0,W=this.size,b=this.left-G,z=this.top;S?(j=[["M",(b-=E)+u,z-G-j],["L",b+u,S=z+L+j],["L",b,S],["L",b,L=z+I+j],["L",b+u,L],["L",b+u,z+W+G]],c&&j.push(["M",b+u,S-E],["L",b+u,L+E])):(j=[["M",b,z+=E],["L",I+=b+G-j,z],["L",I,z+u],["L",L+=b+G-j,z+u],["L",L,z],["L",b+W+2*G,z]],c&&j.push(["M",I-E,z],["L",L+E,z])),this.outline[B]({d:j})},P.prototype.drawMasks=function(I,L,S,B){var c=this.left,u=this.top,E=this.height;if(S)var j=[c,c,c],G=[u,u+I,u+L],W=[E,E,E],b=[I,L-I,this.size-L];else j=[c,c+I,c+L],G=[u,u,u],W=[I,L-I,this.size-L],b=[E,E,E];this.shades.forEach(function(z,R){z[B]({x:j[R],y:G[R],width:W[R],height:b[R]})})},P.prototype.renderElements=function(){var u,I=this,L=I.navigatorOptions,S=L.maskInside,B=I.chart,c=B.renderer,E={cursor:B.inverted?"ns-resize":"ew-resize"};I.navigatorGroup=u=c.g("navigator").attr({zIndex:8,visibility:"hidden"}).add(),[!S,S,!S].forEach(function(j,G){I.shades[G]=c.rect().addClass("highcharts-navigator-mask"+(1===G?"-inside":"-outside")).add(u),B.styledMode||I.shades[G].attr({fill:j?L.maskFill:"rgba(0,0,0,0)"}).css(1===G&&E)}),I.outline=c.path().addClass("highcharts-navigator-outline").add(u),B.styledMode||I.outline.attr({"stroke-width":L.outlineWidth,stroke:L.outlineColor}),L.handles.enabled&&[0,1].forEach(function(j){if(L.handles.inverted=B.inverted,I.handles[j]=c.symbol(L.handles.symbols[j],-L.handles.width/2-1,0,L.handles.width,L.handles.height,L.handles),I.handles[j].attr({zIndex:7-j}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][j]).add(u),!B.styledMode){var G=L.handles;I.handles[j].attr({fill:G.backgroundColor,stroke:G.borderColor,"stroke-width":G.lineWidth}).css(E)}})},P.prototype.update=function(I){(this.series||[]).forEach(function(L){L.baseSeries&&delete L.baseSeries.navigatorSeries}),this.destroy(),p(!0,this.chart.options.navigator,this.options,I),this.init(this.chart)},P.prototype.render=function(I,L,S,B){var E,z,c=this.chart,u=this.scrollbarHeight,j=this.xAxis,G=j.pointRange||0,W=j.navigatorAxis.fake?c.xAxis[0]:j,b=this.navigatorEnabled,R=this.rendered,V=c.inverted,Z=c.xAxis[0].minRange,nt=c.xAxis[0].options.maxRange;if(!this.hasDragged||C(S)){if(I=y(I-G/2),L=y(L+G/2),!r(I)||!r(L)){if(!R)return;S=0,B=a(j.width,W.width)}this.left=a(j.left,c.plotLeft+u+(V?c.plotWidth:0)),this.size=z=E=a(j.len,(V?c.plotHeight:c.plotWidth)-2*u),c=V?u:E+2*u,S=a(S,j.toPixels(I,!0)),B=a(B,j.toPixels(L,!0)),r(S)&&Math.abs(S)!==1/0||(S=0,B=c),I=j.toValue(S,!0),L=j.toValue(B,!0);var it=Math.abs(y(L-I));it<Z?this.grabbedLeft?S=j.toPixels(L-Z-G,!0):this.grabbedRight&&(B=j.toPixels(I+Z+G,!0)):C(nt)&&y(it-G)>nt&&(this.grabbedLeft?S=j.toPixels(L-nt-G,!0):this.grabbedRight&&(B=j.toPixels(I+nt+G,!0))),this.zoomedMax=T(Math.max(S,B),0,z),this.zoomedMin=T(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(S,B),0,z),this.range=this.zoomedMax-this.zoomedMin,z=Math.round(this.zoomedMax),S=Math.round(this.zoomedMin),b&&(this.navigatorGroup.attr({visibility:"visible"}),this.drawMasks(S,z,V,R=R&&!this.hasDragged?"animate":"attr"),this.drawOutline(S,z,V,R),this.navigatorOptions.handles.enabled&&(this.drawHandle(S,0,V,R),this.drawHandle(z,1,V,R))),this.scrollbar&&(V?(V=this.top-u,W=this.left-u+(b||!W.opposite?0:(W.titleOffset||0)+W.axisTitleMargin),u=E+2*u):(V=this.top+(b?this.height:-u),W=this.left-u),this.scrollbar.position(W,V,c,u),this.scrollbar.setRange(this.zoomedMin/(E||1),this.zoomedMax/(E||1))),this.rendered=!0}},P.prototype.addMouseEvents=function(){var c,u,I=this,L=I.chart,S=L.container,B=[];I.mouseMoveHandler=c=function(E){I.onMouseMove(E)},I.mouseUpHandler=u=function(E){I.onMouseUp(E)},(B=I.getPartsEvents("mousedown")).push(_(L.renderTo,"mousemove",c),_(S.ownerDocument,"mouseup",u)),g&&(B.push(_(L.renderTo,"touchmove",c),_(S.ownerDocument,"touchend",u)),B.concat(I.getPartsEvents("touchstart"))),I.eventsToUnbind=B,I.series&&I.series[0]&&B.push(_(I.series[0].xAxis,"foundExtremes",function(){L.navigator.modifyNavigatorAxisExtremes()}))},P.prototype.getPartsEvents=function(I){var L=this,S=[];return["shades","handles"].forEach(function(B){L[B].forEach(function(c,u){S.push(_(c.element,I,function(E){L[B+"Mousedown"](E,u)}))})}),S},P.prototype.shadesMousedown=function(I,L){I=this.chart.pointer.normalize(I);var S=this.chart,B=this.xAxis,c=this.zoomedMin,u=this.left,E=this.size,j=this.range,G=I.chartX;if(S.inverted&&(G=I.chartY,u=this.top),1===L)this.grabbedCenter=G,this.fixedWidth=j,this.dragOffset=G-c;else{if(I=G-u-j/2,0===L)I=Math.max(0,I);else if(2===L&&I+j>=E)if(I=E-j,this.reversedExtremes){I-=j;var W=this.getUnionExtremes().dataMin}else var b=this.getUnionExtremes().dataMax;I!==c&&(this.fixedWidth=j,L=B.navigatorAxis.toFixedRange(I,I+j,W,b),C(L.min)&&S.xAxis[0].setExtremes(Math.min(L.min,L.max),Math.max(L.min,L.max),!0,null,{trigger:"navigator"}))}},P.prototype.handlesMousedown=function(I,L){this.chart.pointer.normalize(I);var S=(I=this.chart).xAxis[0],B=this.reversedExtremes;0===L?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=B?S.min:S.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=B?S.max:S.min),I.fixedRange=null},P.prototype.onMouseMove=function(I){var L=this,S=L.chart,B=L.left,c=L.navigatorSize,u=L.range,E=L.dragOffset,j=S.inverted;I.touches&&0===I.touches[0].pageX||(I=S.pointer.normalize(I),S=I.chartX,j&&(B=L.top,S=I.chartY),L.grabbedLeft?(L.hasDragged=!0,L.render(0,0,S-B,L.otherHandlePos)):L.grabbedRight?(L.hasDragged=!0,L.render(0,0,L.otherHandlePos,S-B)):L.grabbedCenter&&(L.hasDragged=!0,S<E?S=E:S>c+E-u&&(S=c+E-u),L.render(0,0,S-E,S-E+u)),L.hasDragged&&L.scrollbar&&a(L.scrollbar.options.liveRedraw,rt.svg&&!d&&!this.chart.isBoosting)&&(I.DOMType=I.type,setTimeout(function(){L.onMouseUp(I)},0)))},P.prototype.onMouseUp=function(I){var L=this.chart,S=this.xAxis,B=this.scrollbar,c=I.DOMEvent||I,u=L.inverted,E=this.rendered&&!this.hasDragged?"animate":"attr";if(this.hasDragged&&(!B||!B.hasDragged)||"scrollbar"===I.trigger){if(B=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos)var j=this.fixedExtreme;else if(this.zoomedMax===this.otherHandlePos)var G=this.fixedExtreme;this.zoomedMax===this.size&&(G=this.reversedExtremes?B.dataMin:B.dataMax),0===this.zoomedMin&&(j=this.reversedExtremes?B.dataMax:B.dataMin),S=S.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,j,G),C(S.min)&&L.xAxis[0].setExtremes(Math.min(S.min,S.max),Math.max(S.min,S.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:c})}"mousemove"!==I.DOMType&&"touchmove"!==I.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&r(this.zoomedMin)&&r(this.zoomedMax)&&(L=Math.round(this.zoomedMin),I=Math.round(this.zoomedMax),this.shades&&this.drawMasks(L,I,u,E),this.outline&&this.drawOutline(L,I,u,E),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(L,0,u,E),this.drawHandle(I,1,u,E)))},P.prototype.removeEvents=function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(I){I()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},P.prototype.removeBaseSeriesEvents=function(){var I=this.baseSeries||[];this.navigatorEnabled&&I[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&I.forEach(function(L){n(L,"updatedData",this.updatedDataHandler)},this),I[0].xAxis&&n(I[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},P.prototype.init=function(I){var L=I.options,S=L.navigator,B=S.enabled,c=L.scrollbar,u=c.enabled;L=B?S.height:0;var E=u?c.height:0;this.handles=[],this.shades=[],this.chart=I,this.setBaseSeries(),this.height=L,this.scrollbarHeight=E,this.scrollbarEnabled=u,this.navigatorEnabled=B,this.navigatorOptions=S,this.scrollbarOptions=c,this.outlineHeight=L+E,this.opposite=a(S.opposite,!(B||!I.inverted));var j=this;c=I.xAxis.length,u=I.yAxis.length;var G=(B=j.baseSeries)&&B[0]&&B[0].xAxis||I.xAxis[0]||{options:{}};I.isDirtyBox=!0,j.navigatorEnabled?(j.xAxis=new Y(I,p({breaks:G.options.breaks,ordinal:G.options.ordinal},S.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:c,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},I.inverted?{offsets:[E,0,-E,0],width:L}:{offsets:[0,-E,0,E],height:L})),j.yAxis=new Y(I,p(S.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:u,isInternal:!0,reversed:a(S.yAxis&&S.yAxis.reversed,I.yAxis[0]&&I.yAxis[0].reversed,!1),zoomEnabled:!1},I.inverted?{width:L}:{height:L})),B||S.series.data?j.updateNavigatorSeries(!1):0===I.series.length&&(j.unbindRedraw=_(I,"beforeRedraw",function(){0<I.series.length&&!j.series&&(j.setBaseSeries(),j.unbindRedraw())})),j.reversedExtremes=I.inverted&&!j.xAxis.reversed||!I.inverted&&j.xAxis.reversed,j.renderElements(),j.addMouseEvents()):(j.xAxis={chart:I,navigatorAxis:{fake:!0},translate:function(W,b){var z=I.xAxis[0],R=z.getExtremes(),V=z.len-2*E,Z=l("min",z.options.min,R.dataMin);return z=l("max",z.options.max,R.dataMax)-Z,b?W*z/V+Z:V*(W-Z)/z},toPixels:function(W){return this.translate(W)},toValue:function(W){return this.translate(W,!0)}},j.xAxis.navigatorAxis.axis=j.xAxis,j.xAxis.navigatorAxis.toFixedRange=J.AdditionsClass.prototype.toFixedRange.bind(j.xAxis.navigatorAxis)),I.options.scrollbar.enabled&&(I.scrollbar=j.scrollbar=new F(I.renderer,p(I.options.scrollbar,{margin:j.navigatorEnabled?0:10,vertical:I.inverted}),I),_(j.scrollbar,"changed",function(W){var b=j.size,z=b*this.to;b*=this.from,j.hasDragged=j.scrollbar.hasDragged,j.render(0,0,b,z),this.shouldUpdateExtremes(W.DOMType)&&setTimeout(function(){j.onMouseUp(W)})})),j.addBaseSeriesEvents(),j.addChartEvents()},P.prototype.getUnionExtremes=function(I){var u,L=this.chart.xAxis[0],S=this.xAxis,B=S.options,c=L.options;return I&&null===L.dataMin||(u={dataMin:a(B&&B.min,l("min",c.min,L.dataMin,S.dataMin,S.min)),dataMax:a(B&&B.max,l("max",c.max,L.dataMax,S.dataMax,S.max))}),u},P.prototype.setBaseSeries=function(I,L){var S=this.chart,B=this.baseSeries=[];I=I||S.options&&S.options.navigator.baseSeries||(S.series.length?f(S.series,function(c){return!c.options.isInternal}).index:0),(S.series||[]).forEach(function(c,u){c.options.isInternal||!c.options.showInNavigator&&(u!==I&&c.options.id!==I||!1===c.options.showInNavigator)||B.push(c)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,L)},P.prototype.updateNavigatorSeries=function(I,L){var u,E,G,S=this,B=S.chart,c=S.baseSeries,j=S.navigatorOptions.series,W={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},b=S.series=(S.series||[]).filter(function(z){var R=z.baseSeries;return!(0>c.indexOf(R)&&(R&&(n(R,"updatedData",S.updatedDataHandler),delete R.navigatorSeries),z.chart&&z.destroy(),1))});c&&c.length&&c.forEach(function(z){var R=z.navigatorSeries,V=x({color:z.color,visible:z.visible},m(j)?v.navigator.series:j);R&&!1===S.navigatorOptions.adaptToUpdatedData||(W.name="Navigator "+c.length,G=(u=z.options||{}).navigatorOptions||{},V.dataLabels=h(V.dataLabels),(E=p(u,W,V,G)).pointRange=a(V.pointRange,G.pointRange,v.plotOptions[E.type||"line"].pointRange),V=G.data||V.data,S.hasNavigatorData=S.hasNavigatorData||!!V,E.data=V||u.data&&u.data.slice(0),R&&R.options?R.update(E,L):(z.navigatorSeries=B.initSeries(E),z.navigatorSeries.baseSeries=z,b.push(z.navigatorSeries)))}),(j.data&&(!c||!c.length)||m(j))&&(S.hasNavigatorData=!1,(j=h(j)).forEach(function(z,R){W.name="Navigator "+(b.length+1),(E=p(v.navigator.series,{color:B.series[R]&&!B.series[R].options.isInternal&&B.series[R].color||B.options.colors[R]||B.options.colors[0]},W,z)).data=z.data,E.data&&(S.hasNavigatorData=!0,b.push(B.initSeries(E)))})),I&&this.addBaseSeriesEvents()},P.prototype.addBaseSeriesEvents=function(){var I=this,L=I.baseSeries||[];L[0]&&L[0].xAxis&&L[0].eventsToUnbind.push(_(L[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),L.forEach(function(S){S.eventsToUnbind.push(_(S,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),S.eventsToUnbind.push(_(S,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&S.xAxis&&S.eventsToUnbind.push(_(S,"updatedData",this.updatedDataHandler)),S.eventsToUnbind.push(_(S,"remove",function(){this.navigatorSeries&&(D(I.series,this.navigatorSeries),C(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))},this)},P.prototype.getBaseSeriesMin=function(I){return this.baseSeries.reduce(function(L,S){return Math.min(L,S.xData?S.xData[0]:L)},I)},P.prototype.modifyNavigatorAxisExtremes=function(){var L,I=this.xAxis;void 0!==I.getExtremes&&(!(L=this.getUnionExtremes(!0))||L.dataMin===I.min&&L.dataMax===I.max||(I.min=L.dataMin,I.max=L.dataMax))},P.prototype.modifyBaseAxisExtremes=function(){var I=this.chart.navigator,L=this.getExtremes(),S=L.dataMin,B=L.dataMax;L=L.max-L.min;var c=I.stickToMin,u=I.stickToMax,E=a(this.options.overscroll,0),j=I.series&&I.series[0],G=!!this.setExtremes;if(!this.eventArgs||"rangeSelectorButton"!==this.eventArgs.trigger){if(c)var W=S,b=W+L;u&&(b=B+E,c||(W=Math.max(S,b-L,I.getBaseSeriesMin(j&&j.xData?j.xData[0]:-Number.MAX_VALUE)))),G&&(c||u)&&r(W)&&(this.min=this.userMin=W,this.max=this.userMax=b)}I.stickToMin=I.stickToMax=null},P.prototype.updatedDataHandler=function(){var I=this.chart.navigator,L=this.navigatorSeries;I.stickToMax=I.reversedExtremes?0===Math.round(I.zoomedMin):Math.round(I.zoomedMax)>=Math.round(I.size),I.stickToMin=I.shouldStickToMin(this,I),L&&!I.hasNavigatorData&&(L.options.pointStart=this.xData[0],L.setData(this.options.data,!1,null,!1))},P.prototype.shouldStickToMin=function(I,L){L=L.getBaseSeriesMin(I.xData[0]);var S=I.xAxis;I=S.max;var B=S.min;return S=S.options.range,!(!r(I)||!r(B))&&(S&&0<I-L?I-L<S:B<=L)},P.prototype.addChartEvents=function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(_(this.chart,"redraw",function(){var I=this.navigator,L=I&&(I.baseSeries&&I.baseSeries[0]&&I.baseSeries[0].xAxis||this.xAxis[0]);L&&I.render(L.min,L.max)}),_(this.chart,"getMargins",function(){var I=this.navigator,L=I.opposite?"plotTop":"marginBottom";this.inverted&&(L=I.opposite?"marginRight":"plotLeft"),this[L]=(this[L]||0)+(I.navigatorEnabled||!this.inverted?I.outlineHeight:0)+I.navigatorOptions.margin}))},P.prototype.destroy=function(){this.removeEvents(),this.xAxis&&(D(this.chart.xAxis,this.xAxis),D(this.chart.axes,this.xAxis)),this.yAxis&&(D(this.chart.yAxis,this.yAxis),D(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(I){I.destroy&&I.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(function(I){this[I]&&this[I].destroy&&this[I].destroy(),this[I]=null},this),[this.handles].forEach(function(I){M(I)},this)},P}();return rt.Navigator||(rt.Navigator=w,J.compose(Y),_($,"beforeShowResetZoom",function(){var P=this.options,I=P.navigator,L=P.rangeSelector;if((I&&I.enabled||L&&L.enabled)&&(!d&&"x"===P.chart.zoomType||d&&"x"===P.chart.pinchType))return!1}),_($,"beforeRender",function(){var P=this.options;(P.navigator.enabled||P.scrollbar.enabled)&&(this.scroller=this.navigator=new w(this))}),_($,"afterSetChartSize",function(){var P=this.legend,I=this.navigator;if(I){var L=P&&P.options,S=I.xAxis,B=I.yAxis,c=I.scrollbarHeight;this.inverted?(I.left=I.opposite?this.chartWidth-c-I.height:this.spacing[3]+c,I.top=this.plotTop+c):(I.left=a(S.left,this.plotLeft+c),I.top=I.navigatorOptions.top||this.chartHeight-I.height-c-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(L&&"bottom"===L.verticalAlign&&"proximate"!==L.layout&&L.enabled&&!L.floating?P.legendHeight+a(L.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),S&&B&&(this.inverted?S.options.left=B.options.left=I.left:S.options.top=B.options.top=I.top,S.setAxisSize(),B.setAxisSize())}}),_($,"update",function(P){var I=P.options.navigator||{},L=P.options.scrollbar||{};this.navigator||this.scroller||!I.enabled&&!L.enabled||(p(!0,this.options.navigator,I),p(!0,this.options.scrollbar,L),delete P.options.navigator,delete P.options.scrollbar)}),_($,"afterUpdate",function(P){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new w(this),a(P.redraw,!0)&&this.redraw(P.animation))}),_($,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)}),_(N,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}),$.prototype.callbacks.push(function(P){var I=P.navigator;I&&P.xAxis[0]&&(P=P.xAxis[0].getExtremes(),I.render(P.min,P.max))})),rt.Navigator=w,rt.Navigator}),wt(o,"masters/modules/gantt.src.js",[o["Core/Globals.js"],o["Core/Chart/GanttChart.js"],o["Core/Scrollbar.js"]],function(Y,$,q){Y.Scrollbar=q,Y.GanttChart=$,Y.ganttChart=$.ganttChart,q.compose(Y.Axis)}),wt(o,"masters/highcharts-gantt.src.js",[o["masters/highcharts.src.js"]],function(Y){return Y.product="Highcharts Gantt",Y}),o["masters/highcharts-gantt.src.js"]._modules=o,o["masters/highcharts-gantt.src.js"]},we.exports?(wt.default=wt,we.exports=qt.document?wt(qt):wt):void 0!==(Nt=function(){return wt(qt)}.call(_e,Xt,_e,we))&&(we.exports=Nt)},3869:(we,_e,Xt)=>{"use strict";var Nt,qt,wt;wt=function(wt){var o=wt?wt._modules:{};function Y($,q,rt,J){$.hasOwnProperty(q)||($[q]=J.apply(null,rt))}Y(o,"Extensions/Pane.js",[o["Core/Chart/Chart.js"],o["Series/CenteredUtilities.js"],o["Core/Globals.js"],o["Core/Pointer.js"],o["Core/Utilities.js"]],function($,q,rt,J,K){var X=K.addEvent,F=K.extend,N=K.merge,O=K.pick,k=K.splat;$.prototype.collectionsWithUpdate.push("pane");var g=function(){function v(_,T){this.background=void 0,this.center=void 0,this.chart=void 0,this.options=void 0,this.coll="pane",this.defaultOptions={center:["50%","50%"],size:"85%",innerSize:"0%",startAngle:0},this.defaultBackgroundOptions={shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"},this.init(_,T)}return v.prototype.init=function(_,T){this.chart=T,this.background=[],T.pane.push(this),this.setOptions(_)},v.prototype.setOptions=function(_){this.options=_=N(this.defaultOptions,this.chart.angular?{background:{}}:void 0,_)},v.prototype.render=function(){var C,M,_=this.options,T=this.options.background;if(this.group||(this.group=this.chart.renderer.g("pane-group").attr({zIndex:_.zIndex||0}).add()),this.updateCenter(),T)for(T=k(T),C=Math.max(T.length,this.background.length||0),M=0;M<C;M++)T[M]&&this.axis?this.renderBackground(N(this.defaultBackgroundOptions,T[M]),M):this.background[M]&&(this.background[M]=this.background[M].destroy(),this.background.splice(M,1))},v.prototype.renderBackground=function(_,T){var y="animate",C={class:"highcharts-pane "+(_.className||"")};this.chart.styledMode||F(C,{fill:_.backgroundColor,stroke:_.borderColor,"stroke-width":_.borderWidth}),this.background[T]||(this.background[T]=this.chart.renderer.path().add(this.group),y="attr"),this.background[T][y]({d:this.axis.getPlotBandPath(_.from,_.to,_)}).attr(C)},v.prototype.updateCenter=function(_){this.center=(_||this.axis||{}).center=q.getCenter.call(this)},v.prototype.update=function(_,T){N(!0,this.options,_),this.setOptions(this.options),this.render(),this.chart.axes.forEach(function(y){y.pane===this&&(y.pane=null,y.update({},T))},this)},v}();function d(v,_,T){return Math.sqrt(Math.pow(v-T[0],2)+Math.pow(_-T[1],2))<=T[2]/2}return $.prototype.getHoverPane=function(v){var T,_=this;return v&&_.pane.forEach(function(y){var C=v.chartX-_.plotLeft,M=v.chartY-_.plotTop;d(_.inverted?M:C,_.inverted?C:M,y.center)&&(T=y)}),T},X($,"afterIsInsidePlot",function(v){this.polar&&(v.isInsidePlot=this.pane.some(function(T){return d(v.x,v.y,T.center)}))}),X(J,"beforeGetHoverData",function(v){var _=this.chart;_.polar?(_.hoverPane=_.getHoverPane(v),v.filter=function(T){return T.visible&&!(!v.shared&&T.directTouch)&&O(T.options.enableMouseTracking,!0)&&(!_.hoverPane||T.xAxis.pane===_.hoverPane)}):_.hoverPane=void 0}),X(J,"afterGetHoverData",function(v){var _=this.chart;v.hoverPoint&&v.hoverPoint.plotX&&v.hoverPoint.plotY&&_.hoverPane&&!d(v.hoverPoint.plotX,v.hoverPoint.plotY,_.hoverPane.center)&&(v.hoverPoint=void 0)}),rt.Pane=g,rt.Pane}),Y(o,"Core/Axis/RadialAxis.js",[o["Core/Axis/AxisDefaults.js"],o["Core/DefaultOptions.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function($,q,rt,J){var y,K=q.defaultOptions,X=rt.noop,F=J.addEvent,N=J.correctFloat,O=J.defined,k=J.extend,g=J.fireEvent,d=J.merge,v=J.pick,_=J.relativeLength,T=J.wrap;return function(C){var M=[],D={gridLineWidth:1,labels:{align:void 0,distance:15,x:0,y:void 0,style:{textOverflow:"none"}},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},x={labels:{align:"center",x:0,y:void 0},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},f={gridLineInterpolation:"circle",gridLineWidth:1,labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}};function m(){this.autoConnect=this.isCircular&&void 0===v(this.userMax,this.options.max)&&N(this.endAngleRad-this.startAngleRad)===N(2*Math.PI),!this.isCircular&&this.chart.inverted&&this.max++,this.autoConnect&&(this.max+=(this.categories?1:this.pointRange)||this.closestPointRange||0)}function p(){var ot=this;return function(){if(ot.isRadial&&ot.tickPositions&&ot.options.labels&&!0!==ot.options.labels.allowOverlap)return ot.tickPositions.map(function(at){return ot.ticks[at]&&ot.ticks[at].label}).filter(function(at){return Boolean(at)})}}function a(){return X}function n(ot,at,mt){var ct,H,tt,_t=this.pane.center,yt=ot.value;return this.isCircular?(O(yt)?ot.point&&(ot.point.shapeArgs||{}).start&&(yt=this.chart.inverted?this.translate(ot.point.rectPlotY,!0):ot.point.x):(H=ot.chartX||0,tt=ot.chartY||0,yt=this.translate(Math.atan2(tt-mt,H-at)-this.startAngleRad,!0)),H=(ct=this.getPosition(yt)).x,tt=ct.y):(O(yt)||(H=ot.chartX,tt=ot.chartY),O(H)&&O(tt)&&(mt=_t[1]+this.chart.plotTop,yt=this.translate(Math.min(Math.sqrt(Math.pow(H-at,2)+Math.pow(tt-mt,2)),_t[2]/2)-_t[3]/2,!0))),[yt,H||0,tt||0]}function h(ot,at,mt){var H,lt,_t=this.pane.center,yt=this.chart,ut=this.left||0,ct=this.top||0,tt=v(at,_t[2]/2-this.offset);return void 0===mt&&(mt=this.horiz?0:this.center&&-this.center[3]/2),mt&&(tt+=mt),this.isCircular||void 0!==at?((lt=this.chart.renderer.symbols.arc(ut+_t[0],ct+_t[1],tt,tt,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})).xBounds=[ut+_t[0]],lt.yBounds=[ct+_t[1]-tt]):(H=this.postTranslate(this.angleRad,tt),lt=[["M",this.center[0]+yt.plotLeft,this.center[1]+yt.plotTop],["L",H.x,H.y]]),lt}function l(){this.constructor.prototype.getOffset.call(this),this.chart.axisOffset[this.side]=0}function w(ot,at,mt){var Tt,Lt,jt,Rt,Et,Ht,_t=this.chart,yt=function(Vt){if("string"==typeof Vt){var ie=parseInt(Vt,10);return ft.test(Vt)&&(ie=ie*H/100),ie}return Vt},ut=this.center,ct=this.startAngleRad,H=ut[2]/2,tt=Math.min(this.offset,0),lt=this.left||0,dt=this.top||0,ft=/%$/,bt=this.isCircular,It=v(yt(mt.outerRadius),H),Pt=yt(mt.innerRadius),kt=v(yt(mt.thickness),10);if("polygon"===this.options.gridLineInterpolation)Ht=this.getPlotLinePath({value:ot}).concat(this.getPlotLinePath({value:at,reverse:!0}));else{ot=Math.max(ot,this.min),at=Math.min(at,this.max);var Ut=this.translate(ot),zt=this.translate(at);bt||(It=Ut||0,Pt=zt||0),"circle"!==mt.shape&&bt?(Tt=ct+(Ut||0),Lt=ct+(zt||0)):(Tt=-Math.PI/2,Lt=1.5*Math.PI,Et=!0),kt-=tt,Ht=_t.renderer.symbols.arc(lt+ut[0],dt+ut[1],It-=tt,It,{start:Math.min(Tt,Lt),end:Math.max(Tt,Lt),innerR:v(Pt,It-kt),open:Et}),bt&&(jt=(Lt+Tt)/2,Rt=lt+ut[0]+ut[2]/2*Math.cos(jt),Ht.xBounds=jt>-Math.PI/2&&jt<Math.PI/2?[Rt,_t.plotWidth]:[0,Rt],Ht.yBounds=[dt+ut[1]+ut[2]/2*Math.sin(jt)],Ht.yBounds[0]+=jt>-Math.PI&&jt<0||jt>Math.PI?-10:10)}return Ht}function P(ot){var jt,Rt,Et,Ht,It,Pt,kt,Ut,zt,at=this,mt=this.pane.center,_t=this.chart,yt=_t.inverted,ut=ot.reverse,ct=this.pane.options.background?this.pane.options.background[0]||this.pane.options.background:{},H=ct.innerRadius||"0%",tt=ct.outerRadius||"100%",lt=mt[0]+_t.plotLeft,dt=mt[1]+_t.plotTop,ft=this.height,bt=ot.isCrosshair,Tt=mt[3]/2,Lt=ot.value,Vt=this.getPosition(Lt),ie=Vt.x,pe=Vt.y;if(bt&&(Lt=(Ut=this.getCrosshairPosition(ot,lt,dt))[0],ie=Ut[1],pe=Ut[2]),this.isCircular)Rt=Math.sqrt(Math.pow(ie-lt,2)+Math.pow(pe-dt,2)),Et="string"==typeof H?_(H,1):H/Rt,Ht="string"==typeof tt?_(tt,1):tt/Rt,mt&&Tt&&(Et<(jt=Tt/Rt)&&(Et=jt),Ht<jt&&(Ht=jt)),zt=[["M",lt+Et*(ie-lt),dt-Et*(dt-pe)],["L",ie-(1-Ht)*(ie-lt),pe+(1-Ht)*(dt-pe)]];else if((Lt=this.translate(Lt))&&(Lt<0||Lt>ft)&&(Lt=0),"circle"===this.options.gridLineInterpolation)zt=this.getLinePath(0,Lt,Tt);else if(zt=[],_t[yt?"yAxis":"xAxis"].forEach(function(de){de.pane===at.pane&&(It=de)}),It){kt=It.tickPositions,It.autoConnect&&(kt=kt.concat([kt[0]])),ut&&(kt=kt.slice().reverse()),Lt&&(Lt+=Tt);for(var ne=0;ne<kt.length;ne++)Pt=It.getPosition(kt[ne],Lt),zt.push(ne?["L",Pt.x,Pt.y]:["M",Pt.x,Pt.y])}return zt}function I(ot,at){var mt=this.translate(ot);return this.postTranslate(this.isCircular?mt:this.angleRad,v(this.isCircular?at:mt<0?0:mt,this.center[2]/2)-this.offset)}function L(){var ot=this.center,at=this.chart,mt=this.options.title;return{x:at.plotLeft+ot[0]+(mt.x||0),y:at.plotTop+ot[1]-{high:.5,middle:.25,low:0}[mt.align]*ot[2]+(mt.y||0)}}function S(ot){ot.beforeSetTickPositions=m,ot.createLabelCollector=p,ot.getCrosshairPosition=n,ot.getLinePath=h,ot.getOffset=l,ot.getPlotBandPath=w,ot.getPlotLinePath=P,ot.getPosition=I,ot.getTitlePosition=L,ot.postTranslate=z,ot.setAxisSize=V,ot.setAxisTranslation=Z,ot.setOptions=nt}function c(){var ot=this.chart,at=this.options,_t=this.pane,yt=_t&&_t.options;(!ot.angular||!this.isXAxis)&&_t&&(ot.angular||ot.polar)&&(this.angleRad=(at.angle||0)*Math.PI/180,this.startAngleRad=(yt.startAngle-90)*Math.PI/180,this.endAngleRad=(v(yt.endAngle,yt.startAngle+360)-90)*Math.PI/180,this.offset=at.offset||0)}function u(ot){this.isRadial&&(ot.align=void 0,ot.preventDefault())}function E(){if(this.chart&&this.chart.labelCollectors){var ot=this.labelCollector?this.chart.labelCollectors.indexOf(this.labelCollector):-1;ot>=0&&this.chart.labelCollectors.splice(ot,1)}}function j(ot){var ft,at=this.chart,mt=at.inverted,_t=at.angular,yt=at.polar,ut=this.isXAxis,ct=this.coll,H=_t&&ut,tt=at.options,dt=this.pane=at.pane&&at.pane[ot.userOptions.pane||0];"colorAxis"!==ct?(_t?(H?function(ot){ot.isHidden=!0,ot.createLabelCollector=a,ot.getOffset=X,ot.redraw=R,ot.render=R,ot.setScale=X,ot.setCategories=X,ot.setTitle=X}(this):S(this),(ft=!ut)&&(this.defaultPolarOptions=x)):yt&&(S(this),this.defaultPolarOptions=(ft=this.horiz)?D:d("xAxis"===ct?$.defaultXAxisOptions:$.defaultYAxisOptions,f),mt&&"yAxis"===ct&&(this.defaultPolarOptions.stackLabels=$.defaultYAxisOptions.stackLabels,this.defaultPolarOptions.reversedStacks=!0)),_t||yt?(this.isRadial=!0,tt.chart.zoomType=null,this.labelCollector||(this.labelCollector=this.createLabelCollector()),this.labelCollector&&at.labelCollectors.push(this.labelCollector)):this.isRadial=!1,dt&&ft&&(dt.axis=this),this.isCircular=ft):this.isRadial=!1}function G(){this.isRadial&&this.beforeSetTickPositions()}function W(ot){var at=this.label;if(at){var lt,mt=this.axis,_t=at.getBBox(),yt=mt.options.labels,ut=(mt.translate(this.pos)+mt.startAngleRad+Math.PI/2)/Math.PI*180%360,ct=Math.round(ut),H=O(yt.y)?0:.3*-_t.height,tt=yt.y,dt=20,ft=yt.align,bt="end",Tt=ct<0?ct+360:ct,Lt=Tt,jt=0,Rt=0;mt.isRadial&&(lt=mt.getPosition(this.pos,mt.center[2]/2+_(v(yt.distance,-25),mt.center[2]/2,-mt.center[2]/2)),"auto"===yt.rotation?at.attr({rotation:ut}):O(tt)||(tt=mt.chart.renderer.fontMetrics(at.styles&&at.styles.fontSize).b-_t.height/2),O(ft)||(mt.isCircular?(_t.width>mt.len*mt.tickInterval/(mt.max-mt.min)&&(dt=0),ft=ut>dt&&ut<180-dt?"left":ut>180+dt&&ut<360-dt?"right":"center"):ft="center",at.attr({align:ft})),"auto"===ft&&2===mt.tickPositions.length&&mt.isCircular&&(Tt>90&&Tt<180?Tt=180-Tt:Tt>270&&Tt<=360&&(Tt=540-Tt),Lt>180&&Lt<=360&&(Lt=360-Lt),(mt.pane.options.startAngle===ct||mt.pane.options.startAngle===ct+360||mt.pane.options.startAngle===ct-360)&&(bt="start"),ft=ct>=-90&&ct<=90||ct>=-360&&ct<=-270||ct>=270&&ct<=360?"start"===bt?"right":"left":"start"===bt?"left":"right",Lt>70&&Lt<110&&(ft="center"),Tt<15||Tt>=180&&Tt<195?jt=.3*_t.height:Tt>=15&&Tt<=35?jt="start"===bt?0:.75*_t.height:Tt>=195&&Tt<=215?jt="start"===bt?.75*_t.height:0:Tt>35&&Tt<=90?jt="start"===bt?.25*-_t.height:_t.height:Tt>215&&Tt<=270&&(jt="start"===bt?_t.height:.25*-_t.height),Lt<15?Rt="start"===bt?.15*-_t.height:.15*_t.height:Lt>165&&Lt<=180&&(Rt="start"===bt?.15*_t.height:.15*-_t.height),at.attr({align:ft}),at.translate(Rt,jt+H)),ot.pos.x=lt.x+(yt.x||0),ot.pos.y=lt.y+(tt||0))}}function b(ot){this.axis.getPosition&&k(ot.pos,this.axis.getPosition(this.pos))}function z(ot,at){var mt=this.chart,_t=this.center;return ot=this.startAngleRad+ot,{x:mt.plotLeft+_t[0]+Math.cos(ot)*at,y:mt.plotTop+_t[1]+Math.sin(ot)*at}}function R(){this.isDirty=!1}function V(){var at,mt;this.constructor.prototype.setAxisSize.call(this),this.isRadial&&(this.pane.updateCenter(this),at=this.center=this.pane.center.slice(),this.isCircular?this.sector=this.endAngleRad-this.startAngleRad:(mt=this.postTranslate(this.angleRad,at[3]/2),at[0]=mt.x-this.chart.plotLeft,at[1]=mt.y-this.chart.plotTop),this.len=this.width=this.height=(at[2]-at[3])*v(this.sector,1)/2)}function Z(){this.constructor.prototype.setAxisTranslation.call(this),this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):(this.center[2]-this.center[3])/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)}function nt(ot){var at=this.options=d(this.constructor.defaultOptions,this.defaultPolarOptions,K[this.coll],ot);at.plotBands||(at.plotBands=[]),g(this,"afterSetOptions")}function it(ot,at,mt,_t,yt,ut,ct){var tt,H=this.axis;return H.isRadial?["M",at,mt,"L",(tt=H.getPosition(this.pos,H.center[2]/2+_t)).x,tt.y]:ot.call(this,at,mt,_t,yt,ut,ct)}C.compose=function(ot,at){return-1===M.indexOf(ot)&&(M.push(ot),F(ot,"afterInit",c),F(ot,"autoLabelAlign",u),F(ot,"destroy",E),F(ot,"init",j),F(ot,"initialAxisTranslation",G)),-1===M.indexOf(at)&&(M.push(at),F(at,"afterGetLabelPosition",W),F(at,"afterGetPosition",b),T(at.prototype,"getMarkPath",it)),ot}}(y||(y={})),y}),Y(o,"Series/AreaRange/AreaRangePoint.js",[o["Series/Area/AreaSeries.js"],o["Core/Series/Point.js"],o["Core/Utilities.js"]],function($,q,rt){var O,J=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),K=q.prototype,X=rt.defined,F=rt.isNumber,N=function(O){function k(){var g=null!==O&&O.apply(this,arguments)||this;return g.high=void 0,g.low=void 0,g.options=void 0,g.plotHigh=void 0,g.plotLow=void 0,g.plotHighX=void 0,g.plotLowX=void 0,g.plotX=void 0,g.series=void 0,g}return J(k,O),k.prototype.setState=function(){var g=this.state,d=this.series,v=d.chart.polar;X(this.plotHigh)||(this.plotHigh=d.yAxis.toPixels(this.high,!0)),X(this.plotLow)||(this.plotLow=this.plotY=d.yAxis.toPixels(this.low,!0)),d.stateMarkerGraphic&&(d.lowerStateMarkerGraphic=d.stateMarkerGraphic,d.stateMarkerGraphic=d.upperStateMarkerGraphic),this.graphic=this.upperGraphic,this.plotY=this.plotHigh,v&&(this.plotX=this.plotHighX),K.setState.apply(this,arguments),this.state=g,this.plotY=this.plotLow,this.graphic=this.lowerGraphic,v&&(this.plotX=this.plotLowX),d.stateMarkerGraphic&&(d.upperStateMarkerGraphic=d.stateMarkerGraphic,d.stateMarkerGraphic=d.lowerStateMarkerGraphic,d.lowerStateMarkerGraphic=void 0),K.setState.apply(this,arguments)},k.prototype.haloPath=function(){var g=this.series.chart.polar,d=[];return this.plotY=this.plotLow,g&&(this.plotX=this.plotLowX),this.isInside&&(d=K.haloPath.apply(this,arguments)),this.plotY=this.plotHigh,g&&(this.plotX=this.plotHighX),this.isTopInside&&(d=d.concat(K.haloPath.apply(this,arguments))),d},k.prototype.isValid=function(){return F(this.low)&&F(this.high)},k}($.prototype.pointClass);return N}),Y(o,"Series/AreaRange/AreaRangeSeries.js",[o["Series/AreaRange/AreaRangePoint.js"],o["Series/Area/AreaSeries.js"],o["Series/Column/ColumnSeries.js"],o["Core/Globals.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function($,q,rt,J,K,X,F){var D,N=this&&this.__extends||(D=function(x,f){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,r){m.__proto__=r}||function(m,r){for(var p in r)r.hasOwnProperty(p)&&(m[p]=r[p])})(x,f)},function(x,f){function m(){this.constructor=x}D(x,f),x.prototype=null===f?Object.create(f):(m.prototype=f.prototype,new m)}),O=q.prototype,k=rt.prototype,g=J.noop,d=K.prototype,v=F.defined,_=F.extend,T=F.isArray,y=F.pick,C=F.merge,M=function(D){function x(){var f=null!==D&&D.apply(this,arguments)||this;return f.data=void 0,f.options=void 0,f.points=void 0,f.lowerStateMarkerGraphic=void 0,f.xAxis=void 0,f}return N(x,D),x.prototype.toYData=function(f){return[f.low,f.high]},x.prototype.highToXY=function(f){var m=this.chart,r=this.xAxis.postTranslate(f.rectPlotX||0,this.yAxis.len-f.plotHigh);f.plotHighX=r.x-m.plotLeft,f.plotHigh=r.y-m.plotTop,f.plotLowX=f.plotX},x.prototype.translate=function(){var f=this,m=f.yAxis;O.translate.apply(f),f.points.forEach(function(r){var p=r.high,a=r.plotY;r.isNull?r.plotY=null:(r.plotLow=a,r.plotHigh=m.translate(f.dataModify?f.dataModify.modifyValue(p):p,0,1,0,1),f.dataModify&&(r.yBottom=r.plotHigh))}),this.chart.polar&&this.points.forEach(function(r){f.highToXY(r),r.tooltipPos=[(r.plotHighX+r.plotLowX)/2,(r.plotHigh+r.plotLow)/2]})},x.prototype.getGraphPath=function(f){var p,n,h,l,w,c,u,m=[],r=[],a=O.getGraphPath,P=this.options,I=this.chart.polar,L=I&&!1!==P.connectEnds,S=P.connectNulls,B=P.step;for(p=(f=f||this.points).length;p--;){n=f[p];var E=I?{plotX:n.rectPlotX,plotY:n.yBottom,doCurve:!1}:{plotX:n.plotX,plotY:n.plotY,doCurve:!1};!n.isNull&&!L&&!S&&(!f[p+1]||f[p+1].isNull)&&r.push(E),h={polarPlotY:n.polarPlotY,rectPlotX:n.rectPlotX,yBottom:n.yBottom,plotX:y(n.plotHighX,n.plotX),plotY:n.plotHigh,isNull:n.isNull},r.push(h),m.push(h),!n.isNull&&!L&&!S&&(!f[p-1]||f[p-1].isNull)&&r.push(E)}return w=a.call(this,f),B&&(!0===B&&(B="left"),P.step={left:"right",center:"center",right:"left"}[B]),c=a.call(this,m),u=a.call(this,r),P.step=B,l=[].concat(w,c),!this.chart.polar&&u[0]&&"M"===u[0][0]&&(u[0]=["L",u[0][1],u[0][2]]),this.graphPath=l,this.areaPath=w.concat(u),l.isArea=!0,l.xMap=w.xMap,this.areaPath.xMap=w.xMap,l},x.prototype.drawDataLabels=function(){var r,n,h,w,P,f=this.points,m=f.length,p=[],a=this.options.dataLabels,l=this.chart.inverted;if(a){if(T(a)?(w=a[0]||{enabled:!1},P=a[1]||{enabled:!1}):((w=_({},a)).x=a.xHigh,w.y=a.yHigh,(P=_({},a)).x=a.xLow,P.y=a.yLow),w.enabled||this._hasPointLabels){for(r=m;r--;)(n=f[r])&&(h=w.inside?n.plotHigh<n.plotLow:n.plotHigh>n.plotLow,n.y=n.high,n._plotY=n.plotY,n.plotY=n.plotHigh,p[r]=n.dataLabel,n.dataLabel=n.dataLabelUpper,n.below=h,l?w.align||(w.align=h?"right":"left"):w.verticalAlign||(w.verticalAlign=h?"top":"bottom"));for(this.options.dataLabels=w,d.drawDataLabels&&d.drawDataLabels.apply(this,arguments),r=m;r--;)(n=f[r])&&(n.dataLabelUpper=n.dataLabel,n.dataLabel=p[r],delete n.dataLabels,n.y=n.low,n.plotY=n._plotY)}if(P.enabled||this._hasPointLabels){for(r=m;r--;)(n=f[r])&&(n.below=!(h=P.inside?n.plotHigh<n.plotLow:n.plotHigh>n.plotLow),l?P.align||(P.align=h?"left":"right"):P.verticalAlign||(P.verticalAlign=h?"bottom":"top"));this.options.dataLabels=P,d.drawDataLabels&&d.drawDataLabels.apply(this,arguments)}if(w.enabled)for(r=m;r--;)(n=f[r])&&(n.dataLabels=[n.dataLabelUpper,n.dataLabel].filter(function(I){return!!I}));this.options.dataLabels=a}},x.prototype.alignDataLabel=function(){k.alignDataLabel.apply(this,arguments)},x.prototype.drawPoints=function(){var r,p,f=this,m=f.points.length;for(d.drawPoints.apply(f,arguments),p=0;p<m;)(r=f.points[p]).origProps={plotY:r.plotY,plotX:r.plotX,isInside:r.isInside,negative:r.negative,zone:r.zone,y:r.y},r.lowerGraphic=r.graphic,r.graphic=r.upperGraphic,r.plotY=r.plotHigh,v(r.plotHighX)&&(r.plotX=r.plotHighX),r.y=y(r.high,r.origProps.y),r.negative=r.y<(f.options.threshold||0),f.zones.length&&(r.zone=r.getZone()),f.chart.polar||(r.isInside=r.isTopInside=void 0!==r.plotY&&r.plotY>=0&&r.plotY<=f.yAxis.len&&r.plotX>=0&&r.plotX<=f.xAxis.len),p++;for(d.drawPoints.apply(f,arguments),p=0;p<m;)(r=f.points[p]).upperGraphic=r.graphic,r.graphic=r.lowerGraphic,r.origProps&&(_(r,r.origProps),delete r.origProps),p++},x.defaultOptions=C(q.defaultOptions,{lineWidth:1,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:void 0,verticalAlign:void 0,xLow:0,xHigh:0,yLow:0,yHigh:0}}),x}(q);return _(M.prototype,{pointArrayMap:["low","high"],pointValKey:"low",deferTranslatePolar:!0,pointClass:$,setStackedPoints:g}),X.registerSeriesType("arearange",M),M}),Y(o,"Series/AreaSplineRange/AreaSplineRangeSeries.js",[o["Series/AreaRange/AreaRangeSeries.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function($,q,rt){var O,J=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),K=q.seriesTypes.spline,X=rt.merge,F=rt.extend,N=function(O){function k(){var g=null!==O&&O.apply(this,arguments)||this;return g.options=void 0,g.data=void 0,g.points=void 0,g}return J(k,O),k.defaultOptions=X($.defaultOptions),k}($);return F(N.prototype,{getPointSpline:K.prototype.getPointSpline}),q.registerSeriesType("areasplinerange",N),N}),Y(o,"Series/BoxPlot/BoxPlotSeries.js",[o["Series/Column/ColumnSeries.js"],o["Core/Globals.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function($,q,rt,J){var g,K=this&&this.__extends||(g=function(d,v){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,T){_.__proto__=T}||function(_,T){for(var y in T)T.hasOwnProperty(y)&&(_[y]=T[y])})(d,v)},function(d,v){function _(){this.constructor=d}g(d,v),d.prototype=null===v?Object.create(v):(_.prototype=v.prototype,new _)}),X=q.noop,F=J.extend,N=J.merge,O=J.pick,k=function(g){function d(){var v=null!==g&&g.apply(this,arguments)||this;return v.data=void 0,v.options=void 0,v.points=void 0,v}return K(d,g),d.prototype.pointAttribs=function(){return{}},d.prototype.translate=function(){var v=this,_=v.yAxis,T=v.pointArrayMap;g.prototype.translate.apply(v),v.points.forEach(function(y){T.forEach(function(C){null!==y[C]&&(y[C+"Plot"]=_.translate(y[C],0,1,0,1))}),y.plotHigh=y.highPlot})},d.prototype.drawPoints=function(){var M,D,x,f,m,p,h,l,w,P,L,v=this,T=v.options,y=v.chart,C=y.renderer,a=0,I=!1!==v.doQuartiles,S=v.options.whiskerLength;v.points.forEach(function(B){var c=B.graphic,u=c?"animate":"attr",E=B.shapeArgs,j={},G={},W={},b={},z=B.color||v.color;void 0!==B.plotY&&(h=Math.round(E.width),l=Math.floor(E.x),w=l+h,P=Math.round(h/2),M=Math.floor(I?B.q1Plot:B.lowPlot),D=Math.floor(I?B.q3Plot:B.lowPlot),x=Math.floor(B.highPlot),f=Math.floor(B.lowPlot),c||(B.graphic=c=C.g("point").add(v.group),B.stem=C.path().addClass("highcharts-boxplot-stem").add(c),S&&(B.whiskers=C.path().addClass("highcharts-boxplot-whisker").add(c)),I&&(B.box=C.path(void 0).addClass("highcharts-boxplot-box").add(c)),B.medianShape=C.path(void 0).addClass("highcharts-boxplot-median").add(c)),y.styledMode||(G.stroke=B.stemColor||T.stemColor||z,G["stroke-width"]=O(B.stemWidth,T.stemWidth,T.lineWidth),G.dashstyle=B.stemDashStyle||T.stemDashStyle||T.dashStyle,B.stem.attr(G),S&&(W.stroke=B.whiskerColor||T.whiskerColor||z,W["stroke-width"]=O(B.whiskerWidth,T.whiskerWidth,T.lineWidth),W.dashstyle=B.whiskerDashStyle||T.whiskerDashStyle||T.dashStyle,B.whiskers.attr(W)),I&&(j.fill=B.fillColor||T.fillColor||z,j.stroke=T.lineColor||z,j["stroke-width"]=T.lineWidth||0,j.dashstyle=B.boxDashStyle||T.boxDashStyle||T.dashStyle,B.box.attr(j)),b.stroke=B.medianColor||T.medianColor||z,b["stroke-width"]=O(B.medianWidth,T.medianWidth,T.lineWidth),b.dashstyle=B.medianDashStyle||T.medianDashStyle||T.dashStyle,B.medianShape.attr(b)),p=B.stem.strokeWidth()%2/2,B.stem[u]({d:[["M",a=l+P+p,D],["L",a,x],["M",a,M],["L",a,f]]}),I&&(p=B.box.strokeWidth()%2/2,M=Math.floor(M)+p,D=Math.floor(D)+p,B.box[u]({d:[["M",l+=p,D],["L",l,M],["L",w+=p,M],["L",w,D],["L",l,D],["Z"]]})),S&&(p=B.whiskers.strokeWidth()%2/2,x+=p,f+=p,L=/%$/.test(S)?P*parseFloat(S)/100:S/2,B.whiskers[u]({d:[["M",a-L,x],["L",a+L,x],["M",a-L,f],["L",a+L,f]]})),m=Math.round(B.medianPlot),p=B.medianShape.strokeWidth()%2/2,B.medianShape[u]({d:[["M",l,m+=p],["L",w,m]]}))})},d.prototype.toYData=function(v){return[v.low,v.q1,v.median,v.q3,v.high]},d.defaultOptions=N($.defaultOptions,{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,whiskerWidth:2}),d}($);return F(k.prototype,{pointArrayMap:["low","q1","median","q3","high"],pointValKey:"high",drawDataLabels:X,setStackedPoints:X}),rt.registerSeriesType("boxplot",k),k}),Y(o,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),Y(o,"Series/Bubble/BubbleLegendItem.js",[o["Core/Color/Color.js"],o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function($,q,rt,J){var K=$.parse,X=rt.noop,F=J.arrayMax,N=J.arrayMin,O=J.isNumber,k=J.merge,g=J.pick,d=J.stableSort;return function(){function _(T,y){this.chart=void 0,this.fontMetrics=void 0,this.legend=void 0,this.legendGroup=void 0,this.legendItem=void 0,this.legendItemHeight=void 0,this.legendItemWidth=void 0,this.legendSymbol=void 0,this.maxLabel=void 0,this.movementX=void 0,this.ranges=void 0,this.selected=void 0,this.visible=void 0,this.symbols=void 0,this.options=void 0,this.setState=X,this.init(T,y)}return _.prototype.init=function(T,y){this.options=T,this.visible=!0,this.chart=y.chart,this.legend=y},_.prototype.addToLegend=function(T){T.splice(this.options.legendIndex,0,this)},_.prototype.drawLegendSymbol=function(T){var f,y=this.chart,C=this.options,M=g(T.options.itemDistance,20),D=C.ranges,x=C.connectorDistance;if(this.fontMetrics=y.renderer.fontMetrics(C.labels.style.fontSize),D&&D.length&&O(D[0].value)){d(D,function(a,n){return n.value-a.value}),this.ranges=D,this.setOptions(),this.render();var m=this.getMaxLabelSize(),r=this.ranges[0].radius,p=2*r;f=(f=x-r+m.width)>0?f:0,this.maxLabel=m,this.movementX="left"===C.labels.align?f:0,this.legendItemWidth=p+f+M,this.legendItemHeight=p+this.fontMetrics.h/2}else T.options.bubbleLegend.autoRanges=!0},_.prototype.setOptions=function(){var T=this.ranges,y=this.options,C=this.chart.series[y.seriesIndex],M=this.legend.baseline,D={zIndex:y.zIndex,"stroke-width":y.borderWidth},x={zIndex:y.zIndex,"stroke-width":y.connectorWidth},f={align:this.legend.options.rtl||"left"===y.labels.align?"right":"left",zIndex:y.zIndex},m=C.options.marker.fillOpacity,r=this.chart.styledMode;T.forEach(function(p,a){r||(D.stroke=g(p.borderColor,y.borderColor,C.color),D.fill=g(p.color,y.color,1!==m?K(C.color).setOpacity(m).get("rgba"):C.color),x.stroke=g(p.connectorColor,y.connectorColor,C.color)),T[a].radius=this.getRangeRadius(p.value),T[a]=k(T[a],{center:T[0].radius-T[a].radius+M}),r||k(!0,T[a],{bubbleAttribs:k(D),connectorAttribs:k(x),labelAttribs:f})},this)},_.prototype.getRangeRadius=function(T){var y=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,y.ranges[y.ranges.length-1].value,y.ranges[0].value,y.minSize,y.maxSize,T)},_.prototype.render=function(){var T=this.chart.renderer,y=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=T.g("bubble-legend"),this.legendItem=T.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach(function(C){C.value>=y&&this.renderRange(C)},this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},_.prototype.renderRange=function(T){var y=this.ranges[0],C=this.legend,M=this.options,D=M.labels,x=this.chart,f=x.series[M.seriesIndex],m=x.renderer,r=this.symbols,p=r.labels,a=T.center,n=Math.abs(T.radius),h=M.connectorDistance||0,l=D.align,I=M.connectorWidth,L=y.radius||0,S=a-n-M.borderWidth/2+I/2,B=this.fontMetrics,c=B.f/2-(B.h-B.f)/2,u=(S%1?1:.5)-(I%2?0:.5),E=m.styledMode,j=C.options.rtl||"left"===l?-h:h;"center"===l&&(j=0,M.connectorDistance=0,T.labelAttribs.align="center");var G=S+M.labels.y,W=L+j+M.labels.x;r.bubbleItems.push(m.circle(L,a+u,n).attr(E?{}:T.bubbleAttribs).addClass((E?"highcharts-color-"+f.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(M.className||"")).add(this.legendSymbol)),r.connectors.push(m.path(m.crispLine([["M",L,S],["L",L+j,S]],M.connectorWidth)).attr(E?{}:T.connectorAttribs).addClass((E?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(M.connectorClassName||"")).add(this.legendSymbol));var b=m.text(this.formatLabel(T),W,G+c).attr(E?{}:T.labelAttribs).css(E?{}:D.style).addClass("highcharts-bubble-legend-labels "+(M.labels.className||"")).add(this.legendSymbol);p.push(b),b.placed=!0,b.alignAttr={x:W,y:G+c}},_.prototype.getMaxLabelSize=function(){var y,C;return this.symbols.labels.forEach(function(M){C=M.getBBox(!0),y=y?C.width>y.width?C:y:C}),y||{}},_.prototype.formatLabel=function(T){var y=this.options,C=y.labels.formatter,M=y.labels.format,D=this.chart.numberFormatter;return M?q.format(M,T):C?C.call(T):D(T.value,1)},_.prototype.hideOverlappingLabels=function(){var C=this.symbols;!this.options.labels.allowOverlap&&C&&(this.chart.hideOverlappingLabels(C.labels),C.labels.forEach(function(M,D){M.newOpacity?M.newOpacity!==M.oldOpacity&&C.connectors[D].show():C.connectors[D].hide()}))},_.prototype.getRanges=function(){var M,D,T=this.legend.bubbleLegend,C=T.options.ranges,x=Number.MAX_VALUE,f=-Number.MAX_VALUE;return T.chart.series.forEach(function(m){m.isBubble&&!m.ignoreSeries&&(D=m.zData.filter(O)).length&&(x=g(m.options.zMin,Math.min(x,Math.max(N(D),!1===m.options.displayNegative?m.options.zThreshold:-Number.MAX_VALUE))),f=g(m.options.zMax,Math.max(f,F(D))))}),M=x===f?[{value:f}]:[{value:x},{value:(x+f)/2},{value:f,autoRanges:!0}],C.length&&C[0].radius&&M.reverse(),M.forEach(function(m,r){C&&C[r]&&(M[r]=k(C[r],m))}),M},_.prototype.predictBubbleSizes=function(){var l,T=this.chart,y=this.fontMetrics,C=T.legend.options,M=C.floating,D="horizontal"===C.layout,x=D?T.legend.lastLineHeight:0,f=T.plotSizeX,m=T.plotSizeY,r=T.series[this.options.seriesIndex],p=r.getPxExtremes(),a=Math.ceil(p.minPxSize),n=Math.ceil(p.maxPxSize),h=Math.min(m,f),w=r.options.maxSize;return M||!/%$/.test(w)?l=n:(w=parseFloat(w),l=(h+x-y.h/2)*w/100/(w/100+1),(D&&m-l>=f||!D&&f-l>=m)&&(l=n)),[a,Math.ceil(l)]},_.prototype.updateRanges=function(T,y){var C=this.legend.options.bubbleLegend;C.minSize=T,C.maxSize=y,C.ranges=this.getRanges()},_.prototype.correctSizes=function(){var T=this.legend,M=this.chart.series[this.options.seriesIndex].getPxExtremes(),x=this.options.maxSize;Math.abs(Math.ceil(M.maxPxSize)-x)>1&&(this.updateRanges(this.options.minSize,M.maxPxSize),T.render())},_}()}),Y(o,"Series/Bubble/BubbleLegendComposition.js",[o["Series/Bubble/BubbleLegendDefaults.js"],o["Series/Bubble/BubbleLegendItem.js"],o["Core/DefaultOptions.js"],o["Core/Utilities.js"]],function($,q,rt,J){var O,K=rt.setOptions,X=J.addEvent,F=J.objectEach,N=J.wrap;return function(k){var g=[];function d(D,x,f){var a,n,m=this,r=m.legend,p=_(m)>=0;r&&r.options.enabled&&r.bubbleLegend&&r.options.bubbleLegend.autoRanges&&p?(a=r.bubbleLegend.options,n=r.bubbleLegend.predictBubbleSizes(),r.bubbleLegend.updateRanges(n[0],n[1]),a.placed||(r.group.placed=!1,r.allItems.forEach(function(h){h.legendGroup.translateY=null})),r.render(),m.getMargins(),m.axes.forEach(function(h){h.visible&&h.render(),a.placed||(h.setScale(),h.updateNames(),F(h.ticks,function(l){l.isNew=!0,l.isNewLabel=!0}))}),a.placed=!0,m.getMargins(),D.call(m,x,f),r.bubbleLegend.correctSizes(),M(r,T(r))):(D.call(m,x,f),r&&r.options.enabled&&r.bubbleLegend&&(r.render(),M(r,T(r))))}function _(D){for(var x=D.series,f=0;f<x.length;){if(x[f]&&x[f].isBubble&&x[f].visible&&x[f].zData.length)return f;f++}return-1}function T(D){var r,x=D.allItems,f=[],m=x.length,p=0,a=0;for(p=0;p<m;p++)if(x[p].legendItemHeight&&(x[p].itemHeight=x[p].legendItemHeight),x[p]===x[m-1]||x[p+1]&&x[p]._legendItemPos[1]!==x[p+1]._legendItemPos[1]){for(f.push({height:0}),r=f[f.length-1];a<=p;a++)x[a].itemHeight>r.height&&(r.height=x[a].itemHeight);r.step=p}return f}function y(D){var x=this,f=x.bubbleLegend,m=x.options,r=m.bubbleLegend,p=_(x.chart);f&&f.ranges&&f.ranges.length&&(r.ranges.length&&(r.autoRanges=!!r.ranges[0].autoRanges),x.destroyItem(f)),p>=0&&m.enabled&&r.enabled&&(r.seriesIndex=p,x.bubbleLegend=new q(r,x),x.bubbleLegend.addToLegend(D.allItems))}function C(){var r,D=this,x=D.chart,f=D.visible,m=D.chart.legend;m&&m.bubbleLegend&&(D.visible=!f,D.ignoreSeries=f,r=_(x)>=0,m.bubbleLegend.visible!==r&&(m.update({bubbleLegend:{enabled:r}}),m.bubbleLegend.visible=r),D.visible=f)}function M(D,x){var r,p,a,m=D.options.rtl,n=0;D.allItems.forEach(function(h,l){r=h.legendGroup.translateX,p=h._legendItemPos[1],((a=h.movementX)||m&&h.ranges)&&h.legendGroup.attr({translateX:a=m?r-h.options.maxSize/2:r+a}),l>x[n].step&&n++,h.legendGroup.attr({translateY:Math.round(p+x[n].height/2)}),h._legendItemPos[1]=p+x[n].height/2})}k.compose=function(D,x,f){-1===g.indexOf(D)&&(g.push(D),K({legend:{bubbleLegend:$}}),N(D.prototype,"drawChartBox",d)),-1===g.indexOf(x)&&(g.push(x),X(x,"afterGetAllItems",y)),-1===g.indexOf(f)&&(g.push(f),X(f,"legendItemClick",C))}}(O||(O={})),O}),Y(o,"Series/Bubble/BubblePoint.js",[o["Core/Series/Point.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function($,q,rt){var N,J=this&&this.__extends||(N=function(O,k){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var v in d)d.hasOwnProperty(v)&&(g[v]=d[v])})(O,k)},function(O,k){function g(){this.constructor=O}N(O,k),O.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)}),X=rt.extend,F=function(N){function O(){var k=null!==N&&N.apply(this,arguments)||this;return k.options=void 0,k.series=void 0,k}return J(O,N),O.prototype.haloPath=function(k){return $.prototype.haloPath.call(this,0===k?0:(this.marker&&this.marker.radius||0)+k)},O}(q.seriesTypes.scatter.prototype.pointClass);return X(F.prototype,{ttBelow:!1}),F}),Y(o,"Series/Bubble/BubbleSeries.js",[o["Core/Axis/Axis.js"],o["Series/Bubble/BubbleLegendComposition.js"],o["Series/Bubble/BubblePoint.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function($,q,rt,J,K,X,F,N){var p,O=this&&this.__extends||(p=function(a,n){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,l){h.__proto__=l}||function(h,l){for(var w in l)l.hasOwnProperty(w)&&(h[w]=l[w])})(a,n)},function(a,n){function h(){this.constructor=a}p(a,n),a.prototype=null===n?Object.create(n):(h.prototype=n.prototype,new h)}),k=J.parse,g=K.noop,d=F.seriesTypes,v=d.column,_=d.scatter,T=N.addEvent,y=N.arrayMax,C=N.arrayMin,M=N.clamp,D=N.extend,x=N.isNumber,f=N.merge,m=N.pick,r=function(p){function a(){var n=null!==p&&p.apply(this,arguments)||this;return n.data=void 0,n.maxPxSize=void 0,n.minPxSize=void 0,n.options=void 0,n.points=void 0,n.radii=void 0,n.yData=void 0,n.zData=void 0,n}return O(a,p),a.prototype.animate=function(n){!n&&this.points.length<this.options.animationLimit&&this.points.forEach(function(h){var l=h.graphic;l&&l.width&&(this.hasRendered||l.attr({x:h.plotX,y:h.plotY,width:1,height:1}),l.animate(this.markerAttribs(h),this.options.animation))},this)},a.prototype.getRadii=function(){var h,l,n=this,w=this.zData,P=this.yData,I=[],S=this.chart.bubbleZExtremes,B=this.getPxExtremes(),c=B.minPxSize,u=B.maxPxSize;if(!S){var G,E=Number.MAX_VALUE,j=-Number.MAX_VALUE;this.chart.series.forEach(function(W){if(W.bubblePadding&&(W.visible||!n.chart.options.chart.ignoreHiddenSeries)){var b=W.getZExtremes();b&&(E=Math.min(E||b.zMin,b.zMin),j=Math.max(j||b.zMax,b.zMax),G=!0)}}),G?this.chart.bubbleZExtremes=S={zMin:E,zMax:j}:S={zMin:0,zMax:0}}for(l=0,h=w.length;l<h;l++)I.push(this.getRadius(S.zMin,S.zMax,c,u,w[l],P[l]));this.radii=I},a.prototype.getRadius=function(n,h,l,w,P,I){var L=this.options,S="width"!==L.sizeBy,B=L.zThreshold,c=h-n,u=.5;if(null===I||null===P)return null;if(x(P)){if(L.sizeByAbsoluteValue&&(P=Math.abs(P-B),h=c=Math.max(h-B,Math.abs(n-B)),n=0),P<n)return l/2-1;c>0&&(u=(P-n)/c)}return S&&u>=0&&(u=Math.sqrt(u)),Math.ceil(l+u*(w-l))/2},a.prototype.hasData=function(){return!!this.processedXData.length},a.prototype.pointAttribs=function(n,h){var w=this.options.marker.fillOpacity,P=X.prototype.pointAttribs.call(this,n,h);return 1!==w&&(P.fill=k(P.fill).setOpacity(w).get("rgba")),P},a.prototype.translate=function(){p.prototype.translate.call(this),this.getRadii(),this.translateBubble()},a.prototype.translateBubble=function(){for(var h=this.data,l=this.radii,w=this.getPxExtremes().minPxSize,P=h.length;P--;){var I=h[P],L=l?l[P]:0;x(L)&&L>=w/2?(I.marker=D(I.marker,{radius:L,width:2*L,height:2*L}),I.dlBox={x:I.plotX-L,y:I.plotY-L,width:2*L,height:2*L}):I.shapeArgs=I.plotY=I.dlBox=void 0}},a.prototype.getPxExtremes=function(){var n=Math.min(this.chart.plotWidth,this.chart.plotHeight),h=function(P){var I;return"string"==typeof P&&(I=/%$/.test(P),P=parseInt(P,10)),I?n*P/100:P},l=h(m(this.options.minSize,8));return{minPxSize:l,maxPxSize:Math.max(h(m(this.options.maxSize,"20%")),l)}},a.prototype.getZExtremes=function(){var n=this.options,h=(this.zData||[]).filter(x);if(h.length){var l=m(n.zMin,M(C(h),!1===n.displayNegative?n.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE)),w=m(n.zMax,y(h));if(x(l)&&x(w))return{zMin:l,zMax:w}}},a.compose=q.compose,a.defaultOptions=f(_.defaultOptions,{dataLabels:{formatter:function(){var n=this.series.chart.numberFormatter,h=this.point.z;return x(h)?n(h,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),a}(_);return D(r.prototype,{alignDataLabel:v.prototype.alignDataLabel,applyZones:g,bubblePadding:!0,buildKDTree:g,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:rt,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),T(r,"updatedData",function(p){delete p.target.chart.bubbleZExtremes}),$.prototype.beforePadding=function(){var B,p=this,a=this.len,n=this.chart,h=0,l=a,w=this.isXAxis,P=w?"xData":"yData",I=this.min,L=this.max-I,S=a/L;this.series.forEach(function(c){if(c.bubblePadding&&(c.visible||!n.options.chart.ignoreHiddenSeries)){p.allowZoomOutside=!0,B=!0;var u=c[P];if(w&&c.getRadii(0,0,c),L>0)for(var E=u.length;E--;)if(x(u[E])&&p.dataMin<=u[E]&&u[E]<=p.max){var j=c.radii&&c.radii[E]||0;h=Math.min((u[E]-I)*S-j,h),l=Math.max((u[E]-I)*S+j,l)}}}),B&&L>0&&!this.logarithmic&&(l-=a,S*=(a+Math.max(0,h)-Math.min(l,a))/a,[["min","userMin",h],["max","userMax",l]].forEach(function(c){void 0===m(p.options[c[0]],p[c[1]])&&(p[c[0]]+=c[2]/S)}))},F.registerSeriesType("bubble",r),r}),Y(o,"Series/ColumnRange/ColumnRangePoint.js",[o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function($,q){var k,rt=this&&this.__extends||(k=function(g,d){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var T in _)_.hasOwnProperty(T)&&(v[T]=_[T])})(g,d)},function(g,d){function v(){this.constructor=g}k(g,d),g.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)}),J=$.seriesTypes,K=J.column.prototype.pointClass,F=q.extend,N=q.isNumber,O=function(k){function g(){var d=null!==k&&k.apply(this,arguments)||this;return d.series=void 0,d.options=void 0,d.barX=void 0,d.pointWidth=void 0,d.shapeType=void 0,d}return rt(g,k),g.prototype.isValid=function(){return N(this.low)},g}(J.arearange.prototype.pointClass);return F(O.prototype,{setState:K.prototype.setState}),O}),Y(o,"Series/ColumnRange/ColumnRangeSeries.js",[o["Series/ColumnRange/ColumnRangePoint.js"],o["Core/Globals.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function($,q,rt,J){var M,K=this&&this.__extends||(M=function(D,x){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var r in m)m.hasOwnProperty(r)&&(f[r]=m[r])})(D,x)},function(D,x){function f(){this.constructor=D}M(D,x),D.prototype=null===x?Object.create(x):(f.prototype=x.prototype,new f)}),X=q.noop,F=rt.seriesTypes,N=F.arearange,O=F.column,k=O.prototype,g=N.prototype,d=J.clamp,v=J.merge,_=J.pick,T=J.extend,y={pointRange:null,marker:null,states:{hover:{halo:!1}}},C=function(M){function D(){var x=null!==M&&M.apply(this,arguments)||this;return x.data=void 0,x.points=void 0,x.options=void 0,x}return K(D,M),D.prototype.setOptions=function(){return v(!0,arguments[0],{stacking:void 0}),g.setOptions.apply(this,arguments)},D.prototype.translate=function(){var p,l,x=this,f=x.yAxis,m=x.xAxis,r=m.startAngleRad,a=x.chart,n=x.xAxis.isRadial,h=Math.max(a.chartWidth,a.chartHeight)+999;function w(P){return d(P,-h,h)}k.translate.apply(x),x.points.forEach(function(P){var S,B,c,I=P.shapeArgs||{},L=x.options.minPointLength;if(P.plotHigh=l=w(f.translate(P.high,0,1,0,1)),P.plotLow=w(P.plotY),c=l,B=_(P.rectPlotY,P.plotY)-l,Math.abs(B)<L?(B+=S=L-B,c-=S/2):B<0&&(c-=B*=-1),n)p=P.barX+r,P.shapeType="arc",P.shapeArgs=x.polarArc(c+B,c,p,p+P.pointWidth);else{I.height=B,I.y=c;var u=I.x,E=void 0===u?0:u,j=I.width,G=void 0===j?0:j;P.tooltipPos=a.inverted?[f.len+f.pos-a.plotLeft-c-B/2,m.len+m.pos-a.plotTop-E-G/2,B]:[m.left-a.plotLeft+E+G/2,f.pos-a.plotTop+c+B/2,B]}})},D.prototype.crispCol=function(){return k.crispCol.apply(this,arguments)},D.prototype.drawPoints=function(){return k.drawPoints.apply(this,arguments)},D.prototype.drawTracker=function(){return k.drawTracker.apply(this,arguments)},D.prototype.getColumnMetrics=function(){return k.getColumnMetrics.apply(this,arguments)},D.prototype.pointAttribs=function(){return k.pointAttribs.apply(this,arguments)},D.prototype.adjustForMissingColumns=function(){return k.adjustForMissingColumns.apply(this,arguments)},D.prototype.animate=function(){return k.animate.apply(this,arguments)},D.prototype.translate3dPoints=function(){return k.translate3dPoints.apply(this,arguments)},D.prototype.translate3dShapes=function(){return k.translate3dShapes.apply(this,arguments)},D.defaultOptions=v(O.defaultOptions,N.defaultOptions,y),D}(N);return T(C.prototype,{directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:X,getSymbol:X,polarArc:function(){return k.polarArc.apply(this,arguments)},pointClass:$}),rt.registerSeriesType("columnrange",C),C}),Y(o,"Series/ColumnPyramid/ColumnPyramidSeries.js",[o["Series/Column/ColumnSeries.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function($,q,rt){var g,J=this&&this.__extends||(g=function(d,v){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,T){_.__proto__=T}||function(_,T){for(var y in T)T.hasOwnProperty(y)&&(_[y]=T[y])})(d,v)},function(d,v){function _(){this.constructor=d}g(d,v),d.prototype=null===v?Object.create(v):(_.prototype=v.prototype,new _)}),K=$.prototype,X=rt.clamp,N=rt.merge,O=rt.pick,k=function(g){function d(){var v=null!==g&&g.apply(this,arguments)||this;return v.data=void 0,v.options=void 0,v.points=void 0,v}return J(d,g),d.prototype.translate=function(){var v=this,_=v.chart,T=v.options,y=v.dense=v.closestPointRange*v.xAxis.transA<2,C=v.borderWidth=O(T.borderWidth,y?0:1),M=v.yAxis,D=T.threshold,x=v.translatedThreshold=M.getThreshold(D),f=O(T.minPointLength,5),m=v.getColumnMetrics(),r=m.width,p=v.barW=Math.max(r,1+2*C),a=v.pointXOffset=m.offset;_.inverted&&(x-=.5),T.pointPadding&&(p=Math.ceil(p)),K.translate.apply(v),v.points.forEach(function(n){var B,c,u,E,j,G,W,b,z,R,V,Z,h=O(n.yBottom,x),l=999+Math.abs(h),w=X(n.plotY,-l,M.len+l),P=n.plotX+a,I=p/2,L=Math.min(w,h),S=Math.max(w,h)-L;n.barX=P,n.pointWidth=r,n.tooltipPos=_.inverted?[M.len+M.pos-_.plotLeft-w,v.xAxis.len-P-I,S]:[P+I,w+M.pos-_.plotTop,S],B=D+(n.total||n.y),"percent"===T.stacking&&(B=D+(n.y<0)?-100:100),u=M.toPixels(B,!0),W=P-(E=(c=_.plotHeight-u-(_.plotHeight-x))?I*(L-u)/c:0)+I,b=P+E+I,z=P+(j=c?I*(L+S-u)/c:0)+I,R=P-j+I,V=L-f,Z=L+S,n.y<0&&(V=L,Z=L+S+f),_.inverted&&(b=(W=P+I+(E=I*(u-(G=M.width-L))/(c=u-(M.width-x))))-2*E,z=P-(j=I*(u-(G-S))/c)+I,R=P+j+I,V=L,Z=L+S-f,n.y<0&&(Z=L+S+f)),n.shapeType="path",n.shapeArgs={x:W,y:V,width:b-W,height:S,d:[["M",W,V],["L",b,V],["L",z,Z],["L",R,Z],["Z"]]}})},d.defaultOptions=N($.defaultOptions,{}),d}($);return q.registerSeriesType("columnpyramid",k),k}),Y(o,"Series/ErrorBar/ErrorBarSeries.js",[o["Series/BoxPlot/BoxPlotSeries.js"],o["Series/Column/ColumnSeries.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function($,q,rt,J){var k,K=this&&this.__extends||(k=function(g,d){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var T in _)_.hasOwnProperty(T)&&(v[T]=_[T])})(g,d)},function(g,d){function v(){this.constructor=g}k(g,d),g.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)}),X=rt.seriesTypes.arearange,F=J.merge,N=J.extend,O=function(k){function g(){var d=null!==k&&k.apply(this,arguments)||this;return d.data=void 0,d.options=void 0,d.points=void 0,d}return K(g,k),g.prototype.getColumnMetrics=function(){return this.linkedParent&&this.linkedParent.columnMetrics||q.prototype.getColumnMetrics.call(this)},g.prototype.drawDataLabels=function(){var d=this.pointValKey;X&&(X.prototype.drawDataLabels.call(this),this.data.forEach(function(v){v.y=v[d]}))},g.prototype.toYData=function(d){return[d.low,d.high]},g.defaultOptions=F($.defaultOptions,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),g}($);return N(O.prototype,{pointArrayMap:["low","high"],pointValKey:"high",doQuartiles:!1}),rt.registerSeriesType("errorbar",O),O}),Y(o,"Series/Gauge/GaugePoint.js",[o["Core/Series/SeriesRegistry.js"]],function($){var K,q=this&&this.__extends||(K=function(X,F){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,O){N.__proto__=O}||function(N,O){for(var k in O)O.hasOwnProperty(k)&&(N[k]=O[k])})(X,F)},function(X,F){function N(){this.constructor=X}K(X,F),X.prototype=null===F?Object.create(F):(N.prototype=F.prototype,new N)}),J=function(K){function X(){var F=null!==K&&K.apply(this,arguments)||this;return F.options=void 0,F.series=void 0,F.shapeArgs=void 0,F}return q(X,K),X.prototype.setState=function(F){this.state=F},X}($.series.prototype.pointClass);return J}),Y(o,"Series/Gauge/GaugeSeries.js",[o["Series/Gauge/GaugePoint.js"],o["Core/Globals.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function($,q,rt,J){var y,K=this&&this.__extends||(y=function(C,M){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,x){D.__proto__=x}||function(D,x){for(var f in x)x.hasOwnProperty(f)&&(D[f]=x[f])})(C,M)},function(C,M){function D(){this.constructor=C}y(C,M),C.prototype=null===M?Object.create(M):(D.prototype=M.prototype,new D)}),X=q.noop,F=rt.series,N=rt.seriesTypes.column,O=J.clamp,k=J.isNumber,g=J.extend,d=J.merge,v=J.pick,_=J.pInt,T=function(y){function C(){var M=null!==y&&y.apply(this,arguments)||this;return M.data=void 0,M.points=void 0,M.options=void 0,M.yAxis=void 0,M}return K(C,y),C.prototype.translate=function(){var M=this,D=M.yAxis,x=M.options,f=D.center;M.generatePoints(),M.points.forEach(function(m){var r=d(x.dial,m.dial),p=_(v(r.radius,"80%"))*f[2]/200,a=_(v(r.baseLength,"70%"))*p/100,n=_(v(r.rearLength,"10%"))*p/100,h=r.baseWidth||3,l=r.topWidth||1,w=x.overshoot,P=D.startAngleRad+D.translate(m.y,null,null,null,!0);(k(w)||!1===x.wrap)&&(w=k(w)?w/180*Math.PI:0,P=O(P,D.startAngleRad-w,D.endAngleRad+w)),P=180*P/Math.PI,m.shapeType="path",m.shapeArgs={d:r.path||[["M",-n,-h/2],["L",a,-h/2],["L",p,-l/2],["L",p,l/2],["L",a,h/2],["L",-n,h/2],["Z"]],translateX:f[0],translateY:f[1],rotation:P},m.plotX=f[0],m.plotY=f[1]})},C.prototype.drawPoints=function(){var M=this,D=M.chart,x=M.yAxis.center,f=M.pivot,m=M.options,r=m.pivot,p=D.renderer;M.points.forEach(function(a){var n=a.graphic,h=a.shapeArgs,l=h.d,w=d(m.dial,a.dial);n?(n.animate(h),h.d=l):a.graphic=p[a.shapeType](h).attr({rotation:h.rotation,zIndex:1}).addClass("highcharts-dial").add(M.group),D.styledMode||a.graphic[n?"animate":"attr"]({stroke:w.borderColor||"none","stroke-width":w.borderWidth||0,fill:w.backgroundColor||"#000000"})}),f?f.animate({translateX:x[0],translateY:x[1]}):(M.pivot=p.circle(0,0,v(r.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(x[0],x[1]).add(M.group),D.styledMode||M.pivot.attr({"stroke-width":r.borderWidth||0,stroke:r.borderColor||"#cccccc",fill:r.backgroundColor||"#000000"}))},C.prototype.animate=function(M){var D=this;M||D.points.forEach(function(x){var f=x.graphic;f&&(f.attr({rotation:180*D.yAxis.startAngleRad/Math.PI}),f.animate({rotation:x.shapeArgs.rotation},D.options.animation))})},C.prototype.render=function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),F.prototype.render.call(this),this.group.clip(this.chart.clipRect)},C.prototype.setData=function(M,D){F.prototype.setData.call(this,M,!1),this.processData(),this.generatePoints(),v(D,!0)&&this.chart.redraw()},C.prototype.hasData=function(){return!!this.points.length},C.defaultOptions=d(F.defaultOptions,{dataLabels:{borderColor:"#cccccc",borderRadius:3,borderWidth:1,crop:!1,defer:!1,enabled:!0,verticalAlign:"top",y:15,zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1}),C}(F);return g(T.prototype,{angular:!0,directTouch:!0,drawGraph:X,drawTracker:N.prototype.drawTracker,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,pointClass:$,trackerGroups:["group","dataLabelsGroup"]}),rt.registerSeriesType("gauge",T),T}),Y(o,"Series/PackedBubble/PackedBubblePoint.js",[o["Core/Chart/Chart.js"],o["Core/Series/Point.js"],o["Core/Series/SeriesRegistry.js"]],function($,q,rt){var F,J=this&&this.__extends||(F=function(N,O){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)g.hasOwnProperty(d)&&(k[d]=g[d])})(N,O)},function(N,O){function k(){this.constructor=N}F(N,O),N.prototype=null===O?Object.create(O):(k.prototype=O.prototype,new k)}),X=function(F){function N(){var O=null!==F&&F.apply(this,arguments)||this;return O.degree=NaN,O.mass=NaN,O.radius=NaN,O.options=void 0,O.series=void 0,O.value=null,O}return J(N,F),N.prototype.destroy=function(){return this.series.layout&&this.series.layout.removeElementFromCollection(this,this.series.layout.nodes),q.prototype.destroy.apply(this,arguments)},N.prototype.firePointEvent=function(){var k=this.series,g=k.options;if(this.isParentNode&&g.parentNode){var d=g.allowPointSelect;g.allowPointSelect=g.parentNode.allowPointSelect,q.prototype.firePointEvent.apply(this,arguments),g.allowPointSelect=d}else q.prototype.firePointEvent.apply(this,arguments)},N.prototype.select=function(){var O=this,k=this.series,g=k.chart;O.isParentNode?(g.getSelectedPoints=g.getSelectedParentNodes,q.prototype.select.apply(this,arguments),g.getSelectedPoints=$.prototype.getSelectedPoints):q.prototype.select.apply(this,arguments)},N}(rt.seriesTypes.bubble.prototype.pointClass);return X}),Y(o,"Series/Networkgraph/DraggableNodes.js",[o["Core/Chart/Chart.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function($,q,rt){var J=rt.addEvent;q.dragNodesMixin={onMouseDown:function(K,X){var F=this.chart.pointer.normalize(X);K.fixedPosition={chartX:F.chartX,chartY:F.chartY,plotX:K.plotX,plotY:K.plotY},K.inDragMode=!0},onMouseMove:function(K,X){if(K.fixedPosition&&K.inDragMode){var N=this.chart,O=N.pointer.normalize(X),k=K.fixedPosition.chartX-O.chartX,g=K.fixedPosition.chartY-O.chartY,d=void 0,v=void 0,_=N.graphLayoutsLookup;(Math.abs(k)>5||Math.abs(g)>5)&&N.isInsidePlot(d=K.fixedPosition.plotX-k,v=K.fixedPosition.plotY-g)&&(K.plotX=d,K.plotY=v,K.hasDragged=!0,this.redrawHalo(K),_.forEach(function(T){T.restartSimulation()}))}},onMouseUp:function(K,X){K.fixedPosition&&(K.hasDragged&&(this.layout.enableSimulation?this.layout.start():this.chart.redraw()),K.inDragMode=K.hasDragged=!1,this.options.fixedDraggable||delete K.fixedPosition)},redrawHalo:function(K){K&&this.halo&&this.halo.attr({d:K.haloPath(this.options.states.hover.halo.size)})}},J($,"load",function(){var X,F,N,K=this;K.container&&(X=J(K.container,"mousedown",function(O){var k=K.hoverPoint;k&&k.series&&k.series.hasDraggableNodes&&k.series.options.draggable&&(k.series.onMouseDown(k,O),F=J(K.container,"mousemove",function(g){return k&&k.series&&k.series.onMouseMove(k,g)}),N=J(K.container.ownerDocument,"mouseup",function(g){return F(),N(),k&&k.series&&k.series.onMouseUp(k,g)}))})),J(K,"destroy",function(){X()})})}),Y(o,"Series/Networkgraph/Integrations.js",[o["Core/Globals.js"]],function($){$.networkgraphIntegrations={verlet:{attractiveForceFunction:function(q,rt){return(rt-q)/q},repulsiveForceFunction:function(q,rt){return(rt-q)/q*(rt>q?1:0)},barycenter:function(){var q=this.options.gravitationalConstant,rt=this.barycenter.xFactor,J=this.barycenter.yFactor;rt=(rt-(this.box.left+this.box.width)/2)*q,J=(J-(this.box.top+this.box.height)/2)*q,this.nodes.forEach(function(K){K.fixedPosition||(K.plotX-=rt/K.mass/K.degree,K.plotY-=J/K.mass/K.degree)})},repulsive:function(q,rt,J){var K=rt*this.diffTemperature/q.mass/q.degree;q.fixedPosition||(q.plotX+=J.x*K,q.plotY+=J.y*K)},attractive:function(q,rt,J){var K=q.getMass(),X=-J.x*rt*this.diffTemperature,F=-J.y*rt*this.diffTemperature;q.fromNode.fixedPosition||(q.fromNode.plotX-=X*K.fromNode/q.fromNode.degree,q.fromNode.plotY-=F*K.fromNode/q.fromNode.degree),q.toNode.fixedPosition||(q.toNode.plotX+=X*K.toNode/q.toNode.degree,q.toNode.plotY+=F*K.toNode/q.toNode.degree)},integrate:function(q,rt){var J=-q.options.friction,K=q.options.maxSpeed,N=(rt.plotX+rt.dispX-rt.prevX)*J,O=(rt.plotY+rt.dispY-rt.prevY)*J,k=Math.abs,g=k(N)/(N||1),d=k(O)/(O||1);N=g*Math.min(K,Math.abs(N)),O=d*Math.min(K,Math.abs(O)),rt.prevX=rt.plotX+rt.dispX,rt.prevY=rt.plotY+rt.dispY,rt.plotX+=N,rt.plotY+=O,rt.temperature=q.vectorLength({x:N,y:O})},getK:function(q){return Math.pow(q.box.width*q.box.height/q.nodes.length,.5)}},euler:{attractiveForceFunction:function(q,rt){return q*q/rt},repulsiveForceFunction:function(q,rt){return rt*rt/q},barycenter:function(){var q=this.options.gravitationalConstant,rt=this.barycenter.xFactor,J=this.barycenter.yFactor;this.nodes.forEach(function(K){if(!K.fixedPosition){var X=K.getDegree(),F=X*(1+X/2);K.dispX+=(rt-K.plotX)*q*F/K.degree,K.dispY+=(J-K.plotY)*q*F/K.degree}})},repulsive:function(q,rt,J,K){q.dispX+=J.x/K*rt/q.degree,q.dispY+=J.y/K*rt/q.degree},attractive:function(q,rt,J,K){var X=q.getMass(),F=J.x/K*rt,N=J.y/K*rt;q.fromNode.fixedPosition||(q.fromNode.dispX-=F*X.fromNode/q.fromNode.degree,q.fromNode.dispY-=N*X.fromNode/q.fromNode.degree),q.toNode.fixedPosition||(q.toNode.dispX+=F*X.toNode/q.toNode.degree,q.toNode.dispY+=N*X.toNode/q.toNode.degree)},integrate:function(q,rt){var J;rt.dispX+=rt.dispX*q.options.friction,rt.dispY+=rt.dispY*q.options.friction,0!==(J=rt.temperature=q.vectorLength({x:rt.dispX,y:rt.dispY}))&&(rt.plotX+=rt.dispX/J*Math.min(Math.abs(rt.dispX),q.temperature),rt.plotY+=rt.dispY/J*Math.min(Math.abs(rt.dispY),q.temperature))},getK:function(q){return Math.pow(q.box.width*q.box.height/q.nodes.length,.3)}}}}),Y(o,"Series/Networkgraph/QuadTree.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function($,q){var rt=q.extend,J=$.QuadTreeNode=function(X){this.box=X,this.boxSize=Math.min(X.width,X.height),this.nodes=[],this.isInternal=!1,this.body=!1,this.isEmpty=!0};rt(J.prototype,{insert:function(X,F){var N;this.isInternal?this.nodes[this.getBoxPosition(X)].insert(X,F-1):(this.isEmpty=!1,this.body?F?(this.isInternal=!0,this.divideBox(),!0!==this.body&&(this.nodes[this.getBoxPosition(this.body)].insert(this.body,F-1),this.body=!0),this.nodes[this.getBoxPosition(X)].insert(X,F-1)):((N=new J({top:X.plotX,left:X.plotY,width:.1,height:.1})).body=X,N.isInternal=!1,this.nodes.push(N)):(this.isInternal=!1,this.body=X))},updateMassAndCenter:function(){var X=0,F=0,N=0;this.isInternal?(this.nodes.forEach(function(O){O.isEmpty||(X+=O.mass,F+=O.plotX*O.mass,N+=O.plotY*O.mass)}),F/=X,N/=X):this.body&&(X=this.body.mass,F=this.body.plotX,N=this.body.plotY),this.mass=X,this.plotX=F,this.plotY=N},divideBox:function(){var X=this.box.width/2,F=this.box.height/2;this.nodes[0]=new J({left:this.box.left,top:this.box.top,width:X,height:F}),this.nodes[1]=new J({left:this.box.left+X,top:this.box.top,width:X,height:F}),this.nodes[2]=new J({left:this.box.left+X,top:this.box.top+F,width:X,height:F}),this.nodes[3]=new J({left:this.box.left,top:this.box.top+F,width:X,height:F})},getBoxPosition:function(X){var N=X.plotY<this.box.top+this.box.height/2;return X.plotX<this.box.left+this.box.width/2?N?0:3:N?1:2}}),rt(($.QuadTree=function(X,F,N,O){this.box={left:X,top:F,width:N,height:O},this.maxDepth=25,this.root=new J(this.box,"0"),this.root.isInternal=!0,this.root.isRoot=!0,this.root.divideBox()}).prototype,{insertNodes:function(X){X.forEach(function(F){this.root.insert(F,this.maxDepth)},this)},visitNodeRecursive:function(X,F,N){var O;X||(X=this.root),X===this.root&&F&&(O=F(X)),!1!==O&&(X.nodes.forEach(function(k){if(k.isInternal){if(F&&(O=F(k)),!1===O)return;this.visitNodeRecursive(k,F,N)}else k.body&&F&&F(k.body);N&&N(k)},this),X===this.root&&N&&N(X))},calculateMassAndCenter:function(){this.visitNodeRecursive(null,null,function(X){X.updateMassAndCenter()})}})}),Y(o,"Series/Networkgraph/Layouts.js",[o["Core/Chart/Chart.js"],o["Core/Animation/AnimationUtilities.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function($,q,rt,J){var K=q.setAnimation,X=J.addEvent,F=J.clamp,N=J.defined,O=J.extend,k=J.isFunction,g=J.pick;rt.layouts={"reingold-fruchterman":function(){}},O(rt.layouts["reingold-fruchterman"].prototype,{init:function(d){this.options=d,this.nodes=[],this.links=[],this.series=[],this.box={x:0,y:0,width:0,height:0},this.setInitialRendering(!0),this.integration=rt.networkgraphIntegrations[d.integration],this.enableSimulation=d.enableSimulation,this.attractiveForce=g(d.attractiveForce,this.integration.attractiveForceFunction),this.repulsiveForce=g(d.repulsiveForce,this.integration.repulsiveForceFunction),this.approximation=d.approximation},updateSimulation:function(d){this.enableSimulation=g(d,this.options.enableSimulation)},start:function(){var d=this,v=this.series,_=this.options;d.currentStep=0,d.forces=v[0]&&v[0].forces||[],d.chart=v[0]&&v[0].chart,d.initialRendering&&(d.initPositions(),v.forEach(function(T){T.finishedAnimating=!0,T.render()})),d.setK(),d.resetSimulation(_),d.enableSimulation&&d.step()},step:function(){var d=this,v=this.series;d.currentStep++,"barnes-hut"===d.approximation&&(d.createQuadTree(),d.quadTree.calculateMassAndCenter()),d.forces.forEach(function(T){d[T+"Forces"](d.temperature)}),d.applyLimits(d.temperature),d.temperature=d.coolDown(d.startTemperature,d.diffTemperature,d.currentStep),d.prevSystemTemperature=d.systemTemperature,d.systemTemperature=d.getSystemTemperature(),d.enableSimulation&&(v.forEach(function(T){T.chart&&T.render()}),d.maxIterations--&&isFinite(d.temperature)&&!d.isStable()?(d.simulation&&rt.win.cancelAnimationFrame(d.simulation),d.simulation=rt.win.requestAnimationFrame(function(){d.step()})):d.simulation=!1)},stop:function(){this.simulation&&rt.win.cancelAnimationFrame(this.simulation)},setArea:function(d,v,_,T){this.box={left:d,top:v,width:_,height:T}},setK:function(){this.k=this.options.linkLength||this.integration.getK(this)},addElementsToCollection:function(d,v){d.forEach(function(_){-1===v.indexOf(_)&&v.push(_)})},removeElementFromCollection:function(d,v){var _=v.indexOf(d);-1!==_&&v.splice(_,1)},clear:function(){this.nodes.length=0,this.links.length=0,this.series.length=0,this.resetSimulation()},resetSimulation:function(){this.forcedStop=!1,this.systemTemperature=0,this.setMaxIterations(),this.setTemperature(),this.setDiffTemperature()},restartSimulation:function(){this.simulation?this.resetSimulation():(this.setInitialRendering(!1),this.enableSimulation?this.start():this.setMaxIterations(1),this.chart&&this.chart.redraw(),this.setInitialRendering(!0))},setMaxIterations:function(d){this.maxIterations=g(d,this.options.maxIterations)},setTemperature:function(){this.temperature=this.startTemperature=Math.sqrt(this.nodes.length)},setDiffTemperature:function(){this.diffTemperature=this.startTemperature/(this.options.maxIterations+1)},setInitialRendering:function(d){this.initialRendering=d},createQuadTree:function(){this.quadTree=new rt.QuadTree(this.box.left,this.box.top,this.box.width,this.box.height),this.quadTree.insertNodes(this.nodes)},initPositions:function(){var d=this.options.initialPositions;k(d)?(d.call(this),this.nodes.forEach(function(v){N(v.prevX)||(v.prevX=v.plotX),N(v.prevY)||(v.prevY=v.plotY),v.dispX=0,v.dispY=0})):"circle"===d?this.setCircularPositions():this.setRandomPositions()},setCircularPositions:function(){var d=this.box,v=this.nodes,T=2*Math.PI/(v.length+1),y=v.filter(function(f){return 0===f.linksTo.length}),C=[],M={},D=this.options.initialPositionRadius;function x(f){f.linksFrom.forEach(function(m){M[m.toNode.id]||(M[m.toNode.id]=!0,C.push(m.toNode),x(m.toNode))})}y.forEach(function(f){C.push(f),x(f)}),C.length?v.forEach(function(f){-1===C.indexOf(f)&&C.push(f)}):C=v,C.forEach(function(f,m){f.plotX=f.prevX=g(f.plotX,d.width/2+D*Math.cos(m*T)),f.plotY=f.prevY=g(f.plotY,d.height/2+D*Math.sin(m*T)),f.dispX=0,f.dispY=0})},setRandomPositions:function(){var d=this.box,v=this.nodes,_=v.length+1;function T(y){var C=y*y/Math.PI;return C-Math.floor(C)}v.forEach(function(y,C){y.plotX=y.prevX=g(y.plotX,d.width*T(C)),y.plotY=y.prevY=g(y.plotY,d.height*T(_+C)),y.dispX=0,y.dispY=0})},force:function(d){this.integration[d].apply(this,Array.prototype.slice.call(arguments,1))},barycenterForces:function(){this.getBarycenter(),this.force("barycenter")},getBarycenter:function(){var d=0,v=0,_=0;return this.nodes.forEach(function(T){v+=T.plotX*T.mass,_+=T.plotY*T.mass,d+=T.mass}),this.barycenter={x:v,y:_,xFactor:v/d,yFactor:_/d},this.barycenter},barnesHutApproximation:function(d,v){var C,M,_=this,T=_.getDistXY(d,v),y=_.vectorLength(T);return d!==v&&0!==y&&(v.isInternal?v.boxSize/y<_.options.theta&&0!==y?(M=_.repulsiveForce(y,_.k),_.force("repulsive",d,M*v.mass,T,y),C=!1):C=!0:(M=_.repulsiveForce(y,_.k),_.force("repulsive",d,M*v.mass,T,y))),C},repulsiveForces:function(){var d=this;d.nodes.forEach("barnes-hut"===d.approximation?function(v){d.quadTree.visitNodeRecursive(null,function(_){return d.barnesHutApproximation(v,_)})}:function(v){d.nodes.forEach(function(_){var T,y,C;v!==_&&!v.fixedPosition&&(C=d.getDistXY(v,_),0!==(y=d.vectorLength(C))&&(T=d.repulsiveForce(y,d.k),d.force("repulsive",v,T*_.mass,C,y)))})})},attractiveForces:function(){var v,_,T,d=this;d.links.forEach(function(y){y.fromNode&&y.toNode&&(v=d.getDistXY(y.fromNode,y.toNode),0!==(_=d.vectorLength(v))&&(T=d.attractiveForce(_,d.k),d.force("attractive",y,T,v,_)))})},applyLimits:function(){var d=this;d.nodes.forEach(function(_){_.fixedPosition||(d.integration.integrate(d,_),d.applyLimitBox(_,d.box),_.dispX=0,_.dispY=0)})},applyLimitBox:function(d,v){var _=d.radius;d.plotX=F(d.plotX,v.left+_,v.width-_),d.plotY=F(d.plotY,v.top+_,v.height-_)},coolDown:function(d,v,_){return d-v*_},isStable:function(){return Math.abs(this.systemTemperature-this.prevSystemTemperature)<1e-5||this.temperature<=0},getSystemTemperature:function(){return this.nodes.reduce(function(d,v){return d+v.temperature},0)},vectorLength:function(d){return Math.sqrt(d.x*d.x+d.y*d.y)},getDistR:function(d,v){var _=this.getDistXY(d,v);return this.vectorLength(_)},getDistXY:function(d,v){var _=d.plotX-v.plotX,T=d.plotY-v.plotY;return{x:_,y:T,absX:Math.abs(_),absY:Math.abs(T)}}}),X($,"predraw",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(d){d.stop()})}),X($,"render",function(){var d,v=!1;function _(T){T.maxIterations--&&isFinite(T.temperature)&&!T.isStable()&&!T.enableSimulation&&(T.beforeStep&&T.beforeStep(),T.step(),d=!1,v=!0)}if(this.graphLayoutsLookup){for(K(!1,this),this.graphLayoutsLookup.forEach(function(T){T.start()});!d;)d=!0,this.graphLayoutsLookup.forEach(_);v&&this.series.forEach(function(T){T&&T.layout&&T.render()})}}),X($,"beforePrint",function(){this.graphLayoutsLookup&&(this.graphLayoutsLookup.forEach(function(d){d.updateSimulation(!1)}),this.redraw())}),X($,"afterPrint",function(){this.graphLayoutsLookup&&this.graphLayoutsLookup.forEach(function(d){d.updateSimulation()}),this.redraw()})}),Y(o,"Series/PackedBubble/PackedBubbleComposition.js",[o["Core/Chart/Chart.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function($,q,rt){var J=q.layouts["reingold-fruchterman"],K=rt.addEvent,X=rt.extendClass,F=rt.pick;$.prototype.getSelectedParentNodes=function(){var k=[];return this.series.forEach(function(g){g.parentNode&&g.parentNode.selected&&k.push(g.parentNode)}),k},q.networkgraphIntegrations.packedbubble={repulsiveForceFunction:function(N,O,k,g){return Math.min(N,(k.marker.radius+g.marker.radius)/2)},barycenter:function(){var d,v,N=this,O=N.options.gravitationalConstant,k=N.box,g=N.nodes;g.forEach(function(_){N.options.splitSeries&&!_.isParentNode?(d=_.series.parentNode.plotX,v=_.series.parentNode.plotY):(d=k.width/2,v=k.height/2),_.fixedPosition||(_.plotX-=(_.plotX-d)*O/(_.mass*Math.sqrt(g.length)),_.plotY-=(_.plotY-v)*O/(_.mass*Math.sqrt(g.length)))})},repulsive:function(N,O,k,g){var d=O*this.diffTemperature/N.mass/N.degree,v=k.x*d,_=k.y*d;N.fixedPosition||(N.plotX+=v,N.plotY+=_),g.fixedPosition||(g.plotX-=v,g.plotY-=_)},integrate:q.networkgraphIntegrations.verlet.integrate,getK:q.noop},q.layouts.packedbubble=X(J,{beforeStep:function(){this.options.marker&&this.series.forEach(function(N){N&&N.calculateParentRadius()})},isStable:function(){var N=Math.abs(this.prevSystemTemperature-this.systemTemperature),O=10*this.systemTemperature/Math.sqrt(this.nodes.length);return Math.abs(O)<1&&N<1e-5||this.temperature<=0},setCircularPositions:function(){var v,_,N=this,O=N.box,k=N.nodes,d=2*Math.PI/(k.length+1),T=N.options.initialPositionRadius;k.forEach(function(y,C){N.options.splitSeries&&!y.isParentNode?(v=y.series.parentNode.plotX,_=y.series.parentNode.plotY):(v=O.width/2,_=O.height/2),y.plotX=y.prevX=F(y.plotX,v+T*Math.cos(y.index||C*d)),y.plotY=y.prevY=F(y.plotY,_+T*Math.sin(y.index||C*d)),y.dispX=0,y.dispY=0})},repulsiveForces:function(){var O,k,g,N=this,d=N.options.bubblePadding;N.nodes.forEach(function(v){v.degree=v.mass,v.neighbours=0,N.nodes.forEach(function(_){O=0,v!==_&&!v.fixedPosition&&(N.options.seriesInteraction||v.series===_.series)&&(g=N.getDistXY(v,_),(k=N.vectorLength(g)-(v.marker.radius+_.marker.radius+d))<0&&(v.degree+=.01,v.neighbours++,O=N.repulsiveForce(-k/Math.sqrt(v.neighbours),N.k,v,_)),N.force("repulsive",v,O*_.mass,g,_,k))})})},applyLimitBox:function(N){var k,g,O=this,d=.01;O.options.splitSeries&&!N.isParentNode&&O.options.parentNodeLimit&&(k=O.getDistXY(N,N.series.parentNode),(g=N.series.parentNodeRadius-N.marker.radius-O.vectorLength(k))<0&&g>-2*N.marker.radius&&(N.plotX-=k.x*d,N.plotY-=k.y*d)),J.prototype.applyLimitBox.apply(this,arguments)}}),K($,"beforeRedraw",function(){this.allDataPoints&&delete this.allDataPoints})}),Y(o,"Series/PackedBubble/PackedBubbleSeries.js",[o["Core/Color/Color.js"],o["Core/Globals.js"],o["Series/PackedBubble/PackedBubblePoint.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function($,q,rt,J,K){var f,X=this&&this.__extends||(f=function(m,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var n in a)a.hasOwnProperty(n)&&(p[n]=a[n])})(m,r)},function(m,r){function p(){this.constructor=m}f(m,r),m.prototype=null===r?Object.create(r):(p.prototype=r.prototype,new p)}),F=$.parse,N=J.series,O=J.seriesTypes.bubble,k=K.addEvent,g=K.clamp,d=K.defined,v=K.extend,_=K.fireEvent,T=K.isArray,y=K.isNumber,C=K.merge,M=K.pick,D=q.dragNodesMixin,x=function(f){function m(){var r=null!==f&&f.apply(this,arguments)||this;return r.chart=void 0,r.data=void 0,r.layout=void 0,r.options=void 0,r.points=void 0,r.xData=void 0,r}return X(m,f),m.prototype.accumulateAllPoints=function(r){var n,h,p=r.chart,a=[];for(n=0;n<p.series.length;n++)if((r=p.series[n]).is("packedbubble")&&r.visible||!p.options.chart.ignoreHiddenSeries)for(h=0;h<r.yData.length;h++)a.push([null,null,r.yData[h],r.index,h,{id:h,marker:{radius:0}}]);return a},m.prototype.addLayout=function(){var l,r=this,p=r.options.layoutAlgorithm,a=r.chart.graphLayoutsStorage,n=r.chart.graphLayoutsLookup,h=r.chart.options.chart;a||(r.chart.graphLayoutsStorage=a={},r.chart.graphLayoutsLookup=n=[]),(l=a[p.type])||(p.enableSimulation=d(h.forExport)?!h.forExport:p.enableSimulation,a[p.type]=l=new q.layouts[p.type],l.init(p),n.splice(l.index,0,l)),r.layout=l,r.points.forEach(function(w){w.mass=2,w.degree=1,w.collisionNmb=1}),l.setArea(0,0,r.chart.plotWidth,r.chart.plotHeight),l.addElementsToCollection([r],l.series),l.addElementsToCollection(r.points,l.nodes)},m.prototype.addSeriesLayout=function(){var l,r=this,p=r.options.layoutAlgorithm,a=r.chart.graphLayoutsStorage,n=r.chart.graphLayoutsLookup,h=C(p,p.parentNodeOptions,{enableSimulation:r.layout.options.enableSimulation});(l=a[p.type+"-series"])||(a[p.type+"-series"]=l=new q.layouts[p.type],l.init(h),n.splice(l.index,0,l)),r.parentNodeLayout=l,this.createParentNodes()},m.prototype.calculateParentRadius=function(){var p,r=this;p=r.seriesBox(),r.parentNodeRadius=g(Math.sqrt(2*r.parentNodeMass/Math.PI)+20,20,p?Math.max(Math.sqrt(Math.pow(p.width,2)+Math.pow(p.height,2))/2+20,20):Math.sqrt(2*r.parentNodeMass/Math.PI)+20),r.parentNode&&(r.parentNode.marker.radius=r.parentNode.radius=r.parentNodeRadius)},m.prototype.calculateZExtremes=function(){var p=this.options.zMin,a=this.options.zMax,n=1/0,h=-1/0;return p&&a||(this.chart.series.forEach(function(l){l.yData.forEach(function(w){d(w)&&(w>h&&(h=w),w<n&&(n=w))})}),p=M(p,n),a=M(a,h)),[p,a]},m.prototype.checkOverlap=function(r,p){var a=r[0]-p[0],n=r[1]-p[1],h=r[2]+p[2];return Math.sqrt(a*a+n*n)-Math.abs(h)<-.001},m.prototype.createParentNodes=function(){var n,r=this,p=r.chart,a=r.parentNodeLayout,h=r.parentNode,l=r.pointClass,w=r.layout.options,P={radius:r.parentNodeRadius,lineColor:r.color,fillColor:F(r.color).brighten(.4).get()};w.parentNodeOptions&&(P=C(w.parentNodeOptions.marker||{},P)),r.parentNodeMass=0,r.points.forEach(function(I){r.parentNodeMass+=Math.PI*Math.pow(I.marker.radius,2)}),r.calculateParentRadius(),a.nodes.forEach(function(I){I.seriesIndex===r.index&&(n=!0)}),a.setArea(0,0,p.plotWidth,p.plotHeight),n||(h||(h=(new l).init(this,{mass:r.parentNodeRadius/2,marker:P,dataLabels:{inside:!1},states:{normal:{marker:P},hover:{marker:P}},dataLabelOnNull:!0,degree:r.parentNodeRadius,isParentNode:!0,seriesIndex:r.index})),r.parentNode&&(h.plotX=r.parentNode.plotX,h.plotY=r.parentNode.plotY),r.parentNode=h,a.addElementsToCollection([r],a.series),a.addElementsToCollection([h],a.nodes))},m.prototype.deferLayout=function(){var r=this,p=r.options.layoutAlgorithm;!r.visible||(r.addLayout(),p.splitSeries&&r.addSeriesLayout())},m.prototype.destroy=function(){this.chart.graphLayoutsLookup&&this.chart.graphLayoutsLookup.forEach(function(r){r.removeElementFromCollection(this,r.series)},this),this.parentNode&&this.parentNodeLayout&&(this.parentNodeLayout.removeElementFromCollection(this.parentNode,this.parentNodeLayout.nodes),this.parentNode.dataLabel&&(this.parentNode.dataLabel=this.parentNode.dataLabel.destroy())),N.prototype.destroy.apply(this,arguments)},m.prototype.drawDataLabels=function(){var r=this.options.dataLabels.textPath,p=this.points;N.prototype.drawDataLabels.apply(this,arguments),this.parentNode&&(this.parentNode.formatPrefix="parentNode",this.points=[this.parentNode],this.options.dataLabels.textPath=this.options.dataLabels.parentNodeTextPath,N.prototype.drawDataLabels.apply(this,arguments),this.points=p,this.options.dataLabels.textPath=r)},m.prototype.drawGraph=function(){if(this.layout&&this.layout.options.splitSeries){var a,r=this,p=r.chart,n=this.layout.options.parentNodeOptions.marker,h={fill:n.fillColor||F(r.color).brighten(.4).get(),opacity:n.fillOpacity,stroke:n.lineColor||r.color,"stroke-width":M(n.lineWidth,r.options.lineWidth)};this.parentNodesGroup||(r.parentNodesGroup=r.plotGroup("parentNodesGroup","parentNode",r.visible?"inherit":"hidden",.1,p.seriesGroup),r.group.attr({zIndex:2})),this.calculateParentRadius(),a=C({x:r.parentNode.plotX-r.parentNodeRadius,y:r.parentNode.plotY-r.parentNodeRadius,width:2*r.parentNodeRadius,height:2*r.parentNodeRadius},h),r.parentNode.graphic||(r.graph=r.parentNode.graphic=p.renderer.symbol(h.symbol).add(r.parentNodesGroup)),r.parentNode.graphic.attr(a)}},m.prototype.drawTracker=function(){var a,p=this.parentNode;f.prototype.drawTracker.call(this),p&&(a=T(p.dataLabels)?p.dataLabels:p.dataLabel?[p.dataLabel]:[],p.graphic&&(p.graphic.element.point=p),a.forEach(function(n){n.div?n.div.point=p:n.element.point=p}))},m.prototype.getPointRadius=function(){var S,B,c,u,E,r=this,p=r.chart,h=r.options,l=h.useSimulation,w=Math.min(p.plotWidth,p.plotHeight),P={},I=[],L=p.allDataPoints;["minSize","maxSize"].forEach(function(j){var G=parseInt(h[j],10),W=/%$/.test(h[j]);P[j]=W?w*G/100:G*Math.sqrt(L.length)}),p.minRadius=S=P.minSize/Math.sqrt(L.length),p.maxRadius=B=P.maxSize/Math.sqrt(L.length),E=l?r.calculateZExtremes():[S,B],(L||[]).forEach(function(j,G){c=l?g(j[2],E[0],E[1]):j[2],0===(u=r.getRadius(E[0],E[1],S,B,c))&&(u=null),L[G][2]=u,I.push(u)}),r.radii=I},m.prototype.init=function(){return N.prototype.init.apply(this,arguments),this.eventsToUnbind.push(k(this,"updatedData",function(){this.chart.series.forEach(function(r){r.type===this.type&&(r.isDirty=!0)},this)})),this},m.prototype.onMouseUp=function(r){if(r.fixedPosition&&!r.removed){var p,n=this.layout,h=this.parentNodeLayout;h&&n.options.dragBetweenSeries&&h.nodes.forEach(function(l){r&&r.marker&&l!==r.series.parentNode&&(p=n.getDistXY(r,l),n.vectorLength(p)-l.marker.radius-r.marker.radius<0&&(l.series.addPoint(C(r.options,{plotX:r.plotX,plotY:r.plotY}),!1),n.removeElementFromCollection(r,n.nodes),r.remove()))}),D.onMouseUp.apply(this,arguments)}},m.prototype.placeBubbles=function(r){var I,L,B,p=this,a=p.checkOverlap,n=p.positionBubble,h=[],l=1,w=0,P=0,S=[];if((L=r.sort(function(c,u){return u[2]-c[2]})).length){if(h.push([[0,0,L[0][2],L[0][3],L[0][4]]]),L.length>1)for(h.push([[0,0-L[1][2]-L[0][2],L[1][2],L[1][3],L[1][4]]]),B=2;B<L.length;B++)L[B][2]=L[B][2]||1,a(I=n(h[l][w],h[l-1][P],L[B]),h[l][0])?(h.push([]),P=0,h[l+1].push(n(h[l][w],h[l][0],L[B])),l++,w=0):l>1&&h[l-1][P+1]&&a(I,h[l-1][P+1])?(P++,h[l].push(n(h[l][w],h[l-1][P],L[B])),w++):(w++,h[l].push(I));p.chart.stages=h,p.chart.rawPositions=[].concat.apply([],h),p.resizeRadius(),S=p.chart.rawPositions}return S},m.prototype.pointAttribs=function(r,p){var h,l,a=this.options,w=a.marker;return r&&r.isParentNode&&a.layoutAlgorithm&&a.layoutAlgorithm.parentNodeOptions&&(w=a.layoutAlgorithm.parentNodeOptions.marker),l=w.fillOpacity,h=N.prototype.pointAttribs.call(this,r,p),1!==l&&(h["fill-opacity"]=l),h},m.prototype.positionBubble=function(r,p,a){var n=Math.sqrt,h=Math.asin,l=Math.acos,w=Math.pow,P=Math.abs,I=n(w(r[0]-p[0],2)+w(r[1]-p[1],2)),L=l((w(I,2)+w(a[2]+p[2],2)-w(a[2]+r[2],2))/(2*(a[2]+p[2])*I)),S=h(P(r[0]-p[0])/I),u=(r[1]-p[1]<0?0:Math.PI)+L+S*((r[0]-p[0])*(r[1]-p[1])<0?1:-1),E=Math.cos(u),j=Math.sin(u);return[p[0]+(p[2]+a[2])*j,p[1]-(p[2]+a[2])*E,a[2],a[3],a[4]]},m.prototype.render=function(){var r=this,p=[];N.prototype.render.apply(this,arguments),r.options.dataLabels.allowOverlap||(r.data.forEach(function(a){T(a.dataLabels)&&a.dataLabels.forEach(function(n){p.push(n)})}),r.options.useSimulation&&r.chart.hideOverlappingLabels(p))},m.prototype.resizeRadius=function(){var I,L,S,B,c,u,j,G,r=this.chart,p=r.rawPositions,a=Math.min,n=Math.max,h=r.plotLeft,l=r.plotTop,w=r.plotHeight,P=r.plotWidth;for(I=S=Number.POSITIVE_INFINITY,L=B=Number.NEGATIVE_INFINITY,G=0;G<p.length;G++)I=a(I,p[G][0]-(c=p[G][2])),L=n(L,p[G][0]+c),S=a(S,p[G][1]-c),B=n(B,p[G][1]+c);if(j=a.apply([],[(P-h)/(u=[L-I,B-S])[0],(w-l)/u[1]]),Math.abs(j-1)>1e-10){for(G=0;G<p.length;G++)p[G][2]*=j;this.placeBubbles(p)}else r.diffY=w/2+l-S-(B-S)/2,r.diffX=P/2+h-I-(L-I)/2},m.prototype.seriesBox=function(){var l,p=this.chart,n=Math.max,h=Math.min,w=[p.plotLeft,p.plotLeft+p.plotWidth,p.plotTop,p.plotTop+p.plotHeight];return this.data.forEach(function(P){d(P.plotX)&&d(P.plotY)&&P.marker.radius&&(w[0]=h(w[0],P.plotX-(l=P.marker.radius)),w[1]=n(w[1],P.plotX+l),w[2]=h(w[2],P.plotY-l),w[3]=n(w[3],P.plotY+l))}),y(w.width/w.height)?w:null},m.prototype.setVisible=function(){var r=this;N.prototype.setVisible.apply(r,arguments),r.parentNodeLayout&&r.graph?r.visible?(r.graph.show(),r.parentNode.dataLabel&&r.parentNode.dataLabel.show()):(r.graph.hide(),r.parentNodeLayout.removeElementFromCollection(r.parentNode,r.parentNodeLayout.nodes),r.parentNode.dataLabel&&r.parentNode.dataLabel.hide()):r.layout&&(r.visible?r.layout.addElementsToCollection(r.points,r.layout.nodes):r.points.forEach(function(p){r.layout.removeElementFromCollection(p,r.layout.nodes)}))},m.prototype.translate=function(){var h,l,w,P,r=this,p=r.chart,a=r.data,n=r.index,I=r.options.useSimulation;for(r.processedXData=r.xData,r.generatePoints(),d(p.allDataPoints)||(p.allDataPoints=r.accumulateAllPoints(r),r.getPointRadius()),I?w=p.allDataPoints:(w=r.placeBubbles(p.allDataPoints),r.options.draggable=!1),P=0;P<w.length;P++)w[P][3]===n&&(h=a[w[P][4]],l=M(w[P][2],void 0),I||(h.plotX=w[P][0]-p.plotLeft+p.diffX,h.plotY=w[P][1]-p.plotTop+p.diffY),y(l)&&(h.marker=v(h.marker,{radius:l,width:2*l,height:2*l}),h.radius=l));I&&r.deferLayout(),_(r,"afterTranslate")},m.defaultOptions=C(O.defaultOptions,{minSize:"10%",maxSize:"50%",sizeBy:"area",zoneAxis:"y",crisp:!1,tooltip:{pointFormat:"Value: {point.value}"},draggable:!0,useSimulation:!0,parentNode:{allowPointSelect:!1},dataLabels:{formatter:function(){var r=this.series.chart.numberFormatter,p=this.point.value;return y(p)?r(p,-1):""},parentNodeFormatter:function(){return this.name},parentNodeTextPath:{enabled:!0},padding:0,style:{transition:"opacity 2000ms"}},layoutAlgorithm:{initialPositions:"circle",initialPositionRadius:20,bubblePadding:5,parentNodeLimit:!1,seriesInteraction:!0,dragBetweenSeries:!1,parentNodeOptions:{maxIterations:400,gravitationalConstant:.03,maxSpeed:50,initialPositionRadius:100,seriesInteraction:!0,marker:{fillColor:null,fillOpacity:1,lineWidth:null,lineColor:null,symbol:"circle"}},enableSimulation:!0,type:"packedbubble",integration:"packedbubble",maxIterations:1e3,splitSeries:!1,maxSpeed:5,gravitationalConstant:.01,friction:-.981}}),m}(O);return v(x.prototype,{alignDataLabel:N.prototype.alignDataLabel,axisTypes:[],directTouch:!0,forces:["barycenter","repulsive"],hasDraggableNodes:!0,isCartesian:!1,noSharedTooltip:!0,onMouseDown:D.onMouseDown,onMouseMove:D.onMouseMove,pointArrayMap:["value"],pointClass:rt,pointValKey:"value",redrawHalo:D.redrawHalo,requireSorting:!1,searchPoint:q.noop,trackerGroups:["group","dataLabelsGroup","parentNodesGroup"]}),J.registerSeriesType("packedbubble",x),x}),Y(o,"Series/Polygon/PolygonSeries.js",[o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function($,q,rt,J){var T,K=this&&this.__extends||(T=function(y,C){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,D){M.__proto__=D}||function(M,D){for(var x in D)D.hasOwnProperty(x)&&(M[x]=D[x])})(y,C)},function(y,C){function M(){this.constructor=y}T(y,C),y.prototype=null===C?Object.create(C):(M.prototype=C.prototype,new M)}),X=$.noop,F=rt.series,N=rt.seriesTypes,O=N.area,k=N.line,g=N.scatter,d=J.extend,v=J.merge,_=function(T){function y(){var C=null!==T&&T.apply(this,arguments)||this;return C.data=void 0,C.options=void 0,C.points=void 0,C}return K(y,T),y.prototype.getGraphPath=function(){for(var C=k.prototype.getGraphPath.call(this),M=C.length+1;M--;)(M===C.length||"M"===C[M][0])&&M>0&&C.splice(M,0,["Z"]);return this.areaPath=C,C},y.prototype.drawGraph=function(){this.options.fillColor=this.color,O.prototype.drawGraph.call(this)},y.defaultOptions=v(g.defaultOptions,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0}),y}(g);return d(_.prototype,{type:"polygon",drawLegendSymbol:q.drawRectangle,drawTracker:F.prototype.drawTracker,setStackedPoints:X}),rt.registerSeriesType("polygon",_),_}),Y(o,"Core/Axis/WaterfallAxis.js",[o["Extensions/Stacking.js"],o["Core/Utilities.js"]],function($,q){var K,rt=q.addEvent,J=q.objectEach;return function(X){var F=function(){function v(_){this.axis=_,this.stacks={changed:!1}}return v.prototype.renderStackTotals=function(){var _=this.axis,T=_.waterfall.stacks,y=_.stacking&&_.stacking.stackTotalGroup,C=new $(_,_.options.stackLabels,!1,0,void 0);this.dummyStackItem=C,J(T,function(M){J(M,function(D){C.total=D.stackTotal,D.label&&(C.label=D.label),$.prototype.render.call(C,y),D.label=C.label,delete C.label})}),C.total=null},v}();function O(){var _=this.waterfall.stacks;_&&(_.changed=!1,delete _.alreadyChanged)}function k(){var v=this,_=v.options.stackLabels;_&&_.enabled&&v.waterfall.stacks&&v.waterfall.renderStackTotals()}function g(){for(var v=this.axes,_=this.series,T=_.length;T--;)_[T].options.stacking&&(v.forEach(function(y){y.isXAxis||(y.waterfall.stacks.changed=!0)}),T=0)}function d(){var v=this;v.waterfall||(v.waterfall=new F(v))}X.Composition=F,X.compose=function(v,_){rt(v,"init",d),rt(v,"afterBuildStacks",O),rt(v,"afterRender",k),rt(_,"beforeRedraw",g)}}(K||(K={})),K}),Y(o,"Series/Waterfall/WaterfallPoint.js",[o["Series/Column/ColumnSeries.js"],o["Core/Series/Point.js"],o["Core/Utilities.js"]],function($,q,rt){var F,J=this&&this.__extends||(F=function(N,O){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)g.hasOwnProperty(d)&&(k[d]=g[d])})(N,O)},function(N,O){function k(){this.constructor=N}F(N,O),N.prototype=null===O?Object.create(O):(k.prototype=O.prototype,new k)}),K=rt.isNumber,X=function(F){function N(){var O=null!==F&&F.apply(this,arguments)||this;return O.options=void 0,O.series=void 0,O}return J(N,F),N.prototype.getClassName=function(){var O=q.prototype.getClassName.call(this);return this.isSum?O+=" highcharts-sum":this.isIntermediateSum&&(O+=" highcharts-intermediate-sum"),O},N.prototype.isValid=function(){return K(this.y)||this.isSum||Boolean(this.isIntermediateSum)},N}($.prototype.pointClass);return X}),Y(o,"Series/Waterfall/WaterfallSeries.js",[o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"],o["Core/Axis/WaterfallAxis.js"],o["Series/Waterfall/WaterfallPoint.js"]],function($,q,rt,J,K,X){var f,F=this&&this.__extends||(f=function(m,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var n in a)a.hasOwnProperty(n)&&(p[n]=a[n])})(m,r)},function(m,r){function p(){this.constructor=m}f(m,r),m.prototype=null===r?Object.create(r):(p.prototype=r.prototype,new p)}),N=rt.seriesTypes,O=N.column,k=N.line,g=J.arrayMax,d=J.arrayMin,v=J.correctFloat,_=J.extend,T=J.isNumber,y=J.merge,C=J.objectEach,M=J.pick;function D(f,m){return Object.hasOwnProperty.call(f,m)}var x=function(f){function m(){var r=null!==f&&f.apply(this,arguments)||this;return r.chart=void 0,r.data=void 0,r.options=void 0,r.points=void 0,r.stackedYNeg=void 0,r.stackedYPos=void 0,r.stackKey=void 0,r.xData=void 0,r.yAxis=void 0,r.yData=void 0,r}return F(m,f),m.prototype.generatePoints=function(){var r,p,a;for(O.prototype.generatePoints.apply(this),a=0,p=this.points.length;a<p;a++)((r=this.points[a]).isIntermediateSum||r.isSum)&&(r.y=v(this.processedYData[a]))},m.prototype.translate=function(){var n,B,c,u,r=this,p=r.options,a=r.yAxis,h=M(p.minPointLength,5),l=h/2,w=p.threshold||0,P=w,I=w,L=p.stacking,S=a.waterfall.stacks[r.stackKey];O.prototype.translate.apply(r);for(var E=r.points,j=0;j<E.length;j++){var G=E[j],W=r.processedYData[j],b=G.shapeArgs;if(b&&T(W)){var z=[0,W],R=G.y;if(L){if(S){var V=S[j];"overlap"===L?(B=V.stackState[V.stateIndex--],n=R>=0?B:B-R,D(V,"absolutePos")&&delete V.absolutePos,D(V,"absoluteNeg")&&delete V.absoluteNeg):(R>=0?(B=V.threshold+V.posTotal,V.posTotal-=R,n=B):(B=V.threshold+V.negTotal,V.negTotal-=R,n=B-R),V.posTotal||D(V,"absolutePos")&&(V.posTotal=V.absolutePos,delete V.absolutePos),V.negTotal||D(V,"absoluteNeg")&&(V.negTotal=V.absoluteNeg,delete V.absoluteNeg)),G.isSum||(V.connectorThreshold=V.threshold+V.stackTotal),a.reversed?(c=R>=0?n-R:n+R,u=n):(c=n,u=n-R),G.below=c<=w,b.y=a.translate(c,!1,!0,!1,!0)||0,b.height=Math.abs(b.y-(a.translate(u,!1,!0,!1,!0)||0));var Z=a.waterfall.dummyStackItem;Z&&(Z.x=j,Z.label=S[j].label,Z.setOffset(r.pointXOffset||0,r.barW||0,r.stackedYNeg[j],r.stackedYPos[j]))}}else n=Math.max(P,P+R)+z[0],b.y=a.translate(n,!1,!0,!1,!0)||0,G.isSum?(b.y=a.translate(z[1],!1,!0,!1,!0)||0,b.height=Math.min(a.translate(z[0],!1,!0,!1,!0)||0,a.len)-b.y,G.below=z[1]<=w):G.isIntermediateSum?(R>=0?(c=z[1]+I,u=I):(c=I,u=z[1]+I),a.reversed&&(c^=u,c^=u^=c),b.y=a.translate(c,!1,!0,!1,!0)||0,b.height=Math.abs(b.y-Math.min(a.translate(u,!1,!0,!1,!0)||0,a.len)),I+=z[1],G.below=c<=w):(b.height=W>0?(a.translate(P,!1,!0,!1,!0)||0)-b.y:(a.translate(P,!1,!0,!1,!0)||0)-(a.translate(P-W,!1,!0,!1,!0)||0),G.below=(P+=W)<w),b.height<0&&(b.y+=b.height,b.height*=-1);G.plotY=b.y=Math.round(b.y||0)-r.borderWidth%2/2,b.height=Math.max(Math.round(b.height||0),.001),G.yBottom=b.y+b.height,b.height<=h&&!G.isNull?(b.height=h,b.y-=l,G.plotY=b.y,G.minPointLengthOffset=G.y<0?-l:l):(G.isNull&&(b.width=0),G.minPointLengthOffset=0);var nt=G.plotY+(G.negative?b.height:0);G.below&&(G.plotY+=b.height),G.tooltipPos&&(r.chart.inverted?G.tooltipPos[0]=a.len-nt:G.tooltipPos[1]=nt)}}},m.prototype.processData=function(r){var l,I,L,S,B,c,u,p=this,a=p.options,n=p.yData,h=a.data,w=n.length,P=a.threshold||0;for(L=I=S=B=0,u=0;u<w;u++)l=h&&h[u]?h[u]:{},"sum"===(c=n[u])||l.isSum?n[u]=v(L):"intermediateSum"===c||l.isIntermediateSum?(n[u]=v(I),I=0):(L+=c,I+=c),S=Math.min(L,S),B=Math.max(L,B);f.prototype.processData.call(this,r),a.stacking||(p.dataMin=S+P,p.dataMax=B)},m.prototype.toYData=function(r){return r.isSum?"sum":r.isIntermediateSum?"intermediateSum":r.y},m.prototype.updateParallelArrays=function(r,p){f.prototype.updateParallelArrays.call(this,r,p),("sum"===this.yData[0]||"intermediateSum"===this.yData[0])&&(this.yData[0]=null)},m.prototype.pointAttribs=function(r,p){var n,a=this.options.upColor;return a&&!r.options.color&&(r.color=r.y>0?a:null),delete(n=O.prototype.pointAttribs.call(this,r,p)).dashstyle,n},m.prototype.getGraphPath=function(){return[["M",0,0]]},m.prototype.getCrispPath=function(){var S,c,u,E,j,G,W,r=this.data,p=this.yAxis,a=r.length,n=Math.round(this.graph.strokeWidth())%2/2,h=Math.round(this.borderWidth)%2/2,l=this.xAxis.reversed,w=this.yAxis.reversed,P=this.options.stacking,I=[];for(W=1;W<a;W++)if(G=r[W].shapeArgs,j=r[W-1].shapeArgs,E=(c=r[W-1]).y>0?-j.height:0,(S=p.waterfall.stacks[this.stackKey])&&j&&G&&(u=P?Math.round(p.translate(S[W-1].connectorThreshold,0,1,0,1)+(w?E:0))-n:j.y+c.minPointLengthOffset+h-n,I.push(["M",(j.x||0)+(l?0:j.width||0),u],["L",(G.x||0)+(l&&G.width||0),u])),j&&I.length&&(!P&&c.y<0&&!w||c.y>0&&w)){var b=I[I.length-2];b&&"number"==typeof b[2]&&(b[2]+=j.height||0);var z=I[I.length-1];z&&"number"==typeof z[2]&&(z[2]+=j.height||0)}return I},m.prototype.drawGraph=function(){k.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},m.prototype.setStackedPoints=function(){var L,S,B,c,u,E,j,G,W,b,z,R,V,r=this,p=r.options,a=r.yAxis.waterfall.stacks,n=p.threshold,h=n||0,l=h,w=r.stackKey,P=r.xData,I=P.length;function Z(it,ot,at,mt){if(E)for(;at<E;at++)S.stackState[at]+=mt;else S.stackState[0]=it,E=S.stackState.length;S.stackState.push(S.stackState[E-1]+ot)}if(r.yAxis.stacking.usePercentage=!1,B=c=u=h,r.visible||!r.chart.options.chart.ignoreHiddenSeries){V=a.changed,(R=a.alreadyChanged)&&R.indexOf(w)<0&&(V=!0),a[w]||(a[w]={}),L=a[w];for(var nt=0;nt<I;nt++)(!L[z=P[nt]]||V)&&(L[z]={negTotal:0,posTotal:0,stackTotal:0,threshold:0,stateIndex:0,stackState:[],label:V&&L[z]?L[z].label:void 0}),S=L[z],(b=r.yData[nt])>=0?S.posTotal+=b:S.negTotal+=b,W=p.data[nt],j=S.absolutePos=S.posTotal,G=S.absoluteNeg=S.negTotal,S.stackTotal=j+G,E=S.stackState.length,W&&W.isIntermediateSum?(Z(u,c,0,u),u=c,c=n,h^=l,h^=l^=h):W&&W.isSum?(Z(n,B,E),h=n):(Z(h,b,0,B),W&&(B+=b,c+=b)),S.stateIndex++,S.threshold=h,h+=S.stackTotal;a.changed=!1,a.alreadyChanged||(a.alreadyChanged=[]),a.alreadyChanged.push(w)}},m.prototype.getExtremes=function(){var a,n,h,r=this.options.stacking;return r?(a=this.yAxis.waterfall.stacks,n=this.stackedYNeg=[],h=this.stackedYPos=[],C(a[this.stackKey],"overlap"===r?function(l){n.push(d(l.stackState)),h.push(g(l.stackState))}:function(l){n.push(l.negTotal+l.threshold),h.push(l.posTotal+l.threshold)}),{dataMin:d(n),dataMax:g(h)}):{dataMin:this.dataMin,dataMax:this.dataMax}},m.defaultOptions=y(O.defaultOptions,{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"Dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}}),m}(O);return _(x.prototype,{getZonesGraphs:k.prototype.getZonesGraphs,pointValKey:"y",showLine:!0,pointClass:X}),rt.registerSeriesType("waterfall",x),K.compose($,q),x}),Y(o,"Extensions/Polar.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Chart/Chart.js"],o["Core/Globals.js"],o["Extensions/Pane.js"],o["Core/Pointer.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Utilities.js"]],function($,q,rt,J,K,X,F,N,O){var m,r,k=$.animObject,g=F.seriesTypes,d=O.addEvent,v=O.defined,_=O.find,T=O.isNumber,y=O.pick,C=O.splat,M=O.uniqueKey,D=O.wrap,x=X.prototype,f=K.prototype;x.searchPointByAngle=function(a){var h=this.chart,w=this.xAxis.pane.center;return this.searchKDTree({clientX:180+Math.atan2(a.chartX-w[0]-h.plotLeft,a.chartY-w[1]-h.plotTop)*(-180/Math.PI)})},x.getConnectors=function(a,n,h,l){var w,P,L,S,j,G,W,R,V,Z,nt,it,ot,at,mt,_t,b=1.5,z=2.5,yt=l?1:0;return R=(b*(j=a[w=n>=0&&n<=a.length-1?n:n<0?a.length-1+n:0].plotX)+(L=a[P=w-1<0?a.length-(1+yt):w-1]).plotX)/z,V=(b*(G=a[w].plotY)+L.plotY)/z,Z=(b*j+(S=a[w+1>a.length-1?yt:w+1]).plotX)/z,nt=(b*G+S.plotY)/z,it=Math.sqrt(Math.pow(R-j,2)+Math.pow(V-G,2)),ot=Math.sqrt(Math.pow(Z-j,2)+Math.pow(nt-G,2)),at=Math.atan2(V-G,R-j),mt=Math.atan2(nt-G,Z-j),_t=Math.PI/2+(at+mt)/2,Math.abs(at-_t)>Math.PI/2&&(_t-=Math.PI),R=j+Math.cos(_t)*it,V=G+Math.sin(_t)*it,W={rightContX:Z=j+Math.cos(Math.PI+_t)*ot,rightContY:nt=G+Math.sin(Math.PI+_t)*ot,leftContX:R,leftContY:V,plotX:j,plotY:G},h&&(W.prevPointCont=this.getConnectors(a,P,!1,l)),W},x.toXY=function(a){var c,n=this.chart,h=this.xAxis,l=this.yAxis,w=a.plotX,P=a.plotY,I=a.series,L=n.inverted,S=a.y,B=L?w:l.len-P;if(L&&I&&!I.isRadialBar&&(a.plotY=P="number"==typeof S&&l.translate(S)||0),a.rectPlotX=w,a.rectPlotY=P,l.center&&(B+=l.center[3]/2),T(P)){var u=L?l.postTranslate(P,B):h.postTranslate(w,B);a.plotX=a.polarPlotX=u.x-n.plotLeft,a.plotY=a.polarPlotY=u.y-n.plotTop}this.kdByAngle?((c=(w/Math.PI*180+h.pane.options.startAngle)%360)<0&&(c+=360),a.clientX=c):a.clientX=a.plotX},g.spline&&(D(g.spline.prototype,"getPointSpline",function(a,n,h,l){var w,P;if(this.chart.polar)if(l){var I=(P=this.getConnectors(n,l,!0,this.connectEnds)).prevPointCont&&P.prevPointCont.rightContX,L=P.prevPointCont&&P.prevPointCont.rightContY;w=["C",T(I)?I:P.plotX,T(L)?L:P.plotY,T(P.leftContX)?P.leftContX:P.plotX,T(P.leftContY)?P.leftContY:P.plotY,P.plotX,P.plotY]}else w=["M",h.plotX,h.plotY];else w=a.call(this,n,h,l);return w}),g.areasplinerange&&(g.areasplinerange.prototype.getPointSpline=g.spline.prototype.getPointSpline)),d(X,"afterTranslate",function(){var a=this,n=a.chart;if(n.polar&&a.xAxis){if(a.kdByAngle=n.tooltip&&n.tooltip.shared,a.kdByAngle?a.searchPoint=a.searchPointByAngle:a.options.findNearestPointBy="xy",!a.preventPostTranslate)for(var h=a.points,l=h.length;l--;)a.toXY(h[l]),!n.hasParallelCoordinates&&!a.yAxis.reversed&&h[l].y<a.yAxis.min&&(h[l].isNull=!0);this.hasClipCircleSetter||(this.hasClipCircleSetter=!!a.eventsToUnbind.push(d(a,"afterRender",function(){var w;n.polar&&(w=this.yAxis.pane.center,this.clipCircle?this.clipCircle.animate({x:w[0],y:w[1],r:w[2]/2,innerR:w[3]/2}):this.clipCircle=n.renderer.clipCircle(w[0],w[1],w[2]/2,w[3]/2),this.group.clip(this.clipCircle),this.setClip=rt.noop)})))}},{order:2}),D(g.line.prototype,"getGraphPath",function(a,n){var l,w,P,h=this;if(this.chart.polar){for(n=n||this.points,l=0;l<n.length;l++)if(!n[l].isNull){w=l;break}!1!==this.options.connectEnds&&void 0!==w&&(this.connectEnds=!0,n.splice(n.length,0,n[w]),P=!0),n.forEach(function(L){void 0===L.polarPlotY&&h.toXY(L)})}var I=a.apply(this,[].slice.call(arguments,1));return P&&n.pop(),I});var p=function(a,n){var c,u,E,j,G,W,h=this,l=this.chart,w=this.options.animation,P=this.group,I=this.markerGroup,L=this.xAxis&&this.xAxis.center,S=l.plotLeft,B=l.plotTop;l.polar?h.isRadialBar?n||(h.startAngleRad=y(h.translatedThreshold,h.xAxis.startAngleRad),rt.seriesTypes.pie.prototype.animate.call(h,n)):l.renderer.isSVG&&(w=k(w),h.is("column")?n||(u=L[3]/2,h.points.forEach(function(b){G=(j=b.shapeArgs)&&j.r,W=j&&j.innerR,(E=b.graphic)&&j&&(E.attr({r:u,innerR:u}),E.animate({r:G,innerR:W},h.options.animation))})):n?(P.attr(c={translateX:L[0]+S,translateY:L[1]+B,scaleX:.001,scaleY:.001}),I&&I.attr(c)):(P.animate(c={translateX:S,translateY:B,scaleX:1,scaleY:1},w),I&&I.animate(c,w))):a.call(this,n)};D(x,"animate",p),g.column&&(r=g.arearange.prototype,(m=g.column.prototype).polarArc=function(a,n,h,l){var w=this.xAxis.center,P=this.yAxis.len,I=w[3]/2,L=P-n+I,S=P-y(a,P)+I;return this.yAxis.reversed&&(L<0&&(L=I),S<0&&(S=I)),{x:w[0],y:w[1],r:L,innerR:S,start:h,end:l}},D(m,"animate",p),D(m,"translate",function(a){var j,G,W,b,z,R,V,Z,nt,it,ot,at,mt,_t,yt,ut,n=this,h=n.options,l=h.threshold,w=h.stacking,P=n.chart,I=n.xAxis,L=n.yAxis,S=L.reversed,B=L.center,c=I.startAngleRad,E=I.endAngleRad-c;if(n.preventPostTranslate=!0,a.call(n),I.isRadial)for(b=(G=n.points).length,z=L.translate(L.min),R=L.translate(L.max),l=h.threshold||0,P.inverted&&T(l)&&(j=L.translate(l),v(j)&&(j<0?j=0:j>E&&(j=E),n.translatedThreshold=j+c));b--;)_t=(W=G[b]).barX,it=W.x,ot=W.y,W.shapeType="arc",P.inverted?(W.plotY=L.translate(ot),w&&L.stacking?(mt=L.stacking.stacks[(ot<0?"-":"")+n.stackKey],n.visible&&mt&&mt[it]&&(W.isNull||(at=mt[it].points[n.getStackIndicator(void 0,it,n.index).key],V=L.translate(at[0]),Z=L.translate(at[1]),v(V)&&(V=O.clamp(V,0,E))))):(V=j,Z=W.plotY),V>Z&&(Z=[V,V=Z][0]),S?Z>z?Z=z:V<R?V=R:(V>z||Z<R)&&(V=Z=E):V<z?V=z:Z>R?Z=R:(Z<z||V>R)&&(V=Z=0),L.min>L.max&&(V=Z=S?E:0),V+=c,Z+=c,B&&(W.barX=_t+=B[3]/2),yt=Math.max(_t,0),ut=Math.max(_t+W.pointWidth,0),W.shapeArgs={x:B&&B[0],y:B&&B[1],r:ut,innerR:yt,start:V,end:Z},W.opacity=V===Z?0:void 0,W.plotY=(v(n.translatedThreshold)&&(V<n.translatedThreshold?V:Z))-c):W.shapeArgs=n.polarArc(W.yBottom,W.plotY,V=_t+c,V+W.pointWidth),n.toXY(W),P.inverted?(nt=L.postTranslate(W.rectPlotY,_t+W.pointWidth/2),W.tooltipPos=[nt.x-P.plotLeft,nt.y-P.plotTop]):W.tooltipPos=[W.plotX,W.plotY],B&&(W.ttBelow=W.plotY>B[1])}),m.findAlignments=function(a,n){return null===n.align&&(n.align=a>20&&a<160?"left":a>200&&a<340?"right":"center"),null===n.verticalAlign&&(n.verticalAlign=a<45||a>315?"bottom":a>135&&a<225?"top":"middle"),n},r&&(r.findAlignments=m.findAlignments),D(m,"alignDataLabel",function(a,n,h,l,w,P){var S,B,c,I=this.chart,L=y(l.inside,!!this.options.stacking);I.polar?(S=n.rectPlotX/Math.PI*180,I.inverted?(this.forceDL=I.isInsidePlot(n.plotX,Math.round(n.plotY)),L&&n.shapeArgs?w={x:(c=this.yAxis.postTranslate((((B=n.shapeArgs).start||0)+(B.end||0))/2-this.xAxis.startAngleRad,n.barX+n.pointWidth/2)).x-I.plotLeft,y:c.y-I.plotTop}:n.tooltipPos&&(w={x:n.tooltipPos[0],y:n.tooltipPos[1]}),l.align=y(l.align,"center"),l.verticalAlign=y(l.verticalAlign,"middle")):this.findAlignments&&(l=this.findAlignments(S,l)),x.alignDataLabel.call(this,n,h,l,w,P),this.isRadialBar&&n.shapeArgs&&n.shapeArgs.start===n.shapeArgs.end&&h.hide(!0)):a.call(this,n,h,l,w,P)})),D(f,"getCoordinates",function(a,n){var h=this.chart,l={xAxis:[],yAxis:[]};return h.polar?h.axes.forEach(function(w){var L,S,P=w.isXAxis,I=w.center;"colorAxis"!==w.coll&&(L=n.chartX-I[0]-h.plotLeft,S=n.chartY-I[1]-h.plotTop,l[P?"xAxis":"yAxis"].push({axis:w,value:w.translate(P?Math.PI-Math.atan2(L,S):Math.sqrt(Math.pow(L,2)+Math.pow(S,2)),!0)}))}):l=a.call(this,n),l}),N.prototype.clipCircle=function(a,n,h,l){var w,P=M(),I=this.createElement("clipPath").attr({id:P}).add(this.defs);return(w=l?this.arc(a,n,h,l,0,2*Math.PI).add(I):this.circle(a,n,h).add(I)).id=P,w.clipPath=I,w},d(q,"getAxes",function(){this.pane||(this.pane=[]),this.options.pane=C(this.options.pane),this.options.pane.forEach(function(a){new J(a,this)},this)}),d(q,"afterDrawChartBox",function(){this.pane.forEach(function(a){a.render()})}),d(X,"afterInit",function(){var a=this.chart;a.inverted&&a.polar&&(this.isRadialSeries=!0,this.is("column")&&(this.isRadialBar=!0))}),D(q.prototype,"get",function(a,n){return _(this.pane||[],function(h){return h.options.id===n})||a.call(this,n)})}),Y(o,"masters/highcharts-more.src.js",[o["Core/Globals.js"],o["Core/Axis/RadialAxis.js"],o["Series/Bubble/BubbleSeries.js"]],function($,q,rt){var J=$;q.compose(J.Axis,J.Tick),rt.compose(J.Chart,J.Legend,J.Series)})},we.exports?(wt.default=wt,we.exports=wt):(Nt=[Xt(4317)],void 0!==(qt=function(o){return wt(o),wt.Highcharts=o,wt}.apply(_e,Nt))&&(we.exports=qt))},4317:function(we,_e,Xt){"use strict";var Nt,qt,wt;qt="undefined"!=typeof window?window:this,wt=function(qt){function wt(Y,$,q,rt){Y.hasOwnProperty($)||(Y[$]=rt.apply(null,q))}var o={};return wt(o,"Core/Globals.js",[],function(){var $,q,Y=void 0!==qt?qt:"undefined"!=typeof window?window:{};return(q=$||($={})).SVG_NS="http://www.w3.org/2000/svg",q.product="Highcharts",q.version="9.3.3",q.win=Y,q.doc=q.win.document,q.svg=q.doc&&q.doc.createElementNS&&!!q.doc.createElementNS(q.SVG_NS,"svg").createSVGRect,q.userAgent=q.win.navigator&&q.win.navigator.userAgent||"",q.isChrome=-1!==q.userAgent.indexOf("Chrome"),q.isFirefox=-1!==q.userAgent.indexOf("Firefox"),q.isMS=/(edge|msie|trident)/i.test(q.userAgent)&&!q.win.opera,q.isSafari=!q.isChrome&&-1!==q.userAgent.indexOf("Safari"),q.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(q.userAgent),q.isWebKit=-1!==q.userAgent.indexOf("AppleWebKit"),q.deg2rad=2*Math.PI/360,q.hasBidiBug=q.isFirefox&&4>parseInt(q.userAgent.split("Firefox/")[1],10),q.hasTouch=!!q.win.TouchEvent,q.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],q.noop=function(){},q.supportsPassiveEvents=function(){var rt=!1;if(!q.isMS){var J=Object.defineProperty({},"passive",{get:function(){rt=!0}});q.win.addEventListener&&q.win.removeEventListener&&(q.win.addEventListener("testPassive",q.noop,J),q.win.removeEventListener("testPassive",q.noop,J))}return rt}(),q.charts=[],q.dateFormats={},q.seriesTypes={},q.symbolSizes={},q.chartCount=0,$}),wt(o,"Core/Utilities.js",[o["Core/Globals.js"]],function(Y){function $(n,h,l,w){var P=h?"Highcharts error":"Highcharts warning";32===n&&(n=P+": Deprecated member");var I=O(n),L=I?P+" #"+n+": www.highcharts.com/errors/"+n+"/":n.toString();if(void 0!==w){var S="";I&&(L+="?"),C(w,function(B,c){S+="\n - "+c+": "+B,I&&(L+=encodeURI(c)+"="+encodeURI(B))}),L+=S}D(Y,"displayError",{chart:l,code:n,message:L,params:w},function(){if(h)throw Error(L);m.console&&-1===$.messages.indexOf(L)&&console.warn(L)}),$.messages.push(L)}function rt(n,h){return parseInt(n,h||10)}function J(n){return"string"==typeof n}function K(n){return"[object Array]"===(n=Object.prototype.toString.call(n))||"[object Array Iterator]"===n}function X(n,h){return!(!n||"object"!=typeof n||h&&K(n))}function F(n){return X(n)&&"number"==typeof n.nodeType}function N(n){var h=n&&n.constructor;return!(!X(n,!0)||F(n)||!h||!h.name||"Object"===h.name)}function O(n){return"number"==typeof n&&!isNaN(n)&&1/0>n&&-1/0<n}function k(n){return null!=n}function g(n,h,l){var w;return J(h)?k(l)?n.setAttribute(h,l):n&&n.getAttribute&&((w=n.getAttribute(h))||"class"!==h||(w=n.getAttribute(h+"Name"))):C(h,function(P,I){k(P)?n.setAttribute(I,P):n.removeAttribute(I)}),w}function d(n,h){var l;for(l in n||(n={}),h)n[l]=h[l];return n}function v(){for(var n=arguments,h=n.length,l=0;l<h;l++){var w=n[l];if(null!=w)return w}}function _(n,h){Y.isMS&&!Y.svg&&h&&void 0!==h.opacity&&(h.filter="alpha(opacity="+100*h.opacity+")"),d(n.style,h)}function T(n,h){return 1e14<n?n:parseFloat(n.toPrecision(h||14))}function C(n,h,l){for(var w in n)Object.hasOwnProperty.call(n,w)&&h.call(l||n[w],n[w],w,n)}function M(n,h,l){function w(S,B){var c=n.removeEventListener||Y.removeEventListenerPolyfill;c&&c.call(n,S,B,!1)}function P(S){var B;if(n.nodeName){if(h){var c={};c[h]=!0}else c=S;C(c,function(u,E){if(S[E])for(B=S[E].length;B--;)w(E,S[E][B].fn)})}}var I="function"==typeof n&&n.prototype||n;if(Object.hasOwnProperty.call(I,"hcEvents")){var L=I.hcEvents;h?(I=L[h]||[],l?(L[h]=I.filter(function(S){return l!==S.fn}),w(h,l)):(P(L),L[h]=[])):(P(L),delete I.hcEvents)}}function D(n,h,l,w){if(l=l||{},f.createEvent&&(n.dispatchEvent||n.fireEvent&&n!==Y)){var P=f.createEvent("Events");P.initEvent(h,!0,!0),l=d(P,l),n.dispatchEvent?n.dispatchEvent(l):n.fireEvent(h,l)}else if(n.hcEvents){l.target||d(l,{preventDefault:function(){l.defaultPrevented=!0},target:n,type:h}),P=[];for(var I=n,L=!1;I.hcEvents;)Object.hasOwnProperty.call(I,"hcEvents")&&I.hcEvents[h]&&(P.length&&(L=!0),P.unshift.apply(P,I.hcEvents[h])),I=Object.getPrototypeOf(I);L&&P.sort(function(S,B){return S.order-B.order}),P.forEach(function(S){!1===S.fn.call(n,l)&&l.preventDefault()})}w&&!l.defaultPrevented&&w.call(n,l)}var x=Y.charts,f=Y.doc,m=Y.win;($||($={})).messages=[],Math.easeInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)};var r=Array.prototype.find?function(n,h){return n.find(h)}:function(n,h){var l,w=n.length;for(l=0;l<w;l++)if(h(n[l],l))return n[l]};C({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(n,h){Y[h]=function(l){var w;return $(32,!1,void 0,((w={})["Highcharts."+h]="use Array."+n,w)),Array.prototype[n].apply(l,[].slice.call(arguments,1))}});var p,n,h,a=(n=Math.random().toString(36).substring(2,9)+"-",h=0,function(){return"highcharts-"+(p?"":n)+h++});return m.jQuery&&(m.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(Y[J(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):x[g(this[0],"data-highcharts-chart")]}),r={addEvent:function(n,h,l,w){void 0===w&&(w={});var P="function"==typeof n&&n.prototype||n;Object.hasOwnProperty.call(P,"hcEvents")||(P.hcEvents={}),P=P.hcEvents,Y.Point&&n instanceof Y.Point&&n.series&&n.series.chart&&(n.series.chart.runTrackerClick=!0);var I=n.addEventListener||Y.addEventListenerPolyfill;return I&&I.call(n,h,l,!!Y.supportsPassiveEvents&&{passive:void 0===w.passive?-1!==h.indexOf("touch"):w.passive,capture:!1}),P[h]||(P[h]=[]),P[h].push({fn:l,order:"number"==typeof w.order?w.order:1/0}),P[h].sort(function(L,S){return L.order-S.order}),function(){M(n,h,l)}},arrayMax:function(n){for(var h=n.length,l=n[0];h--;)n[h]>l&&(l=n[h]);return l},arrayMin:function(n){for(var h=n.length,l=n[0];h--;)n[h]<l&&(l=n[h]);return l},attr:g,clamp:function(n,h,l){return n>h?n<l?n:l:h},cleanRecursively:function q(n,h){var l={};return C(n,function(w,P){X(n[P],!0)&&!n.nodeType&&h[P]?(w=q(n[P],h[P]),Object.keys(w).length&&(l[P]=w)):(X(n[P])||n[P]!==h[P])&&(l[P]=n[P])}),l},clearTimeout:function(n){k(n)&&clearTimeout(n)},correctFloat:T,createElement:function(n,h,l,w,P){return n=f.createElement(n),h&&d(n,h),P&&_(n,{padding:"0",border:"none",margin:"0"}),l&&_(n,l),w&&w.appendChild(n),n},css:_,defined:k,destroyObjectProperties:function(n,h){C(n,function(l,w){l&&l!==h&&l.destroy&&l.destroy(),delete n[w]})},discardElement:function(n){n&&n.parentElement&&n.parentElement.removeChild(n)},erase:function(n,h){for(var l=n.length;l--;)if(n[l]===h){n.splice(l,1);break}},error:$,extend:d,extendClass:function(n,h){var l=function(){};return d(l.prototype=new n,h),l},find:r,fireEvent:D,getMagnitude:function(n){return Math.pow(10,Math.floor(Math.log(n)/Math.LN10))},getNestedProperty:function(n,h){for(n=n.split(".");n.length&&k(h);){var l=n.shift();if(void 0===l||"__proto__"===l||!k(h=h[l])||"function"==typeof h||"number"==typeof h.nodeType||h===m)return}return h},getStyle:function y(n,h,l){var w=Y.getStyle||y;if("width"===h)return h=Math.min(n.offsetWidth,n.scrollWidth),(l=n.getBoundingClientRect&&n.getBoundingClientRect().width)<h&&l>=h-1&&(h=Math.floor(l)),Math.max(0,h-(w(n,"padding-left",!0)||0)-(w(n,"padding-right",!0)||0));if("height"===h)return Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-(w(n,"padding-top",!0)||0)-(w(n,"padding-bottom",!0)||0));if(m.getComputedStyle||$(27,!0),n=m.getComputedStyle(n,void 0)){var P=n.getPropertyValue(h);v(l,"opacity"!==h)&&(P=rt(P))}return P},inArray:function(n,h,l){return $(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),h.indexOf(n,l)},isArray:K,isClass:N,isDOMElement:F,isFunction:function(n){return"function"==typeof n},isNumber:O,isObject:X,isString:J,keys:function(n){return $(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(n)},merge:function(){var n,h=arguments,l={},w=function(I,L){return"object"!=typeof I&&(I={}),C(L,function(S,B){"__proto__"!==B&&"constructor"!==B&&(I[B]=!X(S,!0)||N(S)||F(S)?L[B]:w(I[B]||{},S))}),I};!0===h[0]&&(l=h[1],h=Array.prototype.slice.call(h,2));var P=h.length;for(n=0;n<P;n++)l=w(l,h[n]);return l},normalizeTickInterval:function(n,h,l,w,P){var I=n,L=n/(l=v(l,1));for(h||(h=P?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===w&&(1===l?h=h.filter(function(S){return S%1==0}):.1>=l&&(h=[1/l]))),w=0;w<h.length&&(I=h[w],!(P&&I*l>=n||!P&&L<=(h[w]+(h[w+1]||h[w]))/2));w++);return T(I*l,-Math.round(Math.log(.001)/Math.LN10))},objectEach:C,offset:function(n){var h=f.documentElement;return{top:(n=n.parentElement||n.parentNode?n.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(m.pageYOffset||h.scrollTop)-(h.clientTop||0),left:n.left+(m.pageXOffset||h.scrollLeft)-(h.clientLeft||0),width:n.width,height:n.height}},pad:function(n,h,l){return Array((h||2)+1-String(n).replace("-","").length).join(l||"0")+n},pick:v,pInt:rt,relativeLength:function(n,h,l){return/%$/.test(n)?h*parseFloat(n)/100+(l||0):parseFloat(n)},removeEvent:M,splat:function(n){return K(n)?n:[n]},stableSort:function(n,h){var w,P,l=n.length;for(P=0;P<l;P++)n[P].safeI=P;for(n.sort(function(I,L){return 0===(w=h(I,L))?I.safeI-L.safeI:w}),P=0;P<l;P++)delete n[P].safeI},syncTimeout:function(n,h,l){return 0<h?setTimeout(n,h,l):(n.call(0,l),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:a,useSerialIds:function(n){return p=v(n,p)},wrap:function(n,h,l){var w=n[h];n[h]=function(){var P=Array.prototype.slice.call(arguments),I=arguments,L=this;return L.proceed=function(){w.apply(L,arguments.length?arguments:I)},P.unshift(w),P=l.apply(this,P),L.proceed=null,P}}},r}),wt(o,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),wt(o,"Core/Color/Color.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$){var q=$.isNumber,rt=$.merge,J=$.pInt;return function(){function K(X){this.rgba=[NaN,NaN,NaN,NaN],this.input=X;var F=Y.Color;return F&&F!==K?new F(X):this instanceof K?void this.init(X):new K(X)}return K.parse=function(X){return X?new K(X):K.None},K.prototype.init=function(X){var F;if("object"==typeof X&&void 0!==X.stops)this.stops=X.stops.map(function(g){return new K(g[1])});else if("string"==typeof X){if(this.input=X=K.names[X.toLowerCase()]||X,"#"===X.charAt(0)){var N=X.length,O=parseInt(X.substr(1),16);7===N?F=[(16711680&O)>>16,(65280&O)>>8,255&O,1]:4===N&&(F=[(3840&O)>>4|(3840&O)>>8,(240&O)>>4|240&O,(15&O)<<4|15&O,1])}if(!F)for(O=K.parsers.length;O--&&!F;){var k=K.parsers[O];(N=k.regex.exec(X))&&(F=k.parse(N))}}F&&(this.rgba=F)},K.prototype.get=function(X){var F=this.input,N=this.rgba;if("object"==typeof F&&void 0!==this.stops){var O=rt(F);return O.stops=[].slice.call(O.stops),this.stops.forEach(function(k,g){O.stops[g]=[O.stops[g][0],k.get(X)]}),O}return N&&q(N[0])?"rgb"===X||!X&&1===N[3]?"rgb("+N[0]+","+N[1]+","+N[2]+")":"a"===X?""+N[3]:"rgba("+N.join(",")+")":F},K.prototype.brighten=function(X){var F=this.rgba;if(this.stops)this.stops.forEach(function(O){O.brighten(X)});else if(q(X)&&0!==X)for(var N=0;3>N;N++)F[N]+=J(255*X),0>F[N]&&(F[N]=0),255<F[N]&&(F[N]=255);return this},K.prototype.setOpacity=function(X){return this.rgba[3]=X,this},K.prototype.tweenTo=function(X,F){var N=this.rgba,O=X.rgba;return q(N[0])&&q(O[0])?((X=1!==O[3]||1!==N[3])?"rgba(":"rgb(")+Math.round(O[0]+(N[0]-O[0])*(1-F))+","+Math.round(O[1]+(N[1]-O[1])*(1-F))+","+Math.round(O[2]+(N[2]-O[2])*(1-F))+(X?","+(O[3]+(N[3]-O[3])*(1-F)):"")+")":X.input||"none"},K.names={white:"#ffffff",black:"#000000"},K.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(X){return[J(X[1]),J(X[2]),J(X[3]),parseFloat(X[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(X){return[J(X[1]),J(X[2]),J(X[3]),1]}}],K.None=new K(""),K}()}),wt(o,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),wt(o,"Core/Time.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$){var q=Y.win,rt=$.defined,J=$.error,K=$.extend,X=$.isObject,F=$.merge,N=$.objectEach,O=$.pad,k=$.pick,g=$.splat,d=$.timeUnits,v=Y.isSafari&&q.Intl&&q.Intl.DateTimeFormat.prototype.formatRange,_=Y.isSafari&&q.Intl&&!q.Intl.DateTimeFormat.prototype.formatRange;return $=function(){function T(y){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=q.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(y)}return T.prototype.get=function(y,C){if(this.variableTimezone||this.timezoneOffset){var M=C.getTime(),D=M-this.getTimezoneOffset(C);return C.setTime(D),y=C["getUTC"+y](),C.setTime(M),y}return this.useUTC?C["getUTC"+y]():C["get"+y]()},T.prototype.set=function(y,C,M){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===y||"Seconds"===y||"Minutes"===y&&this.getTimezoneOffset(C)%36e5==0)return C["setUTC"+y](M);var D=this.getTimezoneOffset(C);return D=C.getTime()-D,C.setTime(D),C["setUTC"+y](M),y=this.getTimezoneOffset(C),D=C.getTime()+y,C.setTime(D)}return this.useUTC||v&&"FullYear"===y?C["setUTC"+y](M):C["set"+y](M)},T.prototype.update=function(y){var C=k(y&&y.useUTC,!0);this.options=y=F(!0,this.options||{},y),this.Date=y.Date||q.Date||Date,this.timezoneOffset=(this.useUTC=C)&&y.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=C&&!(!y.getTimezoneOffset&&!y.timezone)},T.prototype.makeTime=function(y,C,M,D,x,f){if(this.useUTC){var m=this.Date.UTC.apply(0,arguments),r=this.getTimezoneOffset(m),p=this.getTimezoneOffset(m+=r);r!==p?m+=p-r:r-36e5!==this.getTimezoneOffset(m-36e5)||_||(m-=36e5)}else m=new this.Date(y,C,k(M,1),k(D,0),k(x,0),k(f,0)).getTime();return m},T.prototype.timezoneOffsetFunction=function(){var y=this,C=this.options,M=C.getTimezoneOffset,D=C.moment||q.moment;if(!this.useUTC)return function(x){return 6e4*new Date(x.toString()).getTimezoneOffset()};if(C.timezone){if(D)return function(x){return 6e4*-D.tz(x,C.timezone).utcOffset()};J(25)}return this.useUTC&&M?function(x){return 6e4*M(x.valueOf())}:function(){return 6e4*(y.timezoneOffset||0)}},T.prototype.dateFormat=function(y,C,M){if(!rt(C)||isNaN(C))return Y.defaultOptions.lang&&Y.defaultOptions.lang.invalidDate||"";y=k(y,"%Y-%m-%d %H:%M:%S");var D=this,x=new this.Date(C),f=this.get("Hours",x),m=this.get("Day",x),r=this.get("Date",x),p=this.get("Month",x),a=this.get("FullYear",x),n=Y.defaultOptions.lang,h=n&&n.weekdays,l=n&&n.shortWeekdays;return x=K({a:l?l[m]:h[m].substr(0,3),A:h[m],d:O(r),e:O(r,2," "),w:m,b:n.shortMonths[p],B:n.months[p],m:O(p+1),o:p+1,y:a.toString().substr(2,2),Y:a,H:O(f),k:f,I:O(f%12||12),l:f%12||12,M:O(this.get("Minutes",x)),p:12>f?"AM":"PM",P:12>f?"am":"pm",S:O(x.getSeconds()),L:O(Math.floor(C%1e3),3)},Y.dateFormats),N(x,function(w,P){for(;-1!==y.indexOf("%"+P);)y=y.replace("%"+P,"function"==typeof w?w.call(D,C):w)}),M?y.substr(0,1).toUpperCase()+y.substr(1):y},T.prototype.resolveDTLFormat=function(y){return X(y,!0)?y:{main:(y=g(y))[0],from:y[1],to:y[2]}},T.prototype.getTimeTicks=function(y,C,M,D){var n,x=this,f=[],m={},r=new x.Date(C),p=y.unitRange,a=y.count||1;if(D=k(D,1),rt(C)){if(x.set("Milliseconds",r,p>=d.second?0:a*Math.floor(x.get("Milliseconds",r)/a)),p>=d.second&&x.set("Seconds",r,p>=d.minute?0:a*Math.floor(x.get("Seconds",r)/a)),p>=d.minute&&x.set("Minutes",r,p>=d.hour?0:a*Math.floor(x.get("Minutes",r)/a)),p>=d.hour&&x.set("Hours",r,p>=d.day?0:a*Math.floor(x.get("Hours",r)/a)),p>=d.day&&x.set("Date",r,p>=d.month?1:Math.max(1,a*Math.floor(x.get("Date",r)/a))),p>=d.month){x.set("Month",r,p>=d.year?0:a*Math.floor(x.get("Month",r)/a));var h=x.get("FullYear",r)}p>=d.year&&x.set("FullYear",r,h-h%a),p===d.week&&(h=x.get("Day",r),x.set("Date",r,x.get("Date",r)-h+D+(h<D?-7:0))),h=x.get("FullYear",r),D=x.get("Month",r);var l=x.get("Date",r),w=x.get("Hours",r);for(C=r.getTime(),!x.variableTimezone&&x.useUTC||!rt(M)||(n=M-C>4*d.month||x.getTimezoneOffset(C)!==x.getTimezoneOffset(M)),C=r.getTime(),r=1;C<M;)f.push(C),C=p===d.year?x.makeTime(h+r*a,0):p===d.month?x.makeTime(h,D+r*a):!n||p!==d.day&&p!==d.week?n&&p===d.hour&&1<a?x.makeTime(h,D,l,w+r*a):C+p*a:x.makeTime(h,D,l+r*a*(p===d.day?1:7)),r++;f.push(C),p<=d.hour&&1e4>f.length&&f.forEach(function(P){P%18e5==0&&"000000000"===x.dateFormat("%H%M%S%L",P)&&(m[P]="day")})}return f.info=K(y,{higherRanks:m,totalRange:p*a}),f},T.prototype.getDateFormat=function(y,C,M,D){var x=this.dateFormat("%m-%d %H:%M:%S.%L",C),f={millisecond:15,second:12,minute:9,hour:6,day:3},m="millisecond";for(r in d){if(y===d.week&&+this.dateFormat("%w",C)===M&&"00:00:00.000"===x.substr(6)){var r="week";break}if(d[r]>y){r=m;break}if(f[r]&&x.substr(f[r])!=="01-01 00:00:00.000".substr(f[r]))break;"week"!==r&&(m=r)}if(r)var p=this.resolveDTLFormat(D[r]).main;return p},T}(),$}),wt(o,"Core/DefaultOptions.js",[o["Core/Chart/ChartDefaults.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Color/Palettes.js"],o["Core/Time.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){$=$.parse;var X=K.merge,F={colors:rt.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:Y,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:q.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:q.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:$("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};F.chart.styledMode=!1;var N=new J(X(F.global,F.time));return{defaultOptions:F,defaultTime:N,getOptions:function(){return F},setOptions:function(O){return X(!0,F,O),(O.time||O.global)&&(q.time?q.time.update(X(F.global,F.time,O.global,O.time)):q.time=N),F}}}),wt(o,"Core/Animation/Fx.js",[o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=Y.parse,J=$.win,K=q.isNumber,X=q.objectEach;return function(){function F(N,O,k){this.pos=NaN,this.options=O,this.elem=N,this.prop=k}return F.prototype.dSetter=function(){var N=this.paths,O=N&&N[0];N=N&&N[1];var k=this.now||0,g=[];if(1!==k&&O&&N)if(O.length===N.length&&1>k)for(var d=0;d<N.length;d++){for(var v=O[d],_=N[d],T=[],y=0;y<_.length;y++){var C=v[y],M=_[y];T[y]=K(C)&&K(M)&&("A"!==_[0]||4!==y&&5!==y)?C+k*(M-C):M}g.push(T)}else g=N;else g=this.toD||[];this.elem.attr("d",g,void 0,!0)},F.prototype.update=function(){var N=this.elem,O=this.prop,k=this.now,g=this.options.step;this[O+"Setter"]?this[O+"Setter"]():N.attr?N.element&&N.attr(O,k,null,!0):N.style[O]=k+this.unit,g&&g.call(N,k,this)},F.prototype.run=function(N,O,k){var g=this,d=g.options,v=function(y){return!v.stopped&&g.step(y)},_=J.requestAnimationFrame||function(y){setTimeout(y,13)},T=function(){for(var y=0;y<F.timers.length;y++)F.timers[y]()||F.timers.splice(y--,1);F.timers.length&&_(T)};N!==O||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=N,this.end=O,this.unit=k,this.now=this.start,this.pos=0,v.elem=this.elem,v.prop=this.prop,v()&&1===F.timers.push(v)&&_(T)):(delete d.curAnim[this.prop],d.complete&&0===Object.keys(d.curAnim).length&&d.complete.call(this.elem))},F.prototype.step=function(N){var O=+new Date,k=this.options,g=this.elem,d=k.complete,v=k.duration,_=k.curAnim;if(g.attr&&!g.element)N=!1;else if(N||O>=v+this.startTime){this.now=this.end,this.pos=1,this.update();var T=_[this.prop]=!0;X(_,function(y){!0!==y&&(T=!1)}),T&&d&&d.call(g),N=!1}else this.pos=k.easing((O-this.startTime)/v),this.now=this.start+(this.end-this.start)*this.pos,this.update(),N=!0;return N},F.prototype.initPath=function(N,O,k){function g(x,f){for(;x.length<D;){var m=x[0],r=f[D-x.length];r&&"M"===m[0]&&(x[0]="C"===r[0]?["C",m[1],m[2],m[1],m[2],m[1],m[2]]:["L",m[1],m[2]]),x.unshift(m),T&&(m=x.pop(),x.push(x[x.length-1],m))}}function d(x,f){for(;x.length<D;)if("C"===(f=x[Math.floor(x.length/y)-1].slice())[0]&&(f[1]=f[5],f[2]=f[6]),T){var m=x[Math.floor(x.length/y)].slice();x.splice(x.length/2,0,f,m)}else x.push(f)}var v=N.startX,_=N.endX;k=k.slice();var T=N.isArea,y=T?2:1;if(!(O=O&&O.slice()))return[k,k];if(v&&_&&_.length){for(N=0;N<v.length;N++){if(v[N]===_[0]){var C=N;break}if(v[0]===_[_.length-v.length+N]){C=N;var M=!0;break}if(v[v.length-1]===_[_.length-v.length+N]){C=v.length-N;break}}void 0===C&&(O=[])}if(O.length&&K(C)){var D=k.length+C*y;M?(g(O,k),d(k,O)):(g(k,O),d(O,k))}return[O,k]},F.prototype.fillSetter=function(){F.prototype.strokeSetter.apply(this,arguments)},F.prototype.strokeSetter=function(){this.elem.attr(this.prop,rt(this.start).tweenTo(rt(this.end),this.pos),void 0,!0)},F.timers=[],F}()}),wt(o,"Core/Animation/AnimationUtilities.js",[o["Core/Animation/Fx.js"],o["Core/Utilities.js"]],function(Y,$){function q(d){return N(d)?O({duration:500,defer:0},d):{duration:d?500:0,defer:0}}function rt(d,v){for(var _=Y.timers.length;_--;)Y.timers[_].elem!==d||v&&v!==Y.timers[_].prop||(Y.timers[_].stopped=!0)}var J=$.defined,K=$.getStyle,X=$.isArray,F=$.isNumber,N=$.isObject,O=$.merge,k=$.objectEach,g=$.pick;return{animate:function(d,v,_){var T,C,M,y="";if(!N(_)){var D=arguments;_={duration:D[2],easing:D[3],complete:D[4]}}F(_.duration)||(_.duration=400),_.easing="function"==typeof _.easing?_.easing:Math[_.easing]||Math.easeInOutSine,_.curAnim=O(v),k(v,function(x,f){rt(d,f),M=new Y(d,_,f),C=void 0,"d"===f&&X(v.d)?(M.paths=M.initPath(d,d.pathArray,v.d),M.toD=v.d,T=0,C=1):d.attr?T=d.attr(f):(T=parseFloat(K(d,f))||0,"opacity"!==f&&(y="px")),C||(C=x),"string"==typeof C&&C.match("px")&&(C=C.replace(/px/g,"")),M.run(T,C,y)})},animObject:q,getDeferredAnimation:function(d,v,_){var T=q(v),y=0,C=0;return(_?[_]:d.series).forEach(function(M){M=q(M.options.animation),y=v&&J(v.defer)?T.defer:Math.max(y,M.duration+M.defer),C=Math.min(T.duration,M.duration)}),d.renderer.forExport&&(y=0),{defer:Math.max(0,y-C),duration:Math.min(y,C)}},setAnimation:function(d,v){v.renderer.globalAnimation=g(d,v.options.chart.animation,!0)},stop:rt}}),wt(o,"Core/Renderer/HTML/AST.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$){var q=Y.SVG_NS,rt=$.attr,J=$.createElement,K=$.error,X=$.isFunction,F=$.isString,N=$.objectEach,O=$.splat,k=($=Y.win.trustedTypes)&&X($.createPolicy)&&$.createPolicy("highcharts",{createHTML:function(v){return v}}),g=k?k.createHTML(""):"";try{var d=!!(new DOMParser).parseFromString(g,"text/html")}catch(v){d=!1}return function(){function v(_){this.nodes="string"==typeof _?this.parseMarkup(_):_}return v.filterUserAttributes=function(_){return N(_,function(T,y){var C=!0;-1===v.allowedAttributes.indexOf(y)&&(C=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(y)&&(C=F(T)&&v.allowedReferences.some(function(M){return 0===T.indexOf(M)})),C||(K("Highcharts warning: Invalid attribute '"+y+"' in config"),delete _[y])}),_},v.setElementHTML=function(_,T){_.innerHTML=v.emptyHTML,T&&new v(T).addToDOM(_)},v.prototype.addToDOM=function(_){return function T(y,C){var M;return O(y).forEach(function(D){var x=D.tagName,f=D.textContent?Y.doc.createTextNode(D.textContent):void 0;if(x)if("#text"===x)var m=f;else if(-1!==v.allowedTags.indexOf(x)){x=Y.doc.createElementNS("svg"===x?q:C.namespaceURI||q,x);var r=D.attributes||{};N(D,function(p,a){"tagName"!==a&&"attributes"!==a&&"children"!==a&&"textContent"!==a&&(r[a]=p)}),rt(x,v.filterUserAttributes(r)),f&&x.appendChild(f),T(D.children||[],x),m=x}else K("Highcharts warning: Invalid tagName "+x+" in config");m&&C.appendChild(m),M=m}),M}(this.nodes,_)},v.prototype.parseMarkup=function(_){var T=[];if(_=_.trim(),d)_=(new DOMParser).parseFromString(k?k.createHTML(_):_,"text/html");else{var y=J("div");y.innerHTML=_,_={body:y}}var C=function(M,D){var x=M.nodeName.toLowerCase(),f={tagName:x};if("#text"===x&&(f.textContent=M.textContent||""),x=M.attributes){var m={};[].forEach.call(x,function(p){m[p.name]=p.value}),f.attributes=m}if(M.childNodes.length){var r=[];[].forEach.call(M.childNodes,function(p){C(p,r)}),r.length&&(f.children=r)}D.push(f)};return[].forEach.call(_.body.childNodes,function(M){return C(M,T)}),T},v.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),v.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),v.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),v.emptyHTML=g,v}()}),wt(o,"Core/FormatUtilities.js",[o["Core/DefaultOptions.js"],o["Core/Utilities.js"]],function(Y,$){function q(O,k,g,d){k=+k;var v=rt.lang,_=((O=+O||0).toString().split(".")[1]||"").split("e")[0].length,T=O.toString().split("e"),y=k;if(-1===k)k=Math.min(_,20);else if(X(k)){if(k&&T[1]&&0>T[1]){var C=k+ +T[1];0<=C?(T[0]=(+T[0]).toExponential(C).split("e")[0],k=C):(T[0]=T[0].split(".")[0]||0,O=20>k?(T[0]*Math.pow(10,T[1])).toFixed(k):0,T[1]=0)}}else k=2;C=(Math.abs(T[1]?T[0]:O)+Math.pow(10,-Math.max(k,_)-1)).toFixed(k);var M=3<(_=String(N(C))).length?_.length%3:0;return g=F(g,v.decimalPoint),d=F(d,v.thousandsSep),O=(0>O?"-":"")+(M?_.substr(0,M)+d:""),O=0>+T[1]&&!y?"0":O+_.substr(M).replace(/(\d{3})(?=\d)/g,"$1"+d),k&&(O+=g+C.slice(-k)),T[1]&&0!=+O&&(O+="e"+T[1]),O}var rt=Y.defaultOptions,J=Y.defaultTime,K=$.getNestedProperty,X=$.isNumber,F=$.pick,N=$.pInt;return{dateFormat:function(O,k,g){return J.dateFormat(O,k,g)},format:function(O,k,g){var d="{",v=!1,_=/f$/,T=/\.([0-9])/,y=rt.lang,C=g&&g.time||J;g=g&&g.numberFormatter||q;for(var M=[];O;){var D=O.indexOf(d);if(-1===D)break;var x=O.slice(0,D);if(v){if(x=x.split(":"),d=K(x.shift()||"",k),x.length&&"number"==typeof d)if(x=x.join(":"),_.test(x)){var f=parseInt((x.match(T)||["","-1"])[1],10);null!==d&&(d=g(d,f,y.decimalPoint,-1<x.indexOf(",")?y.thousandsSep:""))}else d=C.dateFormat(x,d);M.push(d)}else M.push(x);O=O.slice(D+1),d=(v=!v)?"}":"{"}return M.push(O),M.join("")},numberFormat:q}}),wt(o,"Core/Renderer/RendererUtilities.js",[o["Core/Utilities.js"]],function(Y){var J,$=Y.clamp,q=Y.pick,rt=Y.stableSort;return(J||(J={})).distribute=function X(F,N,O){var _,k=F,g=k.reducedLen||N,d=function(M,D){return(D.rank||0)-(M.rank||0)},v=function(M,D){return M.target-D.target},T=!0,y=[],C=0;for(_=F.length;_--;)C+=F[_].size;if(C>g){for(rt(F,d),C=_=0;C<=g;)C+=F[_].size,_++;y=F.splice(_-1,F.length)}for(rt(F,v),F=F.map(function(M){return{size:M.size,targets:[M.target],align:q(M.align,.5)}});T;){for(_=F.length;_--;)g=F[_],d=(Math.min.apply(0,g.targets)+Math.max.apply(0,g.targets))/2,g.pos=$(d-g.size*g.align,0,N-g.size);for(_=F.length,T=!1;_--;)0<_&&F[_-1].pos+F[_-1].size>F[_].pos&&(F[_-1].size+=F[_].size,F[_-1].targets=F[_-1].targets.concat(F[_].targets),F[_-1].align=.5,F[_-1].pos+F[_-1].size>N&&(F[_-1].pos=N-F[_-1].size),F.splice(_,1),T=!0)}return k.push.apply(k,y),_=0,F.some(function(M){var D=0;return(M.targets||[]).some(function(){return k[_].pos=M.pos+D,void 0!==O&&Math.abs(k[_].pos-k[_].target)>O?(k.slice(0,_+1).forEach(function(x){return delete x.pos}),k.reducedLen=(k.reducedLen||N)-.1*N,k.reducedLen>.1*N&&X(k,N,O),!0):(D+=k[_].size,_++,!1)})}),rt(k,v),k},J}),wt(o,"Core/Renderer/SVG/SVGElement.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Renderer/HTML/AST.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var K=Y.animate,X=Y.animObject,F=Y.stop,N=rt.deg2rad,O=rt.doc,k=rt.noop,g=rt.svg,d=rt.SVG_NS,v=rt.win,_=J.addEvent,T=J.attr,y=J.createElement,C=J.css,M=J.defined,D=J.erase,x=J.extend,f=J.fireEvent,m=J.isArray,r=J.isFunction,p=J.isNumber,a=J.isString,n=J.merge,h=J.objectEach,l=J.pick,w=J.pInt,P=J.syncTimeout,I=J.uniqueKey;return Y=function(){function L(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=d,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return L.prototype._defaultGetter=function(S){return S=l(this[S+"Value"],this[S],this.element?this.element.getAttribute(S):null,0),/^[\-0-9\.]+$/.test(S)&&(S=parseFloat(S)),S},L.prototype._defaultSetter=function(S,B,c){c.setAttribute(B,S)},L.prototype.add=function(S){var B=this.renderer,c=this.element;if(S&&(this.parentGroup=S),this.parentInverted=S&&S.inverted,void 0!==this.textStr&&"text"===this.element.nodeName&&B.buildText(this),this.added=!0,!S||S.handleZ||this.zIndex)var u=this.zIndexSetter();return u||(S?S.element:B.box).appendChild(c),this.onAdd&&this.onAdd(),this},L.prototype.addClass=function(S,B){var c=B?"":this.attr("class")||"";return(S=(S||"").split(/ /g).reduce(function(u,E){return-1===c.indexOf(E)&&u.push(E),u},c?[c]:[]).join(" "))!==c&&this.attr("class",S),this},L.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},L.prototype.align=function(S,B,c){var G,W,b,u={},E=this.renderer,j=E.alignedObjects;S?(this.alignOptions=S,this.alignByTranslate=B,(!c||a(c))&&(this.alignTo=G=c||"renderer",D(j,this),j.push(this),c=void 0)):(S=this.alignOptions,B=this.alignByTranslate,G=this.alignTo),c=l(c,E[G],"scrollablePlotBox"===G?E.plotBox:void 0,E);var z=S.verticalAlign;return E=(c.x||0)+(S.x||0),j=(c.y||0)+(S.y||0),"right"===(G=S.align)?W=1:"center"===G&&(W=2),W&&(E+=(c.width-(S.width||0))/W),u[B?"translateX":"x"]=Math.round(E),"bottom"===z?b=1:"middle"===z&&(b=2),b&&(j+=(c.height-(S.height||0))/b),u[B?"translateY":"y"]=Math.round(j),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},L.prototype.alignSetter=function(S){var B={left:"start",center:"middle",right:"end"};B[S]&&(this.alignValue=S,this.element.setAttribute("text-anchor",B[S]))},L.prototype.animate=function(S,B,c){var u=this,E=X(l(B,this.renderer.globalAnimation,!0));return B=E.defer,l(O.hidden,O.msHidden,O.webkitHidden,!1)&&(E.duration=0),0!==E.duration?(c&&(E.complete=c),P(function(){u.element&&K(u,S,E)},B)):(this.attr(S,void 0,c),h(S,function(j,G){E.step&&E.step.call(this,j,{prop:G,pos:1,elem:this})},this)),this},L.prototype.applyTextOutline=function(S){var B=this.element;-1!==S.indexOf("contrast")&&(S=S.replace(/contrast/g,this.renderer.getContrast(B.style.fill)));var c=S.split(" ");if(S=c[c.length-1],(c=c[0])&&"none"!==c&&rt.svg){this.fakeTS=!0,this.ySetter=this.xSetter,c=c.replace(/(^[\d\.]+)(.*?)$/g,function(j,G,W){return 2*Number(G)+W}),this.removeTextOutline();var u=O.createElementNS(d,"tspan");T(u,{class:"highcharts-text-outline",fill:S,stroke:S,"stroke-width":c,"stroke-linejoin":"round"}),[].forEach.call(B.childNodes,function(j){var G=j.cloneNode(!0);G.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(W){return G.removeAttribute(W)}),u.appendChild(G)});var E=O.createElementNS(d,"tspan");E.textContent="\u200b",["x","y"].forEach(function(j){var G=B.getAttribute(j);G&&E.setAttribute(j,G)}),u.appendChild(E),B.insertBefore(u,B.firstChild)}},L.prototype.attr=function(S,B,c,u){var G,b,z,E=this.element,j=this.symbolCustomAttribs,W=this;if("string"==typeof S&&void 0!==B){var R=S;(S={})[R]=B}return"string"==typeof S?W=(this[S+"Getter"]||this._defaultGetter).call(this,S,E):(h(S,function(V,Z){b=!1,u||F(this,Z),this.symbolName&&-1!==j.indexOf(Z)&&(G||(this.symbolAttr(S),G=!0),b=!0),!this.rotation||"x"!==Z&&"y"!==Z||(this.doTransform=!0),b||((z=this[Z+"Setter"]||this._defaultSetter).call(this,V,Z,E),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(Z)&&this.updateShadows(Z,V,z))},this),this.afterSetters()),c&&c.call(this),W},L.prototype.clip=function(S){return this.attr("clip-path",S?"url("+this.renderer.url+"#"+S.id+")":"none")},L.prototype.crisp=function(S,B){B=B||S.strokeWidth||0;var c=Math.round(B)%2/2;return S.x=Math.floor(S.x||this.x||0)+c,S.y=Math.floor(S.y||this.y||0)+c,S.width=Math.floor((S.width||this.width||0)-2*c),S.height=Math.floor((S.height||this.height||0)-2*c),M(S.strokeWidth)&&(S.strokeWidth=B),S},L.prototype.complexColor=function(S,B,c){var E,j,G,W,b,z,R,V,Z,nt,ot,u=this.renderer,it=[];f(this.renderer,"complexColor",{args:arguments},function(){if(S.radialGradient?j="radialGradient":S.linearGradient&&(j="linearGradient"),j){if(b=u.gradients,z=S.stops,Z=c.radialReference,m(G=S[j])&&(S[j]=G={x1:G[0],y1:G[1],x2:G[2],y2:G[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===j&&Z&&!M(G.gradientUnits)&&(G=n(G,u.getRadialAttr(Z,W=G),{gradientUnits:"userSpaceOnUse"})),h(G,function(mt,_t){"id"!==_t&&it.push(_t,mt)}),h(z,function(mt){it.push(mt)}),it=it.join(","),b[it])nt=b[it].attr("id");else{G.id=nt=I();var at=b[it]=u.createElement(j).attr(G).add(u.defs);at.radAttr=W,at.stops=[],z.forEach(function(mt){0===mt[1].indexOf("rgba")?(E=q.parse(mt[1]),R=E.get("rgb"),V=E.get("a")):(R=mt[1],V=1),mt=u.createElement("stop").attr({offset:mt[0],"stop-color":R,"stop-opacity":V}).add(at),at.stops.push(mt)})}c.setAttribute(B,ot="url("+u.url+"#"+nt+")"),c.gradient=it,S.toString=function(){return ot}}})},L.prototype.css=function(S){var B=this.styles,c={},u=this.element,E=["textOutline","textOverflow","width"],j="",G=!B;if(S&&S.color&&(S.fill=S.color),B&&h(S,function(z,R){B&&B[R]!==z&&(c[R]=z,G=!0)}),G){if(B&&(S=x(B,c)),S)if(null===S.width||"auto"===S.width)delete this.textWidth;else if("text"===u.nodeName.toLowerCase()&&S.width)var W=this.textWidth=w(S.width);if(this.styles=S,W&&!g&&this.renderer.forExport&&delete S.width,u.namespaceURI===this.SVG_NS){var b=function(z,R){return"-"+R.toLowerCase()};h(S,function(z,R){-1===E.indexOf(R)&&(j+=R.replace(/([A-Z])/g,b)+":"+z+";")}),j&&T(u,"style",j)}else C(u,S);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),S&&S.textOutline&&this.applyTextOutline(S.textOutline))}return this},L.prototype.dashstyleSetter=function(S){var B=this["stroke-width"];if("inherit"===B&&(B=1),S=S&&S.toLowerCase()){var c=S.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(S=c.length;S--;)c[S]=""+w(c[S])*l(B,NaN);S=c.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",S)}},L.prototype.destroy=function(){var S=this,B=S.element||{},c=S.renderer,u=B.ownerSVGElement,E=c.isSVG&&"SPAN"===B.nodeName&&S.parentGroup||void 0;if(B.onclick=B.onmouseout=B.onmouseover=B.onmousemove=B.point=null,F(S),S.clipPath&&u){var j=S.clipPath;[].forEach.call(u.querySelectorAll("[clip-path],[CLIP-PATH]"),function(G){-1<G.getAttribute("clip-path").indexOf(j.element.id)&&G.removeAttribute("clip-path")}),S.clipPath=j.destroy()}if(S.stops){for(u=0;u<S.stops.length;u++)S.stops[u].destroy();S.stops.length=0,S.stops=void 0}for(S.safeRemoveChild(B),c.styledMode||S.destroyShadows();E&&E.div&&0===E.div.childNodes.length;)B=E.parentGroup,S.safeRemoveChild(E.div),delete E.div,E=B;S.alignTo&&D(c.alignedObjects,S),h(S,function(G,W){S[W]&&S[W].parentGroup===S&&S[W].destroy&&S[W].destroy(),delete S[W]})},L.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(S){this.safeRemoveChild(S)},this),this.shadows=void 0},L.prototype.destroyTextPath=function(S,B){var c=S.getElementsByTagName("text")[0];if(c){if(c.removeAttribute("dx"),c.removeAttribute("dy"),B.element.setAttribute("id",""),this.textPathWrapper&&c.getElementsByTagName("textPath").length){for(S=this.textPathWrapper.element.childNodes;S.length;)c.appendChild(S[0]);c.removeChild(this.textPathWrapper.element)}}else(S.getAttribute("dx")||S.getAttribute("dy"))&&(S.removeAttribute("dx"),S.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},L.prototype.dSetter=function(S,B,c){m(S)&&("string"==typeof S[0]&&(S=this.renderer.pathToSegments(S)),this.pathArray=S,S=S.reduce(function(u,E,j){return E&&E.join?(j?u+" ":"")+E.join(" "):(E||"").toString()},"")),/(NaN| {2}|^$)/.test(S)&&(S="M 0 0"),this[B]!==S&&(c.setAttribute(B,S),this[B]=S)},L.prototype.fadeOut=function(S){var B=this;B.animate({opacity:0},{duration:l(S,150),complete:function(){B.attr({y:-9999}).hide()}})},L.prototype.fillSetter=function(S,B,c){"string"==typeof S?c.setAttribute(B,S):S&&this.complexColor(S,B,c)},L.prototype.getBBox=function(S,B){var c=this.renderer,u=this.element,E=this.styles,j=this.textStr,G=c.cache,W=c.cacheKeys,b=u.namespaceURI===this.SVG_NS;B=l(B,this.rotation,0);var R,z=c.styledMode?u&&L.prototype.getStyle.call(u,"font-size"):E&&E.fontSize;if(M(j)){var V=j.toString();-1===V.indexOf("<")&&(V=V.replace(/[0-9]/g,"0")),V+=["",B,z,this.textWidth,E&&E.textOverflow,E&&E.fontWeight].join()}if(V&&!S&&(R=G[V]),!R){if(b||c.forExport){try{var Z=this.fakeTS&&function(nt){var it=u.querySelector(".highcharts-text-outline");it&&C(it,{display:nt})};r(Z)&&Z("none"),R=u.getBBox?x({},u.getBBox()):{width:u.offsetWidth,height:u.offsetHeight},r(Z)&&Z("")}catch(nt){}(!R||0>R.width)&&(R={width:0,height:0})}else R=this.htmlGetBBox();if(c.isSVG&&(S=R.width,c=R.height,b&&(R.height=c={"11px,17":14,"13px,20":16}[(z||"")+","+Math.round(c)]||c),B&&(b=B*N,R.width=Math.abs(c*Math.sin(b))+Math.abs(S*Math.cos(b)),R.height=Math.abs(c*Math.cos(b))+Math.abs(S*Math.sin(b)))),V&&(""===j||0<R.height)){for(;250<W.length;)delete G[W.shift()];G[V]||W.push(V),G[V]=R}}return R},L.prototype.getStyle=function(S){return v.getComputedStyle(this.element||this,"").getPropertyValue(S)},L.prototype.hasClass=function(S){return-1!==(""+this.attr("class")).split(" ").indexOf(S)},L.prototype.hide=function(S){return this.attr(S?{y:-9999}:{visibility:"hidden"}),this},L.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},L.prototype.init=function(S,B){this.element="span"===B?y(B):O.createElementNS(this.SVG_NS,B),this.renderer=S,f(this,"afterInit")},L.prototype.invert=function(S){return this.inverted=S,this.updateTransform(),this},L.prototype.on=function(S,B){var c=this.onEvents;return c[S]&&c[S](),c[S]=_(this.element,S,B),this},L.prototype.opacitySetter=function(S,B,c){this.opacity=S=Number(Number(S).toFixed(3)),c.setAttribute(B,S)},L.prototype.removeClass=function(S){return this.attr("class",(""+this.attr("class")).replace(a(S)?new RegExp("(^| )"+S+"( |$)"):S," ").replace(/ +/g," ").trim())},L.prototype.removeTextOutline=function(){var S=this.element.querySelector("tspan.highcharts-text-outline");S&&this.safeRemoveChild(S)},L.prototype.safeRemoveChild=function(S){var B=S.parentNode;B&&B.removeChild(S)},L.prototype.setRadialReference=function(S){var B=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=S,B&&B.radAttr&&B.animate(this.renderer.getRadialAttr(S,B.radAttr)),this},L.prototype.setTextPath=function(S,B){var c=this.element,u=this.text?this.text.element:c,E={textAnchor:"text-anchor"},j=!1,G=this.textPathWrapper,W=!G;B=n(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},B);var b=$.filterUserAttributes(B.attributes);if(S&&B&&B.enabled){G&&null===G.element.parentNode?(W=!0,G=G.destroy()):G&&this.removeTextOutline.call(G.parentGroup),this.options&&this.options.padding&&(b.dx=-this.options.padding),G||(this.textPathWrapper=G=this.renderer.createElement("textPath"),j=!0);var z=G.element;if((B=S.element.getAttribute("id"))||S.element.setAttribute("id",B=I()),W)for(u.setAttribute("y",0),p(b.dx)&&u.setAttribute("x",-b.dx),S=[].slice.call(u.childNodes),W=0;W<S.length;W++){var R=S[W];R.nodeType!==v.Node.TEXT_NODE&&"tspan"!==R.nodeName||z.appendChild(R)}j&&G&&G.add({element:u}),z.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+B),M(b.dy)&&(z.parentNode.setAttribute("dy",b.dy),delete b.dy),M(b.dx)&&(z.parentNode.setAttribute("dx",b.dx),delete b.dx),h(b,function(V,Z){z.setAttribute(E[Z]||Z,V)}),c.removeAttribute("transform"),this.removeTextOutline.call(G),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=k}else G&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(c,S),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},L.prototype.shadow=function(S,B,c){var b,u=[],E=this.element,j=this.oldShadowOptions,G={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},W=!1;if(!0===S?b=G:"object"==typeof S&&(b=x(G,S)),b&&(b&&j&&h(b,function(nt,it){nt!==j[it]&&(W=!0)}),W&&this.destroyShadows(),this.oldShadowOptions=b),b){if(!this.shadows){var z=b.opacity/b.width,R=this.parentInverted?"translate("+b.offsetY+", "+b.offsetX+")":"translate("+b.offsetX+", "+b.offsetY+")";for(G=1;G<=b.width;G++){var V=E.cloneNode(!1),Z=2*b.width+1-2*G;T(V,{stroke:S.color||"#000000","stroke-opacity":z*G,"stroke-width":Z,transform:R,fill:"none"}),V.setAttribute("class",(V.getAttribute("class")||"")+" highcharts-shadow"),c&&(T(V,"height",Math.max(T(V,"height")-Z,0)),V.cutHeight=Z),B?B.element.appendChild(V):E.parentNode&&E.parentNode.insertBefore(V,E),u.push(V)}this.shadows=u}}else this.destroyShadows();return this},L.prototype.show=function(S){return this.attr({visibility:S?"inherit":"visible"})},L.prototype.strokeSetter=function(S,B,c){this[B]=S,this.stroke&&this["stroke-width"]?(L.prototype.fillSetter.call(this,this.stroke,"stroke",c),c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===B&&0===S&&this.hasStroke?(c.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},L.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var S=this.getStyle("stroke-width"),B=0;if(S.indexOf("px")===S.length-2)B=w(S);else if(""!==S){var c=O.createElementNS(d,"rect");T(c,{width:S,"stroke-width":0}),this.element.parentNode.appendChild(c),B=c.getBBox().width,c.parentNode.removeChild(c)}return B},L.prototype.symbolAttr=function(S){var B=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(c){B[c]=l(S[c],B[c])}),B.attr({d:B.renderer.symbols[B.symbolName](B.x,B.y,B.width,B.height,B)})},L.prototype.textSetter=function(S){S!==this.textStr&&(delete this.textPxLength,this.textStr=S,this.added&&this.renderer.buildText(this))},L.prototype.titleSetter=function(S){var B=this.element,c=B.getElementsByTagName("title")[0]||O.createElementNS(this.SVG_NS,"title");B.insertBefore?B.insertBefore(c,B.firstChild):B.appendChild(c),c.textContent=String(l(S,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},L.prototype.toFront=function(){var S=this.element;return S.parentNode.appendChild(S),this},L.prototype.translate=function(S,B){return this.attr({translateX:S,translateY:B})},L.prototype.updateShadows=function(S,B,c){var u=this.shadows;if(u)for(var E=u.length;E--;)c.call(u[E],"height"===S?Math.max(B-(u[E].cutHeight||0),0):"d"===S?this.d:B,S,u[E])},L.prototype.updateTransform=function(){var S=this.scaleX,B=this.scaleY,c=this.inverted,u=this.rotation,E=this.matrix,j=this.element,G=this.translateX||0,W=this.translateY||0;c&&(G+=this.width,W+=this.height),G=["translate("+G+","+W+")"],M(E)&&G.push("matrix("+E.join(",")+")"),c?G.push("rotate(90) scale(-1,1)"):u&&G.push("rotate("+u+" "+l(this.rotationOriginX,j.getAttribute("x"),0)+" "+l(this.rotationOriginY,j.getAttribute("y")||0)+")"),(M(S)||M(B))&&G.push("scale("+l(S,1)+" "+l(B,1)+")"),G.length&&j.setAttribute("transform",G.join(" "))},L.prototype.visibilitySetter=function(S,B,c){"inherit"===S?c.removeAttribute(B):this[B]!==S&&c.setAttribute(B,S),this[B]=S},L.prototype.xGetter=function(S){return"circle"===this.element.nodeName&&("x"===S?S="cx":"y"===S&&(S="cy")),this._defaultGetter(S)},L.prototype.zIndexSetter=function(S,B){var c=this.renderer,u=this.parentGroup,E=(u||c).element||c.box,j=this.element;c=E===c.box;var b,G=!1,W=this.added;if(M(S)?(j.setAttribute("data-z-index",S),this[B]===(S=+S)&&(W=!1)):M(this[B])&&j.removeAttribute("data-z-index"),this[B]=S,W){for((S=this.zIndex)&&u&&(u.handleZ=!0),b=(B=E.childNodes).length-1;0<=b&&!G;b--){W=(u=B[b]).getAttribute("data-z-index");var z=!M(W);u!==j&&(0>S&&z&&!c&&!b?(E.insertBefore(j,B[b]),G=!0):(w(W)<=S||z&&(!M(S)||0<=S))&&(E.insertBefore(j,B[b+1]||null),G=!0))}G||(E.insertBefore(j,B[c?3:0]||null),G=!0)}return G},L}(),Y.prototype["stroke-widthSetter"]=Y.prototype.strokeSetter,Y.prototype.yGetter=Y.prototype.xGetter,Y.prototype.matrixSetter=Y.prototype.rotationOriginXSetter=Y.prototype.rotationOriginYSetter=Y.prototype.rotationSetter=Y.prototype.scaleXSetter=Y.prototype.scaleYSetter=Y.prototype.translateXSetter=Y.prototype.translateYSetter=Y.prototype.verticalAlignSetter=function(L,S){this[S]=L,this.doTransform=!0},Y}),wt(o,"Core/Renderer/RendererRegistry.js",[o["Core/Globals.js"]],function(Y){var $,q,rt;return(q=$||($={})).rendererTypes={},q.getRendererType=function(J){return void 0===J&&(J=rt),q.rendererTypes[J]||q.rendererTypes[rt]},q.registerRendererType=function(J,K,X){q.rendererTypes[J]=K,(!rt||X)&&(rt=J,Y.Renderer=K)},$}),wt(o,"Core/Renderer/SVG/SVGLabel.js",[o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$){var O,q=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),rt=$.defined,J=$.extend,K=$.isNumber,X=$.merge,F=$.pick,N=$.removeEvent;return function(O){function k(g,d,v,_,T,y,C,M,D,x){var m,f=O.call(this)||this;return f.paddingLeftSetter=f.paddingSetter,f.paddingRightSetter=f.paddingSetter,f.init(g,"g"),f.textStr=d,f.x=v,f.y=_,f.anchorX=y,f.anchorY=C,f.baseline=D,f.className=x,f.addClass("button"===x?"highcharts-no-tooltip":"highcharts-label"),x&&f.addClass("highcharts-"+x),f.text=g.text(void 0,0,0,M).attr({zIndex:1}),"string"==typeof T&&((m=/^url\((.*?)\)$/.test(T))||f.renderer.symbols[T])&&(f.symbolKey=T),f.bBox=k.emptyBBox,f.padding=3,f.baselineOffset=0,f.needsBox=g.styledMode||m,f.deferredAttr={},f.alignFactor=0,f}return q(k,O),k.prototype.alignSetter=function(g){(g={left:0,center:.5,right:1}[g])!==this.alignFactor&&(this.alignFactor=g,this.bBox&&K(this.xSetting)&&this.attr({x:this.xSetting}))},k.prototype.anchorXSetter=function(g,d){this.anchorX=g,this.boxAttr(d,Math.round(g)-this.getCrispAdjust()-this.xSetting)},k.prototype.anchorYSetter=function(g,d){this.anchorY=g,this.boxAttr(d,g-this.ySetting)},k.prototype.boxAttr=function(g,d){this.box?this.box.attr(g,d):this.deferredAttr[g]=d},k.prototype.css=function(g){if(g){var d={};g=X(g),k.textProps.forEach(function(_){void 0!==g[_]&&(d[_]=g[_],delete g[_])}),this.text.css(d);var v="width"in d;"fontSize"in d||"fontWeight"in d?this.updateTextPadding():v&&this.updateBoxSize()}return Y.prototype.css.call(this,g)},k.prototype.destroy=function(){N(this.element,"mouseenter"),N(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Y.prototype.destroy.call(this)},k.prototype.fillSetter=function(g,d){g&&(this.needsBox=!0),this.fill=g,this.boxAttr(d,g)},k.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var g=this.padding,d=F(this.paddingLeft,g);return{width:this.width,height:this.height,x:this.bBox.x-d,y:this.bBox.y-g}},k.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},k.prototype.heightSetter=function(g){this.heightSetting=g},k.prototype.onAdd=function(){var g=this.textStr;this.text.add(this),this.attr({text:rt(g)?g:"",x:this.x,y:this.y}),this.box&&rt(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},k.prototype.paddingSetter=function(g,d){K(g)?g!==this[d]&&(this[d]=g,this.updateTextPadding()):this[d]=void 0},k.prototype.rSetter=function(g,d){this.boxAttr(d,g)},k.prototype.shadow=function(g){return g&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(g)),this},k.prototype.strokeSetter=function(g,d){this.stroke=g,this.boxAttr(d,g)},k.prototype["stroke-widthSetter"]=function(g,d){g&&(this.needsBox=!0),this["stroke-width"]=g,this.boxAttr(d,g)},k.prototype["text-alignSetter"]=function(g){this.textAlign=g},k.prototype.textSetter=function(g){void 0!==g&&this.text.attr({text:g}),this.updateTextPadding()},k.prototype.updateBoxSize=function(){var g=this.text.element.style,d={},v=this.padding,_=this.bBox=K(this.widthSetting)&&K(this.heightSetting)&&!this.textAlign||!rt(this.text.textStr)?k.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||_.height||0)+2*v,g=this.renderer.fontMetrics(g&&g.fontSize,this.text),this.baselineOffset=v+Math.min((this.text.firstLineMetrics||g).b,_.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-g.h)/2),this.needsBox&&(this.box||((v=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),v.add(this)),v=this.getCrispAdjust(),d.x=v,d.y=(this.baseline?-this.baselineOffset:0)+v,d.width=Math.round(this.width),d.height=Math.round(this.height),this.box.attr(J(d,this.deferredAttr)),this.deferredAttr={})},k.prototype.updateTextPadding=function(){var g=this.text;this.updateBoxSize();var d=this.baseline?0:this.baselineOffset,v=F(this.paddingLeft,this.padding);rt(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(v+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(v!==g.x||d!==g.y)&&(g.attr("x",v),g.hasBoxWidthChanged&&(this.bBox=g.getBBox(!0)),void 0!==d&&g.attr("y",d)),g.x=v,g.y=d},k.prototype.widthSetter=function(g){this.widthSetting=K(g)?g:void 0},k.prototype.getPaddedWidth=function(){var g=this.padding,d=F(this.paddingLeft,g);return g=F(this.paddingRight,g),(this.widthSetting||this.bBox.width||0)+d+g},k.prototype.xSetter=function(g){this.x=g,this.alignFactor&&(g-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(g),this.attr("translateX",this.xSetting)},k.prototype.ySetter=function(g){this.ySetting=this.y=Math.round(g),this.attr("translateY",this.ySetting)},k.emptyBBox={width:0,height:0,x:0,y:0},k.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),k}(Y)}),wt(o,"Core/Renderer/SVG/Symbols.js",[o["Core/Utilities.js"]],function(Y){function $(F,N,O,k,g){var d=[];if(g){var v=g.start||0,_=X(g.r,O);O=X(g.r,k||O);var T=(g.end||0)-.001;k=g.innerR;var y=X(g.open,.001>Math.abs((g.end||0)-v-2*Math.PI)),C=Math.cos(v),M=Math.sin(v),D=Math.cos(T),x=Math.sin(T);v=X(g.longArc,.001>T-v-Math.PI?0:1),d.push(["M",F+_*C,N+O*M],["A",_,O,0,v,X(g.clockwise,1),F+_*D,N+O*x]),J(k)&&d.push(y?["M",F+k*D,N+k*x]:["L",F+k*D,N+k*x],["A",k,k,0,v,J(g.clockwise)?1-g.clockwise:0,F+k*C,N+k*M]),y||d.push(["Z"])}return d}function q(F,N,O,k,g){return g&&g.r?rt(F,N,O,k,g):[["M",F,N],["L",F+O,N],["L",F+O,N+k],["L",F,N+k],["Z"]]}function rt(F,N,O,k,g){return[["M",F+(g=g&&g.r||0),N],["L",F+O-g,N],["C",F+O,N,F+O,N,F+O,N+g],["L",F+O,N+k-g],["C",F+O,N+k,F+O,N+k,F+O-g,N+k],["L",F+g,N+k],["C",F,N+k,F,N+k,F,N+k-g],["L",F,N+g],["C",F,N,F,N,F+g,N]]}var J=Y.defined,K=Y.isNumber,X=Y.pick;return{arc:$,callout:function(F,N,O,k,g){var d=Math.min(g&&g.r||0,O,k),v=d+6,_=g&&g.anchorX;g=g&&g.anchorY||0;var T=rt(F,N,O,k,{r:d});return K(_)&&(F+_>=O?g>N+v&&g<N+k-v?T.splice(3,1,["L",F+O,g-6],["L",F+O+6,g],["L",F+O,g+6],["L",F+O,N+k-d]):T.splice(3,1,["L",F+O,k/2],["L",_,g],["L",F+O,k/2],["L",F+O,N+k-d]):0>=F+_?g>N+v&&g<N+k-v?T.splice(7,1,["L",F,g+6],["L",F-6,g],["L",F,g-6],["L",F,N+d]):T.splice(7,1,["L",F,k/2],["L",_,g],["L",F,k/2],["L",F,N+d]):g&&g>k&&_>F+v&&_<F+O-v?T.splice(5,1,["L",_+6,N+k],["L",_,N+k+6],["L",_-6,N+k],["L",F+d,N+k]):g&&0>g&&_>F+v&&_<F+O-v&&T.splice(1,1,["L",_-6,N],["L",_,N-6],["L",_+6,N],["L",O-d,N])),T},circle:function(F,N,O,k){return $(F+O/2,N+k/2,O/2,k/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(F,N,O,k){return[["M",F+O/2,N],["L",F+O,N+k/2],["L",F+O/2,N+k],["L",F,N+k/2],["Z"]]},rect:q,roundedRect:rt,square:q,triangle:function(F,N,O,k){return[["M",F+O/2,N],["L",F+O,N+k],["L",F,N+k],["Z"]]},"triangle-down":function(F,N,O,k){return[["M",F,N],["L",F+O,N],["L",F+O/2,N+k],["Z"]]}}}),wt(o,"Core/Renderer/SVG/TextBuilder.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=$.doc,J=$.SVG_NS,K=$.win,X=q.attr,F=q.isString,N=q.objectEach,O=q.pick;return function(){function k(g){var d=g.styles;this.renderer=g.renderer,this.svgElement=g,this.width=g.textWidth,this.textLineHeight=d&&d.lineHeight,this.textOutline=d&&d.textOutline,this.ellipsis=!(!d||"ellipsis"!==d.textOverflow),this.noWrap=!(!d||"nowrap"!==d.whiteSpace),this.fontSize=d&&d.fontSize}return k.prototype.buildSVG=function(){var g=this.svgElement,d=g.element,v=g.renderer,_=O(g.textStr,"").toString(),T=-1!==_.indexOf("<"),y=d.childNodes;v=this.width&&!g.added&&v.box;var M=[_,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(M!==g.textCache){for(g.textCache=M,delete g.actualWidth,M=y.length;M--;)d.removeChild(y[M]);T||this.ellipsis||this.width||-1!==_.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(_))?""!==_&&(v&&v.appendChild(d),_=new Y(_),this.modifyTree(_.nodes),_.addToDOM(g.element),this.modifyDOM(),this.ellipsis&&-1!==(d.textContent||"").indexOf("\u2026")&&g.attr("title",this.unescapeEntities(g.textStr||"",["&lt;","&gt;"])),v&&v.removeChild(d)):d.appendChild(rt.createTextNode(this.unescapeEntities(_))),F(this.textOutline)&&g.applyTextOutline&&g.applyTextOutline(this.textOutline)}},k.prototype.modifyDOM=function(){var _,g=this,d=this.svgElement,v=X(d.element,"x");for(d.firstLineMetrics=void 0;(_=d.element.firstChild)&&/^[\s\u200B]*$/.test(_.textContent||" ");)d.element.removeChild(_);[].forEach.call(d.element.querySelectorAll("tspan.highcharts-br"),function(M,D){M.nextSibling&&M.previousSibling&&(0===D&&1===M.previousSibling.nodeType&&(d.firstLineMetrics=d.renderer.fontMetrics(void 0,M.previousSibling)),X(M,{dy:g.getLineHeight(M.nextSibling),x:v}))});var T=this.width||0;if(T){var C=function(M){[].slice.call(M.childNodes).forEach(function(D){D.nodeType===K.Node.TEXT_NODE?function(M,D){var x=M.textContent||"",f=x.replace(/([^\^])-/g,"$1- ").split(" "),m=!g.noWrap&&(1<f.length||1<d.element.childNodes.length),r=g.getLineHeight(D),p=0,a=d.actualWidth;if(g.ellipsis)x&&g.truncate(M,x,void 0,0,Math.max(0,T-parseInt(g.fontSize||12,10)),function(n,h){return n.substring(0,h)+"\u2026"});else if(m){for(x=[],m=[];D.firstChild&&D.firstChild!==M;)m.push(D.firstChild),D.removeChild(D.firstChild);for(;f.length;)f.length&&!g.noWrap&&0<p&&(x.push(M.textContent||""),M.textContent=f.join(" ").replace(/- /g,"-")),g.truncate(M,void 0,f,0===p&&a||0,T,function(n,h){return f.slice(0,h).join(" ").replace(/- /g,"-")}),a=d.actualWidth,p++;m.forEach(function(n){D.insertBefore(n,M)}),x.forEach(function(n){D.insertBefore(rt.createTextNode(n),M),(n=rt.createElementNS(J,"tspan")).textContent="\u200b",X(n,{dy:r,x:v}),D.insertBefore(n,M)})}}(D,M):(-1!==D.className.baseVal.indexOf("highcharts-br")&&(d.actualWidth=0),C(D))})};C(d.element)}},k.prototype.getLineHeight=function(g){var d;return g=g.nodeType===K.Node.TEXT_NODE?g.parentElement:g,this.renderer.styledMode||(d=g&&/(px|em)$/.test(g.style.fontSize)?g.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(d,g||this.svgElement.element).h},k.prototype.modifyTree=function(g){var d=this,v=function(_,T){var y=_.attributes;y=void 0===y?{}:y;var C=_.children,M=_.tagName,D=d.renderer.styledMode;"b"===M||"strong"===M?D?y.class="highcharts-strong":y.style="font-weight:bold;"+(y.style||""):("i"===M||"em"===M)&&(D?y.class="highcharts-emphasized":y.style="font-style:italic;"+(y.style||"")),F(y.style)&&(y.style=y.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===M?(y.class="highcharts-br",_.textContent="\u200b",(T=g[T+1])&&T.textContent&&(T.textContent=T.textContent.replace(/^ +/gm,""))):"a"===M&&C&&C.some(function(x){return"#text"===x.tagName})&&(_.children=[{children:C,tagName:"tspan"}]),"#text"!==M&&"a"!==M&&(_.tagName="tspan"),_.attributes=y,C&&C.filter(function(x){return"#text"!==x.tagName}).forEach(v)};g.forEach(v)},k.prototype.truncate=function(g,d,v,_,T,y){var p,C=this.svgElement,M=C.renderer,D=C.rotation,x=[],f=v?1:0,m=(d||v||"").length,r=m,a=function(h,l){l=l||h;var w=g.parentNode;if(w&&void 0===x[l])if(w.getSubStringLength)try{x[l]=_+w.getSubStringLength(0,v?l+1:l)}catch(P){}else M.getSpanWidth&&(g.textContent=y(d||v,h),x[l]=_+M.getSpanWidth(C,g));return x[l]};C.rotation=0;var n=a(g.textContent.length);if(_+n>T){for(;f<=m;)r=Math.ceil((f+m)/2),v&&(p=y(v,r)),n=a(r,p&&p.length-1),f===m?f=m+1:n>T?m=r-1:f=r;0===m?g.textContent="":d&&m===d.length-1||(g.textContent=p||y(d||v,r))}v&&v.splice(0,r),C.actualWidth=n,C.rotation=D},k.prototype.unescapeEntities=function(g,d){return N(this.renderer.escapes,function(v,_){d&&-1!==d.indexOf(v)||(g=g.toString().replace(new RegExp(v,"g"),_))}),g},k}()}),wt(o,"Core/Renderer/SVG/SVGRenderer.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Renderer/SVG/SVGLabel.js"],o["Core/Renderer/SVG/Symbols.js"],o["Core/Renderer/SVG/TextBuilder.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N){var B,O=q.charts,k=q.deg2rad,g=q.doc,d=q.isFirefox,v=q.isMS,_=q.isWebKit,T=q.noop,y=q.SVG_NS,C=q.symbolSizes,M=q.win,D=N.addEvent,x=N.attr,f=N.createElement,m=N.css,r=N.defined,p=N.destroyObjectProperties,a=N.extend,n=N.isArray,h=N.isNumber,l=N.isObject,w=N.isString,P=N.merge,I=N.pick,L=N.pInt,S=N.uniqueKey;return q=function(){function c(u,E,j,G,W,b,z){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(u,E,j,G,W,b,z)}return c.prototype.init=function(u,E,j,G,W,b,z){var Z,R=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),V=R.element;z||R.css(this.getStyle(G)),u.appendChild(V),x(u,"dir","ltr"),-1===u.innerHTML.indexOf("xmlns")&&x(V,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=V,this.boxWrapper=R,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(g.createTextNode("Created with Highcharts 9.3.3")),this.defs=this.createElement("defs").add(),this.allowHTML=b,this.forExport=W,this.styledMode=z,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(E,j,!1),d&&u.getBoundingClientRect&&((E=function(){m(u,{left:0,top:0}),Z=u.getBoundingClientRect(),m(u,{left:Math.ceil(Z.left)-Z.left+"px",top:Math.ceil(Z.top)-Z.top+"px"})})(),this.unSubPixelFix=D(M,"resize",E))},c.prototype.definition=function(u){return new Y([u]).addToDOM(this.defs.element)},c.prototype.getReferenceURL=function(){if((d||_)&&g.getElementsByTagName("base").length){if(!r(B)){var u=S();u=new Y([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:u},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+u+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(g.body),m(u,{position:"fixed",top:0,left:0,zIndex:9e5});var E=g.elementFromPoint(6,6);B="hitme"===(E&&E.id),g.body.removeChild(u)}if(B)return M.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},c.prototype.getStyle=function(u){return this.style=a({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},u)},c.prototype.setStyle=function(u){this.boxWrapper.css(this.getStyle(u))},c.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},c.prototype.destroy=function(){var u=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),p(this.gradients||{}),this.gradients=null,u&&(this.defs=u.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},c.prototype.createElement=function(u){var E=new this.Element;return E.init(this,u),E},c.prototype.getRadialAttr=function(u,E){return{cx:u[0]-u[2]/2+(E.cx||0)*u[2],cy:u[1]-u[2]/2+(E.cy||0)*u[2],r:(E.r||0)*u[2]}},c.prototype.buildText=function(u){new F(u).buildSVG()},c.prototype.getContrast=function(u){return(u=$.parse(u).rgba)[0]*=1,u[1]*=1.2,u[2]*=.5,459<u[0]+u[1]+u[2]?"#000000":"#FFFFFF"},c.prototype.button=function(u,E,j,G,W,b,z,R,V,Z){var nt=this.label(u,E,j,V,void 0,void 0,Z,void 0,"button"),it=this.styledMode,ot=0,at=W?P(W):{};if(u=at&&at.style||{},at=Y.filterUserAttributes(at),nt.attr(P({padding:8,r:2},at)),!it){var mt=(at=P({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:u},at)).style;delete at.style;var _t=(b=P(at,{fill:"#e6e6e6"},Y.filterUserAttributes(b||{}))).style;delete b.style;var yt=(z=P(at,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},Y.filterUserAttributes(z||{}))).style;delete z.style;var ut=(R=P(at,{style:{color:"#cccccc"}},Y.filterUserAttributes(R||{}))).style;delete R.style}return D(nt.element,v?"mouseover":"mouseenter",function(){3!==ot&&nt.setState(1)}),D(nt.element,v?"mouseout":"mouseleave",function(){3!==ot&&nt.setState(ot)}),nt.setState=function(ct){1!==ct&&(nt.state=ot=ct),nt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ct||0]),it||nt.attr([at,b,z,R][ct||0]).css([mt,_t,yt,ut][ct||0])},it||nt.attr(at).css(a({cursor:"default"},mt)),nt.on("touchstart",function(ct){return ct.stopPropagation()}).on("click",function(ct){3!==ot&&G.call(nt,ct)})},c.prototype.crispLine=function(u,E,j){void 0===j&&(j="round");var G=u[0],W=u[1];return r(G[1])&&G[1]===W[1]&&(G[1]=W[1]=Math[j](G[1])-E%2/2),r(G[2])&&G[2]===W[2]&&(G[2]=W[2]=Math[j](G[2])+E%2/2),u},c.prototype.path=function(u){var E=this.styledMode?{}:{fill:"none"};return n(u)?E.d=u:l(u)&&a(E,u),this.createElement("path").attr(E)},c.prototype.circle=function(u,E,j){return u=l(u)?u:void 0===u?{}:{x:u,y:E,r:j},(E=this.createElement("circle")).xSetter=E.ySetter=function(G,W,b){b.setAttribute("c"+W,G)},E.attr(u)},c.prototype.arc=function(u,E,j,G,W,b){return l(u)?(E=(G=u).y,j=G.r,u=G.x):G={innerR:G,start:W,end:b},(u=this.symbol("arc",u,E,j,j,G)).r=j,u},c.prototype.rect=function(u,E,j,G,W,b){W=l(u)?u.r:W;var z=this.createElement("rect");return u=l(u)?u:void 0===u?{}:{x:u,y:E,width:Math.max(j,0),height:Math.max(G,0)},this.styledMode||(void 0!==b&&(u["stroke-width"]=b,u=z.crisp(u)),u.fill="none"),W&&(u.r=W),z.rSetter=function(R,V,Z){z.r=R,x(Z,{rx:R,ry:R})},z.rGetter=function(){return z.r||0},z.attr(u)},c.prototype.setSize=function(u,E,j){this.width=u,this.height=E,this.boxWrapper.animate({width:u,height:E},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:I(j,!0)?void 0:0}),this.alignElements()},c.prototype.g=function(u){var E=this.createElement("g");return u?E.attr({class:"highcharts-"+u}):E},c.prototype.image=function(u,E,j,G,W,b){var z={preserveAspectRatio:"none"},R=function(Z,nt){Z.setAttributeNS?Z.setAttributeNS("http://www.w3.org/1999/xlink","href",nt):Z.setAttribute("hc-svg-href",nt)};h(E)&&(z.x=E),h(j)&&(z.y=j),h(G)&&(z.width=G),h(W)&&(z.height=W);var V=this.createElement("image").attr(z);return E=function(Z){R(V.element,u),b.call(V,Z)},b?(R(V.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),j=new M.Image,D(j,"load",E),j.src=u,j.complete&&E({})):R(V.element,u),V},c.prototype.symbol=function(u,E,j,G,W,b){var it,z=this,R=/^url\((.*?)\)$/,V=R.test(u),Z=!V&&(this.symbols[u]?u:"circle"),nt=Z&&this.symbols[Z];if(nt){"number"==typeof E&&(it=nt.call(this.symbols,Math.round(E||0),Math.round(j||0),G||0,W||0,b));var ot=this.path(it);z.styledMode||ot.attr("fill","none"),a(ot,{symbolName:Z||void 0,x:E,y:j,width:G,height:W}),b&&a(ot,b)}else if(V){var at=u.match(R)[1],mt=ot=this.image(at);mt.imgwidth=I(C[at]&&C[at].width,b&&b.width),mt.imgheight=I(C[at]&&C[at].height,b&&b.height);var _t=function(yt){return yt.attr({width:yt.width,height:yt.height})};["width","height"].forEach(function(yt){mt[yt+"Setter"]=function(ut,ct){var H=this["img"+ct];this[ct]=ut,r(H)&&(b&&"within"===b.backgroundSize&&this.width&&this.height&&(H=Math.round(H*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(ct,H),this.alignByTranslate||(ut=((this[ct]||0)-H)/2,this.attr("width"===ct?{translateX:ut}:{translateY:ut})))}}),r(E)&&mt.attr({x:E,y:j}),mt.isImg=!0,r(mt.imgwidth)&&r(mt.imgheight)?_t(mt):(mt.attr({width:0,height:0}),f("img",{onload:function(){var yt=O[z.chartIndex];0===this.width&&(m(this,{position:"absolute",top:"-999em"}),g.body.appendChild(this)),C[at]={width:this.width,height:this.height},mt.imgwidth=this.width,mt.imgheight=this.height,mt.element&&_t(mt),this.parentNode&&this.parentNode.removeChild(this),z.imgCount--,!z.imgCount&&yt&&!yt.hasLoaded&&yt.onload()},src:at}),this.imgCount++)}return ot},c.prototype.clipRect=function(u,E,j,G){var W=S()+"-",b=this.createElement("clipPath").attr({id:W}).add(this.defs);return(u=this.rect(u,E,j,G,0).add(b)).id=W,u.clipPath=b,u.count=0,u},c.prototype.text=function(u,E,j,G){var W={};return!G||!this.allowHTML&&this.forExport?(W.x=Math.round(E||0),j&&(W.y=Math.round(j)),r(u)&&(W.text=u),u=this.createElement("text").attr(W),(!G||this.forExport&&!this.allowHTML)&&(u.xSetter=function(b,z,R){for(var it,V=R.getElementsByTagName("tspan"),Z=R.getAttribute(z),nt=0;nt<V.length;nt++)(it=V[nt]).getAttribute(z)===Z&&it.setAttribute(z,b);R.setAttribute(z,b)}),u):this.html(u,E,j)},c.prototype.fontMetrics=function(u,E){return u=!this.styledMode&&/px/.test(u)||!M.getComputedStyle?u||E&&E.style&&E.style.fontSize||this.style&&this.style.fontSize:E&&J.prototype.getStyle.call(E,"font-size"),{h:E=24>(u=/px/.test(u)?L(u):12)?u+3:Math.round(1.2*u),b:Math.round(.8*E),f:u}},c.prototype.rotCorr=function(u,E,j){var G=u;return E&&j&&(G=Math.max(G*Math.cos(E*k),4)),{x:-u/3*Math.sin(E*k),y:G}},c.prototype.pathToSegments=function(u){for(var E=[],j=[],G={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},W=0;W<u.length;W++)w(j[0])&&h(u[W])&&j.length===G[j[0].toUpperCase()]&&u.splice(W,0,j[0].replace("M","L").replace("m","l")),"string"==typeof u[W]&&(j.length&&E.push(j.slice(0)),j.length=0),j.push(u[W]);return E.push(j.slice(0)),E},c.prototype.label=function(u,E,j,G,W,b,z,R,V){return new K(this,u,E,j,G,W,b,z,R,V)},c.prototype.alignElements=function(){this.alignedObjects.forEach(function(u){return u.align()})},c}(),a(q.prototype,{Element:J,SVG_NS:y,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:X,draw:T}),rt.registerRendererType("svg",q,!0),q}),wt(o,"Core/Renderer/HTML/HTMLElement.js",[o["Core/Globals.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$,q){var v,rt=this&&this.__extends||(v=function(_,T){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,C){y.__proto__=C}||function(y,C){for(var M in C)C.hasOwnProperty(M)&&(y[M]=C[M])})(_,T)},function(_,T){function y(){this.constructor=_}v(_,T),_.prototype=null===T?Object.create(T):(y.prototype=T.prototype,new y)}),J=Y.isFirefox,K=Y.isMS,X=Y.isWebKit,F=Y.win,N=q.css,O=q.defined,k=q.extend,g=q.pick,d=q.pInt;return function(v){function _(){return null!==v&&v.apply(this,arguments)||this}return rt(_,v),_.compose=function(T){if(-1===_.composedClasses.indexOf(T)){_.composedClasses.push(T);var y=_.prototype,C=T.prototype;C.getSpanCorrection=y.getSpanCorrection,C.htmlCss=y.htmlCss,C.htmlGetBBox=y.htmlGetBBox,C.htmlUpdateTransform=y.htmlUpdateTransform,C.setSpanRotation=y.setSpanRotation}return T},_.prototype.getSpanCorrection=function(T,y,C){this.xCorr=-T*C,this.yCorr=-y},_.prototype.htmlCss=function(T){var y="SPAN"===this.element.tagName&&T&&"width"in T,C=g(y&&T.width,void 0);if(y){delete T.width,this.textWidth=C;var M=!0}return T&&"ellipsis"===T.textOverflow&&(T.whiteSpace="nowrap",T.overflow="hidden"),this.styles=k(this.styles,T),N(this.element,T),M&&this.htmlUpdateTransform(),this},_.prototype.htmlGetBBox=function(){var T=this.element;return{x:T.offsetLeft,y:T.offsetTop,width:T.offsetWidth,height:T.offsetHeight}},_.prototype.htmlUpdateTransform=function(){if(this.added){var T=this.renderer,y=this.element,C=this.translateX||0,M=this.translateY||0,D=this.x||0,x=this.y||0,f=this.textAlign||"left",m={left:0,center:.5,right:1}[f],r=this.styles;if(r=r&&r.whiteSpace,N(y,{marginLeft:C,marginTop:M}),!T.styledMode&&this.shadows&&this.shadows.forEach(function(w){N(w,{marginLeft:C+1,marginTop:M+1})}),this.inverted&&[].forEach.call(y.childNodes,function(w){T.invertChild(w,y)}),"SPAN"===y.tagName){var p=this.rotation,a=this.textWidth&&d(this.textWidth),n=[p,f,y.innerHTML,this.textWidth,this.textAlign].join(),h=void 0;if(h=!1,a!==this.oldTextWidth){if(this.textPxLength)var l=this.textPxLength;else N(y,{width:"",whiteSpace:r||"nowrap"}),l=y.offsetWidth;(a>this.oldTextWidth||l>a)&&(/[ \-]/.test(y.textContent||y.innerText)||"ellipsis"===y.style.textOverflow)&&(N(y,{width:l>a||p?a+"px":"auto",display:"block",whiteSpace:r||"normal"}),this.oldTextWidth=a,h=!0)}this.hasBoxWidthChanged=h,n!==this.cTT&&(h=T.fontMetrics(y.style.fontSize,y).b,!O(p)||p===(this.oldRotation||0)&&f===this.oldAlign||this.setSpanRotation(p,m,h),this.getSpanCorrection(!O(p)&&this.textPxLength||y.offsetWidth,h,m,p,f)),N(y,{left:D+(this.xCorr||0)+"px",top:x+(this.yCorr||0)+"px"}),this.cTT=n,this.oldRotation=p,this.oldAlign=f}}else this.alignOnAdd=!0},_.prototype.setSpanRotation=function(T,y,C){var M={},D=K&&!/Edge/.test(F.navigator.userAgent)?"-ms-transform":X?"-webkit-transform":J?"MozTransform":F.opera?"-o-transform":void 0;D&&(M[D]=M.transform="rotate("+T+"deg)",M[D+(J?"Origin":"-origin")]=M.transformOrigin=100*y+"% "+C+"px",N(this.element,M))},_.composedClasses=[],_}($)}),wt(o,"Core/Renderer/HTML/HTMLRenderer.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var O,J=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),K=rt.attr,X=rt.createElement,F=rt.extend,N=rt.pick;return function(O){function k(){return null!==O&&O.apply(this,arguments)||this}return J(k,O),k.compose=function(g){return-1===k.composedClasses.indexOf(g)&&(k.composedClasses.push(g),g.prototype.html=k.prototype.html),g},k.prototype.html=function(g,d,v){var _=this.createElement("span"),T=_.element,y=_.renderer,C=y.isSVG,M=function(D,x){["opacity","visibility"].forEach(function(f){D[f+"Setter"]=function(m,r,p){var a=D.div?D.div.style:x;$.prototype[f+"Setter"].call(this,m,r,p),a&&(a[r]=m)}}),D.addedSetters=!0};return _.textSetter=function(D){D!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Y.setElementHTML(this.element,N(D,"")),this.textStr=D,_.doTransform=!0)},C&&M(_,_.element.style),_.xSetter=_.ySetter=_.alignSetter=_.rotationSetter=function(D,x){"align"===x?_.alignValue=_.textAlign=D:_[x]=D,_.doTransform=!0},_.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},_.attr({text:g,x:Math.round(d),y:Math.round(v)}).css({position:"absolute"}),y.styledMode||_.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),T.style.whiteSpace="nowrap",_.css=_.htmlCss,C&&(_.add=function(D){var x=y.box.parentNode,f=[];if(this.parentGroup=D){var m=D.div;if(!m){for(;D;)f.push(D),D=D.parentGroup;f.reverse().forEach(function(r){function p(l,w){r[w]=l,"translateX"===w?h.left=l+"px":h.top=l+"px",r.doTransform=!0}var l,a=K(r.element,"class"),n=r.styles||{},h=(m=r.div=r.div||X("div",a?{className:a}:void 0,{position:"absolute",left:(r.translateX||0)+"px",top:(r.translateY||0)+"px",display:r.display,opacity:r.opacity,cursor:n.cursor,pointerEvents:n.pointerEvents,visibility:r.visibility},m||x)).style;F(r,{classSetter:(l=m,function(w){this.element.setAttribute("class",w),l.className=w}),on:function(){return f[0].div&&_.on.apply({element:f[0].div,onEvents:r.onEvents},arguments),r},translateXSetter:p,translateYSetter:p}),r.addedSetters||M(r)})}}else m=x;return m.appendChild(T),_.added=!0,_.alignOnAdd&&_.htmlUpdateTransform(),_}),_},k.composedClasses=[],k}(q)}),wt(o,"Core/Axis/AxisDefaults.js",[],function(){var Y=(()=>{return($=Y||(Y={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},$.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},$.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},$.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},$.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},$.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},Y;var $})();return Y}),wt(o,"Core/Foundation.js",[o["Core/Utilities.js"]],function(Y){var K,$=Y.addEvent,q=Y.isFunction,rt=Y.objectEach,J=Y.removeEvent;return(K||(K={})).registerEventOptions=function(F,N){F.eventOptions=F.eventOptions||{},rt(N.events,function(O,k){F.eventOptions[k]!==O&&(F.eventOptions[k]&&(J(F,k,F.eventOptions[k]),delete F.eventOptions[k]),q(O)&&(F.eventOptions[k]=O,$(F,k,O)))})},K}),wt(o,"Core/Axis/Tick.js",[o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=$.deg2rad,J=q.clamp,K=q.correctFloat,X=q.defined,F=q.destroyObjectProperties,N=q.extend,O=q.fireEvent,k=q.isNumber,g=q.merge,d=q.objectEach,v=q.pick;return function(){function _(T,y,C,M,D){this.isNewLabel=this.isNew=!0,this.axis=T,this.pos=y,this.type=C||"",this.parameters=D||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,O(this,"init"),C||M||this.addLabel()}return _.prototype.addLabel=function(){var T=this,y=T.axis,C=y.options,M=y.chart,D=y.categories,x=y.logarithmic,f=y.names,m=T.pos,r=v(T.options&&T.options.labels,C.labels),p=y.tickPositions,a=m===p[0],n=m===p[p.length-1],h=(!r.step||1===r.step)&&1===y.tickInterval;p=p.info;var w,l=T.label;if(D=this.parameters.category||(D?v(D[m],f[m],m):m),x&&k(D)&&(D=K(x.lin2log(D))),y.dateTime)if(p)var P=M.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid&&p.higherRanks[m]||p.unitName]),I=P.main;else k(D)&&(I=y.dateTime.getXDateFormat(D,C.dateTimeLabelFormats||{}));T.isFirst=a,T.isLast=n;var L={axis:y,chart:M,dateTimeLabelFormat:I,isFirst:a,isLast:n,pos:m,tick:T,tickPositionInfo:p,value:D};O(this,"labelFormat",L);var S=function(c){return r.formatter?r.formatter.call(c,c):r.format?(c.text=y.defaultLabelFormatter.call(c),Y.format(r.format,c,M)):y.defaultLabelFormatter.call(c,c)};C=S.call(L,L);var B=P&&P.list;T.shortenLabel=B?function(){for(w=0;w<B.length;w++)if(N(L,{dateTimeLabelFormat:B[w]}),l.attr({text:S.call(L,L)}),l.getBBox().width<y.getSlotWidth(T)-2*r.padding)return;l.attr({text:""})}:void 0,h&&y._addedPlotLB&&T.moveLabel(C,r),X(l)||T.movedLabel?l&&l.textStr!==C&&!h&&(!l.textWidth||r.style.width||l.styles.width||l.css({width:null}),l.attr({text:C}),l.textPxLength=l.getBBox().width):(T.label=l=T.createLabel({x:0,y:0},C,r),T.rotation=0)},_.prototype.createLabel=function(T,y,C){var M=this.axis,D=M.chart;return(T=X(y)&&C.enabled?D.renderer.text(y,T.x,T.y,C.useHTML).add(M.labelGroup):null)&&(D.styledMode||T.css(g(C.style)),T.textPxLength=T.getBBox().width),T},_.prototype.destroy=function(){F(this,this.axis)},_.prototype.getPosition=function(T,y,C,M){var D=this.axis,x=D.chart,f=M&&x.oldChartHeight||x.chartHeight;return(T={x:T?K(D.translate(y+C,null,null,M)+D.transB):D.left+D.offset+(D.opposite?(M&&x.oldChartWidth||x.chartWidth)-D.right-D.left:0),y:T?f-D.bottom+D.offset-(D.opposite?D.height:0):K(f-D.translate(y+C,null,null,M)-D.transB)}).y=J(T.y,-1e5,1e5),O(this,"afterGetPosition",{pos:T}),T},_.prototype.getLabelPosition=function(T,y,C,M,D,x,f,m){var r=this.axis,p=r.transA,a=r.isLinked&&r.linkedParent?r.linkedParent.reversed:r.reversed,n=r.staggerLines,h=r.tickRotCorr||{x:0,y:0},l=M||r.reserveSpaceDefault?0:-r.labelOffset*("center"===r.labelAlign?.5:1),w={},P=D.y;return X(P)||(P=0===r.side?C.rotation?-8:-C.getBBox().height:2===r.side?h.y+8:Math.cos(C.rotation*rt)*(h.y-C.getBBox(!1,0).height/2)),y=y+P-(x&&!M?x*p*(a?1:-1):0),n&&(C=f/(m||1)%n,r.opposite&&(C=n-C-1),y+=r.labelOffset/n*C),w.x=T=T+D.x+l+h.x-(x&&M?x*p*(a?-1:1):0),w.y=Math.round(y),O(this,"afterGetLabelPosition",{pos:w,tickmarkOffset:x,index:f}),w},_.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},_.prototype.getMarkPath=function(T,y,C,M,D,x){return x.crispLine([["M",T,y],["L",T+(D?0:-C),y+(D?C:0)]],M)},_.prototype.handleOverflow=function(T){var y=this.axis,C=y.options.labels,M=T.x,D=y.chart.chartWidth,x=y.chart.spacing,f=v(y.labelLeft,Math.min(y.pos,x[3]));x=v(y.labelRight,Math.max(y.isRadial?0:y.pos+y.len,D-x[1]));var P,m=this.label,r=this.rotation,p={left:0,center:.5,right:1}[y.labelAlign||m.attr("align")],a=m.getBBox().width,n=y.getSlotWidth(this),h={},l=n,w=1;r||"justify"!==C.overflow?0>r&&M-p*a<f?P=Math.round(M/Math.cos(r*rt)-f):0<r&&M+p*a>x&&(P=Math.round((D-M)/Math.cos(r*rt))):(D=M+(1-p)*a,M-p*a<f?l=T.x+l*(1-p)-f:D>x&&(l=x-T.x+l*p,w=-1),(l=Math.min(n,l))<n&&"center"===y.labelAlign&&(T.x+=w*(n-l-p*(n-Math.min(a,l)))),(a>l||y.autoRotation&&(m.styles||{}).width)&&(P=l)),P&&(this.shortenLabel?this.shortenLabel():(h.width=Math.floor(P)+"px",(C.style||{}).textOverflow||(h.textOverflow="ellipsis"),m.css(h)))},_.prototype.moveLabel=function(T,y){var C=this,M=C.label,D=C.axis,x=D.reversed,f=!1;if(M&&M.textStr===T?(C.movedLabel=M,f=!0,delete C.label):d(D.ticks,function(r){f||r.isNew||r===C||!r.label||r.label.textStr!==T||(C.movedLabel=r.label,f=!0,r.labelPos=C.movedLabel.xy,delete r.label)}),!f&&(C.labelPos||M)){var m=C.labelPos||M.xy;C.movedLabel=C.createLabel({x:M=D.horiz?x?0:D.width+D.left:m.x,y:D=D.horiz?m.y:x?D.width+D.left:0},T,y),C.movedLabel&&C.movedLabel.attr({opacity:0})}},_.prototype.render=function(T,y,C){var M=this.axis,D=M.horiz,x=this.pos,f=v(this.tickmarkOffset,M.tickmarkOffset);f=(x=this.getPosition(D,x,f,y)).x,M=D&&f===M.pos+M.len||!D&&x.y===M.pos?-1:1,D=v(C,this.label&&this.label.newOpacity,1),C=v(C,1),this.isActive=!0,this.renderGridLine(y,C,M),this.renderMark(x,C,M),this.renderLabel(x,y,D,T),this.isNew=!1,O(this,"afterRender")},_.prototype.renderGridLine=function(T,y,C){var M=this.axis,D=M.options,x={},f=this.pos,m=this.type,r=v(this.tickmarkOffset,M.tickmarkOffset),p=M.chart.renderer,a=this.gridLine,n=D.gridLineWidth,h=D.gridLineColor,l=D.gridLineDashStyle;"minor"===this.type&&(n=D.minorGridLineWidth,h=D.minorGridLineColor,l=D.minorGridLineDashStyle),a||(M.chart.styledMode||(x.stroke=h,x["stroke-width"]=n||0,x.dashstyle=l),m||(x.zIndex=1),T&&(y=0),this.gridLine=a=p.path().attr(x).addClass("highcharts-"+(m?m+"-":"")+"grid-line").add(M.gridGroup)),a&&(C=M.getPlotLinePath({value:f+r,lineWidth:a.strokeWidth()*C,force:"pass",old:T}))&&a[T||this.isNew?"attr":"animate"]({d:C,opacity:y})},_.prototype.renderMark=function(T,y,C){var M=this.axis,D=M.options,x=M.chart.renderer,f=this.type,m=M.tickSize(f?f+"Tick":"tick"),r=T.x;T=T.y;var p=v(D["minor"!==f?"tickWidth":"minorTickWidth"],!f&&M.isXAxis?1:0);D=D["minor"!==f?"tickColor":"minorTickColor"];var a=this.mark,n=!a;m&&(M.opposite&&(m[0]=-m[0]),a||(this.mark=a=x.path().addClass("highcharts-"+(f?f+"-":"")+"tick").add(M.axisGroup),M.chart.styledMode||a.attr({stroke:D,"stroke-width":p})),a[n?"attr":"animate"]({d:this.getMarkPath(r,T,m[0],a.strokeWidth()*C,M.horiz,x),opacity:y}))},_.prototype.renderLabel=function(T,y,C,M){var D=this.axis,x=D.horiz,f=D.options,m=this.label,r=f.labels,p=r.step;D=v(this.tickmarkOffset,D.tickmarkOffset);var a=T.x;T=T.y;var n=!0;m&&k(a)&&(m.xy=T=this.getLabelPosition(a,T,m,x,r,D,M,p),this.isFirst&&!this.isLast&&!f.showFirstLabel||this.isLast&&!this.isFirst&&!f.showLastLabel?n=!1:!x||r.step||r.rotation||y||0===C||this.handleOverflow(T),p&&M%p&&(n=!1),n&&k(T.y)?(T.opacity=C,m[this.isNewLabel?"attr":"animate"](T),this.isNewLabel=!1):(m.attr("y",-9999),this.isNewLabel=!0))},_.prototype.replaceMovedLabel=function(){var T=this.label,y=this.axis,C=y.reversed;T&&!this.isNew&&(T.animate({x:y.horiz?C?y.left:y.width+y.left:T.xy.x,y:C=y.horiz?T.xy.y:C?y.width+y.top:y.top,opacity:0},void 0,T.destroy),delete this.label),y.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},_}()}),wt(o,"Core/Axis/Axis.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/AxisDefaults.js"],o["Core/Color/Color.js"],o["Core/DefaultOptions.js"],o["Core/Foundation.js"],o["Core/Globals.js"],o["Core/Axis/Tick.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F){var N=Y.animObject,O=rt.defaultOptions,k=J.registerEventOptions,g=K.deg2rad,d=F.arrayMax,v=F.arrayMin,_=F.clamp,T=F.correctFloat,y=F.defined,C=F.destroyObjectProperties,M=F.erase,D=F.error,x=F.extend,f=F.fireEvent,m=F.getMagnitude,r=F.isArray,p=F.isNumber,a=F.isString,n=F.merge,h=F.normalizeTickInterval,l=F.objectEach,w=F.pick,P=F.relativeLength,I=F.removeEvent,L=F.splat,S=F.syncTimeout;return function(){function B(c,u){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(c,u)}return B.prototype.init=function(c,u){var E=u.isX;this.chart=c,this.horiz=c.inverted&&!this.isZAxis?!E:E,this.isXAxis=E,this.coll=this.coll||(E?"xAxis":"yAxis"),f(this,"init",{userOptions:u}),this.opposite=w(u.opposite,this.opposite),this.side=w(u.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(u);var j=this.options,G=j.labels,W=j.type;this.userOptions=u,this.minPixelPadding=0,this.reversed=w(j.reversed,this.reversed),this.visible=j.visible,this.zoomEnabled=j.zoomEnabled,this.hasNames="category"===W||!0===j.categories,this.categories=j.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=y(j.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=j.minRange||j.maxZoom,this.range=j.range,this.offset=j.offset||0,this.min=this.max=null,u=w(j.crosshair,L(c.options.tooltip.crosshairs)[E?0:1]),this.crosshair=!0===u?{}:u,-1===c.axes.indexOf(this)&&(E?c.axes.splice(c.xAxis.length,0,this):c.axes.push(this),c[this.coll].push(this)),this.series=this.series||[],c.inverted&&!this.isZAxis&&E&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=p(G.rotation)?G.rotation:void 0,k(this,j),f(this,"afterInit")},B.prototype.setOptions=function(c){this.options=n($.defaultXAxisOptions,"yAxis"===this.coll&&$.defaultYAxisOptions,[$.defaultTopAxisOptions,$.defaultRightAxisOptions,$.defaultBottomAxisOptions,$.defaultLeftAxisOptions][this.side],n(O[this.coll],c)),f(this,"afterSetOptions",{userOptions:c})},B.prototype.defaultLabelFormatter=function(c){var u=this.axis;c=this.chart.numberFormatter;var E=p(this.value)?this.value:NaN,j=u.chart.time,G=this.dateTimeLabelFormat,W=O.lang,b=W.numericSymbols;W=W.numericSymbolMagnitude||1e3;var z=u.logarithmic?Math.abs(E):u.tickInterval,R=b&&b.length;if(u.categories)var V=""+this.value;else if(G)V=j.dateFormat(G,E);else if(R&&1e3<=z)for(;R--&&void 0===V;)z>=(u=Math.pow(W,R+1))&&10*E%u==0&&null!==b[R]&&0!==E&&(V=c(E/u,-1)+b[R]);return void 0===V&&(V=1e4<=Math.abs(E)?c(E,-1):c(E,-1,void 0,"")),V},B.prototype.getSeriesExtremes=function(){var E,c=this,u=c.chart;f(this,"getSeriesExtremes",null,function(){c.hasVisibleSeries=!1,c.dataMin=c.dataMax=c.threshold=null,c.softThreshold=!c.isXAxis,c.stacking&&c.stacking.buildStacks(),c.series.forEach(function(j){if(j.visible||!u.options.chart.ignoreHiddenSeries){var G=j.options,W=G.threshold;if(c.hasVisibleSeries=!0,c.positiveValuesOnly&&0>=W&&(W=null),c.isXAxis){if((G=j.xData).length){G=c.logarithmic?G.filter(c.validatePositiveValue):G;var b=(E=j.getXExtremes(G)).min,z=E.max;p(b)||b instanceof Date||(G=G.filter(p),b=(E=j.getXExtremes(G)).min,z=E.max),G.length&&(c.dataMin=Math.min(w(c.dataMin,b),b),c.dataMax=Math.max(w(c.dataMax,z),z))}}else j=j.applyExtremes(),p(j.dataMin)&&(b=j.dataMin,c.dataMin=Math.min(w(c.dataMin,b),b)),p(j.dataMax)&&(z=j.dataMax,c.dataMax=Math.max(w(c.dataMax,z),z)),y(W)&&(c.threshold=W),(!G.softThreshold||c.positiveValuesOnly)&&(c.softThreshold=!1)}})}),f(this,"afterGetSeriesExtremes")},B.prototype.translate=function(c,u,E,j,G,W){var b=this.linkedParent||this,z=j&&b.old?b.old.min:b.min,R=b.minPixelPadding;G=(b.isOrdinal||b.brokenAxis&&b.brokenAxis.hasBreaks||b.logarithmic&&G)&&b.lin2val;var V=1,Z=0;return(j=j&&b.old?b.old.transA:b.transA)||(j=b.transA),E&&(V*=-1,Z=b.len),b.reversed&&(Z-=(V*=-1)*(b.sector||b.len)),u?(c=(c*V+Z-R)/j+z,G&&(c=b.lin2val(c))):(G&&(c=b.val2lin(c)),c=p(z)?V*(c-z)*j+Z+V*R+(p(W)?j*W:0):void 0),c},B.prototype.toPixels=function(c,u){return this.translate(c,!1,!this.horiz,null,!0)+(u?0:this.pos)},B.prototype.toValue=function(c,u){return this.translate(c-(u?0:this.pos),!0,!this.horiz,null,!0)},B.prototype.getPlotLinePath=function(c){function u(ct,H,tt){return("pass"!==ot&&ct<H||ct>tt)&&(ot?ct=_(ct,H,tt):ut=!0),ct}var at,mt,_t,yt,ut,E=this,j=E.chart,G=E.left,W=E.top,b=c.old,z=c.value,R=c.lineWidth,V=b&&j.oldChartHeight||j.chartHeight,Z=b&&j.oldChartWidth||j.chartWidth,nt=E.transB,it=c.translatedValue,ot=c.force;return f(this,"getPlotLinePath",c={value:z,lineWidth:R,old:b,force:ot,acrossPanes:c.acrossPanes,translatedValue:it},function(ct){it=w(it,E.translate(z,null,null,b)),it=_(it,-1e5,1e5),at=_t=Math.round(it+nt),mt=yt=Math.round(V-it-nt),p(it)?E.horiz?(mt=W,yt=V-E.bottom,at=_t=u(at,G,G+E.width)):(at=G,_t=Z-E.right,mt=yt=u(mt,W,W+E.height)):(ut=!0,ot=!1),ct.path=ut&&!ot?null:j.renderer.crispLine([["M",at,mt],["L",_t,yt]],R||1)}),c.path},B.prototype.getLinearTickPositions=function(c,u,E){var j=T(Math.floor(u/c)*c);E=T(Math.ceil(E/c)*c);var W,G=[];if(T(j+c)===j&&(W=20),this.single)return[u];for(u=j;u<=E&&(G.push(u),(u=T(u+c,W))!==b);)var b=u;return G},B.prototype.getMinorTickInterval=function(){var c=this.options;return!0===c.minorTicks?w(c.minorTickInterval,"auto"):!1===c.minorTicks?null:c.minorTickInterval},B.prototype.getMinorTickPositions=function(){var c=this.options,u=this.tickPositions,E=this.minorTickInterval,j=this.pointRangePadding||0,G=this.min-j,W=(j=this.max+j)-G,b=[];if(W&&W/E<this.len/3){var z=this.logarithmic;if(z)this.paddedTicks.forEach(function(R,V,Z){V&&b.push.apply(b,z.getLogTickPositions(E,Z[V-1],Z[V],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())b=b.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(E),G,j,c.startOfWeek));else for(c=G+(u[0]-G)%E;c<=j&&c!==b[0];c+=E)b.push(c)}return 0!==b.length&&this.trimTicks(b),b},B.prototype.adjustForMinRange=function(){var W,b,z,R,c=this.options,u=this.logarithmic,E=this.min,j=this.max,G=0;if(this.isXAxis&&void 0===this.minRange&&!u&&(y(c.min)||y(c.max)||y(c.floor)||y(c.ceiling)?this.minRange=null:(this.series.forEach(function(it){if(z=it.xData,R=it.xIncrement?1:z.length-1,1<z.length)for(W=R;0<W;W--)b=z[W]-z[W-1],(!G||b<G)&&(G=b)}),this.minRange=Math.min(5*G,this.dataMax-this.dataMin))),j-E<this.minRange){var V=this.dataMax-this.dataMin>=this.minRange,Z=this.minRange,nt=(Z-j+E)/2;nt=[E-nt,w(c.min,E-nt)],V&&(nt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),j=[(E=d(nt))+Z,w(c.max,E+Z)],V&&(j[2]=u?u.log2lin(this.dataMax):this.dataMax),(j=v(j))-E<Z&&(nt[0]=j-Z,nt[1]=w(c.min,j-Z),E=d(nt))}this.min=E,this.max=j},B.prototype.getClosest=function(){var c;return this.categories?c=1:this.series.forEach(function(u){var E=u.closestPointRange,j=u.visible||!u.chart.options.chart.ignoreHiddenSeries;!u.noSharedTooltip&&y(E)&&j&&(c=y(c)?Math.min(c,E):E)}),c},B.prototype.nameToX=function(c){var u=r(this.categories),E=u?this.categories:this.names,j=c.options.x;if(c.series.requireSorting=!1,y(j)||(j=this.options.uniqueNames?u?E.indexOf(c.name):w(E.keys[c.name],-1):c.series.autoIncrement()),-1===j){if(!u)var G=E.length}else G=j;return void 0!==G&&(this.names[G]=c.name,this.names.keys[c.name]=G),G},B.prototype.updateNames=function(){var c=this,u=this.names;0<u.length&&(Object.keys(u.keys).forEach(function(E){delete u.keys[E]}),u.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(E){E.xIncrement=null,(!E.points||E.isDirtyData)&&(c.max=Math.max(c.max,E.xData.length-1),E.processData(),E.generatePoints()),E.data.forEach(function(j,G){if(j&&j.options&&void 0!==j.name){var W=c.nameToX(j);void 0!==W&&W!==j.x&&(j.x=W,E.xData[G]=W)}})}))},B.prototype.setAxisTranslation=function(){var R,c=this,u=c.max-c.min,E=c.linkedParent,j=!!c.categories,G=c.isXAxis,W=c.axisPointRange||0,b=0,z=0;if(G||j||W){var V=c.getClosest();E?(b=E.minPointOffset,z=E.pointRangePadding):c.series.forEach(function(Z){var nt=j?1:G?w(Z.options.pointRange,V,0):c.axisPointRange||0,it=Z.options.pointPlacement;W=Math.max(W,nt),(!c.single||j)&&(Z=Z.is("xrange")?!G:G,b=Math.max(b,Z&&a(it)?0:nt/2),z=Math.max(z,Z&&"on"===it?0:nt))}),c.minPointOffset=b*=E=c.ordinal&&c.ordinal.slope&&V?c.ordinal.slope/V:1,c.pointRangePadding=z*=E,c.pointRange=Math.min(W,c.single&&j?1:u),G&&(c.closestPointRange=V)}c.translationSlope=c.transA=R=c.staticScale||c.len/(u+z||1),c.transB=c.horiz?c.left:c.bottom,c.minPixelPadding=R*b,f(this,"afterSetAxisTranslation")},B.prototype.minFromRange=function(){return this.max-this.range},B.prototype.setTickInterval=function(c){var u=this.chart,E=this.logarithmic,j=this.options,G=this.isXAxis,W=this.isLinked,b=j.tickPixelInterval,z=this.categories,R=this.softThreshold,V=j.maxPadding,Z=j.minPadding,nt=p(j.tickInterval)&&0<=j.tickInterval?j.tickInterval:void 0,it=p(this.threshold)?this.threshold:null;this.dateTime||z||W||this.getTickAmount();var ot=w(this.userMin,j.min),at=w(this.userMax,j.max);if(W){this.linkedParent=u[this.coll][j.linkedTo];var mt=this.linkedParent.getExtremes();this.min=w(mt.min,mt.dataMin),this.max=w(mt.max,mt.dataMax),j.type!==this.linkedParent.options.type&&D(11,1,u)}else{if(R&&y(it))if(this.dataMin>=it)mt=it,Z=0;else if(this.dataMax<=it){var _t=it;V=0}this.min=w(ot,mt,this.dataMin),this.max=w(at,_t,this.dataMax)}if(E&&(this.positiveValuesOnly&&!c&&0>=Math.min(this.min,w(this.dataMin,this.min))&&D(10,1,u),this.min=T(E.log2lin(this.min),16),this.max=T(E.log2lin(this.max),16)),this.range&&y(this.max)&&(this.userMin=this.min=ot=Math.max(this.dataMin,this.minFromRange()),this.userMax=at=this.max,this.range=null),f(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(z||this.axisPointRange||this.stacking&&this.stacking.usePercentage||W)&&y(this.min)&&y(this.max)&&(u=this.max-this.min)&&(!y(ot)&&Z&&(this.min-=u*Z),!y(at)&&V&&(this.max+=u*V)),p(this.userMin)||(p(j.softMin)&&j.softMin<this.min&&(this.min=ot=j.softMin),p(j.floor)&&(this.min=Math.max(this.min,j.floor))),p(this.userMax)||(p(j.softMax)&&j.softMax>this.max&&(this.max=at=j.softMax),p(j.ceiling)&&(this.max=Math.min(this.max,j.ceiling))),R&&y(this.dataMin)&&(it=it||0,!y(ot)&&this.min<it&&this.dataMin>=it?this.min=this.options.minRange?Math.min(it,this.max-this.minRange):it:!y(at)&&this.max>it&&this.dataMax<=it&&(this.max=this.options.minRange?Math.max(it,this.min+this.minRange):it)),p(this.min)&&p(this.max)&&!this.chart.polar&&this.min>this.max&&(y(this.options.min)?this.max=this.min:y(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:W&&this.linkedParent&&!nt&&b===this.linkedParent.options.tickPixelInterval?nt=this.linkedParent.tickInterval:w(nt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,z?1:(this.max-this.min)*b/Math.max(this.len,b)),G&&!c){var yt=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(ut){ut.forceCrop=ut.forceCropping&&ut.forceCropping(),ut.processData(yt)}),f(this,"postProcessData",{hasExtemesChanged:yt})}this.setAxisTranslation(),f(this,"initialAxisTranslation"),this.pointRange&&!nt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),c=w(j.minTickInterval,this.dateTime&&!this.series.some(function(ut){return ut.noSharedTooltip})?this.closestPointRange:0),!nt&&this.tickInterval<c&&(this.tickInterval=c),this.dateTime||this.logarithmic||nt||(this.tickInterval=h(this.tickInterval,void 0,m(this.tickInterval),w(j.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},B.prototype.setTickPositions=function(){var c=this.options,u=c.tickPositions,E=this.getMinorTickInterval(),j=this.hasVerticalPanning(),G="colorAxis"===this.coll,W=(G||!j)&&c.startOnTick;j=(G||!j)&&c.endOnTick,G=c.tickPositioner,this.tickmarkOffset=this.categories&&"between"===c.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===E&&this.tickInterval?this.tickInterval/5:E,this.single=this.min===this.max&&y(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==c.allowDecimals),this.tickPositions=E=u&&u.slice(),!E&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?E=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,c.units),this.min,this.max,c.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(E=[this.min,this.max],D(19,!1,this.chart)),E.length>this.len&&(E=[E[0],E.pop()])[0]===E[1]&&(E.length=1),this.tickPositions=E,G&&(G=G.apply(this,[this.min,this.max])))&&(this.tickPositions=E=G),this.paddedTicks=E.slice(0),this.trimTicks(E,W,j),this.isLinked||(this.single&&2>E.length&&!this.categories&&!this.series.some(function(b){return b.is("heatmap")&&"between"===b.options.pointPlacement})&&(this.min-=.5,this.max+=.5),u||G||this.adjustTickAmount()),f(this,"afterSetTickPositions")},B.prototype.trimTicks=function(c,u,E){var j=c[0],G=c[c.length-1],W=!this.isOrdinal&&this.minPointOffset||0;if(f(this,"trimTicks"),!this.isLinked){if(u&&j!==-1/0)this.min=j;else for(;this.min-W>c[0];)c.shift();if(E)this.max=G;else for(;this.max+W<c[c.length-1];)c.pop();0===c.length&&y(j)&&!this.options.tickPositions&&c.push((G+j)/2)}},B.prototype.alignToOthers=function(){var E,c={},u=this.options;return!1!==this.chart.options.chart.alignTicks&&u.alignTicks&&!1!==u.startOnTick&&!1!==u.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach(function(j){var G=j.options;G=[j.horiz?G.left:G.top,G.width,G.height,G.pane].join(),j.series.length&&(c[G]?E=!0:c[G]=1)}),E},B.prototype.getTickAmount=function(){var c=this.options,u=c.tickPixelInterval,E=c.tickAmount;!y(c.tickInterval)&&!E&&this.len<u&&!this.isRadial&&!this.logarithmic&&c.startOnTick&&c.endOnTick&&(E=2),!E&&this.alignToOthers()&&(E=Math.ceil(this.len/u)+1),4>E&&(this.finalTickAmt=E,E=5),this.tickAmount=E},B.prototype.adjustTickAmount=function(){var c=this.options,u=this.tickInterval,E=this.tickPositions,j=this.tickAmount,G=this.finalTickAmt,W=E&&E.length,b=w(this.threshold,this.softThreshold?0:null);if(this.hasData()&&p(this.min)&&p(this.max)){if(W<j){for(;E.length<j;)E.length%2||this.min===b?E.push(T(E[E.length-1]+u)):E.unshift(T(E[0]-u));this.transA*=(W-1)/(j-1),this.min=c.startOnTick?E[0]:Math.min(this.min,E[0]),this.max=c.endOnTick?E[E.length-1]:Math.max(this.max,E[E.length-1])}else W>j&&(this.tickInterval*=2,this.setTickPositions());if(y(G)){for(u=c=E.length;u--;)(3===G&&u%2==1||2>=G&&0<u&&u<c-1)&&E.splice(u,1);this.finalTickAmt=void 0}}},B.prototype.setScale=function(){var c=!1,u=!1;this.series.forEach(function(j){c=c||j.isDirtyData||j.isDirty,u=u||j.xAxis&&j.xAxis.isDirty||!1}),this.setAxisSize();var E=this.len!==(this.old&&this.old.len);E||c||u||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=E||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),c&&this.panningState&&(this.panningState.isDirty=!0),f(this,"afterSetScale")},B.prototype.setExtremes=function(c,u,E,j,G){var W=this,b=W.chart;E=w(E,!0),W.series.forEach(function(z){delete z.kdTree}),G=x(G,{min:c,max:u}),f(W,"setExtremes",G,function(){W.userMin=c,W.userMax=u,W.eventArgs=G,E&&b.redraw(j)})},B.prototype.zoom=function(c,u){var E=this,j=this.dataMin,G=this.dataMax,W=this.options,b=Math.min(j,w(W.min,j)),z=Math.max(G,w(W.max,G));return f(this,"zoom",c={newMin:c,newMax:u},function(R){var V=R.newMin,Z=R.newMax;(V!==E.min||Z!==E.max)&&(E.allowZoomOutside||(y(j)&&(V<b&&(V=b),V>z&&(V=z)),y(G)&&(Z<b&&(Z=b),Z>z&&(Z=z))),E.displayBtn=void 0!==V||void 0!==Z,E.setExtremes(V,Z,!1,void 0,{trigger:"zoom"})),R.zoomed=!0}),c.zoomed},B.prototype.setAxisSize=function(){var c=this.chart,u=this.options,E=u.offsets||[0,0,0,0],j=this.horiz,G=this.width=Math.round(P(w(u.width,c.plotWidth-E[3]+E[1]),c.plotWidth)),W=this.height=Math.round(P(w(u.height,c.plotHeight-E[0]+E[2]),c.plotHeight)),b=this.top=Math.round(P(w(u.top,c.plotTop+E[0]),c.plotHeight,c.plotTop));u=this.left=Math.round(P(w(u.left,c.plotLeft+E[3]),c.plotWidth,c.plotLeft)),this.bottom=c.chartHeight-W-b,this.right=c.chartWidth-G-u,this.len=Math.max(j?G:W,0),this.pos=j?u:b},B.prototype.getExtremes=function(){var c=this.logarithmic;return{min:c?T(c.lin2log(this.min)):this.min,max:c?T(c.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},B.prototype.getThreshold=function(c){var u=this.logarithmic,E=u?u.lin2log(this.min):this.min;return u=u?u.lin2log(this.max):this.max,null===c||c===-1/0?c=E:c===1/0?c=u:E>c?c=E:u<c&&(c=u),this.translate(c,0,1,0,1)},B.prototype.autoLabelAlign=function(c){var u=(w(c,0)-90*this.side+720)%360;return f(this,"autoLabelAlign",c={align:"center"},function(E){15<u&&165>u?E.align="right":195<u&&345>u&&(E.align="left")}),c.align},B.prototype.tickSize=function(c){var u=this.options,E=w(u["tick"===c?"tickWidth":"minorTickWidth"],"tick"===c&&this.isXAxis&&!this.categories?1:0),j=u["tick"===c?"tickLength":"minorTickLength"];if(E&&j){"inside"===u[c+"Position"]&&(j=-j);var G=[j,E]}return f(this,"afterTickSize",c={tickSize:G}),c.tickSize},B.prototype.labelMetrics=function(){var c=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[c]&&this.ticks[c].label)},B.prototype.unsquish=function(){var V,Z,c=this.options.labels,u=this.horiz,E=this.tickInterval,j=this.len/(((this.categories?1:0)+this.max-this.min)/E),G=c.rotation,W=this.labelMetrics(),b=Math.max(this.max-this.min,0),z=function(ot){var at=ot/(j||1);return(at=1<at?Math.ceil(at):1)*E>b&&ot!==1/0&&j!==1/0&&b&&(at=Math.ceil(b/E)),T(at*E)},R=E,nt=Number.MAX_VALUE;if(u){if(!c.staggerLines&&!c.step)if(p(G))var it=[G];else j<c.autoRotationLimit&&(it=c.autoRotation);it&&it.forEach(function(ot){if(ot===G||ot&&-90<=ot&&90>=ot){var at=(Z=z(Math.abs(W.h/Math.sin(g*ot))))+Math.abs(ot/360);at<nt&&(nt=at,V=ot,R=Z)}})}else c.step||(R=z(W.h));return this.autoRotation=it,this.labelRotation=w(V,p(G)?G:0),R},B.prototype.getSlotWidth=function(c){var u=this.chart,E=this.horiz,j=this.options.labels,G=Math.max(this.tickPositions.length-(this.categories?0:1),1),W=u.margin[3];if(c&&p(c.slotWidth))return c.slotWidth;if(E&&2>j.step)return j.rotation?0:(this.staggerLines||1)*this.len/G;if(!E){if(void 0!==(c=j.style.width))return parseInt(String(c),10);if(W)return W-u.spacing[3]}return.33*u.chartWidth},B.prototype.renderUnsquish=function(){var c=this.chart,u=c.renderer,E=this.tickPositions,j=this.ticks,G=this.options.labels,W=G.style,b=this.horiz,z=this.getSlotWidth(),R=Math.max(1,Math.round(z-2*G.padding)),V={},Z=this.labelMetrics(),nt=W.textOverflow,it=0;if(a(G.rotation)||(V.rotation=G.rotation||0),E.forEach(function(_t){(_t=j[_t]).movedLabel&&_t.replaceMovedLabel(),_t&&_t.label&&_t.label.textPxLength>it&&(it=_t.label.textPxLength)}),this.maxLabelLength=it,this.autoRotation)it>R&&it>Z.h?V.rotation=this.labelRotation:this.labelRotation=0;else if(z){var ot=R;if(!nt){var at="clip";for(R=E.length;!b&&R--;){var mt=E[R];(mt=j[mt].label)&&(mt.styles&&"ellipsis"===mt.styles.textOverflow?mt.css({textOverflow:"clip"}):mt.textPxLength>z&&mt.css({width:z+"px"}),mt.getBBox().height>this.len/E.length-(Z.h-Z.f)&&(mt.specificTextOverflow="ellipsis"))}}}V.rotation&&(ot=it>.5*c.chartHeight?.33*c.chartHeight:it,nt||(at="ellipsis")),(this.labelAlign=G.align||this.autoLabelAlign(this.labelRotation))&&(V.align=this.labelAlign),E.forEach(function(_t){var yt=(_t=j[_t])&&_t.label,ut=W.width,ct={};yt&&(yt.attr(V),_t.shortenLabel?_t.shortenLabel():ot&&!ut&&"nowrap"!==W.whiteSpace&&(ot<yt.textPxLength||"SPAN"===yt.element.tagName)?(ct.width=ot+"px",nt||(ct.textOverflow=yt.specificTextOverflow||at),yt.css(ct)):yt.styles&&yt.styles.width&&!ct.width&&!ut&&yt.css({width:null}),delete yt.specificTextOverflow,_t.rotation=V.rotation)},this),this.tickRotCorr=u.rotCorr(Z.b,this.labelRotation||0,0!==this.side)},B.prototype.hasData=function(){return this.series.some(function(c){return c.hasData()})||this.options.showEmpty&&y(this.min)&&y(this.max)},B.prototype.addTitle=function(c){var b,j=this.opposite,G=this.options.title,W=this.chart.styledMode;this.axisTitle||((b=G.textAlign)||(b=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:j?"right":"left",middle:"center",high:j?"left":"right"})[G.align]),this.axisTitle=this.chart.renderer.text(G.text||"",0,0,G.useHTML).attr({zIndex:7,rotation:G.rotation,align:b}).addClass("highcharts-axis-title"),W||this.axisTitle.css(n(G.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),W||G.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[c?"show":"hide"](c)},B.prototype.generateTick=function(c){var u=this.ticks;u[c]?u[c].addLabel():u[c]=new X(this,c)},B.prototype.getOffset=function(){var c=this,u=this,E=u.chart,j=u.horiz,G=u.options,W=u.side,b=u.ticks,z=u.tickPositions,R=u.coll,V=u.axisParent,Z=E.renderer,nt=E.inverted&&!u.isZAxis?[1,0,3,2][W]:W,it=u.hasData(),ot=G.title,at=G.labels,mt=E.axisOffset;E=E.clipOffset;var ut,_t=[-1,1,1,-1][W],yt=G.className,ct=0,H=0,tt=0;if(u.showAxis=ut=it||G.showEmpty,u.staggerLines=u.horiz&&at.staggerLines||void 0,!u.axisGroup){var lt=function(ft,bt,Tt){return Z.g(ft).attr({zIndex:Tt}).addClass("highcharts-"+R.toLowerCase()+bt+" "+(c.isRadial?"highcharts-radial-axis"+bt+" ":"")+(yt||"")).add(V)};u.gridGroup=lt("grid","-grid",G.gridZIndex),u.axisGroup=lt("axis","",G.zIndex),u.labelGroup=lt("axis-labels","-labels",at.zIndex)}if(it||u.isLinked?(z.forEach(function(ft){u.generateTick(ft)}),u.renderUnsquish(),u.reserveSpaceDefault=0===W||2===W||{1:"left",3:"right"}[W]===u.labelAlign,w(at.reserveSpace,"center"===u.labelAlign||null,u.reserveSpaceDefault)&&z.forEach(function(ft){tt=Math.max(b[ft].getLabelSize(),tt)}),u.staggerLines&&(tt*=u.staggerLines),u.labelOffset=tt*(u.opposite?-1:1)):l(b,function(ft,bt){ft.destroy(),delete b[bt]}),ot&&ot.text&&!1!==ot.enabled&&(u.addTitle(ut),ut&&!1!==ot.reserveSpace)){u.titleOffset=ct=u.axisTitle.getBBox()[j?"height":"width"];var dt=ot.offset;H=y(dt)?0:w(ot.margin,j?5:10)}u.renderLine(),u.offset=_t*w(G.offset,mt[W]?mt[W]+(G.margin||0):0),u.tickRotCorr=u.tickRotCorr||{x:0,y:0},ot=0===W?-u.labelMetrics().h:2===W?u.tickRotCorr.y:0,it=Math.abs(tt)+H,tt&&(it=it-ot+_t*(j?w(at.y,u.tickRotCorr.y+8*_t):at.x)),u.axisTitleMargin=w(dt,it),u.getMaxLabelDimensions&&(u.maxLabelDimensions=u.getMaxLabelDimensions(b,z)),"colorAxis"!==R&&(j=this.tickSize("tick"),mt[W]=Math.max(mt[W],(u.axisTitleMargin||0)+ct+_t*u.offset,it,z&&z.length&&j?j[0]+_t*u.offset:0),G=!u.axisLine||G.offset?0:2*Math.floor(u.axisLine.strokeWidth()/2),E[nt]=Math.max(E[nt],G)),f(this,"afterGetOffset")},B.prototype.getLinePath=function(c){var u=this.chart,E=this.opposite,j=this.offset,G=this.horiz,W=this.left+(E?this.width:0)+j;return j=u.chartHeight-this.bottom-(E?this.height:0)+j,E&&(c*=-1),u.renderer.crispLine([["M",G?this.left:W,G?j:this.top],["L",G?u.chartWidth-this.right:W,G?j:u.chartHeight-this.bottom]],c)},B.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},B.prototype.getTitlePosition=function(){var c=this.horiz,u=this.left,E=this.top,j=this.len,G=this.options.title,W=c?u:E,b=this.opposite,z=this.offset,R=G.x,V=G.y,Z=this.axisTitle,nt=this.chart.renderer.fontMetrics(G.style.fontSize,Z);return Z=Math.max(Z.getBBox(null,0).height-nt.h-1,0),j={low:W+(c?0:j),middle:W+j/2,high:W+(c?j:0)}[G.align],u=(c?E+this.height:u)+(c?1:-1)*(b?-1:1)*this.axisTitleMargin+[-Z,Z,nt.f,-Z][this.side],f(this,"afterGetTitlePosition",{titlePosition:c={x:c?j+R:u+(b?this.width:0)+z+R,y:c?u+V-(b?this.height:0)+z:j+V}}),c},B.prototype.renderMinorTick=function(c,u){var E=this.minorTicks;E[c]||(E[c]=new X(this,c,"minor")),u&&E[c].isNew&&E[c].render(null,!0),E[c].render(null,!1,1)},B.prototype.renderTick=function(c,u,E){var j=this.ticks;(!this.isLinked||c>=this.min&&c<=this.max||this.grid&&this.grid.isColumn)&&(j[c]||(j[c]=new X(this,c)),E&&j[c].isNew&&j[c].render(u,!0,-1),j[c].render(u))},B.prototype.render=function(){var _t,yt,c=this,u=c.chart,E=c.logarithmic,j=c.options,G=c.isLinked,W=c.tickPositions,b=c.axisTitle,z=c.ticks,R=c.minorTicks,V=c.alternateBands,Z=j.stackLabels,nt=j.alternateGridColor,it=c.tickmarkOffset,ot=c.axisLine,at=c.showAxis,mt=N(u.renderer.globalAnimation);if(c.labelEdge.length=0,c.overlap=!1,[z,R,V].forEach(function(ct){l(ct,function(H){H.isActive=!1})}),c.hasData()||G){var ut=c.chart.hasRendered&&c.old&&p(c.old.min);c.minorTickInterval&&!c.categories&&c.getMinorTickPositions().forEach(function(ct){c.renderMinorTick(ct,ut)}),W.length&&(W.forEach(function(ct,H){c.renderTick(ct,H,ut)}),it&&(0===c.min||c.single)&&(z[-1]||(z[-1]=new X(c,-1,null,!0)),z[-1].render(-1))),nt&&W.forEach(function(ct,H){yt=void 0!==W[H+1]?W[H+1]+it:c.max-it,H%2==0&&ct<c.max&&yt<=c.max+(u.polar?-it:it)&&(V[ct]||(V[ct]=new K.PlotLineOrBand(c)),_t=ct+it,V[ct].options={from:E?E.lin2log(_t):_t,to:E?E.lin2log(yt):yt,color:nt,className:"highcharts-alternate-grid"},V[ct].render(),V[ct].isActive=!0)}),c._addedPlotLB||(c._addedPlotLB=!0,(j.plotLines||[]).concat(j.plotBands||[]).forEach(function(ct){c.addPlotBandOrLine(ct)}))}[z,R,V].forEach(function(ct){var H=[],tt=mt.duration;l(ct,function(lt,dt){lt.isActive||(lt.render(dt,!1,0),lt.isActive=!1,H.push(dt))}),S(function(){for(var lt=H.length;lt--;)ct[H[lt]]&&!ct[H[lt]].isActive&&(ct[H[lt]].destroy(),delete ct[H[lt]])},ct!==V&&u.hasRendered&&tt?tt:0)}),ot&&(ot[ot.isPlaced?"animate":"attr"]({d:this.getLinePath(ot.strokeWidth())}),ot.isPlaced=!0,ot[at?"show":"hide"](at)),b&&at&&(j=c.getTitlePosition(),p(j.y)?(b[b.isNew?"attr":"animate"](j),b.isNew=!1):(b.attr("y",-9999),b.isNew=!0)),Z&&Z.enabled&&c.stacking&&c.stacking.renderStackTotals(),c.old={len:c.len,max:c.max,min:c.min,transA:c.transA,userMax:c.userMax,userMin:c.userMin},c.isDirty=!1,f(this,"afterRender")},B.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(c){c.render()})),this.series.forEach(function(c){c.isDirty=!0})},B.prototype.getKeepProps=function(){return this.keepProps||B.keepProps},B.prototype.destroy=function(c){var u=this,E=u.plotLinesAndBands,j=this.eventOptions;if(f(this,"destroy",{keepEvents:c}),c||I(u),[u.ticks,u.minorTicks,u.alternateBands].forEach(function(W){C(W)}),E)for(c=E.length;c--;)E[c].destroy();for(var G in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(W){u[W]&&(u[W]=u[W].destroy())}),u.plotLinesAndBandsGroups)u.plotLinesAndBandsGroups[G]=u.plotLinesAndBandsGroups[G].destroy();l(u,function(W,b){-1===u.getKeepProps().indexOf(b)&&delete u[b]}),this.eventOptions=j},B.prototype.drawCrosshair=function(c,u){var W,E=this.crosshair,j=w(E&&E.snap,!0),G=this.chart,b=this.cross;if(f(this,"drawCrosshair",{e:c,point:u}),c||(c=this.cross&&this.cross.e),E&&!1!==(y(u)||!j)){if(j?y(u)&&(W=w("colorAxis"!==this.coll?u.crosshairPos:null,this.isXAxis?u.plotX:this.len-u.plotY)):W=c&&(this.horiz?c.chartX-this.pos:this.len-c.chartY+this.pos),y(W)){var z={value:u&&(this.isXAxis?u.x:w(u.stackY,u.y)),translatedValue:W};G.polar&&x(z,{isCrosshair:!0,chartX:c&&c.chartX,chartY:c&&c.chartY,point:u}),z=this.getPlotLinePath(z)||null}if(!y(z))return void this.hideCrosshair();j=this.categories&&!this.isRadial,b||(this.cross=b=G.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(j?"category ":"thin ")+(E.className||"")).attr({zIndex:w(E.zIndex,2)}).add(),G.styledMode||(b.attr({stroke:E.color||(j?q.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":w(E.width,1)}).css({"pointer-events":"none"}),E.dashStyle&&b.attr({dashstyle:E.dashStyle}))),b.show().attr({d:z}),j&&!E.width&&b.attr({"stroke-width":this.transA}),this.cross.e=c}else this.hideCrosshair();f(this,"afterDrawCrosshair",{e:c,point:u})},B.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),f(this,"afterHideCrosshair")},B.prototype.hasVerticalPanning=function(){var c=this.chart.options.chart.panning;return!!(c&&c.enabled&&/y/.test(c.type))},B.prototype.validatePositiveValue=function(c){return p(c)&&0<c},B.prototype.update=function(c,u){var E=this.chart;c=n(this.userOptions,c),this.destroy(!0),this.init(E,c),E.isDirtyBox=!0,w(u,!0)&&E.redraw()},B.prototype.remove=function(c){for(var u=this.chart,E=this.coll,j=this.series,G=j.length;G--;)j[G]&&j[G].remove(!1);M(u.axes,this),M(u[E],this),u[E].forEach(function(W,b){W.options.index=W.userOptions.index=b}),this.destroy(),u.isDirtyBox=!0,w(c,!0)&&u.redraw()},B.prototype.setTitle=function(c,u){this.update({title:c},u)},B.prototype.setCategories=function(c,u){this.update({categories:c},u)},B.defaultOptions=$.defaultXAxisOptions,B.keepProps="extKey hcEvents names series userMax userMin".split(" "),B}()}),wt(o,"Core/Axis/DateTimeAxis.js",[o["Core/Utilities.js"]],function(Y){var K,$=Y.addEvent,q=Y.getMagnitude,rt=Y.normalizeTickInterval,J=Y.timeUnits;return function(X){function F(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function N(g){"datetime"!==g.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new k(this))}var O=[];X.compose=function(g){return-1===O.indexOf(g)&&(O.push(g),g.keepProps.push("dateTime"),g.prototype.getTimeTicks=F,$(g,"init",N)),g};var k=function(){function g(d){this.axis=d}return g.prototype.normalizeTimeTickInterval=function(d,v){var C,_=v||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],T=J[(v=_[_.length-1])[0]],y=v[1];for(C=0;C<_.length&&(T=J[(v=_[C])[0]],y=v[1],!(_[C+1]&&d<=(T*y[y.length-1]+J[_[C+1][0]])/2));C++);return T===J.year&&d<5*T&&(y=[1,2,5]),{unitRange:T,count:d=rt(d/T,y,"year"===v[0]?Math.max(q(d/T),1):1),unitName:v[0]}},g.prototype.getXDateFormat=function(d,v){var _=this.axis;return _.closestPointRange?_.chart.time.getDateFormat(_.closestPointRange,d,_.options.startOfWeek,v)||v.year:v.day},g}();X.Additions=k}(K||(K={})),K}),wt(o,"Core/Axis/LogarithmicAxis.js",[o["Core/Utilities.js"]],function(Y){var K,$=Y.addEvent,q=Y.getMagnitude,rt=Y.normalizeTickInterval,J=Y.pick;return function(X){function F(g){var d=this.logarithmic;"logarithmic"!==g.userOptions.type?this.logarithmic=void 0:d||(this.logarithmic=new k(this))}function N(){var g=this.logarithmic;g&&(this.lin2val=function(d){return g.lin2log(d)},this.val2lin=function(d){return g.log2lin(d)})}var O=[];X.compose=function(g){return-1===O.indexOf(g)&&(O.push(g),g.keepProps.push("logarithmic"),$(g,"init",F),$(g,"afterInit",N)),g};var k=function(){function g(d){this.axis=d}return g.prototype.getLogTickPositions=function(d,v,_,T){var y=this.axis,C=y.len,M=y.options,D=[];if(T||(this.minorAutoInterval=void 0),.5<=d)d=Math.round(d),D=y.getLinearTickPositions(d,v,_);else if(.08<=d){var f,x=Math.floor(v),m=M=void 0;for(C=.3<d?[1,2,4]:.15<d?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];x<_+1&&!m;x++){var r=C.length;for(f=0;f<r&&!m;f++){var p=this.log2lin(this.lin2log(x)*C[f]);p>v&&(!T||M<=_)&&void 0!==M&&D.push(M),M>_&&(m=!0),M=p}}}else v=this.lin2log(v),_=this.lin2log(_),d=T?y.getMinorTickInterval():M.tickInterval,d=J("auto"===d?null:d,this.minorAutoInterval,M.tickPixelInterval/(T?5:1)*(_-v)/((T?C/y.tickPositions.length:C)||1)),d=rt(d,void 0,q(d)),D=y.getLinearTickPositions(d,v,_).map(this.log2lin),T||(this.minorAutoInterval=d/5);return T||(y.tickInterval=d),D},g.prototype.lin2log=function(d){return Math.pow(10,d)},g.prototype.log2lin=function(d){return Math.log(d)/Math.LN10},g}();X.Additions=k}(K||(K={})),K}),wt(o,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[o["Core/Utilities.js"]],function(Y){var J,$=Y.erase,q=Y.extend,rt=Y.isNumber;return function(K){var F,X=[];K.compose=function(O,k){return F||(F=O),-1===X.indexOf(k)&&(X.push(k),q(k.prototype,N.prototype)),k};var N=function(){function O(){}return O.prototype.getPlotBandPath=function(k,g,d){void 0===d&&(d=this.options);var v=this.getPlotLinePath({value:g,force:!0,acrossPanes:d.acrossPanes}),_=[],T=this.horiz;if(g=!rt(this.min)||!rt(this.max)||k<this.min&&g<this.min||k>this.max&&g>this.max,k=this.getPlotLinePath({value:k,force:!0,acrossPanes:d.acrossPanes}),d=1,k&&v){if(g){var y=k.toString()===v.toString();d=0}for(g=0;g<k.length;g+=2){var C=k[g],M=k[g+1],D=v[g],x=v[g+1];"M"!==C[0]&&"L"!==C[0]||"M"!==M[0]&&"L"!==M[0]||"M"!==D[0]&&"L"!==D[0]||"M"!==x[0]&&"L"!==x[0]||(T&&D[1]===C[1]?(D[1]+=d,x[1]+=d):T||D[2]!==C[2]||(D[2]+=d,x[2]+=d),_.push(["M",C[1],C[2]],["L",M[1],M[2]],["L",x[1],x[2]],["L",D[1],D[2]],["Z"])),_.isFlat=y}}return _},O.prototype.addPlotBand=function(k){return this.addPlotBandOrLine(k,"plotBands")},O.prototype.addPlotLine=function(k){return this.addPlotBandOrLine(k,"plotLines")},O.prototype.addPlotBandOrLine=function(k,g){var d=this,v=this.userOptions,_=new F(this,k);if(this.visible&&(_=_.render()),_){if(this._addedPlotLB||(this._addedPlotLB=!0,(v.plotLines||[]).concat(v.plotBands||[]).forEach(function(y){d.addPlotBandOrLine(y)})),g){var T=v[g]||[];T.push(k),v[g]=T}this.plotLinesAndBands.push(_)}return _},O.prototype.removePlotBandOrLine=function(k){var g=this.plotLinesAndBands,d=this.options,v=this.userOptions;if(g){for(var _=g.length;_--;)g[_].id===k&&g[_].destroy();[d.plotLines||[],v.plotLines||[],d.plotBands||[],v.plotBands||[]].forEach(function(T){for(_=T.length;_--;)(T[_]||{}).id===k&&$(T,T[_])})}},O.prototype.removePlotBand=function(k){this.removePlotBandOrLine(k)},O.prototype.removePlotLine=function(k){this.removePlotBandOrLine(k)},O}()}(J||(J={})),J}),wt(o,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[o["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],o["Core/Utilities.js"]],function(Y,$){var q=$.arrayMax,rt=$.arrayMin,J=$.defined,K=$.destroyObjectProperties,X=$.erase,F=$.fireEvent,N=$.merge,O=$.objectEach,k=$.pick;return function(){function g(d,v){this.axis=d,v&&(this.options=v,this.id=v.id)}return g.compose=function(d){return Y.compose(g,d)},g.prototype.render=function(){F(this,"render");var d=this,v=d.axis,_=v.horiz,T=v.logarithmic,y=d.options,C=y.color,M=k(y.zIndex,0),D=y.events,x={},f=v.chart.renderer,m=y.label,r=d.label,p=y.to,a=y.from,n=y.value,h=d.svgElem,l=[],w=J(a)&&J(p);l=J(n);var P=!h,I={class:"highcharts-plot-"+(w?"band ":"line ")+(y.className||"")},L=w?"bands":"lines";if(T&&(a=T.log2lin(a),p=T.log2lin(p),n=T.log2lin(n)),v.chart.styledMode||(l?(I.stroke=C||"#999999",I["stroke-width"]=k(y.width,1),y.dashStyle&&(I.dashstyle=y.dashStyle)):w&&(I.fill=C||"#e6ebf5",y.borderWidth&&(I.stroke=y.borderColor,I["stroke-width"]=y.borderWidth))),x.zIndex=M,(T=v.plotLinesAndBandsGroups[L+="-"+M])||(v.plotLinesAndBandsGroups[L]=T=f.g("plot-"+L).attr(x).add()),P&&(d.svgElem=h=f.path().attr(I).add(T)),l)l=v.getPlotLinePath({value:n,lineWidth:h.strokeWidth(),acrossPanes:y.acrossPanes});else{if(!w)return;l=v.getPlotBandPath(a,p,y)}return!d.eventsAdded&&D&&(O(D,function(S,B){h.on(B,function(c){D[B].apply(d,[c])})}),d.eventsAdded=!0),(P||!h.d)&&l&&l.length?h.attr({d:l}):h&&(l?(h.show(!0),h.animate({d:l})):h.d&&(h.hide(),r&&(d.label=r=r.destroy()))),m&&(J(m.text)||J(m.formatter))&&l&&l.length&&0<v.width&&0<v.height&&!l.isFlat?(m=N({align:_&&w&&"center",x:_?!w&&4:10,verticalAlign:!_&&w&&"middle",y:_?w?16:10:w?6:-4,rotation:_&&!w&&90},m),this.renderLabel(m,l,w,M)):r&&r.hide(),d},g.prototype.renderLabel=function(d,v,_,T){var y=this.axis,C=y.chart.renderer,M=this.label;M||(this.label=M=C.text(this.getLabelText(d),0,0,d.useHTML).attr({align:d.textAlign||d.align,rotation:d.rotation,class:"highcharts-plot-"+(_?"band":"line")+"-label "+(d.className||""),zIndex:T}).add(),y.chart.styledMode||M.css(N({textOverflow:"ellipsis"},d.style))),T=v.xBounds||[v[0][1],v[1][1],_?v[2][1]:v[0][1]],v=v.yBounds||[v[0][2],v[1][2],_?v[2][2]:v[0][2]],_=rt(T),C=rt(v),M.align(d,!1,{x:_,y:C,width:q(T)-_,height:q(v)-C}),M.alignValue&&"left"!==M.alignValue||M.css({width:(90===M.rotation?y.height-(M.alignAttr.y-y.top):y.width-(M.alignAttr.x-y.left))+"px"}),M.show(!0)},g.prototype.getLabelText=function(d){return J(d.formatter)?d.formatter.call(this):d.text},g.prototype.destroy=function(){X(this.axis.plotLinesAndBands,this),delete this.axis,K(this)},g}()}),wt(o,"Core/Tooltip.js",[o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var K=Y.format,X=$.doc,F=q.distribute,N=J.addEvent,O=J.clamp,k=J.css,g=J.defined,d=J.discardElement,v=J.extend,_=J.fireEvent,T=J.isArray,y=J.isNumber,C=J.isString,M=J.merge,D=J.pick,x=J.splat,f=J.syncTimeout;return function(){function m(r,p){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=r,this.init(r,p)}return m.prototype.applyFilter=function(){var r=this.chart;r.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+r.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},m.prototype.bodyFormatter=function(r){return r.map(function(p){var a=p.series.tooltipOptions;return(a[(p.point.formatPrefix||"point")+"Formatter"]||p.point.tooltipFormatter).call(p.point,a[(p.point.formatPrefix||"point")+"Format"]||"")})},m.prototype.cleanSplit=function(r){this.chart.series.forEach(function(p){var a=p&&p.tt;a&&(!a.isActive||r?p.tt=a.destroy():a.isActive=!1)})},m.prototype.defaultFormatter=function(r){var p=this.points||x(this),a=[r.tooltipFooterHeaderFormatter(p[0])];return(a=a.concat(r.bodyFormatter(p))).push(r.tooltipFooterHeaderFormatter(p[0],!0)),a},m.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),d(this.container)),J.clearTimeout(this.hideTimer),J.clearTimeout(this.tooltipTimeout)},m.prototype.getAnchor=function(r,p){var P,I,a=this.chart,n=a.pointer,h=a.inverted,l=a.plotTop,w=a.plotLeft,L=0,S=0;return r=x(r),this.followPointer&&p?(void 0===p.chartX&&(p=n.normalize(p)),n=[p.chartX-w,p.chartY-l]):r[0].tooltipPos?n=r[0].tooltipPos:(r.forEach(function(B){P=B.series.yAxis,L+=B.plotX||0,S+=B.plotLow?(B.plotLow+(B.plotHigh||0))/2:B.plotY||0,(I=B.series.xAxis)&&P&&(h?(L+=l+a.plotHeight-I.len-I.pos,S+=w+a.plotWidth-P.len-P.pos):(L+=I.pos-w,S+=P.pos-l))}),L/=r.length,S/=r.length,n=[h?a.plotWidth-S:L,h?a.plotHeight-L:S],this.shared&&1<r.length&&p&&(h?n[0]=p.chartX-w:n[1]=p.chartY-l)),n.map(Math.round)},m.prototype.getLabel=function(){var I,r=this,p=this.chart.styledMode,a=this.options,n=this.split&&this.allowShared,h="tooltip"+(g(a.className)?" "+a.className:""),l=a.style.pointerEvents||(!this.followPointer&&a.stickOnContact?"auto":"none"),w=function(){r.inContact=!0},P=function(j){var G=r.chart.hoverSeries;r.inContact=r.shouldStickOnContact()&&r.chart.pointer.inClass(j.relatedTarget,"highcharts-tooltip"),!r.inContact&&G&&G.onMouseOut&&G.onMouseOut()},L=this.chart.renderer;if(r.label){var S=!r.label.hasClass("highcharts-label");(n&&!S||!n&&S)&&r.destroy()}if(!this.label){if(this.outside){S=this.chart.options.chart.style;var B=rt.getRendererType();this.container=I=$.doc.createElement("div"),I.className="highcharts-tooltip-container",k(I,{position:"absolute",top:"1px",pointerEvents:l,zIndex:Math.max(this.options.style.zIndex||0,(S&&S.zIndex||0)+3)}),N(I,"mouseenter",w),N(I,"mouseleave",P),$.doc.body.appendChild(I),this.renderer=L=new B(I,0,0,S,void 0,void 0,L.styledMode)}if(n?this.label=L.g(h):(this.label=L.label("",0,0,a.shape,void 0,void 0,a.useHTML,void 0,h).attr({padding:a.padding,r:a.borderRadius}),p||this.label.attr({fill:a.backgroundColor,"stroke-width":a.borderWidth}).css(a.style).css({pointerEvents:l}).shadow(a.shadow)),p&&a.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),r.outside&&!r.split){var c=this.label,u=c.xSetter,E=c.ySetter;c.xSetter=function(j){u.call(c,r.distance),I.style.left=j+"px"},c.ySetter=function(j){E.call(c,r.distance),I.style.top=j+"px"}}this.label.on("mouseenter",w).on("mouseleave",P).attr({zIndex:8}).add()}return this.label},m.prototype.getPosition=function(r,p,a){var E,n=this.chart,h=this.distance,l={},w=n.inverted&&a.h||0,P=this.outside,I=P?X.documentElement.clientWidth-2*h:n.chartWidth,L=P?Math.max(X.body.scrollHeight,X.documentElement.scrollHeight,X.body.offsetHeight,X.documentElement.offsetHeight,X.documentElement.clientHeight):n.chartHeight,S=n.pointer.getChartPosition(),B=function(R){var V="x"===R;return[R,V?I:L,V?r:p].concat(P?[V?r*S.scaleX:p*S.scaleY,V?S.left-h+(a.plotX+n.plotLeft)*S.scaleX:S.top-h+(a.plotY+n.plotTop)*S.scaleY,0,V?I:L]:[V?r:p,V?a.plotX+n.plotLeft:a.plotY+n.plotTop,V?n.plotLeft:n.plotTop,V?n.plotLeft+n.plotWidth:n.plotTop+n.plotHeight])},c=B("y"),u=B("x");B=!!a.negative,!n.polar&&n.hoverSeries&&n.hoverSeries.yAxis&&n.hoverSeries.yAxis.reversed&&(B=!B);var j=!this.followPointer&&D(a.ttBelow,!n.inverted===B),G=function(R,V,Z,nt,it,ot,at){var mt=P?"y"===R?h*S.scaleY:h*S.scaleX:h,_t=(Z-nt)/2,yt=nt<it-h,ut=it+h+nt<V,ct=it-mt-Z+_t;if(it=it+mt-_t,j&&ut)l[R]=it;else if(!j&&yt)l[R]=ct;else if(yt)l[R]=Math.min(at-nt,0>ct-w?ct:ct-w);else{if(!ut)return!1;l[R]=Math.max(ot,it+w+Z>V?it:it+w)}},W=function(R,V,Z,nt,it){var ot;return it<h||it>V-h?ot=!1:l[R]=it<Z/2?1:it>V-nt/2?V-nt-2:it-Z/2,ot},b=function(R){var V=c;c=u,u=V,E=R},z=function(){!1!==G.apply(0,c)?!1!==W.apply(0,u)||E||(b(!0),z()):E?l.x=l.y=0:(b(!0),z())};return(n.inverted||1<this.len)&&b(),z(),l},m.prototype.hide=function(r){var p=this;J.clearTimeout(this.hideTimer),r=D(r,this.options.hideDelay),this.isHidden||(this.hideTimer=f(function(){p.getLabel().fadeOut(r&&void 0),p.isHidden=!0},r))},m.prototype.init=function(r,p){this.chart=r,this.options=p,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=p.split&&!r.inverted&&!r.polar,this.shared=p.shared||this.split,this.outside=D(p.outside,!(!r.scrollablePixelsX&&!r.scrollablePixelsY))},m.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},m.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},m.prototype.move=function(r,p,a,n){var h=this,l=h.now,w=!1!==h.options.animation&&!h.isHidden&&(1<Math.abs(r-l.x)||1<Math.abs(p-l.y)),P=h.followPointer||1<h.len;v(l,{x:w?(2*l.x+r)/3:r,y:w?(l.y+p)/2:p,anchorX:P?void 0:w?(2*l.anchorX+a)/3:a,anchorY:P?void 0:w?(l.anchorY+n)/2:n}),h.getLabel().attr(l),h.drawTracker(),w&&(J.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){h&&h.move(r,p,a,n)},32))},m.prototype.refresh=function(r,p){var a=this.chart,n=this.options,h=x(r),l=h[0],w=[],P=n.formatter||this.defaultFormatter,I=this.shared,L=a.styledMode,S={};if(n.enabled){J.clearTimeout(this.hideTimer),this.allowShared=!(!T(r)&&r.series&&r.series.noSharedTooltip),this.followPointer=!this.split&&l.series.tooltipOptions.followPointer;var B=(r=this.getAnchor(r,p))[0],c=r[1];if(I&&this.allowShared?(a.pointer.applyInactiveState(h),h.forEach(function(j){j.setState("hover"),w.push(j.getLabelConfig())}),(S={x:l.category,y:l.y}).points=w):S=l.getLabelConfig(),this.len=w.length,P=P.call(S,this),this.distance=D((I=l.series).tooltipOptions.distance,16),!1===P)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(P,h);else{var u=B,E=c;if(p&&a.pointer.isDirectTouch&&(u=p.chartX-a.plotLeft,E=p.chartY-a.plotTop),!a.polar&&!1!==I.options.clip&&!h.some(function(j){return j.series.shouldShowTooltip(u,E)}))return void this.hide();p=this.getLabel(),n.style.width&&!L||p.css({width:this.chart.spacingBox.width+"px"}),p.attr({text:P&&P.join?P.join(""):P}),p.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+D(l.colorIndex,I.colorIndex)),L||p.attr({stroke:n.borderColor||l.color||I.color||"#666666"}),this.updatePosition({plotX:B,plotY:c,negative:l.negative,ttBelow:l.ttBelow,h:r[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}_(this,"refresh")}},m.prototype.renderSplit=function(r,p){function a(ut,ct,H,tt,lt){return void 0===lt&&(lt=!0),H?(ct=nt?0:mt,ut=O(ut-tt/2,R.left,R.right-tt-(n.outside?it:0))):(ct-=ot,ut=O(ut=lt?ut-tt-W:ut+W,lt?ut:R.left,R.right)),{x:ut,y:ct}}var n=this,h=n.chart,l=n.chart,w=l.chartWidth,P=l.chartHeight,I=l.plotHeight,L=l.plotLeft,S=l.plotTop,B=l.pointer,c=l.scrollablePixelsY;c=void 0===c?0:c;var E=l.scrollingContainer,j=(E=void 0===E?{scrollLeft:0,scrollTop:0}:E).scrollLeft;E=E.scrollTop;var G=l.styledMode,W=n.distance,b=n.options,z=n.options.positioner,R=n.outside&&"number"!=typeof l.scrollablePixelsX?X.documentElement.getBoundingClientRect():{left:j,right:j+w,top:E,bottom:E+P},V=n.getLabel(),Z=this.renderer||h.renderer,nt=!(!h.xAxis[0]||!h.xAxis[0].opposite),it=(h=B.getChartPosition()).left;h=h.top;var ot=S+E,at=0,mt=I-c;C(r)&&(r=[!1,r]),r=r.slice(0,p.length+1).reduce(function(ut,ct,H){if(!1!==ct&&""!==ct){var tt=(H=p[H-1]||{isHeader:!0,plotX:p[0].plotX,plotY:I,series:{}}).isHeader,lt=tt?n:H.series;ct=ct.toString();var dt=lt.tt,ft=H.isHeader,bt=H.series,Tt="highcharts-color-"+D(H.colorIndex,bt.colorIndex,"none");if(dt||(dt={padding:b.padding,r:b.borderRadius},G||(dt.fill=b.backgroundColor,dt["stroke-width"]=b.borderWidth),dt=Z.label("",0,0,b[ft?"headerShape":"shape"],void 0,void 0,b.useHTML).addClass((ft?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+Tt).attr(dt).add(V)),dt.isActive=!0,dt.attr({text:ct}),G||dt.css(b.style).shadow(b.shadow).attr({stroke:b.borderColor||H.color||bt.color||"#333333"}),ct=(ft=(lt=lt.tt=dt).getBBox()).width+lt.strokeWidth(),tt&&(mt+=at=ft.height,nt&&(ot-=at)),bt=void 0===(bt=H.plotX)?0:bt,Tt=void 0===(Tt=H.plotY)?0:Tt,dt=H.series,H.isHeader){bt=L+bt;var Lt=S+I/2}else{var jt=dt.xAxis,Rt=dt.yAxis;bt=jt.pos+O(bt,-W,jt.len+W),dt.shouldShowTooltip(0,Rt.pos-S+Tt,{ignoreX:!0})&&(Lt=Rt.pos+Tt)}bt=O(bt,R.left-W,R.right+W),"number"==typeof Lt?(ft=ft.height+1,Tt=z?z.call(n,ct,ft,H):a(bt,Lt,tt,ct),ut.push({align:z?0:void 0,anchorX:bt,anchorY:Lt,boxWidth:ct,point:H,rank:D(Tt.rank,tt?1:0),size:ft,target:Tt.y,tt:lt,x:Tt.x})):lt.isActive=!1}return ut},[]),!z&&r.some(function(ut){var ct=(n.outside?it:0)+ut.anchorX;return ct<R.left&&ct+ut.boxWidth<R.right||ct<it-R.left+ut.boxWidth&&R.right-ct>ct})&&(r=r.map(function(ut){var ct=a(ut.anchorX,ut.anchorY,ut.point.isHeader,ut.boxWidth,!1);return v(ut,{target:ct.y,x:ct.x})})),n.cleanSplit(),F(r,mt);var _t=it,yt=it;r.forEach(function(ut){var ct=ut.x,H=ut.boxWidth;(ut=ut.isHeader)||(n.outside&&it+ct<_t&&(_t=it+ct),!ut&&n.outside&&_t+H>yt&&(yt=it+ct))}),r.forEach(function(ut){var ct=ut.x,H=ut.anchorX,tt=ut.pos,lt=ut.point.isHeader;if(tt={visibility:void 0===tt?"hidden":"inherit",x:ct,y:tt+ot,anchorX:H,anchorY:ut.anchorY},n.outside&&ct<H){var dt=it-_t;0<dt&&(lt||(tt.x=ct+dt,tt.anchorX=H+dt),lt&&(tt.x=(yt-_t)/2,tt.anchorX=H+dt))}ut.tt.attr(tt)}),r=n.container,c=n.renderer,n.outside&&r&&c&&(l=V.getBBox(),c.setSize(l.width+l.x,l.height+l.y,!1),r.style.left=_t+"px",r.style.top=h+"px")},m.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var r=this.chart,p=this.label,a=this.shared?r.hoverPoints:r.hoverPoint;if(p&&a){var n={x:0,y:0,width:0,height:0};a=this.getAnchor(a);var h=p.getBBox();a[0]+=r.plotLeft-p.translateX,a[1]+=r.plotTop-p.translateY,n.x=Math.min(0,a[0]),n.y=Math.min(0,a[1]),n.width=0>a[0]?Math.max(Math.abs(a[0]),h.width-a[0]):Math.max(Math.abs(a[0]),h.width),n.height=0>a[1]?Math.max(Math.abs(a[1]),h.height-Math.abs(a[1])):Math.max(Math.abs(a[1]),h.height),this.tracker?this.tracker.attr(n):(this.tracker=p.renderer.rect(n).addClass("highcharts-tracker").add(p),r.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},m.prototype.styledModeFormat=function(r){return r.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},m.prototype.tooltipFooterHeaderFormatter=function(r,p){var a=r.series,n=a.tooltipOptions,h=a.xAxis,l=h&&h.dateTime,w=n.xDateFormat,P=n[p?"footerFormat":"headerFormat"];return _(this,"headerFormatter",h={isFooter:p,labelConfig:r},function(I){l&&!w&&y(r.key)&&(w=l.getXDateFormat(r.key,n.dateTimeLabelFormats)),l&&w&&(r.point&&r.point.tooltipDateKeys||["key"]).forEach(function(L){P=P.replace("{point."+L+"}","{point."+L+":"+w+"}")}),a.chart.styledMode&&(P=this.styledModeFormat(P)),I.text=K(P,{point:r,series:a},this.chart)}),h.text},m.prototype.update=function(r){this.destroy(),M(!0,this.chart.options.tooltip.userOptions,r),this.init(this.chart,M(!0,this.options,r))},m.prototype.updatePosition=function(r){var p=this.chart,a=this.options,n=p.pointer,h=this.getLabel();n=n.getChartPosition();var l=(a.positioner||this.getPosition).call(this,h.width,h.height,r),w=r.plotX+p.plotLeft;r=r.plotY+p.plotTop,this.outside&&(this.renderer.setSize(h.width+(a=a.borderWidth+2*this.distance),h.height+a,!1),(1!==n.scaleX||1!==n.scaleY)&&(k(this.container,{transform:"scale("+n.scaleX+", "+n.scaleY+")"}),w*=n.scaleX,r*=n.scaleY),w+=n.left-l.x,r+=n.top-l.y),this.move(Math.round(l.x),Math.round(l.y||0),w,r)},m}()}),wt(o,"Core/Series/Point.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Animation/AnimationUtilities.js"],o["Core/DefaultOptions.js"],o["Core/FormatUtilities.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var K=$.animObject,X=q.defaultOptions,F=rt.format,N=J.addEvent,O=J.defined,k=J.erase,g=J.extend,d=J.fireEvent,v=J.getNestedProperty,_=J.isArray,T=J.isFunction,y=J.isNumber,C=J.isObject,M=J.merge,D=J.objectEach,x=J.pick,f=J.syncTimeout,m=J.removeEvent,r=J.uniqueKey;return function(){function p(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return p.prototype.animateBeforeDestroy=function(){var a=this,n={x:a.startXPos,opacity:0},h=a.getGraphicalProps();h.singular.forEach(function(l){a[l]=a[l].animate("dataLabel"===l?{x:a[l].startXPos,y:a[l].startYPos,opacity:0}:n)}),h.plural.forEach(function(l){a[l].forEach(function(w){w.element&&w.animate(g({x:a.startXPos},w.startYPos?{x:w.startXPos,y:w.startYPos}:{}))})})},p.prototype.applyOptions=function(a,n){var h=this.series,l=h.options.pointValKey||h.pointValKey;return a=p.prototype.optionsToObject.call(this,a),g(this,a),this.options=this.options?g(this.options,a):a,a.group&&delete this.group,a.dataLabels&&delete this.dataLabels,l&&(this.y=p.prototype.getNestedProperty.call(this,l)),this.formatPrefix=(this.isNull=x(this.isValid&&!this.isValid(),null===this.x||!y(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===n&&h.xAxis&&h.xAxis.hasNames&&(this.x=h.xAxis.nameToX(this)),void 0===this.x&&h?this.x=void 0===n?h.autoIncrement():n:y(a.x)&&h.options.relativeXValue&&(this.x=h.autoIncrement(a.x)),this},p.prototype.destroy=function(){function a(){for(I in(n.graphic||n.dataLabel||n.dataLabels)&&(m(n),n.destroyElements()),n)n[I]=null}var n=this,h=n.series,l=h.chart;h=h.options.dataSorting;var I,w=l.hoverPoints,P=K(n.series.chart.renderer.globalAnimation);n.legendItem&&l.legend.destroyItem(n),w&&(n.setState(),k(w,n),w.length||(l.hoverPoints=null)),n===l.hoverPoint&&n.onMouseOut(),h&&h.enabled?(this.animateBeforeDestroy(),f(a,P.duration)):a(),l.pointCount--},p.prototype.destroyElements=function(a){var n=this;(a=n.getGraphicalProps(a)).singular.forEach(function(h){n[h]=n[h].destroy()}),a.plural.forEach(function(h){n[h].forEach(function(l){l.element&&l.destroy()}),delete n[h]})},p.prototype.firePointEvent=function(a,n,h){var l=this,w=this.series.options;(w.point.events[a]||l.options&&l.options.events&&l.options.events[a])&&l.importEvents(),"click"===a&&w.allowPointSelect&&(h=function(P){l.select&&l.select(null,P.ctrlKey||P.metaKey||P.shiftKey)}),d(l,a,n,h)},p.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},p.prototype.getGraphicalProps=function(a){var w,n=this,h=[],l={singular:[],plural:[]};for((a=a||{graphic:1,dataLabel:1}).graphic&&h.push("graphic","upperGraphic","shadowGroup"),a.dataLabel&&h.push("dataLabel","dataLabelUpper","connector"),w=h.length;w--;){var P=h[w];n[P]&&l.singular.push(P)}return["dataLabel","connector"].forEach(function(I){var L=I+"s";a[I]&&n[L]&&l.plural.push(L)}),l},p.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},p.prototype.getNestedProperty=function(a){if(a)return 0===a.indexOf("custom.")?v(a,this.options):this[a]},p.prototype.getZone=function(){var a=this.series,n=a.zones;a=a.zoneAxis||"y";var h,l=0;for(h=n[l];this[a]>=h.value;)h=n[++l];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=h&&h.color&&!this.options.color?h.color:this.nonZonedColor,h},p.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},p.prototype.init=function(a,n,h){return this.series=a,this.applyOptions(n,h),this.id=O(this.id)?this.id:r(),this.resolveColor(),a.chart.pointCount++,d(this,"afterInit"),this},p.prototype.optionsToObject=function(a){var n=this.series,h=n.options.keys,l=h||n.pointArrayMap||["y"],w=l.length,P={},I=0,L=0;if(y(a)||null===a)P[l[0]]=a;else if(_(a))for(!h&&a.length>w&&("string"==(n=typeof a[0])?P.name=a[0]:"number"===n&&(P.x=a[0]),I++);L<w;)h&&void 0===a[I]||(0<l[L].indexOf(".")?p.prototype.setNestedProperty(P,a[I],l[L]):P[l[L]]=a[I]),I++,L++;else"object"==typeof a&&(P=a,a.dataLabels&&(n._hasPointLabels=!0),a.marker&&(n._hasPointMarkers=!0));return P},p.prototype.resolveColor=function(){var a=this.series,n=a.chart.styledMode,h=a.chart.options.chart.colorCount;if(delete this.nonZonedColor,a.options.colorByPoint){if(!n){var l=(h=a.options.colors||a.chart.options.colors)[a.colorCounter];h=h.length}n=a.colorCounter,a.colorCounter++,a.colorCounter===h&&(a.colorCounter=0)}else n||(l=a.color),n=a.colorIndex;this.colorIndex=x(this.options.colorIndex,n),this.color=x(this.options.color,l)},p.prototype.setNestedProperty=function(a,n,h){return h.split(".").reduce(function(l,w,P,I){return l[w]=I.length-1===P?n:C(l[w],!0)?l[w]:{},l[w]},a),a},p.prototype.tooltipFormatter=function(a){var n=this.series,h=n.tooltipOptions,l=x(h.valueDecimals,""),w=h.valuePrefix||"",P=h.valueSuffix||"";return n.chart.styledMode&&(a=n.chart.tooltip.styledModeFormat(a)),(n.pointArrayMap||["y"]).forEach(function(I){I="{point."+I,(w||P)&&(a=a.replace(RegExp(I+"}","g"),w+I+"}"+P)),a=a.replace(RegExp(I+"}","g"),I+":,."+l+"f}")}),F(a,{point:this,series:this.series},n.chart)},p.prototype.update=function(a,n,h,l){function w(){P.applyOptions(a);var u=L&&P.hasDummyGraphic;u=null===P.y?!u:u,L&&u&&(P.graphic=L.destroy(),delete P.hasDummyGraphic),C(a,!0)&&(L&&L.element&&a&&a.marker&&void 0!==a.marker.symbol&&(P.graphic=L.destroy()),a&&a.dataLabels&&P.dataLabel&&(P.dataLabel=P.dataLabel.destroy()),P.connector&&(P.connector=P.connector.destroy())),I.updateParallelArrays(P,c=P.index),B.data[c]=C(B.data[c],!0)||C(a,!0)?P.options:x(a,B.data[c]),I.isDirty=I.isDirtyData=!0,!I.fixedBox&&I.hasCartesianSeries&&(S.isDirtyBox=!0),"point"===B.legendType&&(S.isDirtyLegend=!0),n&&S.redraw(h)}var c,P=this,I=P.series,L=P.graphic,S=I.chart,B=I.options;n=x(n,!0),!1===l?w():P.firePointEvent("update",{options:a},w)},p.prototype.remove=function(a,n){this.series.removePoint(this.series.data.indexOf(this),a,n)},p.prototype.select=function(a,n){var h=this,l=h.series,w=l.chart;this.selectedStaging=a=x(a,!h.selected),h.firePointEvent(a?"select":"unselect",{accumulate:n},function(){h.selected=h.options.selected=a,l.options.data[l.data.indexOf(h)]=h.options,h.setState(a&&"select"),n||w.getSelectedPoints().forEach(function(P){var I=P.series;P.selected&&P!==h&&(P.selected=P.options.selected=!1,I.options.data[I.data.indexOf(P)]=P.options,P.setState(w.hoverPoints&&I.options.inactiveOtherPoints?"inactive":""),P.firePointEvent("unselect"))})}),delete this.selectedStaging},p.prototype.onMouseOver=function(a){var n=this.series.chart,h=n.pointer;a=a?h.normalize(a):h.getChartCoordinatesFromPoint(this,n.inverted),h.runPointActions(a,this)},p.prototype.onMouseOut=function(){var a=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(a.hoverPoints||[]).forEach(function(n){n.setState()}),a.hoverPoints=a.hoverPoint=null},p.prototype.importEvents=function(){if(!this.hasImportedEvents){var a=this,n=M(a.series.options.point,a.options).events;a.events=n,D(n,function(h,l){T(h)&&N(a,l,h)}),this.hasImportedEvents=!0}},p.prototype.setState=function(a,n){var j,h=this.series,l=this.state,w=h.options.states[a||"normal"]||{},P=X.plotOptions[h.type].marker&&h.options.marker,L=P&&P.states&&P.states[a||"normal"]||{},B=this.marker||{},c=h.chart,u=P&&h.markerAttribs,E=h.halo,G=h.stateMarkerGraphic;if(!((a=a||"")===this.state&&!n||this.selected&&"select"!==a||!1===w.enabled||a&&(!1===L.enabled||P&&!1===P.enabled&&!1===L.enabled)||a&&B.states&&B.states[a]&&!1===B.states[a].enabled)){if(this.state=a,u&&(j=h.markerAttribs(this,a)),this.graphic&&!this.hasDummyGraphic){if(l&&this.graphic.removeClass("highcharts-point-"+l),a&&this.graphic.addClass("highcharts-point-"+a),!c.styledMode){var W=h.pointAttribs(this,a),b=x(c.options.chart.animation,w.animation);h.options.inactiveOtherPoints&&y(W.opacity)&&((this.dataLabels||[]).forEach(function(z){z&&z.animate({opacity:W.opacity},b)}),this.connector&&this.connector.animate({opacity:W.opacity},b)),this.graphic.animate(W,b)}j&&this.graphic.animate(j,x(c.options.chart.animation,L.animation,P.animation)),G&&G.hide()}else a&&L&&(l=B.symbol||h.symbol,G&&G.currentSymbol!==l&&(G=G.destroy()),j&&(G?G[n?"animate":"attr"]({x:j.x,y:j.y}):l&&(h.stateMarkerGraphic=G=c.renderer.symbol(l,j.x,j.y,j.width,j.height).add(h.markerGroup),G.currentSymbol=l)),!c.styledMode&&G&&"inactive"!==this.state&&G.attr(h.pointAttribs(this,a))),G&&(G[a&&this.isInside?"show":"hide"](),G.element.point=this,G.addClass(this.getClassName(),!0));j=(G=this.graphic||G)&&G.visibility||"inherit",(w=w.halo)&&w.size&&G&&"hidden"!==j&&!this.isCluster?(E||(h.halo=E=c.renderer.path().add(G.parentGroup)),E.show()[n?"animate":"attr"]({d:this.haloPath(w.size)}),E.attr({class:"highcharts-halo highcharts-color-"+x(this.colorIndex,h.colorIndex)+(this.className?" "+this.className:""),visibility:j,zIndex:-1}),E.point=this,c.styledMode||E.attr(g({fill:this.color||h.color,"fill-opacity":w.opacity},Y.filterUserAttributes(w.attributes||{})))):E&&E.point&&E.point.haloPath&&E.animate({d:E.point.haloPath(0)},null,E.hide),d(this,"afterSetState",{state:a})}},p.prototype.haloPath=function(a){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-a,this.plotY-a,2*a,2*a)},p}()}),wt(o,"Core/Pointer.js",[o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Tooltip.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var J=Y.parse,K=$.charts,X=$.noop,F=rt.addEvent,N=rt.attr,O=rt.css,k=rt.defined,g=rt.extend,d=rt.find,v=rt.fireEvent,_=rt.isNumber,T=rt.isObject,y=rt.objectEach,C=rt.offset,M=rt.pick,D=rt.splat;return function(){function x(f,m){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=f,this.hasDragged=!1,this.options=m,this.init(f,m)}return x.prototype.applyInactiveState=function(f){var r,m=[];(f||[]).forEach(function(p){m.push(r=p.series),r.linkedParent&&m.push(r.linkedParent),r.linkedSeries&&(m=m.concat(r.linkedSeries)),r.navigatorSeries&&m.push(r.navigatorSeries)}),this.chart.series.forEach(function(p){-1===m.indexOf(p)?p.setState("inactive",!0):p.options.inactiveOtherPoints&&p.setAllPointsToState("inactive")})},x.prototype.destroy=function(){var f=this;this.eventsToUnbind.forEach(function(m){return m()}),this.eventsToUnbind=[],$.chartCount||(x.unbindDocumentMouseUp&&(x.unbindDocumentMouseUp=x.unbindDocumentMouseUp()),x.unbindDocumentTouchEnd&&(x.unbindDocumentTouchEnd=x.unbindDocumentTouchEnd())),clearInterval(f.tooltipTimeout),y(f,function(m,r){f[r]=void 0})},x.prototype.drag=function(f){var m=this.chart,r=m.options.chart,p=this.zoomHor,a=this.zoomVert,n=m.plotLeft,h=m.plotTop,l=m.plotWidth,w=m.plotHeight,P=this.mouseDownX||0,I=this.mouseDownY||0,L=T(r.panning)?r.panning&&r.panning.enabled:r.panning,S=r.panKey&&f[r.panKey+"Key"],B=f.chartX,c=f.chartY,u=this.selectionMarker;if((!u||!u.touch)&&(B<n?B=n:B>n+l&&(B=n+l),c<h?c=h:c>h+w&&(c=h+w),this.hasDragged=Math.sqrt(Math.pow(P-B,2)+Math.pow(I-c,2)),10<this.hasDragged)){var E=m.isInsidePlot(P-n,I-h,{visiblePlotOnly:!0});!m.hasCartesianSeries&&!m.mapView||!this.zoomX&&!this.zoomY||!E||S||u||(this.selectionMarker=u=m.renderer.rect(n,h,p?1:l,a?1:w,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),m.styledMode||u.attr({fill:r.selectionMarkerFill||J("#335cad").setOpacity(.25).get()})),u&&p&&(p=B-P,u.attr({width:Math.abs(p),x:(0<p?0:p)+P})),u&&a&&(p=c-I,u.attr({height:Math.abs(p),y:(0<p?0:p)+I})),E&&!u&&L&&m.pan(f,r.panning)}},x.prototype.dragStart=function(f){var m=this.chart;m.mouseIsDown=f.type,m.cancelClick=!1,m.mouseDownX=this.mouseDownX=f.chartX,m.mouseDownY=this.mouseDownY=f.chartY},x.prototype.drop=function(f){var m=this,r=this.chart,p=this.hasPinched;if(this.selectionMarker){var a=this.selectionMarker,n=a.attr?a.attr("x"):a.x,h=a.attr?a.attr("y"):a.y,l=a.attr?a.attr("width"):a.width,w=a.attr?a.attr("height"):a.height,P={originalEvent:f,xAxis:[],yAxis:[],x:n,y:h,width:l,height:w},I=!!r.mapView;(this.hasDragged||p)&&(r.axes.forEach(function(L){if(L.zoomEnabled&&k(L.min)&&(p||m[{xAxis:"zoomX",yAxis:"zoomY"}[L.coll]])&&_(n)&&_(h)){var S=L.horiz,B="touchend"===f.type?L.minPixelPadding:0,c=L.toValue((S?n:h)+B);S=L.toValue((S?n+l:h+w)-B),P[L.coll].push({axis:L,min:Math.min(c,S),max:Math.max(c,S)}),I=!0}}),I&&v(r,"selection",P,function(L){r.zoom(g(L,p?{animation:!1}:null))})),_(r.index)&&(this.selectionMarker=this.selectionMarker.destroy()),p&&this.scaleGroups()}r&&_(r.index)&&(O(r.container,{cursor:r._cursor}),r.cancelClick=10<this.hasDragged,r.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},x.prototype.findNearestKDPoint=function(f,m,r){var n,p=this.chart,a=p.hoverPoint;return p=p.tooltip,a&&p&&p.isStickyOnContact()?a:(f.forEach(function(h){var l=!(h.noSharedTooltip&&m)&&0>h.options.findNearestPointBy.indexOf("y");if(h=h.searchPoint(r,l),(l=T(h,!0)&&h.series)&&!(l=!T(n,!0))){var w=n.dist-h.dist,P=(h.series.group&&h.series.group.zIndex)-(n.series.group&&n.series.group.zIndex);l=0<(0!=(l=n.distX-h.distX)&&m?l:0!==w?w:0!==P?P:n.series.index>h.series.index?-1:1)}l&&(n=h)}),n)},x.prototype.getChartCoordinatesFromPoint=function(f,m){var r=f.series,p=r.xAxis;r=r.yAxis;var a=f.shapeArgs;if(p&&r){var n=M(f.clientX,f.plotX),h=f.plotY||0;return f.isNode&&a&&_(a.x)&&_(a.y)&&(n=a.x,h=a.y),m?{chartX:r.len+r.pos-h,chartY:p.len+p.pos-n}:{chartX:n+p.pos,chartY:h+r.pos}}if(a&&a.x&&a.y)return{chartX:a.x,chartY:a.y}},x.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var f=this.chart.container,m=C(f);this.chartPosition={left:m.left,top:m.top,scaleX:1,scaleY:1};var r=f.offsetWidth;return f=f.offsetHeight,2<r&&2<f&&(this.chartPosition.scaleX=m.width/r,this.chartPosition.scaleY=m.height/f),this.chartPosition},x.prototype.getCoordinates=function(f){var m={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(r){m[r.isXAxis?"xAxis":"yAxis"].push({axis:r,value:r.toValue(f[r.horiz?"chartX":"chartY"])})}),m},x.prototype.getHoverData=function(f,m,r,p,a,n){var h=[];p=!(!p||!f);var l={chartX:n?n.chartX:void 0,chartY:n?n.chartY:void 0,shared:a};v(this,"beforeGetHoverData",l);var w=m&&!m.stickyTracking?[m]:r.filter(function(I){return l.filter?l.filter(I):I.visible&&!(!a&&I.directTouch)&&M(I.options.enableMouseTracking,!0)&&I.stickyTracking}),P=p||!n?f:this.findNearestKDPoint(w,a,n);return m=P&&P.series,P&&(a&&!m.noSharedTooltip?(w=r.filter(function(I){return l.filter?l.filter(I):I.visible&&!(!a&&I.directTouch)&&M(I.options.enableMouseTracking,!0)&&!I.noSharedTooltip})).forEach(function(I){var L=d(I.points,function(S){return S.x===P.x&&!S.isNull});T(L)&&(I.chart.isBoosting&&(L=I.getPoint(L)),h.push(L))}):h.push(P)),v(this,"afterGetHoverData",l={hoverPoint:P}),{hoverPoint:l.hoverPoint,hoverSeries:m,hoverPoints:h}},x.prototype.getPointFromEvent=function(f){f=f.target;for(var m;f&&!m;)m=f.point,f=f.parentNode;return m},x.prototype.onTrackerMouseOut=function(f){f=f.relatedTarget||f.toElement;var m=this.chart.hoverSeries;this.isDirectTouch=!1,!m||!f||m.stickyTracking||this.inClass(f,"highcharts-tooltip")||this.inClass(f,"highcharts-series-"+m.index)&&this.inClass(f,"highcharts-tracker")||m.onMouseOut()},x.prototype.inClass=function(f,m){for(var r;f;){if(r=N(f,"class")){if(-1!==r.indexOf(m))return!0;if(-1!==r.indexOf("highcharts-container"))return!1}f=f.parentNode}},x.prototype.init=function(f,m){this.options=m,this.chart=f,this.runChartClick=!(!m.chart.events||!m.chart.events.click),this.pinchDown=[],this.lastValidTouch={},q&&(f.tooltip=new q(f,m.tooltip),this.followTouchMove=M(m.tooltip.followTouchMove,!0)),this.setDOMEvents()},x.prototype.normalize=function(f,m){var r=f.touches,p=r?r.length?r.item(0):M(r.changedTouches,f.changedTouches)[0]:f;return m||(m=this.getChartPosition()),r=p.pageX-m.left,p=p.pageY-m.top,r/=m.scaleX,p/=m.scaleY,g(f,{chartX:Math.round(r),chartY:Math.round(p)})},x.prototype.onContainerClick=function(f){var m=this.chart,r=m.hoverPoint;f=this.normalize(f);var p=m.plotLeft,a=m.plotTop;m.cancelClick||(r&&this.inClass(f.target,"highcharts-tracker")?(v(r.series,"click",g(f,{point:r})),m.hoverPoint&&r.firePointEvent("click",f)):(g(f,this.getCoordinates(f)),m.isInsidePlot(f.chartX-p,f.chartY-a,{visiblePlotOnly:!0})&&v(m,"click",f)))},x.prototype.onContainerMouseDown=function(f){var m=1==(1&(f.buttons||f.button));f=this.normalize(f),$.isFirefox&&0!==f.button&&this.onContainerMouseMove(f),(void 0===f.button||m)&&(this.zoomOption(f),m&&f.preventDefault&&f.preventDefault(),this.dragStart(f))},x.prototype.onContainerMouseLeave=function(f){var m=K[M(x.hoverChartIndex,-1)],r=this.chart.tooltip;r&&r.shouldStickOnContact()&&this.inClass(f.relatedTarget,"highcharts-tooltip-container")||(f=this.normalize(f),m&&(f.relatedTarget||f.toElement)&&(m.pointer.reset(),m.pointer.chartPosition=void 0),r&&!r.isHidden&&this.reset())},x.prototype.onContainerMouseEnter=function(f){delete this.chartPosition},x.prototype.onContainerMouseMove=function(f){var m=this.chart;f=this.normalize(f),this.setHoverChartIndex(),f.preventDefault||(f.returnValue=!1),("mousedown"===m.mouseIsDown||this.touchSelect(f))&&this.drag(f),m.openMenu||!this.inClass(f.target,"highcharts-tracker")&&!m.isInsidePlot(f.chartX-m.plotLeft,f.chartY-m.plotTop,{visiblePlotOnly:!0})||(this.inClass(f.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(f))},x.prototype.onDocumentTouchEnd=function(f){var m=K[M(x.hoverChartIndex,-1)];m&&m.pointer.drop(f)},x.prototype.onContainerTouchMove=function(f){this.touchSelect(f)?this.onContainerMouseMove(f):this.touch(f)},x.prototype.onContainerTouchStart=function(f){this.touchSelect(f)?this.onContainerMouseDown(f):(this.zoomOption(f),this.touch(f,!0))},x.prototype.onDocumentMouseMove=function(f){var m=this.chart,r=this.chartPosition;f=this.normalize(f,r);var p=m.tooltip;!r||p&&p.isStickyOnContact()||m.isInsidePlot(f.chartX-m.plotLeft,f.chartY-m.plotTop,{visiblePlotOnly:!0})||this.inClass(f.target,"highcharts-tracker")||this.reset()},x.prototype.onDocumentMouseUp=function(f){var m=K[M(x.hoverChartIndex,-1)];m&&m.pointer.drop(f)},x.prototype.pinch=function(f){var m=this,r=m.chart,p=m.pinchDown,a=f.touches||[],n=a.length,h=m.lastValidTouch,l=m.hasZoom,w={},P=1===n&&(m.inClass(f.target,"highcharts-tracker")&&r.runTrackerClick||m.runChartClick),I={},L=m.selectionMarker;1<n?m.initiated=!0:1===n&&this.followTouchMove&&(m.initiated=!1),l&&m.initiated&&!P&&!1!==f.cancelable&&f.preventDefault(),[].map.call(a,function(S){return m.normalize(S)}),"touchstart"===f.type?([].forEach.call(a,function(S,B){p[B]={chartX:S.chartX,chartY:S.chartY}}),h.x=[p[0].chartX,p[1]&&p[1].chartX],h.y=[p[0].chartY,p[1]&&p[1].chartY],r.axes.forEach(function(S){if(S.zoomEnabled){var B=r.bounds[S.horiz?"h":"v"],c=S.minPixelPadding,u=S.toPixels(Math.min(M(S.options.min,S.dataMin),S.dataMin)),E=S.toPixels(Math.max(M(S.options.max,S.dataMax),S.dataMax)),j=Math.max(u,E);B.min=Math.min(S.pos,Math.min(u,E)-c),B.max=Math.max(S.pos+S.len,j+c)}}),m.res=!0):m.followTouchMove&&1===n?this.runPointActions(m.normalize(f)):p.length&&(v(r,"touchpan",{originalEvent:f},function(){L||(m.selectionMarker=L=g({destroy:X,touch:!0},r.plotBox)),m.pinchTranslate(p,a,w,L,I,h),m.hasPinched=l,m.scaleGroups(w,I)}),m.res&&(m.res=!1,this.reset(!1,0)))},x.prototype.pinchTranslate=function(f,m,r,p,a,n){this.zoomHor&&this.pinchTranslateDirection(!0,f,m,r,p,a,n),this.zoomVert&&this.pinchTranslateDirection(!1,f,m,r,p,a,n)},x.prototype.pinchTranslateDirection=function(f,m,r,p,a,n,h,l){var w=this.chart,P=f?"x":"y",I=f?"X":"Y",L="chart"+I,S=f?"width":"height",B=w["plot"+(f?"Left":"Top")],c=w.inverted,u=w.bounds[f?"h":"v"],E=1===m.length,j=m[0][L],G=!E&&m[1][L];m=function(){"number"==typeof V&&20<Math.abs(j-G)&&(z=l||Math.abs(R-V)/Math.abs(j-G)),b=(B-R)/z+j,W=w["plot"+(f?"Width":"Height")]/z};var W,b,z=l||1,R=r[0][L],V=!E&&r[1][L];if(m(),(r=b)<u.min){r=u.min;var Z=!0}else r+W>u.max&&(r=u.max-W,Z=!0);Z?(R-=.8*(R-h[P][0]),"number"==typeof V&&(V-=.8*(V-h[P][1])),m()):h[P]=[R,V],c||(n[P]=b-B,n[S]=W),n=c?1/z:z,a[S]=W,a[P]=r,p[c?f?"scaleY":"scaleX":"scale"+I]=z,p["translate"+I]=n*B+(R-n*j)},x.prototype.reset=function(f,m){var r=this.chart,p=r.hoverSeries,a=r.hoverPoint,n=r.hoverPoints,h=r.tooltip,l=h&&h.shared?n:a;f&&l&&D(l).forEach(function(w){w.series.isCartesian&&void 0===w.plotX&&(f=!1)}),f?h&&l&&D(l).length&&(h.refresh(l),h.shared&&n?n.forEach(function(w){w.setState(w.state,!0),w.series.isCartesian&&(w.series.xAxis.crosshair&&w.series.xAxis.drawCrosshair(null,w),w.series.yAxis.crosshair&&w.series.yAxis.drawCrosshair(null,w))}):a&&(a.setState(a.state,!0),r.axes.forEach(function(w){w.crosshair&&a.series[w.coll]===w&&w.drawCrosshair(null,a)}))):(a&&a.onMouseOut(),n&&n.forEach(function(w){w.setState()}),p&&p.onMouseOut(),h&&h.hide(m),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),r.axes.forEach(function(w){w.hideCrosshair()}),this.hoverX=r.hoverPoints=r.hoverPoint=null)},x.prototype.runPointActions=function(f,m){var r=this.chart,p=r.tooltip&&r.tooltip.options.enabled?r.tooltip:void 0,a=!!p&&p.shared,n=m||r.hoverPoint,h=n&&n.series||r.hoverSeries;n=(m=this.getHoverData(n,h,r.series,(!f||"touchmove"!==f.type)&&(!!m||h&&h.directTouch&&this.isDirectTouch),a,f)).hoverPoint;var l=m.hoverPoints;if(m=(h=m.hoverSeries)&&h.tooltipOptions.followPointer&&!h.tooltipOptions.split,a=a&&h&&!h.noSharedTooltip,n&&(n!==r.hoverPoint||p&&p.isHidden)){if((r.hoverPoints||[]).forEach(function(w){-1===l.indexOf(w)&&w.setState()}),r.hoverSeries!==h&&h.onMouseOver(),this.applyInactiveState(l),(l||[]).forEach(function(w){w.setState("hover")}),r.hoverPoint&&r.hoverPoint.firePointEvent("mouseOut"),!n.series)return;r.hoverPoints=l,r.hoverPoint=n,n.firePointEvent("mouseOver"),p&&p.refresh(a?l:n,f)}else m&&p&&!p.isHidden&&(n=p.getAnchor([{}],f),r.isInsidePlot(n[0],n[1],{visiblePlotOnly:!0})&&p.updatePosition({plotX:n[0],plotY:n[1]}));this.unDocMouseMove||(this.unDocMouseMove=F(r.container.ownerDocument,"mousemove",function(w){var P=K[x.hoverChartIndex];P&&P.pointer.onDocumentMouseMove(w)}),this.eventsToUnbind.push(this.unDocMouseMove)),r.axes.forEach(function(w){var I,P=M((w.crosshair||{}).snap,!0);P&&((I=r.hoverPoint)&&I.series[w.coll]===w||(I=d(l,function(L){return L.series[w.coll]===w}))),I||!P?w.drawCrosshair(f,I):w.hideCrosshair()})},x.prototype.scaleGroups=function(f,m){var r=this.chart;r.series.forEach(function(p){var a=f||p.getPlotBox();p.group&&(p.xAxis&&p.xAxis.zoomEnabled||r.mapView)&&(p.group.attr(a),p.markerGroup&&(p.markerGroup.attr(a),p.markerGroup.clip(m?r.clipRect:null)),p.dataLabelsGroup&&p.dataLabelsGroup.attr(a))}),r.clipRect.attr(m||r.clipBox)},x.prototype.setDOMEvents=function(){var f=this,m=this.chart.container,r=m.ownerDocument;m.onmousedown=this.onContainerMouseDown.bind(this),m.onmousemove=this.onContainerMouseMove.bind(this),m.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(F(m,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(F(m,"mouseleave",this.onContainerMouseLeave.bind(this))),x.unbindDocumentMouseUp||(x.unbindDocumentMouseUp=F(r,"mouseup",this.onDocumentMouseUp.bind(this)));for(var p=this.chart.renderTo.parentElement;p&&"BODY"!==p.tagName;)this.eventsToUnbind.push(F(p,"scroll",function(){delete f.chartPosition})),p=p.parentElement;$.hasTouch&&(this.eventsToUnbind.push(F(m,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(F(m,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),x.unbindDocumentTouchEnd||(x.unbindDocumentTouchEnd=F(r,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},x.prototype.setHoverChartIndex=function(){var f=this.chart,m=$.charts[M(x.hoverChartIndex,-1)];m&&m!==f&&m.pointer.onContainerMouseLeave({relatedTarget:!0}),m&&m.mouseIsDown||(x.hoverChartIndex=f.index)},x.prototype.touch=function(f,m){var r=this.chart;if(this.setHoverChartIndex(),1===f.touches.length)if(f=this.normalize(f),r.isInsidePlot(f.chartX-r.plotLeft,f.chartY-r.plotTop,{visiblePlotOnly:!0})&&!r.openMenu){if(m&&this.runPointActions(f),"touchmove"===f.type)var a=!!(m=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(m[0].chartX-f.chartX,2)+Math.pow(m[0].chartY-f.chartY,2));M(a,!0)&&this.pinch(f)}else m&&this.reset();else 2===f.touches.length&&this.pinch(f)},x.prototype.touchSelect=function(f){return!(!this.chart.options.chart.zoomBySingleTouch||!f.touches||1!==f.touches.length)},x.prototype.zoomOption=function(f){var m=this.chart,r=m.options.chart;m=m.inverted;var p=r.zoomType||"";/touch/.test(f.type)&&(p=M(r.pinchType,p)),this.zoomX=f=/x/.test(p),this.zoomY=r=/y/.test(p),this.zoomHor=f&&!m||r&&m,this.zoomVert=r&&!m||f&&m,this.hasZoom=f||r},x}()}),wt(o,"Core/MSPointer.js",[o["Core/Globals.js"],o["Core/Pointer.js"],o["Core/Utilities.js"]],function(Y,$,q){function rt(){var y=[];return y.item=function(C){return this[C]},d(_,function(C){y.push({pageX:C.pageX,pageY:C.pageY,target:C.target})}),y}function J(y,C,M,D){var x=X[$.hoverChartIndex||NaN];"touch"!==y.pointerType&&y.pointerType!==y.MSPOINTER_TYPE_TOUCH||!x||(x=x.pointer,D(y),x[C]({type:M,target:y.currentTarget,preventDefault:N,touches:rt()}))}var y,K=this&&this.__extends||(y=function(C,M){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,x){D.__proto__=x}||function(D,x){for(var f in x)x.hasOwnProperty(f)&&(D[f]=x[f])})(C,M)},function(C,M){function D(){this.constructor=C}y(C,M),C.prototype=null===M?Object.create(M):(D.prototype=M.prototype,new D)}),X=Y.charts,F=Y.doc,N=Y.noop,O=Y.win,k=q.addEvent,g=q.css,d=q.objectEach,v=q.removeEvent,_={},T=!!O.PointerEvent;return function(y){function C(){return null!==y&&y.apply(this,arguments)||this}return K(C,y),C.isRequired=function(){return!(Y.hasTouch||!O.PointerEvent&&!O.MSPointerEvent)},C.prototype.batchMSEvents=function(M){M(this.chart.container,T?"pointerdown":"MSPointerDown",this.onContainerPointerDown),M(this.chart.container,T?"pointermove":"MSPointerMove",this.onContainerPointerMove),M(F,T?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},C.prototype.destroy=function(){this.batchMSEvents(v),y.prototype.destroy.call(this)},C.prototype.init=function(M,D){y.prototype.init.call(this,M,D),this.hasZoom&&g(M.container,{"-ms-touch-action":"none","touch-action":"none"})},C.prototype.onContainerPointerDown=function(M){J(M,"onContainerTouchStart","touchstart",function(D){_[D.pointerId]={pageX:D.pageX,pageY:D.pageY,target:D.currentTarget}})},C.prototype.onContainerPointerMove=function(M){J(M,"onContainerTouchMove","touchmove",function(D){_[D.pointerId]={pageX:D.pageX,pageY:D.pageY},_[D.pointerId].target||(_[D.pointerId].target=D.currentTarget)})},C.prototype.onDocumentPointerUp=function(M){J(M,"onDocumentTouchEnd","touchend",function(D){delete _[D.pointerId]})},C.prototype.setDOMEvents=function(){y.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(k)},C}($)}),wt(o,"Core/Legend/Legend.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Series/Point.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){var X=Y.animObject,F=Y.setAnimation,N=$.format;Y=q.isFirefox;var O=q.marginNames;q=q.win;var k=J.distribute,g=K.addEvent,d=K.createElement,v=K.css,_=K.defined,T=K.discardElement,y=K.find,C=K.fireEvent,M=K.isNumber,D=K.merge,x=K.pick,f=K.relativeLength,m=K.stableSort,r=K.syncTimeout;return J=K.wrap,K=function(){function p(a,n){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=a,this.init(a,n)}return p.prototype.init=function(a,n){this.chart=a,this.setOptions(n),n.enabled&&(this.render(),g(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=g(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},p.prototype.setOptions=function(a){var n=x(a.padding,8);this.options=a,this.chart.styledMode||(this.itemStyle=a.itemStyle,this.itemHiddenStyle=D(this.itemStyle,a.itemHiddenStyle)),this.itemMarginTop=a.itemMarginTop||0,this.itemMarginBottom=a.itemMarginBottom||0,this.padding=n,this.initialItemY=n-5,this.symbolWidth=x(a.symbolWidth,16),this.pages=[],this.proximate="proximate"===a.layout&&!this.chart.inverted,this.baseline=void 0},p.prototype.update=function(a,n){var h=this.chart;this.setOptions(D(!0,this.options,a)),this.destroy(),h.isDirtyLegend=h.isDirtyBox=!0,x(n,!0)&&h.redraw(),C(this,"afterUpdate")},p.prototype.colorizeItem=function(a,n){if(a.legendGroup[n?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var h=this.options,l=a.legendItem,w=a.legendLine,P=a.legendSymbol,I=this.itemHiddenStyle.color;h=n?h.itemStyle.color:I;var L=n&&a.color||I,S=a.options&&a.options.marker,B={fill:L};l&&l.css({fill:h,color:h}),w&&w.attr({stroke:L}),P&&(S&&P.isMarker&&(B=a.pointAttribs(),n||(B.stroke=B.fill=I)),P.attr(B))}C(this,"afterColorizeItem",{item:a,visible:n})},p.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},p.prototype.positionItem=function(a){var n=this,h=this.options,l=h.symbolPadding,w=!h.rtl,P=a._legendItemPos;h=P[0],P=P[1];var I=a.checkbox,L=a.legendGroup;L&&L.element&&(l={translateX:w?h:this.legendWidth-h-2*l-4,translateY:P},w=function(){C(n,"afterPositionItem",{item:a})},_(L.translateY)?L.animate(l,void 0,w):(L.attr(l),w())),I&&(I.x=h,I.y=P)},p.prototype.destroyItem=function(a){var n=a.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(h){a[h]&&(a[h]=a[h].destroy())}),n&&T(a.checkbox)},p.prototype.destroy=function(){function a(n){this[n]&&(this[n]=this[n].destroy())}this.getAllItems().forEach(function(n){["legendItem","legendGroup"].forEach(a,n)}),"clipRect up down pager nav box title group".split(" ").forEach(a,this),this.display=null},p.prototype.positionCheckboxes=function(){var a=this.group&&this.group.alignAttr,n=this.clipHeight||this.legendHeight,h=this.titleHeight;if(a){var l=a.translateY;this.allItems.forEach(function(w){var P=w.checkbox;if(P){var I=l+h+P.y+(this.scrollOffset||0)+3;v(P,{left:a.translateX+w.checkboxOffset+P.x-20+"px",top:I+"px",display:this.proximate||I>l-6&&I<l+n-6?"":"none"})}},this)}},p.prototype.renderTitle=function(){var a=this.options,n=this.padding,h=a.title,l=0;h.text&&(this.title||(this.title=this.chart.renderer.label(h.text,n-3,n-4,null,null,null,a.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(h.style),this.title.add(this.group)),h.width||this.title.css({width:this.maxLegendWidth+"px"}),l=(a=this.title.getBBox()).height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:l})),this.titleHeight=l},p.prototype.setText=function(a){var n=this.options;a.legendItem.attr({text:n.labelFormat?N(n.labelFormat,a,this.chart):n.labelFormatter.call(a)})},p.prototype.renderItem=function(a){var n=this.chart,h=n.renderer,l=this.options,w=this.symbolWidth,P=l.symbolPadding||0,I=this.itemStyle,L=this.itemHiddenStyle,S="horizontal"===l.layout?x(l.itemDistance,20):0,B=!l.rtl,c=!a.series,u=!c&&a.series.drawLegendSymbol?a.series:a,E=u.options,j=this.createCheckboxForItem&&E&&E.showCheckbox,G=l.useHTML,W=a.options.className,b=a.legendItem;E=w+P+S+(j?20:0),b||(a.legendGroup=h.g("legend-item").addClass("highcharts-"+u.type+"-series highcharts-color-"+a.colorIndex+(W?" "+W:"")+(c?" highcharts-series-"+a.index:"")).attr({zIndex:1}).add(this.scrollGroup),a.legendItem=b=h.text("",B?w+P:-P,this.baseline||0,G),n.styledMode||b.css(D(a.visible?I:L)),b.attr({align:B?"left":"right",zIndex:2}).add(a.legendGroup),this.baseline||(this.fontMetrics=h.fontMetrics(n.styledMode?12:I.fontSize,b),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,b.attr("y",this.baseline),this.symbolHeight=l.symbolHeight||this.fontMetrics.f,l.squareSymbol&&(this.symbolWidth=x(l.symbolWidth,Math.max(this.symbolHeight,16)),E=this.symbolWidth+P+S+(j?20:0),B&&b.attr("x",this.symbolWidth+P))),u.drawLegendSymbol(this,a),this.setItemEvents&&this.setItemEvents(a,b,G)),j&&!a.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(a),this.colorizeItem(a,a.visible),!n.styledMode&&I.width||b.css({width:(l.itemWidth||this.widthOption||n.spacingBox.width)-E+"px"}),this.setText(a),n=b.getBBox(),h=this.fontMetrics&&this.fontMetrics.h||0,a.itemWidth=a.checkboxOffset=l.itemWidth||a.legendItemWidth||n.width+E,this.maxItemWidth=Math.max(this.maxItemWidth,a.itemWidth),this.totalItemWidth+=a.itemWidth,this.itemHeight=a.itemHeight=Math.round(a.legendItemHeight||(n.height>1.5*h?n.height:h))},p.prototype.layoutItem=function(a){var n=this.options,h=this.padding,l="horizontal"===n.layout,w=a.itemHeight,P=this.itemMarginBottom,I=this.itemMarginTop,L=l?x(n.itemDistance,20):0,S=this.maxLegendWidth;n=n.alignColumns&&this.totalItemWidth>S?this.maxItemWidth:a.itemWidth,l&&this.itemX-h+n>S&&(this.itemX=h,this.lastLineHeight&&(this.itemY+=I+this.lastLineHeight+P),this.lastLineHeight=0),this.lastItemY=I+this.itemY+P,this.lastLineHeight=Math.max(w,this.lastLineHeight),a._legendItemPos=[this.itemX,this.itemY],l?this.itemX+=n:(this.itemY+=I+w+P,this.lastLineHeight=w),this.offsetWidth=this.widthOption||Math.max((l?this.itemX-h-(a.checkbox?0:L):n)+h,this.offsetWidth)},p.prototype.getAllItems=function(){var a=[];return this.chart.series.forEach(function(n){var h=n&&n.options;n&&x(h.showInLegend,!_(h.linkedTo)&&void 0,!0)&&(a=a.concat(n.legendItems||("point"===h.legendType?n.data:n)))}),C(this,"afterGetAllItems",{allItems:a}),a},p.prototype.getAlignment=function(){var a=this.options;return this.proximate?a.align.charAt(0)+"tv":a.floating?"":a.align.charAt(0)+a.verticalAlign.charAt(0)+a.layout.charAt(0)},p.prototype.adjustMargins=function(a,n){var h=this.chart,l=this.options,w=this.getAlignment();w&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(P,I){P.test(w)&&!_(a[I])&&(h[O[I]]=Math.max(h[O[I]],h.legend[(I+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][I]*l[I%2?"x":"y"]+x(l.margin,12)+n[I]+(h.titleOffset[I]||0)))})},p.prototype.proximatePositions=function(){var a=this.chart,n=[],h="left"===this.options.align;this.allItems.forEach(function(l){var w,P=h;if(l.yAxis){l.xAxis.options.reversed&&(P=!P),l.points&&(w=y(P?l.points:l.points.slice(0).reverse(),function(L){return M(L.plotY)})),P=this.itemMarginTop+l.legendItem.getBBox().height+this.itemMarginBottom;var I=l.yAxis.top-a.plotTop;l.visible?(w=w?w.plotY:l.yAxis.height,w+=I-.3*P):w=I+l.yAxis.height,n.push({target:w,size:P,item:l})}},this),k(n,a.plotHeight).forEach(function(l){l.item._legendItemPos&&(l.item._legendItemPos[1]=a.plotTop-a.spacing[0]+l.pos)})},p.prototype.render=function(){var a=this.chart,n=a.renderer,h=this.options,l=this.padding,w=this.getAllItems(),P=this.group,I=this.box;this.itemX=l,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=f(h.width,a.spacingBox.width-l);var L=a.spacingBox.width-2*l-h.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(L/=2),this.maxLegendWidth=this.widthOption||L,P||(this.group=P=n.g("legend").addClass(h.className||"").attr({zIndex:7}).add(),this.contentGroup=n.g().attr({zIndex:1}).add(P),this.scrollGroup=n.g().add(this.contentGroup)),this.renderTitle(),m(w,function(B,c){return(B.options&&B.options.legendIndex||0)-(c.options&&c.options.legendIndex||0)}),h.reversed&&w.reverse(),this.allItems=w,this.display=L=!!w.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,w.forEach(this.renderItem,this),w.forEach(this.layoutItem,this),w=(this.widthOption||this.offsetWidth)+l;var S=this.lastItemY+this.lastLineHeight+this.titleHeight;S=this.handleOverflow(S),S+=l,I||(this.box=I=n.rect().addClass("highcharts-legend-box").attr({r:h.borderRadius}).add(P),I.isNew=!0),a.styledMode||I.attr({stroke:h.borderColor,"stroke-width":h.borderWidth||0,fill:h.backgroundColor||"none"}).shadow(h.shadow),0<w&&0<S&&(I[I.isNew?"attr":"animate"](I.crisp.call({},{x:0,y:0,width:w,height:S},I.strokeWidth())),I.isNew=!1),I[L?"show":"hide"](),a.styledMode&&"none"===P.getStyle("display")&&(w=S=0),this.legendWidth=w,this.legendHeight=S,L&&this.align(),this.proximate||this.positionItems(),C(this,"afterRender")},p.prototype.align=function(a){void 0===a&&(a=this.chart.spacingBox);var n=this.chart,h=this.options,l=a.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<n.titleOffset[0]?l+=n.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<n.titleOffset[2]&&(l-=n.titleOffset[2]),l!==a.y&&(a=D(a,{y:l})),this.group.align(D(h,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":h.verticalAlign}),!0,a)},p.prototype.handleOverflow=function(a){var b,z,n=this,h=this.chart,l=h.renderer,w=this.options,P=w.y,I="top"===w.verticalAlign,L=this.padding,S=w.maxHeight,B=w.navigation,c=x(B.animation,!0),u=B.arrowSize||12,E=this.pages,j=this.allItems,G=function(Z){"number"==typeof Z?V.attr({height:Z}):V&&(n.clipRect=V.destroy(),n.contentGroup.clip()),n.contentGroup.div&&(n.contentGroup.div.style.clip=Z?"rect("+L+"px,9999px,"+(L+Z)+"px,0)":"auto")},W=function(Z){return n[Z]=l.circle(0,0,1.3*u).translate(u/2,u/2).add(R),h.styledMode||n[Z].attr("fill","rgba(0,0,0,0.0001)"),n[Z]};P=h.spacingBox.height+(I?-P:P)-L;var R=this.nav,V=this.clipRect;return"horizontal"!==w.layout||"middle"===w.verticalAlign||w.floating||(P/=2),S&&(P=Math.min(P,S)),E.length=0,a&&0<P&&a>P&&!1!==B.enabled?(this.clipHeight=b=Math.max(P-20-this.titleHeight-L,0),this.currentPage=x(this.currentPage,1),this.fullHeight=a,j.forEach(function(Z,nt){var it=Z._legendItemPos[1],ot=Math.round(Z.legendItem.getBBox().height),at=E.length;(!at||it-E[at-1]>b&&(z||it)!==E[at-1])&&(E.push(z||it),at++),Z.pageIx=at-1,z&&(j[nt-1].pageIx=at-1),nt===j.length-1&&it+ot-E[at-1]>b&&ot<=b&&(E.push(it),Z.pageIx=at),it!==z&&(z=it)}),V||(V=n.clipRect=l.clipRect(0,L,9999,0),n.contentGroup.clip(V)),G(b),R||(this.nav=R=l.g().attr({zIndex:1}).add(this.group),this.up=l.symbol("triangle",0,0,u,u).add(R),W("upTracker").on("click",function(){n.scroll(-1,c)}),this.pager=l.text("",15,10).addClass("highcharts-legend-navigation"),h.styledMode||this.pager.css(B.style),this.pager.add(R),this.down=l.symbol("triangle-down",0,0,u,u).add(R),W("downTracker").on("click",function(){n.scroll(1,c)})),n.scroll(0),a=P):R&&(G(),this.nav=R.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),a},p.prototype.scroll=function(a,n){var h=this,l=this.chart,w=this.pages,P=w.length,I=this.clipHeight,L=this.options.navigation,S=this.pager,B=this.padding,c=this.currentPage+a;c>P&&(c=P),0<c&&(void 0!==n&&F(n,l),this.nav.attr({translateX:B,translateY:I+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(u){u.attr({class:1===c?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),S.attr({text:c+"/"+P}),[this.down,this.downTracker].forEach(function(u){u.attr({x:18+this.pager.getBBox().width,class:c===P?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),l.styledMode||(this.up.attr({fill:1===c?L.inactiveColor:L.activeColor}),this.upTracker.css({cursor:1===c?"default":"pointer"}),this.down.attr({fill:c===P?L.inactiveColor:L.activeColor}),this.downTracker.css({cursor:c===P?"default":"pointer"})),this.scrollOffset=-w[c-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=c,this.positionCheckboxes(),a=X(x(n,l.renderer.globalAnimation,!0)),r(function(){C(h,"afterScroll",{currentPage:c})},a.duration))},p.prototype.setItemEvents=function(a,n,h){var l=this,w=l.chart.renderer.boxWrapper,P=a instanceof rt,I="highcharts-legend-"+(P?"point":"series")+"-active",L=l.chart.styledMode,S=function(B){l.allItems.forEach(function(c){a!==c&&[c].concat(c.linkedSeries||[]).forEach(function(u){u.setState(B,!P)})})};(h?[n,a.legendSymbol]:[a.legendGroup]).forEach(function(B){B&&B.on("mouseover",function(){a.visible&&S("inactive"),a.setState("hover"),a.visible&&w.addClass(I),L||n.css(l.options.itemHoverStyle)}).on("mouseout",function(){l.chart.styledMode||n.css(D(a.visible?l.itemStyle:l.itemHiddenStyle)),S(""),w.removeClass(I),a.setState()}).on("click",function(c){var u=function(){a.setVisible&&a.setVisible(),S(a.visible?"inactive":"")};w.removeClass(I),c={browserEvent:c},a.firePointEvent?a.firePointEvent("legendItemClick",c,u):C(a,"legendItemClick",c,u)})})},p.prototype.createCheckboxForItem=function(a){a.checkbox=d("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container),g(a.checkbox,"click",function(n){C(a.series||a,"checkboxClick",{checked:n.target.checked,item:a},function(){a.select()})})},p}(),(/Trident\/7\.0/.test(q.navigator&&q.navigator.userAgent)||Y)&&J(K.prototype,"positionItem",function(p,a){var n=this,h=function(){a._legendItemPos&&p.call(n,a)};h(),n.bubbleLegend||setTimeout(h)}),K}),wt(o,"Core/Series/SeriesRegistry.js",[o["Core/Globals.js"],o["Core/DefaultOptions.js"],o["Core/Series/Point.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var N,J=$.defaultOptions,K=rt.error,X=rt.extendClass,F=rt.merge;return function(O){function k(g,d){var v=J.plotOptions||{},_=d.defaultOptions;d.prototype.pointClass||(d.prototype.pointClass=q),d.prototype.type=g,_&&(v[g]=_),O.seriesTypes[g]=d}O.seriesTypes=Y.seriesTypes,O.getSeries=function(g,d){void 0===d&&(d={});var v=g.options.chart,_=O.seriesTypes[v=d.type||v.type||v.defaultSeriesType||""];return O||K(17,!0,g,{missingModuleFor:v}),"function"==typeof(v=new _).init&&v.init(g,d),v},O.registerSeriesType=k,O.seriesType=function(g,d,v,_,T){var y=J.plotOptions||{};return y[g]=F(y[d=d||""],v),k(g,X(O.seriesTypes[d]||function(){},_)),O.seriesTypes[g].prototype.type=g,T&&(O.seriesTypes[g].prototype.pointClass=X(q,T)),O.seriesTypes[g]}}(N||(N={})),N}),wt(o,"Core/Chart/Chart.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/Axis.js"],o["Core/FormatUtilities.js"],o["Core/Foundation.js"],o["Core/Globals.js"],o["Core/Legend/Legend.js"],o["Core/MSPointer.js"],o["Core/DefaultOptions.js"],o["Core/Pointer.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Time.js"],o["Core/Utilities.js"],o["Core/Renderer/HTML/AST.js"]],function(Y,$,q,rt,J,K,X,F,N,O,k,g,d,v,_){var T=Y.animate,y=Y.animObject,C=Y.setAnimation,M=q.numberFormat,D=rt.registerEventOptions,x=J.charts,f=J.doc,m=J.marginNames,r=J.svg,p=J.win,a=F.defaultOptions,n=F.defaultTime,h=k.seriesTypes,l=v.addEvent,w=v.attr,P=v.cleanRecursively,I=v.createElement,L=v.css,S=v.defined,B=v.discardElement,c=v.erase,u=v.error,E=v.extend,j=v.find,G=v.fireEvent,W=v.getStyle,b=v.isArray,z=v.isNumber,R=v.isObject,V=v.isString,Z=v.merge,nt=v.objectEach,it=v.pick,ot=v.pInt,at=v.relativeLength,mt=v.removeEvent,_t=v.splat,yt=v.syncTimeout,ut=v.uniqueKey;return Y=function(){function ct(H,tt,lt){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(H,tt,lt)}return ct.chart=function(H,tt,lt){return new ct(H,tt,lt)},ct.prototype.getArgs=function(H,tt,lt){V(H)||H.nodeName?(this.renderTo=H,this.init(tt,lt)):this.init(H,tt)},ct.prototype.init=function(H,tt){var lt=H.plotOptions||{};G(this,"init",{args:arguments},function(){var dt=Z(a,H),ft=dt.chart;nt(dt.plotOptions,function(bt,Tt){R(bt)&&(bt.tooltip=lt[Tt]&&Z(lt[Tt].tooltip)||void 0)}),dt.tooltip.userOptions=H.chart&&H.chart.forExport&&H.tooltip.userOptions||H.tooltip,this.userOptions=H,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=tt,this.isResizing=0,this.options=dt,this.axes=[],this.series=[],this.time=H.time&&Object.keys(H.time).length?new d(H.time):J.time,this.numberFormatter=ft.numberFormatter||M,this.styledMode=ft.styledMode,this.hasCartesianSeries=ft.showAxes,this.index=x.length,x.push(this),J.chartCount++,D(this,ft),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,G(this,"afterInit"),this.firstRender()})},ct.prototype.initSeries=function(H){var tt=this.options.chart,lt=h[tt=H.type||tt.type||tt.defaultSeriesType];return lt||u(17,!0,this,{missingModuleFor:tt}),"function"==typeof(tt=new lt).init&&tt.init(this,H),tt},ct.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(H){H.points||H.data||!H.enabledDataSorting||H.setData(H.options.data,!1)})},ct.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(H,tt){return H.linkedSeries.length||tt.linkedSeries.length?tt.linkedSeries.length-H.linkedSeries.length:0})},ct.prototype.orderSeries=function(H){var tt=this.series;H=H||0;for(var lt=tt.length;H<lt;++H)tt[H]&&(tt[H].index=H,tt[H].name=tt[H].getName())},ct.prototype.isInsidePlot=function(H,tt,lt){void 0===lt&&(lt={});var dt=this.inverted,ft=this.plotBox,bt=this.plotLeft,Tt=this.plotTop,Lt=this.scrollablePlotBox,jt=0,Rt=0;lt.visiblePlotOnly&&this.scrollingContainer&&(jt=(Rt=this.scrollingContainer).scrollLeft,Rt=Rt.scrollTop);var Et=lt.series;if(ft=lt.visiblePlotOnly&&Lt||ft,H={x:Lt=lt.inverted?tt:H,y:tt=lt.inverted?H:tt,isInsidePlot:!0},!lt.ignoreX){var Ht=Et&&(dt?Et.yAxis:Et.xAxis)||{pos:bt,len:1/0};(Lt=lt.paneCoordinates?Ht.pos+Lt:bt+Lt)>=Math.max(jt+bt,Ht.pos)&&Lt<=Math.min(jt+bt+ft.width,Ht.pos+Ht.len)||(H.isInsidePlot=!1)}return!lt.ignoreY&&H.isInsidePlot&&(dt=Et&&(dt?Et.xAxis:Et.yAxis)||{pos:Tt,len:1/0},(lt=lt.paneCoordinates?dt.pos+tt:Tt+tt)>=Math.max(Rt+Tt,dt.pos)&&lt<=Math.min(Rt+Tt+ft.height,dt.pos+dt.len)||(H.isInsidePlot=!1)),G(this,"afterIsInsidePlot",H),H.isInsidePlot},ct.prototype.redraw=function(H){G(this,"beforeRedraw");var tt=this.hasCartesianSeries?this.axes:this.colorAxis||[],lt=this.series,dt=this.pointer,ft=this.legend,bt=this.userOptions.legend,Tt=this.renderer,Lt=Tt.isHidden(),jt=[],Rt=this.isDirtyBox,Et=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),C(!!this.hasRendered&&H,this),Lt&&this.temporaryDisplay(),this.layOutTitles(),H=lt.length;H--;){var Ht=lt[H];if(Ht.options.stacking||Ht.options.centerInCategory){var It=!0;if(Ht.isDirty){var Pt=!0;break}}}if(Pt)for(H=lt.length;H--;)(Ht=lt[H]).options.stacking&&(Ht.isDirty=!0);lt.forEach(function(kt){kt.isDirty&&("point"===kt.options.legendType?("function"==typeof kt.updateTotals&&kt.updateTotals(),Et=!0):bt&&(bt.labelFormatter||bt.labelFormat)&&(Et=!0)),kt.isDirtyData&&G(kt,"updatedData")}),Et&&ft&&ft.options.enabled&&(ft.render(),this.isDirtyLegend=!1),It&&this.getStacks(),tt.forEach(function(kt){kt.updateNames(),kt.setScale()}),this.getMargins(),tt.forEach(function(kt){kt.isDirty&&(Rt=!0)}),tt.forEach(function(kt){var Ut=kt.min+","+kt.max;kt.extKey!==Ut&&(kt.extKey=Ut,jt.push(function(){G(kt,"afterSetExtremes",E(kt.eventArgs,kt.getExtremes())),delete kt.eventArgs})),(Rt||It)&&kt.redraw()}),Rt&&this.drawChartBox(),G(this,"predraw"),lt.forEach(function(kt){(Rt||kt.isDirty)&&kt.visible&&kt.redraw(),kt.isDirtyData=!1}),dt&&dt.reset(!0),Tt.draw(),G(this,"redraw"),G(this,"render"),Lt&&this.temporaryDisplay(!0),jt.forEach(function(kt){kt.call()})},ct.prototype.get=function(H){function tt(bt){return bt.id===H||bt.options&&bt.options.id===H}for(var lt=this.series,dt=j(this.axes,tt)||j(this.series,tt),ft=0;!dt&&ft<lt.length;ft++)dt=j(lt[ft].points||[],tt);return dt},ct.prototype.getAxes=function(){var H=this,tt=this.options,lt=tt.xAxis=_t(tt.xAxis||{});tt=tt.yAxis=_t(tt.yAxis||{}),G(this,"getAxes"),lt.forEach(function(dt,ft){dt.index=ft,dt.isX=!0}),tt.forEach(function(dt,ft){dt.index=ft}),lt.concat(tt).forEach(function(dt){new $(H,dt)}),G(this,"afterGetAxes")},ct.prototype.getSelectedPoints=function(){return this.series.reduce(function(H,tt){return tt.getPointsCollection().forEach(function(lt){it(lt.selectedStaging,lt.selected)&&H.push(lt)}),H},[])},ct.prototype.getSelectedSeries=function(){return this.series.filter(function(H){return H.selected})},ct.prototype.setTitle=function(H,tt,lt){this.applyDescription("title",H),this.applyDescription("subtitle",tt),this.applyDescription("caption",void 0),this.layOutTitles(lt)},ct.prototype.applyDescription=function(H,tt){var lt=this,dt="title"===H?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};dt=this.options[H]=Z(!this.styledMode&&{style:dt},this.options[H],tt);var ft=this[H];ft&&tt&&(this[H]=ft=ft.destroy()),dt&&!ft&&((ft=this.renderer.text(dt.text,0,0,dt.useHTML).attr({align:dt.align,class:"highcharts-"+H,zIndex:dt.zIndex||4}).add()).update=function(bt){lt[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[H]](bt)},this.styledMode||ft.css(dt.style),this[H]=ft)},ct.prototype.layOutTitles=function(H){var tt=[0,0,0],lt=this.renderer,dt=this.spacingBox;["title","subtitle","caption"].forEach(function(bt){var Rt,Tt=this[bt],Lt=this.options[bt],jt=Lt.verticalAlign||"top";if(bt="title"===bt?"top"===jt?-3:0:"top"===jt?tt[0]+2:0,Tt){this.styledMode||(Rt=Lt.style&&Lt.style.fontSize),Rt=lt.fontMetrics(Rt,Tt).b,Tt.css({width:(Lt.width||dt.width+(Lt.widthAdjust||0))+"px"});var Et=Math.round(Tt.getBBox(Lt.useHTML).height);Tt.align(E({y:"bottom"===jt?Rt:bt+Rt,height:Et},Lt),!1,"spacingBox"),Lt.floating||("top"===jt?tt[0]=Math.ceil(tt[0]+Et):"bottom"===jt&&(tt[2]=Math.ceil(tt[2]+Et)))}},this),tt[0]&&"top"===(this.options.title.verticalAlign||"top")&&(tt[0]+=this.options.title.margin),tt[2]&&"bottom"===this.options.caption.verticalAlign&&(tt[2]+=this.options.caption.margin);var ft=!this.titleOffset||this.titleOffset.join(",")!==tt.join(",");this.titleOffset=tt,G(this,"afterLayOutTitles"),!this.isDirtyBox&&ft&&(this.isDirtyBox=this.isDirtyLegend=ft,this.hasRendered&&it(H,!0)&&this.isDirtyBox&&this.redraw())},ct.prototype.getChartSize=function(){var H=this.options.chart,tt=H.width;H=H.height;var lt=this.renderTo;S(tt)||(this.containerWidth=W(lt,"width")),S(H)||(this.containerHeight=W(lt,"height")),this.chartWidth=Math.max(0,tt||this.containerWidth||600),this.chartHeight=Math.max(0,at(H,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},ct.prototype.temporaryDisplay=function(H){var tt=this.renderTo;if(H)for(;tt&&tt.style;)tt.hcOrigStyle&&(L(tt,tt.hcOrigStyle),delete tt.hcOrigStyle),tt.hcOrigDetached&&(f.body.removeChild(tt),tt.hcOrigDetached=!1),tt=tt.parentNode;else for(;tt&&tt.style&&(f.body.contains(tt)||tt.parentNode||(tt.hcOrigDetached=!0,f.body.appendChild(tt)),("none"===W(tt,"display",!1)||tt.hcOricDetached)&&(tt.hcOrigStyle={display:tt.style.display,height:tt.style.height,overflow:tt.style.overflow},H={display:"block",overflow:"hidden"},tt!==this.renderTo&&(H.height=0),L(tt,H),tt.offsetWidth||tt.style.setProperty("display","block","important")),(tt=tt.parentNode)!==f.body););},ct.prototype.setClassName=function(H){this.container.className="highcharts-container "+(H||"")},ct.prototype.getContainer=function(){var dt,H=this.options,tt=H.chart,lt=ut(),ft=this.renderTo;ft||(this.renderTo=ft=tt.renderTo),V(ft)&&(this.renderTo=ft=f.getElementById(ft)),ft||u(13,!0,this);var bt=ot(w(ft,"data-highcharts-chart"));z(bt)&&x[bt]&&x[bt].hasRendered&&x[bt].destroy(),w(ft,"data-highcharts-chart",this.index),ft.innerHTML=_.emptyHTML,tt.skipClone||ft.offsetWidth||this.temporaryDisplay(),this.getChartSize(),bt=this.chartWidth;var Tt=this.chartHeight;if(L(ft,{overflow:"hidden"}),this.styledMode||(dt=E({position:"relative",overflow:"hidden",width:bt+"px",height:Tt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},tt.style||{})),this.container=lt=I("div",{id:lt},dt,ft),this._cursor=lt.style.cursor,this.renderer=new(tt.renderer||!r?O.getRendererType(tt.renderer):g)(lt,bt,Tt,void 0,tt.forExport,H.exporting&&H.exporting.allowHTML,this.styledMode),C(void 0,this),this.setClassName(tt.className),this.styledMode)for(var Lt in H.defs)this.renderer.definition(H.defs[Lt]);else this.renderer.setStyle(tt.style);this.renderer.chartIndex=this.index,G(this,"afterGetContainer")},ct.prototype.getMargins=function(H){var tt=this.spacing,lt=this.margin,dt=this.titleOffset;this.resetMargins(),dt[0]&&!S(lt[0])&&(this.plotTop=Math.max(this.plotTop,dt[0]+tt[0])),dt[2]&&!S(lt[2])&&(this.marginBottom=Math.max(this.marginBottom,dt[2]+tt[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(lt,tt),G(this,"getMargins"),H||this.getAxisMargins()},ct.prototype.getAxisMargins=function(){var H=this,tt=H.axisOffset=[0,0,0,0],lt=H.colorAxis,dt=H.margin,ft=function(bt){bt.forEach(function(Tt){Tt.visible&&Tt.getOffset()})};H.hasCartesianSeries?ft(H.axes):lt&&lt.length&&ft(lt),m.forEach(function(bt,Tt){S(dt[Tt])||(H[bt]+=tt[Tt])}),H.setChartSize()},ct.prototype.reflow=function(H){var tt=this,lt=tt.options.chart,dt=tt.renderTo,ft=S(lt.width)&&S(lt.height),bt=lt.width||W(dt,"width");lt=lt.height||W(dt,"height"),dt=H?H.target:p,delete tt.pointer.chartPosition,!ft&&!tt.isPrinting&&bt&&lt&&(dt===p||dt===f)&&((bt!==tt.containerWidth||lt!==tt.containerHeight)&&(v.clearTimeout(tt.reflowTimeout),tt.reflowTimeout=yt(function(){tt.container&&tt.setSize(void 0,void 0,!1)},H?100:0)),tt.containerWidth=bt,tt.containerHeight=lt)},ct.prototype.setReflow=function(H){var tt=this;!1===H||this.unbindReflow?!1===H&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=l(p,"resize",function(lt){tt.options&&tt.reflow(lt)}),l(this,"destroy",this.unbindReflow))},ct.prototype.setSize=function(H,tt,lt){var dt=this,ft=dt.renderer;dt.isResizing+=1,C(lt,dt),lt=ft.globalAnimation,dt.oldChartHeight=dt.chartHeight,dt.oldChartWidth=dt.chartWidth,void 0!==H&&(dt.options.chart.width=H),void 0!==tt&&(dt.options.chart.height=tt),dt.getChartSize(),dt.styledMode||(lt?T:L)(dt.container,{width:dt.chartWidth+"px",height:dt.chartHeight+"px"},lt),dt.setChartSize(!0),ft.setSize(dt.chartWidth,dt.chartHeight,lt),dt.axes.forEach(function(bt){bt.isDirty=!0,bt.setScale()}),dt.isDirtyLegend=!0,dt.isDirtyBox=!0,dt.layOutTitles(),dt.getMargins(),dt.redraw(lt),dt.oldChartHeight=null,G(dt,"resize"),yt(function(){dt&&G(dt,"endResize",null,function(){--dt.isResizing})},y(lt).duration)},ct.prototype.setChartSize=function(H){var jt,Rt,Et,Ht,tt=this.inverted,lt=this.renderer,dt=this.chartWidth,ft=this.chartHeight,bt=this.options.chart,Tt=this.spacing,Lt=this.clipOffset;this.plotLeft=jt=Math.round(this.plotLeft),this.plotTop=Rt=Math.round(this.plotTop),this.plotWidth=Et=Math.max(0,Math.round(dt-jt-this.marginRight)),this.plotHeight=Ht=Math.max(0,Math.round(ft-Rt-this.marginBottom)),this.plotSizeX=tt?Ht:Et,this.plotSizeY=tt?Et:Ht,this.plotBorderWidth=bt.plotBorderWidth||0,this.spacingBox=lt.spacingBox={x:Tt[3],y:Tt[0],width:dt-Tt[3]-Tt[1],height:ft-Tt[0]-Tt[2]},this.plotBox=lt.plotBox={x:jt,y:Rt,width:Et,height:Ht},tt=2*Math.floor(this.plotBorderWidth/2),dt=Math.ceil(Math.max(tt,Lt[3])/2),ft=Math.ceil(Math.max(tt,Lt[0])/2),this.clipBox={x:dt,y:ft,width:Math.floor(this.plotSizeX-Math.max(tt,Lt[1])/2-dt),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(tt,Lt[2])/2-ft))},H||(this.axes.forEach(function(It){It.setAxisSize(),It.setAxisTranslation()}),lt.alignElements()),G(this,"afterSetChartSize",{skipAxes:H})},ct.prototype.resetMargins=function(){G(this,"resetMargins");var H=this,tt=H.options.chart;["margin","spacing"].forEach(function(lt){var dt=tt[lt],ft=R(dt)?dt:[dt,dt,dt,dt];["Top","Right","Bottom","Left"].forEach(function(bt,Tt){H[lt][Tt]=it(tt[lt+bt],ft[Tt])})}),m.forEach(function(lt,dt){H[lt]=it(H.margin[dt],H.spacing[dt])}),H.axisOffset=[0,0,0,0],H.clipOffset=[0,0,0,0]},ct.prototype.drawChartBox=function(){var pe,H=this.options.chart,tt=this.renderer,lt=this.chartWidth,dt=this.chartHeight,ft=this.styledMode,bt=this.plotBGImage,Tt=H.backgroundColor,Lt=H.plotBackgroundColor,jt=H.plotBackgroundImage,Rt=this.plotLeft,Et=this.plotTop,Ht=this.plotWidth,It=this.plotHeight,Pt=this.plotBox,kt=this.clipRect,Ut=this.clipBox,zt=this.chartBackground,Vt=this.plotBackground,ie=this.plotBorder,ne="animate";if(zt||(this.chartBackground=zt=tt.rect().addClass("highcharts-background").add(),ne="attr"),ft)var de=pe=zt.strokeWidth();else pe=(de=H.borderWidth||0)+(H.shadow?8:0),Tt={fill:Tt||"none"},(de||zt["stroke-width"])&&(Tt.stroke=H.borderColor,Tt["stroke-width"]=de),zt.attr(Tt).shadow(H.shadow);zt[ne]({x:pe/2,y:pe/2,width:lt-pe-de%2,height:dt-pe-de%2,r:H.borderRadius}),ne="animate",Vt||(ne="attr",this.plotBackground=Vt=tt.rect().addClass("highcharts-plot-background").add()),Vt[ne](Pt),ft||(Vt.attr({fill:Lt||"none"}).shadow(H.plotShadow),jt&&(bt?(jt!==bt.attr("href")&&bt.attr("href",jt),bt.animate(Pt)):this.plotBGImage=tt.image(jt,Rt,Et,Ht,It).add())),kt?kt.animate({width:Ut.width,height:Ut.height}):this.clipRect=tt.clipRect(Ut),ne="animate",ie||(ne="attr",this.plotBorder=ie=tt.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),ft||ie.attr({stroke:H.plotBorderColor,"stroke-width":H.plotBorderWidth||0,fill:"none"}),ie[ne](ie.crisp({x:Rt,y:Et,width:Ht,height:It},-ie.strokeWidth())),this.isDirtyBox=!1,G(this,"afterDrawChartBox")},ct.prototype.propFromSeries=function(){var dt,ft,bt,H=this,tt=H.options.chart,lt=H.options.series;["inverted","angular","polar"].forEach(function(Tt){for(ft=h[tt.type||tt.defaultSeriesType],bt=tt[Tt]||ft&&ft.prototype[Tt],dt=lt&&lt.length;!bt&&dt--;)(ft=h[lt[dt].type])&&ft.prototype[Tt]&&(bt=!0);H[Tt]=bt})},ct.prototype.linkSeries=function(){var H=this,tt=H.series;tt.forEach(function(lt){lt.linkedSeries.length=0}),tt.forEach(function(lt){var dt=lt.options.linkedTo;V(dt)&&(dt=":previous"===dt?H.series[lt.index-1]:H.get(dt))&&dt.linkedParent!==lt&&(dt.linkedSeries.push(lt),lt.linkedParent=dt,dt.enabledDataSorting&&lt.setDataSortingOptions(),lt.visible=it(lt.options.visible,dt.options.visible,lt.visible))}),G(this,"afterLinkSeries")},ct.prototype.renderSeries=function(){this.series.forEach(function(H){H.translate(),H.render()})},ct.prototype.renderLabels=function(){var H=this,tt=H.options.labels;tt.items&&tt.items.forEach(function(lt){var dt=E(tt.style,lt.style),ft=ot(dt.left)+H.plotLeft,bt=ot(dt.top)+H.plotTop+12;delete dt.left,delete dt.top,H.renderer.text(lt.html,ft,bt).attr({zIndex:2}).css(dt).add()})},ct.prototype.render=function(){var H=this.axes,tt=this.colorAxis,lt=this.renderer,dt=this.options,ft=function(Rt){Rt.forEach(function(Et){Et.visible&&Et.render()})},bt=0;this.setTitle(),this.legend=new K(this,dt.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),dt=this.plotWidth,H.some(function(Rt){if(Rt.horiz&&Rt.visible&&Rt.options.labels.enabled&&Rt.series.length)return bt=21,!0});var Tt=this.plotHeight=Math.max(this.plotHeight-bt,0);H.forEach(function(Rt){Rt.setScale()}),this.getAxisMargins();var Lt=1.1<dt/this.plotWidth,jt=1.05<Tt/this.plotHeight;(Lt||jt)&&(H.forEach(function(Rt){(Rt.horiz&&Lt||!Rt.horiz&&jt)&&Rt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?ft(H):tt&&tt.length&&ft(tt),this.seriesGroup||(this.seriesGroup=lt.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},ct.prototype.addCredits=function(H){var tt=this,lt=Z(!0,this.options.credits,H);lt.enabled&&!this.credits&&(this.credits=this.renderer.text(lt.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){lt.href&&(p.location.href=lt.href)}).attr({align:lt.position.align,zIndex:8}),tt.styledMode||this.credits.css(lt.style),this.credits.add().align(lt.position),this.credits.update=function(dt){tt.credits=tt.credits.destroy(),tt.addCredits(dt)})},ct.prototype.destroy=function(){var bt,H=this,tt=H.axes,lt=H.series,dt=H.container,ft=dt&&dt.parentNode;for(G(H,"destroy"),H.renderer.forExport?c(x,H):x[H.index]=void 0,J.chartCount--,H.renderTo.removeAttribute("data-highcharts-chart"),mt(H),bt=tt.length;bt--;)tt[bt]=tt[bt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),bt=lt.length;bt--;)lt[bt]=lt[bt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Tt){var Lt=H[Tt];Lt&&Lt.destroy&&(H[Tt]=Lt.destroy())}),dt&&(dt.innerHTML=_.emptyHTML,mt(dt),ft&&B(dt)),nt(H,function(Tt,Lt){delete H[Lt]})},ct.prototype.firstRender=function(){var H=this,tt=H.options;(!H.isReadyToRender||H.isReadyToRender())&&(H.getContainer(),H.resetMargins(),H.setChartSize(),H.propFromSeries(),H.getAxes(),(b(tt.series)?tt.series:[]).forEach(function(lt){H.initSeries(lt)}),H.linkSeries(),H.setSeriesData(),G(H,"beforeRender"),N&&(H.pointer=X.isRequired()?new X(H,tt):new N(H,tt)),H.render(),H.pointer.getChartPosition(),!H.renderer.imgCount&&!H.hasLoaded&&H.onload(),H.temporaryDisplay(!0))},ct.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(H){H&&void 0!==this.index&&H.apply(this,[this])},this),G(this,"load"),G(this,"render"),S(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},ct.prototype.addSeries=function(H,tt,lt){var ft,dt=this;return H&&(tt=it(tt,!0),G(dt,"addSeries",{options:H},function(){ft=dt.initSeries(H),dt.isDirtyLegend=!0,dt.linkSeries(),ft.enabledDataSorting&&ft.setData(H.data,!1),G(dt,"afterAddSeries",{series:ft}),tt&&dt.redraw(lt)})),ft},ct.prototype.addAxis=function(H,tt,lt,dt){return this.createAxis(tt?"xAxis":"yAxis",{axis:H,redraw:lt,animation:dt})},ct.prototype.addColorAxis=function(H,tt,lt){return this.createAxis("colorAxis",{axis:H,redraw:tt,animation:lt})},ct.prototype.createAxis=function(H,tt){return H=new $(this,Z(tt.axis,{index:this[H].length,isX:"xAxis"===H})),it(tt.redraw,!0)&&this.redraw(tt.animation),H},ct.prototype.showLoading=function(H){var tt=this,lt=tt.options,dt=lt.loading,ft=function(){bt&&L(bt,{left:tt.plotLeft+"px",top:tt.plotTop+"px",width:tt.plotWidth+"px",height:tt.plotHeight+"px"})},bt=tt.loadingDiv,Tt=tt.loadingSpan;bt||(tt.loadingDiv=bt=I("div",{className:"highcharts-loading highcharts-loading-hidden"},null,tt.container)),Tt||(tt.loadingSpan=Tt=I("span",{className:"highcharts-loading-inner"},null,bt),l(tt,"redraw",ft)),bt.className="highcharts-loading",_.setElementHTML(Tt,it(H,lt.lang.loading,"")),tt.styledMode||(L(bt,E(dt.style,{zIndex:10})),L(Tt,dt.labelStyle),tt.loadingShown||(L(bt,{opacity:0,display:""}),T(bt,{opacity:dt.style.opacity||.5},{duration:dt.showDuration||0}))),tt.loadingShown=!0,ft()},ct.prototype.hideLoading=function(){var H=this.options,tt=this.loadingDiv;tt&&(tt.className="highcharts-loading highcharts-loading-hidden",this.styledMode||T(tt,{opacity:0},{duration:H.loading.hideDuration||100,complete:function(){L(tt,{display:"none"})}})),this.loadingShown=!1},ct.prototype.update=function(H,tt,lt,dt){var jt,Rt,ft=this,bt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Tt=H.isResponsiveOptions,Lt=[];G(ft,"update",{options:H}),Tt||ft.setResponsive(!1,!0),H=P(H,ft.options),ft.userOptions=Z(ft.userOptions,H);var Et=H.chart;if(Et){if(Z(!0,ft.options.chart,Et),"className"in Et&&ft.setClassName(Et.className),"reflow"in Et&&ft.setReflow(Et.reflow),"inverted"in Et||"polar"in Et||"type"in Et){ft.propFromSeries();var Ht=!0}"alignTicks"in Et&&(Ht=!0),"events"in Et&&D(this,Et),nt(Et,function(It,Pt){-1!==ft.propsRequireUpdateSeries.indexOf("chart."+Pt)&&(jt=!0),-1!==ft.propsRequireDirtyBox.indexOf(Pt)&&(ft.isDirtyBox=!0),-1!==ft.propsRequireReflow.indexOf(Pt)&&(Tt?ft.isDirtyBox=!0:Rt=!0)}),!ft.styledMode&&Et.style&&ft.renderer.setStyle(ft.options.chart.style||{})}!ft.styledMode&&H.colors&&(this.options.colors=H.colors),H.time&&(this.time===n&&(this.time=new d(H.time)),Z(!0,ft.options.time,H.time)),nt(H,function(It,Pt){ft[Pt]&&"function"==typeof ft[Pt].update?ft[Pt].update(It,!1):"function"==typeof ft[bt[Pt]]?ft[bt[Pt]](It):"colors"!==Pt&&-1===ft.collectionsWithUpdate.indexOf(Pt)&&Z(!0,ft.options[Pt],H[Pt]),"chart"!==Pt&&-1!==ft.propsRequireUpdateSeries.indexOf(Pt)&&(jt=!0)}),this.collectionsWithUpdate.forEach(function(It){if(H[It]){var Pt=[];ft[It].forEach(function(kt,Ut){kt.options.isInternal||Pt.push(it(kt.options.index,Ut))}),_t(H[It]).forEach(function(kt,Ut){var Vt,zt=S(kt.id);zt&&(Vt=ft.get(kt.id)),!Vt&&ft[It]&&(Vt=ft[It][Pt?Pt[Ut]:Ut])&&zt&&S(Vt.options.id)&&(Vt=void 0),Vt&&Vt.coll===It&&(Vt.update(kt,!1),lt&&(Vt.touched=!0)),!Vt&&lt&&ft.collectionsWithInit[It]&&(ft.collectionsWithInit[It][0].apply(ft,[kt].concat(ft.collectionsWithInit[It][1]||[]).concat([!1])).touched=!0)}),lt&&ft[It].forEach(function(kt){kt.touched||kt.options.isInternal?delete kt.touched:Lt.push(kt)})}}),Lt.forEach(function(It){It.chart&&It.remove&&It.remove(!1)}),Ht&&ft.axes.forEach(function(It){It.update({},!1)}),jt&&ft.getSeriesOrderByLinks().forEach(function(It){It.chart&&It.update({},!1)},this),Ht=Et&&Et.width,Et=Et&&(V(Et.height)?at(Et.height,Ht||ft.chartWidth):Et.height),Rt||z(Ht)&&Ht!==ft.chartWidth||z(Et)&&Et!==ft.chartHeight?ft.setSize(Ht,Et,dt):it(tt,!0)&&ft.redraw(dt),G(ft,"afterUpdate",{options:H,redraw:tt,animation:dt})},ct.prototype.setSubtitle=function(H,tt){this.applyDescription("subtitle",H),this.layOutTitles(tt)},ct.prototype.setCaption=function(H,tt){this.applyDescription("caption",H),this.layOutTitles(tt)},ct.prototype.showResetZoom=function(){function H(){tt.zoomOut()}var tt=this,lt=a.lang,dt=tt.options.chart.resetZoomButton,ft=dt.theme,bt=ft.states,Tt="chart"===dt.relativeTo||"spacingBox"===dt.relativeTo?null:"scrollablePlotBox";G(this,"beforeShowResetZoom",null,function(){tt.resetZoomButton=tt.renderer.button(lt.resetZoom,null,null,H,ft,bt&&bt.hover).attr({align:dt.position.align,title:lt.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(dt.position,!1,Tt)}),G(this,"afterShowResetZoom")},ct.prototype.zoomOut=function(){G(this,"selection",{resetSelection:!0},this.zoom)},ct.prototype.zoom=function(H){var bt,tt=this,lt=tt.pointer,dt=tt.inverted?lt.mouseDownX:lt.mouseDownY,ft=!1;!H||H.resetSelection?(tt.axes.forEach(function(Lt){bt=Lt.zoom()}),lt.initiated=!1):H.xAxis.concat(H.yAxis).forEach(function(Lt){var jt=Lt.axis,Rt=tt.inverted?jt.left:jt.top,Ht=jt.isXAxis,It=!1;(!Ht&&dt>=Rt&&dt<=(tt.inverted?Rt+jt.width:Rt+jt.height)||Ht||!S(dt))&&(It=!0),lt[Ht?"zoomX":"zoomY"]&&It&&(bt=jt.zoom(Lt.min,Lt.max),jt.displayBtn&&(ft=!0))});var Tt=tt.resetZoomButton;ft&&!Tt?tt.showResetZoom():!ft&&R(Tt)&&(tt.resetZoomButton=Tt.destroy()),bt&&tt.redraw(it(tt.options.chart.animation,H&&H.animation,100>tt.pointCount))},ct.prototype.pan=function(H,tt){var lt=this,dt=lt.hoverPoints;tt="object"==typeof tt?tt:{enabled:tt,type:"x"};var ft=lt.options.chart,bt=lt.options.mapNavigation&&lt.options.mapNavigation.enabled;ft&&ft.panning&&(ft.panning=tt);var Lt,Tt=tt.type;G(this,"pan",{originalEvent:H},function(){dt&&dt.forEach(function(Et){Et.setState()});var jt=lt.xAxis;"xy"===Tt?jt=jt.concat(lt.yAxis):"y"===Tt&&(jt=lt.yAxis);var Rt={};jt.forEach(function(Et){if(Et.options.panningEnabled&&!Et.options.isInternal){var Ht=Et.horiz,It=H[Ht?"chartX":"chartY"],Pt=lt[Ht=Ht?"mouseDownX":"mouseDownY"],kt=Et.minPointOffset||0,Ut=Et.reversed&&!lt.inverted||!Et.reversed&&lt.inverted?-1:1,zt=Et.getExtremes(),Vt=Et.toValue(Pt-It,!0)+kt*Ut,ie=Et.toValue(Pt+Et.len-It,!0)-(kt*Ut||Et.isXAxis&&Et.pointRangePadding||0),pe=ie<Vt;Ut=Et.hasVerticalPanning(),Pt=pe?ie:Vt,Vt=pe?Vt:ie;var ne=Et.panningState;!Ut||Et.isXAxis||ne&&!ne.isDirty||Et.series.forEach(function(de){var Ae=de.getProcessedData(!0);Ae=de.getExtremes(Ae.yData,!0),ne||(ne={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),z(Ae.dataMin)&&z(Ae.dataMax)&&(ne.startMin=Math.min(it(de.options.threshold,1/0),Ae.dataMin,ne.startMin),ne.startMax=Math.max(it(de.options.threshold,-1/0),Ae.dataMax,ne.startMax))}),Ut=Math.min(it(ne&&ne.startMin,zt.dataMin),kt?zt.min:Et.toValue(Et.toPixels(zt.min)-Et.minPixelPadding)),ie=Math.max(it(ne&&ne.startMax,zt.dataMax),kt?zt.max:Et.toValue(Et.toPixels(zt.max)+Et.minPixelPadding)),Et.panningState=ne,Et.isOrdinal||(0<(kt=Ut-Pt)&&(Vt+=kt,Pt=Ut),0<(kt=Vt-ie)&&(Vt=ie,Pt-=kt),Et.series.length&&Pt!==zt.min&&Vt!==zt.max&&Pt>=Ut&&Vt<=ie&&(Et.setExtremes(Pt,Vt,!1,!1,{trigger:"pan"}),lt.resetZoomButton||bt||Pt===Ut||Vt===ie||!Tt.match("y")||(lt.showResetZoom(),Et.displayBtn=!1),Lt=!0),Rt[Ht]=It)}}),nt(Rt,function(Et,Ht){lt[Ht]=Et}),Lt&&lt.redraw(!1),L(lt.container,{cursor:"move"})})},ct}(),E(Y.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Y.prototype.addAxis,[!0]],yAxis:[Y.prototype.addAxis,[!1]],series:[Y.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),Y}),wt(o,"Core/Legend/LegendSymbol.js",[o["Core/Utilities.js"]],function(Y){var rt,J,$=Y.merge,q=Y.pick;return(J=rt||(rt={})).drawLineMarker=function(K){var X=this.options,F=K.symbolWidth,N=K.symbolHeight,O=N/2,k=this.chart.renderer,g=this.legendGroup;K=K.baseline-Math.round(.3*K.fontMetrics.b);var d={},v=X.marker;this.chart.styledMode||(d={"stroke-width":X.lineWidth||0},X.dashStyle&&(d.dashstyle=X.dashStyle)),this.legendLine=k.path([["M",0,K],["L",F,K]]).addClass("highcharts-graph").attr(d).add(g),v&&!1!==v.enabled&&F&&(X=Math.min(q(v.radius,O),O),0===this.symbol.indexOf("url")&&(v=$(v,{width:N,height:N}),X=0),this.legendSymbol=F=k.symbol(this.symbol,F/2-X,K-X,2*X,2*X,v).addClass("highcharts-point").add(g),F.isMarker=!0)},J.drawRectangle=function(K,X){var F=K.symbolHeight,N=K.options.squareSymbol;X.legendSymbol=this.chart.renderer.rect(N?(K.symbolWidth-F)/2:0,K.baseline-F+1,N?F:K.symbolWidth,F,q(K.options.symbolRadius,F/2)).addClass("highcharts-point").attr({zIndex:3}).add(X.legendGroup)},rt}),wt(o,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),wt(o,"Core/Series/Series.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/DefaultOptions.js"],o["Core/Foundation.js"],o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/Point.js"],o["Core/Series/SeriesDefaults.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N,O){var k=Y.animObject,g=Y.setAnimation,d=$.defaultOptions,v=q.registerEventOptions,_=rt.hasTouch,T=rt.svg,y=rt.win,C=F.seriesTypes,M=O.addEvent,D=O.arrayMax,x=O.arrayMin,f=O.clamp,m=O.cleanRecursively,r=O.correctFloat,p=O.defined,a=O.erase,n=O.error,h=O.extend,l=O.find,w=O.fireEvent,P=O.getNestedProperty,I=O.isArray,L=O.isNumber,S=O.isString,B=O.merge,c=O.objectEach,u=O.pick,E=O.removeEvent,j=O.splat,G=O.syncTimeout;return Y=function(){function W(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return W.prototype.init=function(b,z){w(this,"init",{options:z});var R=this,V=b.series;this.eventsToUnbind=[],R.chart=b,R.options=R.setOptions(z),z=R.options,R.linkedSeries=[],R.bindAxes(),h(R,{name:z.name,state:"",visible:!1!==z.visible,selected:!0===z.selected}),v(this,z);var nt,Z=z.events;(Z&&Z.click||z.point&&z.point.events&&z.point.events.click||z.allowPointSelect)&&(b.runTrackerClick=!0),R.getColor(),R.getSymbol(),R.parallelArrays.forEach(function(it){R[it+"Data"]||(R[it+"Data"]=[])}),R.isCartesian&&(b.hasCartesianSeries=!0),V.length&&(nt=V[V.length-1]),R._i=u(nt&&nt._i,-1)+1,R.opacity=R.options.opacity,b.orderSeries(this.insert(V)),z.dataSorting&&z.dataSorting.enabled?R.setDataSortingOptions():R.points||R.data||R.setData(z.data,!1),w(this,"afterInit")},W.prototype.is=function(b){return C[b]&&this instanceof C[b]},W.prototype.insert=function(b){var R,z=this.options.index;if(L(z)){for(R=b.length;R--;)if(z>=u(b[R].options.index,b[R]._i)){b.splice(R+1,0,this);break}-1===R&&b.unshift(this),R+=1}else b.push(this);return u(R,b.length-1)},W.prototype.bindAxes=function(){var V,b=this,z=b.options,R=b.chart;w(this,"bindAxes",null,function(){(b.axisTypes||[]).forEach(function(Z){var nt=0;R[Z].forEach(function(it){V=it.options,(z[Z]===nt&&!V.isInternal||void 0!==z[Z]&&z[Z]===V.id||void 0===z[Z]&&0===V.index)&&(b.insert(it.series),b[Z]=it,it.isDirty=!0),V.isInternal||nt++}),b[Z]||b.optionalAxis===Z||n(18,!0,R)})}),w(this,"afterBindAxes")},W.prototype.updateParallelArrays=function(b,z){var R=b.series,V=arguments,Z=L(z)?function(nt){var it="y"===nt&&R.toYData?R.toYData(b):b[nt];R[nt+"Data"][z]=it}:function(nt){Array.prototype[z].apply(R[nt+"Data"],Array.prototype.slice.call(V,2))};R.parallelArrays.forEach(Z)},W.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},W.prototype.autoIncrement=function(b){var it,z=this.options,R=z.pointIntervalUnit,V=z.relativeXValue,Z=this.chart.time,nt=this.xIncrement;return nt=u(nt,z.pointStart,0),this.pointInterval=it=u(this.pointInterval,z.pointInterval,1),V&&L(b)&&(it*=b),R&&(z=new Z.Date(nt),"day"===R?Z.set("Date",z,Z.get("Date",z)+it):"month"===R?Z.set("Month",z,Z.get("Month",z)+it):"year"===R&&Z.set("FullYear",z,Z.get("FullYear",z)+it),it=z.getTime()-nt),V&&L(b)?nt+it:(this.xIncrement=nt+it,nt)},W.prototype.setDataSortingOptions=function(){var b=this.options;h(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),p(b.pointRange)||(b.pointRange=1)},W.prototype.setOptions=function(b){var z=this.chart,R=z.options,V=R.plotOptions,Z=z.userOptions||{};b=B(b),z=z.styledMode;var nt={plotOptions:V,userOptions:b};w(this,"setOptions",nt);var it=nt.plotOptions[this.type],ot=Z.plotOptions||{};return this.userOptions=nt.userOptions,Z=B(it,V.series,Z.plotOptions&&Z.plotOptions[this.type],b),this.tooltipOptions=B(d.tooltip,d.plotOptions.series&&d.plotOptions.series.tooltip,d.plotOptions[this.type].tooltip,R.tooltip.userOptions,V.series&&V.series.tooltip,V[this.type].tooltip,b.tooltip),this.stickyTracking=u(b.stickyTracking,ot[this.type]&&ot[this.type].stickyTracking,ot.series&&ot.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||Z.stickyTracking),null===it.marker&&delete Z.marker,this.zoneAxis=Z.zoneAxis,V=this.zones=(Z.zones||[]).slice(),!Z.negativeColor&&!Z.negativeFillColor||Z.zones||(R={value:Z[this.zoneAxis+"Threshold"]||Z.threshold||0,className:"highcharts-negative"},z||(R.color=Z.negativeColor,R.fillColor=Z.negativeFillColor),V.push(R)),V.length&&p(V[V.length-1].value)&&V.push(z?{}:{color:this.color,fillColor:this.fillColor}),w(this,"afterSetOptions",{options:Z}),Z},W.prototype.getName=function(){return u(this.options.name,"Series "+(this.index+1))},W.prototype.getCyclic=function(b,z,R){var V=this.chart,Z=this.userOptions,nt=b+"Index",it=b+"Counter",ot=R?R.length:u(V.options.chart[b+"Count"],V[b+"Count"]);if(!z){var at=u(Z[nt],Z["_"+nt]);p(at)||(V.series.length||(V[it]=0),Z["_"+nt]=at=V[it]%ot,V[it]+=1),R&&(z=R[at])}void 0!==at&&(this[nt]=at),this[b]=z},W.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||d.plotOptions[this.type].color,this.chart.options.colors)},W.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},W.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},W.prototype.findPointIndex=function(b,z){var it,ot,R=b.id,V=b.x,Z=this.points,nt=this.options.dataSorting;if(R)(nt=this.chart.get(R))instanceof K&&(it=nt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(it=function(mt){return!mt.touched&&mt.index===b.index},nt&&nt.matchByName?it=function(mt){return!mt.touched&&mt.name===b.name}:this.options.relativeXValue&&(it=function(mt){return!mt.touched&&mt.options.x===b.x}),!(it=l(Z,it))))return;if(it){var at=it&&it.index;void 0!==at&&(ot=!0)}return void 0===at&&L(V)&&(at=this.xData.indexOf(V,z)),-1!==at&&void 0!==at&&this.cropped&&(at=at>=this.cropStart?at-this.cropStart:at),!ot&&L(at)&&Z[at]&&Z[at].touched&&(at=void 0),at},W.prototype.updateData=function(b,z){var at,mt,_t,R=this.options,V=R.dataSorting,Z=this.points,nt=[],it=this.requireSorting,ot=b.length===Z.length,yt=!0;if(this.xIncrement=null,b.forEach(function(ut,ct){var H=p(ut)&&this.pointClass.prototype.optionsToObject.call({series:this},ut)||{};H.id||L(H.x)?(-1===(H=this.findPointIndex(H,_t))||void 0===H?nt.push(ut):Z[H]&&ut!==R.data[H]?(Z[H].update(ut,!1,null,!1),Z[H].touched=!0,it&&(_t=H+1)):Z[H]&&(Z[H].touched=!0),(!ot||ct!==H||V&&V.enabled||this.hasDerivedData)&&(at=!0)):nt.push(ut)},this),at)for(b=Z.length;b--;)(mt=Z[b])&&!mt.touched&&mt.remove&&mt.remove(!1,z);else!ot||V&&V.enabled?yt=!1:(b.forEach(function(ut,ct){ut!==Z[ct].y&&Z[ct].update&&Z[ct].update(ut,!1,null,!1)}),nt.length=0);return Z.forEach(function(ut){ut&&(ut.touched=!1)}),!!yt&&(nt.forEach(function(ut){this.addPoint(ut,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=D(this.xData),this.autoIncrement()),!0)},W.prototype.setData=function(b,z,R,V){var Z=this,nt=Z.points,it=nt&&nt.length||0,ot=Z.options,at=Z.chart,mt=ot.dataSorting,_t=Z.xAxis,yt=ot.turboThreshold,ut=this.xData,ct=this.yData,H=Z.pointArrayMap;H=H&&H.length;var lt,tt=ot.keys,dt=0,ft=1,bt=null,Tt=(b=b||[]).length;if(z=u(z,!0),mt&&mt.enabled&&(b=this.sortData(b)),!1!==V&&Tt&&it&&!Z.cropped&&!Z.hasGroupedData&&Z.visible&&!Z.isSeriesBoosting&&(lt=this.updateData(b,R)),!lt){if(Z.xIncrement=null,Z.colorCounter=0,this.parallelArrays.forEach(function(Lt){Z[Lt+"Data"].length=0}),yt&&Tt>yt)if(bt=Z.getFirstValidPoint(b),L(bt))for(R=0;R<Tt;R++)ut[R]=this.autoIncrement(),ct[R]=b[R];else if(I(bt))if(H)if(bt.length===H)for(R=0;R<Tt;R++)ut[R]=this.autoIncrement(),ct[R]=b[R];else for(R=0;R<Tt;R++)ut[R]=(V=b[R])[0],ct[R]=V.slice(1,H+1);else if(tt&&(dt=0<=(dt=tt.indexOf("x"))?dt:0,ft=0<=(ft=tt.indexOf("y"))?ft:1),1===bt.length&&(ft=0),dt===ft)for(R=0;R<Tt;R++)ut[R]=this.autoIncrement(),ct[R]=b[R][ft];else for(R=0;R<Tt;R++)ut[R]=(V=b[R])[dt],ct[R]=V[ft];else n(12,!1,at);else for(R=0;R<Tt;R++)void 0!==b[R]&&(Z.pointClass.prototype.applyOptions.apply(V={series:Z},[b[R]]),Z.updateParallelArrays(V,R));for(ct&&S(ct[0])&&n(14,!0,at),Z.data=[],Z.options.data=Z.userOptions.data=b,R=it;R--;)nt[R]&&nt[R].destroy&&nt[R].destroy();_t&&(_t.minRange=_t.userMinRange),Z.isDirty=at.isDirtyBox=!0,Z.isDirtyData=!!nt,R=!1}"point"===ot.legendType&&(this.processData(),this.generatePoints()),z&&at.redraw(R)},W.prototype.sortData=function(b){var z=this,R=z.options.dataSorting.sortKey||"y",V=function(Z,nt){return p(nt)&&Z.pointClass.prototype.optionsToObject.call({series:Z},nt)||{}};return b.forEach(function(Z,nt){b[nt]=V(z,Z),b[nt].index=nt},this),b.concat().sort(function(Z,nt){return Z=P(R,Z),(nt=P(R,nt))<Z?-1:nt>Z?1:0}).forEach(function(Z,nt){Z.x=nt},this),z.linkedSeries&&z.linkedSeries.forEach(function(Z){var nt=Z.options,it=nt.data;nt.dataSorting&&nt.dataSorting.enabled||!it||(it.forEach(function(ot,at){it[at]=V(Z,ot),b[at]&&(it[at].x=b[at].x,it[at].index=at)}),Z.setData(it,!1))}),b},W.prototype.getProcessedData=function(b){var z=this.xAxis,R=this.options,V=R.cropThreshold,Z=b||this.getExtremesFromAll||R.getExtremesFromAll,nt=this.isCartesian;b=z&&z.val2lin,R=!(!z||!z.logarithmic);var it=0,ot=this.xData,at=this.yData,mt=this.requireSorting,_t=!1,yt=ot.length;if(z){var ut=(_t=z.getExtremes()).min,ct=_t.max;_t=z.categories&&!z.names.length}if(nt&&this.sorted&&!Z&&(!V||yt>V||this.forceCrop))if(ot[yt-1]<ut||ot[0]>ct)ot=[],at=[];else if(this.yData&&(ot[0]<ut||ot[yt-1]>ct)){var H=this.cropData(this.xData,this.yData,ut,ct);ot=H.xData,at=H.yData,it=H.start,H=!0}for(V=ot.length||1;--V;)if(0<(z=R?b(ot[V])-b(ot[V-1]):ot[V]-ot[V-1])&&(void 0===tt||z<tt))var tt=z;else 0>z&&mt&&!_t&&(n(15,!1,this.chart),mt=!1);return{xData:ot,yData:at,cropped:H,cropStart:it,closestPointRange:tt}},W.prototype.processData=function(b){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!b)return!1;b=this.getProcessedData(),this.cropped=b.cropped,this.cropStart=b.cropStart,this.processedXData=b.xData,this.processedYData=b.yData,this.closestPointRange=this.basePointRange=b.closestPointRange,w(this,"afterProcessData")},W.prototype.cropData=function(b,z,R,V,Z){var it,nt=b.length,ot=0,at=nt;for(Z=u(Z,this.cropShoulder),it=0;it<nt;it++)if(b[it]>=R){ot=Math.max(0,it-Z);break}for(R=it;R<nt;R++)if(b[R]>V){at=R+Z;break}return{xData:b.slice(ot,at),yData:z.slice(ot,at),start:ot,end:at}},W.prototype.generatePoints=function(){var b=this.options,z=b.data,R=this.processedXData,V=this.processedYData,Z=this.pointClass,nt=R.length,it=this.cropStart||0,ot=this.hasGroupedData,at=b.keys,mt=[];b=b.dataGrouping&&b.dataGrouping.groupAll?it:0;var _t,yt,ut=this.data;if(!ut&&!ot){var ct=[];ct.length=z.length,ut=this.data=ct}for(at&&ot&&(this.options.keys=!1),yt=0;yt<nt;yt++){if(ct=it+yt,ot){var H=(new Z).init(this,[R[yt]].concat(j(V[yt])));H.dataGroup=this.groupMap[b+yt],H.dataGroup.options&&(H.options=H.dataGroup.options,h(H,H.dataGroup.options),delete H.dataLabels)}else(H=ut[ct])||void 0===z[ct]||(ut[ct]=H=(new Z).init(this,z[ct],R[yt]));H&&(H.index=ot?b+yt:ct,mt[yt]=H)}if(this.options.keys=at,ut&&(nt!==(_t=ut.length)||ot))for(yt=0;yt<_t;yt++)yt!==it||ot||(yt+=nt),ut[yt]&&(ut[yt].destroyElements(),ut[yt].plotX=void 0);this.data=ut,this.points=mt,w(this,"afterGeneratePoints")},W.prototype.getXExtremes=function(b){return{min:x(b),max:D(b)}},W.prototype.getExtremes=function(b,z){var R=this.xAxis,V=this.yAxis,Z=this.processedXData||this.xData,nt=[],it=this.requireSorting?this.cropShoulder:0;V=!!V&&V.positiveValuesOnly;var ot,at=0,mt=0,_t=0,yt=(b=b||this.stackedYData||this.processedYData||[]).length;if(R){var ut=R.getExtremes();at=ut.min,mt=ut.max}for(ot=0;ot<yt;ot++){var ct=Z[ot],H=(L(ut=b[ot])||I(ut))&&(ut.length||0<ut||!V);if(ct=z||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!R||(Z[ot+it]||ct)>=at&&(Z[ot-it]||ct)<=mt,H&&ct)if(H=ut.length)for(;H--;)L(ut[H])&&(nt[_t++]=ut[H]);else nt[_t++]=ut}return b={activeYData:nt,dataMin:x(nt),dataMax:D(nt)},w(this,"afterGetExtremes",{dataExtremes:b}),b},W.prototype.applyExtremes=function(){var b=this.getExtremes();return this.dataMin=b.dataMin,this.dataMax=b.dataMax,b},W.prototype.getFirstValidPoint=function(b){for(var z=b.length,R=0,V=null;null===V&&R<z;)V=b[R],R++;return V},W.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var ct,H,b=this.options,z=b.stacking,R=this.xAxis,V=R.categories,Z=this.enabledDataSorting,nt=this.yAxis,it=this.points,ot=it.length,at=this.pointPlacementToXValue(),mt=!!at,_t=b.threshold,yt=b.startFromThreshold?_t:0,ut=this.zoneAxis||"y",tt=Number.MAX_VALUE;for(ct=0;ct<ot;ct++){var lt=it[ct],dt=lt.x,ft=void 0,bt=void 0,Tt=lt.y,Lt=lt.low,jt=z&&nt.stacking&&nt.stacking.stacks[(this.negStacks&&Tt<(yt?0:_t)?"-":"")+this.stackKey];if((nt.positiveValuesOnly&&!nt.validatePositiveValue(Tt)||R.positiveValuesOnly&&!R.validatePositiveValue(dt))&&(lt.isNull=!0),lt.plotX=H=r(f(R.translate(dt,0,0,0,1,at,"flags"===this.type),-1e5,1e5)),z&&this.visible&&jt&&jt[dt]){var Rt=this.getStackIndicator(Rt,dt,this.index);lt.isNull||(bt=(ft=jt[dt]).points[Rt.key])}if(I(bt)&&(Tt=bt[1],(Lt=bt[0])===yt&&Rt.key===jt[dt].base&&(Lt=u(L(_t)&&_t,nt.min)),nt.positiveValuesOnly&&0>=Lt&&(Lt=null),lt.total=lt.stackTotal=ft.total,lt.percentage=ft.total&&lt.y/ft.total*100,lt.stackY=Tt,this.irregularWidths||ft.setOffset(this.pointXOffset||0,this.barW||0)),lt.yBottom=p(Lt)?f(nt.translate(Lt,0,1,0,1),-1e5,1e5):null,this.dataModify&&(Tt=this.dataModify.modifyValue(Tt,ct)),lt.plotY=void 0,L(Tt)&&void 0!==(ft=nt.translate(Tt,!1,!0,!1,!0))&&(lt.plotY=f(ft,-1e5,1e5)),lt.isInside=this.isPointInside(lt),lt.clientX=mt?r(R.translate(dt,0,0,0,1,at)):H,lt.negative=lt[ut]<(b[ut+"Threshold"]||_t||0),lt.category=V&&void 0!==V[lt.x]?V[lt.x]:lt.x,!lt.isNull&&!1!==lt.visible){void 0!==Et&&(tt=Math.min(tt,Math.abs(H-Et)));var Et=H}lt.zone=this.zones.length?lt.getZone():void 0,!lt.graphic&&this.group&&Z&&(lt.isNew=!0)}this.closestPointRangePx=tt,w(this,"afterTranslate")},W.prototype.getValidPoints=function(b,z,R){var V=this.chart;return(b||this.points||[]).filter(function(Z){return!(z&&!V.isInsidePlot(Z.plotX,Z.plotY,{inverted:V.inverted}))&&!1!==Z.visible&&(R||!Z.isNull)})},W.prototype.getClipBox=function(){var b=this.chart,z=this.xAxis,R=this.yAxis,V=B(b.clipBox);return z&&z.len!==b.plotSizeX&&(V.width=z.len),R&&R.len!==b.plotSizeY&&(V.height=R.len),V},W.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},W.prototype.setClip=function(){var b=this.chart,z=this.group,R=this.markerGroup,V=b.sharedClips;b=b.renderer;var Z=this.getClipBox(),nt=this.getSharedClipKey(),it=V[nt];it?it.animate(Z):V[nt]=it=b.clipRect(Z),z&&z.clip(!1===this.options.clip?void 0:it),R&&R.clip()},W.prototype.animate=function(b){var z=this.chart,R=this.group,V=this.markerGroup,Z=z.inverted,nt=k(this.options.animation),it=[this.getSharedClipKey(),nt.duration,nt.easing,nt.defer].join(),ot=z.sharedClips[it],at=z.sharedClips[it+"m"];if(b&&R)nt=this.getClipBox(),ot?ot.attr("height",nt.height):(nt.width=0,Z&&(nt.x=z.plotHeight),ot=z.renderer.clipRect(nt),z.sharedClips[it]=ot,at=z.renderer.clipRect({x:Z?(z.plotSizeX||0)+99:-99,y:Z?-z.plotLeft:-z.plotTop,width:99,height:Z?z.chartWidth:z.chartHeight}),z.sharedClips[it+"m"]=at),R.clip(ot),V&&V.clip(at);else if(ot&&!ot.hasClass("highcharts-animating")){z=this.getClipBox();var mt=nt.step;V&&V.element.childNodes.length&&(nt.step=function(_t,yt){mt&&mt.apply(yt,arguments),at&&at.element&&at.attr(yt.prop,"width"===yt.prop?_t+99:_t)}),ot.addClass("highcharts-animating").animate(z,nt)}},W.prototype.afterAnimate=function(){var b=this;this.setClip(),c(this.chart.sharedClips,function(z,R,V){z&&!b.chart.container.querySelector('[clip-path="url(#'+z.id+')"]')&&(z.destroy(),delete V[R])}),this.finishedAnimating=!0,w(this,"afterAnimate")},W.prototype.drawPoints=function(){var it,ot,b=this.points,z=this.chart,R=this.options.marker,V=this[this.specialGroup]||this.markerGroup,Z=this.xAxis,nt=u(R.enabled,!(Z&&!Z.isRadial)||null,this.closestPointRangePx>=R.enabledThreshold*R.radius);if(!1!==R.enabled||this._hasPointMarkers)for(it=0;it<b.length;it++){var at=b[it],mt=(ot=at.graphic)?"animate":"attr",_t=at.marker||{},yt=!!at.marker;if((nt&&void 0===_t.enabled||_t.enabled)&&!at.isNull&&!1!==at.visible){var ut=u(_t.symbol,this.symbol,"rect"),ct=this.markerAttribs(at,at.selected&&"select");this.enabledDataSorting&&(at.startXPos=Z.reversed?-(ct.width||0):Z.width);var H=!1!==at.isInside;ot?ot[H?"show":"hide"](H).animate(ct):H&&(0<(ct.width||0)||at.hasImage)&&(at.graphic=ot=z.renderer.symbol(ut,ct.x,ct.y,ct.width,ct.height,yt?_t:R).add(V),this.enabledDataSorting&&z.hasRendered&&(ot.attr({x:at.startXPos}),mt="animate")),ot&&"animate"===mt&&ot[H?"show":"hide"](H).animate(ct),ot&&!z.styledMode&&ot[mt](this.pointAttribs(at,at.selected&&"select")),ot&&ot.addClass(at.getClassName(),!0)}else ot&&(at.graphic=ot.destroy())}},W.prototype.markerAttribs=function(b,z){var R=this.options,V=R.marker,Z=b.marker||{},nt=Z.symbol||V.symbol,it=u(Z.radius,V.radius);return z&&(V=V.states[z],it=u((z=Z.states&&Z.states[z])&&z.radius,V&&V.radius,it+(V&&V.radiusPlus||0))),b.hasImage=nt&&0===nt.indexOf("url"),b.hasImage&&(it=0),b={x:R.crisp?Math.floor(b.plotX-it):b.plotX-it,y:b.plotY-it},it&&(b.width=b.height=2*it),b},W.prototype.pointAttribs=function(b,z){var R=this.options.marker,V=b&&b.options,Z=V&&V.marker||{},nt=V&&V.color,it=b&&b.color,ot=b&&b.zone&&b.zone.color,at=this.color;return b=u(Z.lineWidth,R.lineWidth),V=1,at=nt||ot||it||at,nt=Z.fillColor||R.fillColor||at,it=Z.lineColor||R.lineColor||at,R=R.states[z=z||"normal"]||{},b=u((z=Z.states&&Z.states[z]||{}).lineWidth,R.lineWidth,b+u(z.lineWidthPlus,R.lineWidthPlus,0)),{stroke:it=z.lineColor||R.lineColor||it,"stroke-width":b,fill:nt=z.fillColor||R.fillColor||nt,opacity:V=u(z.opacity,R.opacity,V)}},W.prototype.destroy=function(b){var it,ot,at,z=this,R=z.chart,V=/AppleWebKit\/533/.test(y.navigator.userAgent),Z=z.data||[];for(w(z,"destroy"),this.removeEvents(b),(z.axisTypes||[]).forEach(function(mt){(at=z[mt])&&at.series&&(a(at.series,z),at.isDirty=at.forceRedraw=!0)}),z.legendItem&&z.chart.legend.destroyItem(z),it=Z.length;it--;)(ot=Z[it])&&ot.destroy&&ot.destroy();z.clips&&z.clips.forEach(function(mt){return mt.destroy()}),O.clearTimeout(z.animationTimeout),c(z,function(mt,_t){mt instanceof N&&!mt.survive&&mt[V&&"group"===_t?"hide":"destroy"]()}),R.hoverSeries===z&&(R.hoverSeries=void 0),a(R.series,z),R.orderSeries(),c(z,function(mt,_t){b&&"hcEvents"===_t||delete z[_t]})},W.prototype.applyZones=function(){var _t,yt,ut,ct,H,tt,lt,dt,b=this,z=this.chart,R=z.renderer,V=this.zones,Z=this.clips||[],nt=this.graph,it=this.area,ot=Math.max(z.chartWidth,z.chartHeight),at=this[(this.zoneAxis||"y")+"Axis"],mt=z.inverted,ft=!1;if(V.length&&(nt||it)&&at&&void 0!==at.min){var bt=at.reversed,Tt=at.horiz;nt&&!this.showLine&&nt.hide(),it&&it.hide();var Lt=at.getExtremes();V.forEach(function(jt,Rt){_t=bt?Tt?z.plotWidth:0:Tt?0:at.toPixels(Lt.min)||0,_t=f(u(yt,_t),0,ot),yt=f(Math.round(at.toPixels(u(jt.value,Lt.max),!0)||0),0,ot),ft&&(_t=yt=at.toPixels(Lt.max)),ct=Math.abs(_t-yt),H=Math.min(_t,yt),tt=Math.max(_t,yt),at.isXAxis?(ut={x:mt?tt:H,y:0,width:ct,height:ot},Tt||(ut.x=z.plotHeight-ut.x)):(ut={x:0,y:mt?tt:H,width:ot,height:ct},Tt&&(ut.y=z.plotWidth-ut.y)),mt&&R.isVML&&(ut=at.isXAxis?{x:0,y:bt?H:tt,height:ut.width,width:z.chartWidth}:{x:ut.y-z.plotLeft-z.spacingBox.x,y:0,width:ut.height,height:z.chartHeight}),Z[Rt]?Z[Rt].animate(ut):Z[Rt]=R.clipRect(ut),lt=b["zone-area-"+Rt],dt=b["zone-graph-"+Rt],nt&&dt&&dt.clip(Z[Rt]),it&&lt&&lt.clip(Z[Rt]),ft=jt.value>Lt.max,b.resetZones&&0===yt&&(yt=void 0)}),this.clips=Z}else b.visible&&(nt&&nt.show(!0),it&&it.show(!0))},W.prototype.invertGroups=function(b){function z(){["group","markerGroup"].forEach(function(Z){R[Z]&&(V.renderer.isVML&&R[Z].attr({width:R.yAxis.len,height:R.xAxis.len}),R[Z].width=R.yAxis.len,R[Z].height=R.xAxis.len,R[Z].invert(!R.isRadialSeries&&b))})}var R=this,V=R.chart;R.xAxis&&(R.eventsToUnbind.push(M(V,"resize",z)),z(),R.invertGroups=z)},W.prototype.plotGroup=function(b,z,R,V,Z){var nt=this[b],it=!nt;return R={visibility:R,zIndex:V||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(R.opacity=this.opacity),it&&(this[b]=nt=this.chart.renderer.g().add(Z)),nt.addClass("highcharts-"+z+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(p(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(nt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),nt.attr(R)[it?"attr":"animate"](this.getPlotBox()),nt},W.prototype.getPlotBox=function(){var b=this.chart,z=this.xAxis,R=this.yAxis;return b.inverted&&(z=R,R=this.xAxis),{translateX:z?z.left:b.plotLeft,translateY:R?R.top:b.plotTop,scaleX:1,scaleY:1}},W.prototype.removeEvents=function(b){b||E(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(z){z()}),this.eventsToUnbind.length=0)},W.prototype.render=function(){var b=this,z=b.chart,R=b.options,V=k(R.animation),Z=b.visible?"inherit":"hidden",nt=R.zIndex,it=b.hasRendered,ot=z.seriesGroup,at=z.inverted;z=!b.finishedAnimating&&z.renderer.isSVG?V.duration:0,w(this,"render");var mt=b.plotGroup("group","series",Z,nt,ot);b.markerGroup=b.plotGroup("markerGroup","markers",Z,nt,ot),!1!==R.clip&&b.setClip(),b.animate&&z&&b.animate(!0),mt.inverted=!!u(b.invertible,b.isCartesian)&&at,b.drawGraph&&(b.drawGraph(),b.applyZones()),b.visible&&b.drawPoints(),b.drawDataLabels&&b.drawDataLabels(),b.redrawPoints&&b.redrawPoints(),b.drawTracker&&!1!==b.options.enableMouseTracking&&b.drawTracker(),b.invertGroups(at),b.animate&&z&&b.animate(),it||(z&&V.defer&&(z+=V.defer),b.animationTimeout=G(function(){b.afterAnimate()},z||0)),b.isDirty=!1,b.hasRendered=!0,w(b,"afterRender")},W.prototype.redraw=function(){var b=this.chart,z=this.isDirty||this.isDirtyData,R=this.group,V=this.xAxis,Z=this.yAxis;R&&(b.inverted&&R.attr({width:b.plotWidth,height:b.plotHeight}),R.animate({translateX:u(V&&V.left,b.plotLeft),translateY:u(Z&&Z.top,b.plotTop)})),this.translate(),this.render(),z&&delete this.kdTree},W.prototype.searchPoint=function(b,z){var R=this.xAxis,V=this.yAxis,Z=this.chart.inverted;return this.searchKDTree({clientX:Z?R.len-b.chartY+R.pos:b.chartX-R.pos,plotY:Z?V.len-b.chartX+V.pos:b.chartY-V.pos},z,b)},W.prototype.buildKDTree=function(b){function z(Z,nt,it){var ot=Z&&Z.length;if(ot){var at=R.kdAxisArray[nt%it];return Z.sort(function(mt,_t){return mt[at]-_t[at]}),{point:Z[ot=Math.floor(ot/2)],left:z(Z.slice(0,ot),nt+1,it),right:z(Z.slice(ot+1),nt+1,it)}}}this.buildingKdTree=!0;var R=this,V=-1<R.options.findNearestPointBy.indexOf("y")?2:1;delete R.kdTree,G(function(){R.kdTree=z(R.getValidPoints(null,!R.directTouch),V,V),R.buildingKdTree=!1},R.options.kdNow||b&&"touchstart"===b.type?0:1)},W.prototype.searchKDTree=function(b,z,R){var Z=this,nt=this.kdAxisArray[0],it=this.kdAxisArray[1],ot=z?"distX":"dist";if(z=-1<Z.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(R),this.kdTree)return function V(at,mt,_t,yt){var ut=mt.point,ct=Z.kdAxisArray[_t%yt],H=ut,tt=p(at[nt])&&p(ut[nt])?Math.pow(at[nt]-ut[nt],2):null,lt=p(at[it])&&p(ut[it])?Math.pow(at[it]-ut[it],2):null;return ut.dist=p(lt=(tt||0)+(lt||0))?Math.sqrt(lt):Number.MAX_VALUE,ut.distX=p(tt)?Math.sqrt(tt):Number.MAX_VALUE,tt=0>(ct=at[ct]-ut[ct])?"right":"left",mt[lt=0>ct?"left":"right"]&&(H=(lt=V(at,mt[lt],_t+1,yt))[ot]<H[ot]?lt:ut),mt[tt]&&Math.sqrt(ct*ct)<H[ot]&&(H=(at=V(at,mt[tt],_t+1,yt))[ot]<H[ot]?at:H),H}(b,this.kdTree,z,z)},W.prototype.pointPlacementToXValue=function(){var b=this.options,z=b.pointRange,R=this.xAxis;return"between"===(b=b.pointPlacement)&&(b=R.reversed?-.5:.5),L(b)?b*(z||R.pointRange):0},W.prototype.isPointInside=function(b){var z=this.chart,R=this.xAxis,V=this.yAxis;return void 0!==b.plotY&&void 0!==b.plotX&&0<=b.plotY&&b.plotY<=(V?V.len:z.plotHeight)&&0<=b.plotX&&b.plotX<=(R?R.len:z.plotWidth)},W.prototype.drawTracker=function(){var b=this,z=b.options,R=z.trackByArea,V=[].concat(R?b.areaPath:b.graphPath),Z=b.chart,nt=Z.pointer,it=Z.renderer,ot=Z.options.tooltip.snap,at=b.tracker,mt=function(yt){Z.hoverSeries!==b&&b.onMouseOver()},_t="rgba(192,192,192,"+(T?1e-4:.002)+")";at?at.attr({d:V}):b.graph&&(b.tracker=it.path(V).attr({visibility:b.visible?"visible":"hidden",zIndex:2}).addClass(R?"highcharts-tracker-area":"highcharts-tracker-line").add(b.group),Z.styledMode||b.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:_t,fill:R?_t:"none","stroke-width":b.graph.strokeWidth()+(R?0:2*ot)}),[b.tracker,b.markerGroup,b.dataLabelsGroup].forEach(function(yt){yt&&(yt.addClass("highcharts-tracker").on("mouseover",mt).on("mouseout",function(ut){nt.onTrackerMouseOut(ut)}),z.cursor&&!Z.styledMode&&yt.css({cursor:z.cursor}),_)&&yt.on("touchstart",mt)})),w(this,"afterDrawTracker")},W.prototype.addPoint=function(b,z,R,V,Z){var nt=this.options,it=this.data,ot=this.chart,at=this.xAxis;at=at&&at.hasNames&&at.names;var yt,mt=nt.data,_t=this.xData;z=u(z,!0);var ut={series:this};this.pointClass.prototype.applyOptions.apply(ut,[b]);var ct=ut.x,H=_t.length;if(this.requireSorting&&ct<_t[H-1])for(yt=!0;H&&_t[H-1]>ct;)H--;this.updateParallelArrays(ut,"splice",H,0,0),this.updateParallelArrays(ut,H),at&&ut.name&&(at[ct]=ut.name),mt.splice(H,0,b),yt&&(this.data.splice(H,0,null),this.processData()),"point"===nt.legendType&&this.generatePoints(),R&&(it[0]&&it[0].remove?it[0].remove(!1):(it.shift(),this.updateParallelArrays(ut,"shift"),mt.shift())),!1!==Z&&w(this,"addPoint",{point:ut}),this.isDirtyData=this.isDirty=!0,z&&ot.redraw(V)},W.prototype.removePoint=function(b,z,R){var V=this,Z=V.data,nt=Z[b],it=V.points,ot=V.chart,at=function(){it&&it.length===Z.length&&it.splice(b,1),Z.splice(b,1),V.options.data.splice(b,1),V.updateParallelArrays(nt||{series:V},"splice",b,1),nt&&nt.destroy(),V.isDirty=!0,V.isDirtyData=!0,z&&ot.redraw()};g(R,ot),z=u(z,!0),nt?nt.firePointEvent("remove",null,at):at()},W.prototype.remove=function(b,z,R,V){function Z(){nt.destroy(V),it.isDirtyLegend=it.isDirtyBox=!0,it.linkSeries(),u(b,!0)&&it.redraw(z)}var nt=this,it=nt.chart;!1!==R?w(nt,"remove",null,Z):Z()},W.prototype.update=function(b,z){b=m(b,this.userOptions),w(this,"update",{options:b});var _t,R=this,V=R.chart,Z=R.userOptions,nt=R.initialType||R.type,it=V.options.plotOptions,ot=C[nt].prototype,at=R.finishedAnimating&&{animation:!1},mt={},yt=["eventOptions","navigatorSeries","baseSeries"],ut=b.type||Z.type||V.options.chart.type,ct=!(this.hasDerivedData||ut&&ut!==this.type||void 0!==b.pointStart||void 0!==b.pointInterval||void 0!==b.relativeXValue||R.hasOptionChanged("dataGrouping")||R.hasOptionChanged("pointStart")||R.hasOptionChanged("pointInterval")||R.hasOptionChanged("pointIntervalUnit")||R.hasOptionChanged("keys"));if(ut=ut||nt,ct&&(yt.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==b.visible&&yt.push("area","graph"),R.parallelArrays.forEach(function(tt){yt.push(tt+"Data")}),b.data&&(b.dataSorting&&h(R.options.dataSorting,b.dataSorting),this.setData(b.data,!1))),b=B(Z,at,{index:void 0===Z.index?R.index:Z.index,pointStart:u(it&&it.series&&it.series.pointStart,Z.pointStart,R.xData[0])},!ct&&{data:R.options.data},b),ct&&b.data&&(b.data=R.options.data),(yt=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(yt)).forEach(function(tt){yt[tt]=R[tt],delete R[tt]}),it=!1,C[ut]){if(it=ut!==R.type,R.remove(!1,!1,!1,!0),it)if(Object.setPrototypeOf)Object.setPrototypeOf(R,C[ut].prototype);else{for(_t in at=Object.hasOwnProperty.call(R,"hcEvents")&&R.hcEvents,ot)R[_t]=void 0;h(R,C[ut].prototype),at?R.hcEvents=at:delete R.hcEvents}}else n(17,!0,V,{missingModuleFor:ut});if(yt.forEach(function(tt){R[tt]=yt[tt]}),R.init(V,b),ct&&this.points){var H=R.options;!1===H.visible?(mt.graphic=1,mt.dataLabel=1):R._hasPointLabels||(ot=H.dataLabels,!(b=H.marker)||!1!==b.enabled&&(Z.marker&&Z.marker.symbol)===b.symbol||(mt.graphic=1),ot&&!1===ot.enabled&&(mt.dataLabel=1)),this.points.forEach(function(tt){tt&&tt.series&&(tt.resolveColor(),Object.keys(mt).length&&tt.destroyElements(mt),!1===H.showInLegend&&tt.legendItem&&V.legend.destroyItem(tt))},this)}R.initialType=nt,V.linkSeries(),it&&R.linkedSeries.length&&(R.isDirtyData=!0),w(this,"afterUpdate"),u(z,!0)&&V.redraw(!!ct&&void 0)},W.prototype.setName=function(b){this.name=this.options.name=this.userOptions.name=b,this.chart.isDirtyLegend=!0},W.prototype.hasOptionChanged=function(b){var z=this.options[b],R=this.chart.options.plotOptions,V=this.userOptions[b];return V?z!==V:z!==u(R&&R[this.type]&&R[this.type][b],R&&R.series&&R.series[b],z)},W.prototype.onMouseOver=function(){var b=this.chart,z=b.hoverSeries;b.pointer.setHoverChartIndex(),z&&z!==this&&z.onMouseOut(),this.options.events.mouseOver&&w(this,"mouseOver"),this.setState("hover"),b.hoverSeries=this},W.prototype.onMouseOut=function(){var b=this.options,z=this.chart,R=z.tooltip,V=z.hoverPoint;z.hoverSeries=null,V&&V.onMouseOut(),this&&b.events.mouseOut&&w(this,"mouseOut"),!R||this.stickyTracking||R.shared&&!this.noSharedTooltip||R.hide(),z.series.forEach(function(Z){Z.setState("",!0)})},W.prototype.setState=function(b,z){var R=this,V=R.options,Z=R.graph,nt=V.inactiveOtherPoints,it=V.states,ot=u(it[b||"normal"]&&it[b||"normal"].animation,R.chart.options.chart.animation),at=V.lineWidth,mt=0,_t=V.opacity;if(R.state!==(b=b||"")&&([R.group,R.markerGroup,R.dataLabelsGroup].forEach(function(yt){yt&&(R.state&&yt.removeClass("highcharts-series-"+R.state),b&&yt.addClass("highcharts-series-"+b))}),R.state=b,!R.chart.styledMode)){if(it[b]&&!1===it[b].enabled)return;if(b&&(at=it[b].lineWidth||at+(it[b].lineWidthPlus||0),_t=u(it[b].opacity,_t)),Z&&!Z.dashstyle)for(Z.animate(V={"stroke-width":at},ot);R["zone-graph-"+mt];)R["zone-graph-"+mt].animate(V,ot),mt+=1;nt||[R.group,R.markerGroup,R.dataLabelsGroup,R.labelBySeries].forEach(function(yt){yt&&yt.animate({opacity:_t},ot)})}z&&nt&&R.points&&R.setAllPointsToState(b||void 0)},W.prototype.setAllPointsToState=function(b){this.points.forEach(function(z){z.setState&&z.setState(b)})},W.prototype.setVisible=function(b,z){var R=this,V=R.chart,Z=R.legendItem,nt=V.options.chart.ignoreHiddenSeries,ot=(R.visible=b=R.options.visible=R.userOptions.visible=void 0===b?!R.visible:b)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(at){R[at]&&R[at][ot]()}),(V.hoverSeries===R||(V.hoverPoint&&V.hoverPoint.series)===R)&&R.onMouseOut(),Z&&V.legend.colorizeItem(R,b),R.isDirty=!0,R.options.stacking&&V.series.forEach(function(at){at.options.stacking&&at.visible&&(at.isDirty=!0)}),R.linkedSeries.forEach(function(at){at.setVisible(b,!1)}),nt&&(V.isDirtyBox=!0),w(R,ot),!1!==z&&V.redraw()},W.prototype.show=function(){this.setVisible(!0)},W.prototype.hide=function(){this.setVisible(!1)},W.prototype.select=function(b){this.selected=b=this.options.selected=void 0===b?!this.selected:b,this.checkbox&&(this.checkbox.checked=b),w(this,b?"select":"unselect")},W.prototype.shouldShowTooltip=function(b,z,R){return void 0===R&&(R={}),R.series=this,R.visiblePlotOnly=!0,this.chart.isInsidePlot(b,z,R)},W.defaultOptions=X,W}(),h(Y.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:J.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:K,requireSorting:!0,sorted:!0}),F.series=Y,Y}),wt(o,"Extensions/ScrollablePlotArea.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/Series/Series.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){var X=Y.stop,F=K.addEvent,N=K.createElement,O=K.merge,k=K.pick;F(q,"afterSetChartSize",function(g){var d=this.options.chart.scrollablePlotArea,v=d&&d.minWidth;if(d=d&&d.minHeight,!this.renderer.forExport){if(v){if(this.scrollablePixelsX=v=Math.max(0,v-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=O(this.plotBox),this.plotBox.width=this.plotWidth+=v,this.inverted?this.clipBox.height+=v:this.clipBox.width+=v;var _={1:{name:"right",value:v}}}}else d&&(this.scrollablePixelsY=v=Math.max(0,d-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=O(this.plotBox),this.plotBox.height=this.plotHeight+=v,this.inverted?this.clipBox.width+=v:this.clipBox.height+=v,_={2:{name:"bottom",value:v}});_&&!g.skipAxes&&this.axes.forEach(function(T){_[T.side]?T.getPlotLinePath=function(){var y=_[T.side].name,C=this[y];this[y]=C-_[T.side].value;var M=$.prototype.getPlotLinePath.apply(this,arguments);return this[y]=C,M}:(T.setAxisSize(),T.setAxisTranslation())})}}),F(q,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),q.prototype.setUpScrolling=function(){var g=this,d={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(d.overflowX="auto"),this.scrollablePixelsY&&(d.overflowY="auto"),this.scrollingParent=N("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=N("div",{className:"highcharts-scrolling"},d,this.scrollingParent),F(this.scrollingContainer,"scroll",function(){g.pointer&&delete g.pointer.chartPosition}),this.innerContainer=N("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},q.prototype.moveFixedElements=function(){var _,g=this.container,d=this.fixedRenderer,v=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?_=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?_=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(_=".highcharts-yaxis"),_&&v.push(_+":not(.highcharts-radial-axis)",_+"-labels:not(.highcharts-radial-axis-labels)"),v.forEach(function(T){[].forEach.call(g.querySelectorAll(T),function(y){(y.namespaceURI===d.SVG_NS?d.box:d.box.parentNode).appendChild(y),y.style.pointerEvents="auto"})})},q.prototype.applyFixed=function(){var g=!this.fixedDiv,d=this.options.chart,v=d.scrollablePlotArea,_=J.getRendererType();g?(this.fixedDiv=N("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(d.style&&d.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=d=new _(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=d.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":k(v.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),F(this,"afterShowResetZoom",this.moveFixedElements),F(this,"afterDrilldown",this.moveFixedElements),F(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||g)&&(this.scrollableDirty=!1,this.moveFixedElements()),d=this.chartWidth+(this.scrollablePixelsX||0),_=this.chartHeight+(this.scrollablePixelsY||0),X(this.container),this.container.style.width=d+"px",this.container.style.height=_+"px",this.renderer.boxWrapper.attr({width:d,height:_,viewBox:[0,0,d,_].join(" ")}),this.chartBackground.attr({width:d,height:_}),this.scrollingContainer.style.height=this.chartHeight+"px",g&&(v.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*v.scrollPositionX),v.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*v.scrollPositionY)),g=this.plotTop-(_=this.axisOffset)[0]-1,v=this.plotLeft-_[3]-1,d=this.plotTop+this.plotHeight+_[2]+1,_=this.plotLeft+this.plotWidth+_[1]+1;var T=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),y=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);g=this.scrollablePixelsX?[["M",0,g],["L",this.plotLeft-1,g],["L",this.plotLeft-1,d],["L",0,d],["Z"],["M",T,g],["L",this.chartWidth,g],["L",this.chartWidth,d],["L",T,d],["Z"]]:this.scrollablePixelsY?[["M",v,0],["L",v,this.plotTop-1],["L",_,this.plotTop-1],["L",_,0],["Z"],["M",v,y],["L",v,this.chartHeight],["L",_,this.chartHeight],["L",_,y],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:g})},F($,"afterInit",function(){this.chart.scrollableDirty=!0}),F(rt,"show",function(){this.chart.scrollableDirty=!0})}),wt(o,"Core/Axis/StackingAxis.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/Axis.js"],o["Core/Utilities.js"]],function(Y,$,q){var O,rt=Y.getDeferredAnimation,J=q.addEvent,K=q.destroyObjectProperties,X=q.fireEvent,F=q.isNumber,N=q.objectEach;return function(k){function g(){var T=this.stacking;if(T){var y=T.stacks;N(y,function(C,M){K(C),y[M]=null}),T&&T.stackTotalGroup&&T.stackTotalGroup.destroy()}}function d(){this.stacking||(this.stacking=new _(this))}var v=[];k.compose=function(T){return-1===v.indexOf(T)&&(v.push(T),J(T,"init",d),J(T,"destroy",g)),T};var _=function(){function T(y){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=y}return T.prototype.buildStacks=function(){var x,y=this.axis,C=y.series,M=y.options.reversedStacks,D=C.length;if(!y.isXAxis){for(this.usePercentage=!1,x=D;x--;){var f=C[M?x:D-x-1];f.setStackedPoints(),f.setGroupedPoints()}for(x=0;x<D;x++)C[x].modifyStacks();X(y,"afterBuildStacks")}},T.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var y=this.stacks=this.oldStacks;N(y,function(C){N(C,function(M){M.cumulative=M.total})})}},T.prototype.resetStacks=function(){var y=this;y.axis.isXAxis||N(y.stacks,function(M){N(M,function(D,x){F(D.touched)&&D.touched<y.stacksTouched?(D.destroy(),delete M[x]):(D.total=null,D.cumulative=null)})})},T.prototype.renderStackTotals=function(){var y=this.axis,C=y.chart,M=C.renderer,D=this.stacks;y=rt(C,y.options.stackLabels&&y.options.stackLabels.animation||!1);var x=this.stackTotalGroup=this.stackTotalGroup||M.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();x.translate(C.plotLeft,C.plotTop),N(D,function(f){N(f,function(m){m.render(x)})}),x.animate({opacity:1},y)},T}();k.Additions=_}(O||(O={})),O}),wt(o,"Extensions/Stacking.js",[o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Series/Series.js"],o["Core/Axis/StackingAxis.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X){var F=q.format,N=X.correctFloat,O=X.defined,k=X.destroyObjectProperties,g=X.isArray,d=X.isNumber,v=X.objectEach,_=X.pick,T=function(){function y(C,M,D,x,f){var m=C.chart.inverted;this.axis=C,this.isNegative=D,this.options=M=M||{},this.x=x,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=f,this.rightCliff=this.leftCliff=0,this.alignOptions={align:M.align||(m?D?"left":"right":"center"),verticalAlign:M.verticalAlign||(m?"middle":D?"bottom":"top"),y:M.y,x:M.x},this.textAlign=M.textAlign||(m?D?"right":"left":"center")}return y.prototype.destroy=function(){k(this,this.axis)},y.prototype.render=function(C){var M=this.axis.chart,D=this.options,x=D.format;x=x?F(x,this,M):D.formatter.call(this),this.label?this.label.attr({text:x,visibility:"hidden"}):(this.label=M.renderer.label(x,null,null,D.shape,null,null,D.useHTML,!1,"stack-labels"),x={r:D.borderRadius||0,text:x,rotation:D.rotation,padding:_(D.padding,5),visibility:"hidden"},M.styledMode||(x.fill=D.backgroundColor,x.stroke=D.borderColor,x["stroke-width"]=D.borderWidth,this.label.css(D.style)),this.label.attr(x),this.label.added||this.label.add(C)),this.label.labelrank=M.plotSizeY},y.prototype.setOffset=function(C,M,D,x,f){var m=this.axis,r=m.chart;x=m.translate(m.stacking.usePercentage?100:x||this.total,0,0,0,1),D=m.translate(D||0),D=O(x)&&Math.abs(x-D),C=_(f,r.xAxis[0].translate(this.x))+C,m=O(x)&&this.getStackBox(r,this,C,x,M,D,m),M=this.label,D=this.isNegative,C="justify"===_(this.options.overflow,"justify");var p=this.textAlign;M&&m&&(f=M.getBBox(),x=M.padding,p="left"===p?r.inverted?-x:x:"right"===p?f.width:r.inverted&&"center"===p?f.width/2:r.inverted?D?f.width+x:-x:f.width/2,D=r.inverted?f.height/2:D?-x:f.height,this.alignOptions.x=_(this.options.x,0),this.alignOptions.y=_(this.options.y,0),m.x-=p,m.y-=D,M.align(this.alignOptions,null,m),r.isInsidePlot(M.alignAttr.x+p-this.alignOptions.x,M.alignAttr.y+D-this.alignOptions.y)?M.show():(M.alignAttr.y=-9999,C=!1),C&&J.prototype.justifyDataLabel.call(this.axis,M,this.alignOptions,M.alignAttr,f,m),M.attr({x:M.alignAttr.x,y:M.alignAttr.y}),_(!C&&this.options.crop,!0)&&((r=d(M.x)&&d(M.y)&&r.isInsidePlot(M.x-x+M.width,M.y)&&r.isInsidePlot(M.x+x,M.y))||M.hide()))},y.prototype.getStackBox=function(C,M,D,x,f,m,r){var p=M.axis.reversed,a=C.inverted,n=r.height+r.pos-(a?C.plotLeft:C.plotTop);return M=M.isNegative&&!p||!M.isNegative&&p,{x:a?M?x-r.right:x-m+r.pos-C.plotLeft:D+C.xAxis[0].transB-C.plotLeft,y:a?r.height-D-f:M?n-x-m:n-x,width:a?m:f,height:a?f:m}},y}();return $.prototype.getStacks=function(){var y=this,C=y.inverted;y.yAxis.forEach(function(M){M.stacking&&M.stacking.stacks&&M.hasVisibleSeries&&(M.stacking.oldStacks=M.stacking.stacks)}),y.series.forEach(function(M){var D=M.xAxis&&M.xAxis.options||{};!M.options.stacking||!0!==M.visible&&!1!==y.options.chart.ignoreHiddenSeries||(M.stackKey=[M.type,_(M.options.stack,""),C?D.top:D.left,C?D.height:D.width].join())})},K.compose(Y),J.prototype.setGroupedPoints=function(){var y=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?J.prototype.setStackedPoints.call(this,"group"):y&&v(y.stacks,function(C,M){"group"===M.slice(-5)&&(v(C,function(D){return D.destroy()}),delete y.stacks[M])})},J.prototype.setStackedPoints=function(y){var C=y||this.options.stacking;if(C&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var M=this.processedXData,D=this.processedYData,x=[],f=D.length,m=this.options,r=m.threshold,p=_(m.startFromThreshold&&r,0);m=m.stack;var P,I,a="-"+(y=y?this.type+","+C:this.stackKey),n=this.negStacks,h=this.yAxis,l=h.stacking.stacks,w=h.stacking.oldStacks;for(h.stacking.stacksTouched+=1,I=0;I<f;I++){var L=M[I],S=D[I],B=this.getStackIndicator(B,L,this.index),c=B.key,u=(P=n&&S<(p?0:r))?a:y;l[u]||(l[u]={}),l[u][L]||(w[u]&&w[u][L]?(l[u][L]=w[u][L],l[u][L].total=null):l[u][L]=new T(h,h.options.stackLabels,P,L,m)),u=l[u][L],null!==S?(u.points[c]=u.points[this.index]=[_(u.cumulative,p)],O(u.cumulative)||(u.base=c),u.touched=h.stacking.stacksTouched,0<B.index&&!1===this.singleStacks&&(u.points[c][0]=u.points[this.index+","+L+",0"][0])):u.points[c]=u.points[this.index]=null,"percent"===C?(P=P?y:a,u.total=n&&l[P]&&l[P][L]?(P=l[P][L]).total=Math.max(P.total,u.total)+Math.abs(S)||0:N(u.total+(Math.abs(S)||0))):"group"===C?(g(S)&&(S=S[0]),null!==S&&(u.total=(u.total||0)+1)):u.total=N(u.total+(S||0)),u.cumulative="group"===C?(u.total||1)-1:_(u.cumulative,p)+(S||0),null!==S&&(u.points[c].push(u.cumulative),x[I]=u.cumulative,u.hasValidPoints=!0)}"percent"===C&&(h.stacking.usePercentage=!0),"group"!==C&&(this.stackedYData=x),h.stacking.oldStacks={}}},J.prototype.modifyStacks=function(){var x,y=this,C=y.stackKey,M=y.yAxis.stacking.stacks,D=y.processedXData,f=y.options.stacking;y[f+"Stacker"]&&[C,"-"+C].forEach(function(m){for(var p,a,r=D.length;r--;)x=y.getStackIndicator(x,p=D[r],y.index,m),(a=(p=M[m]&&M[m][p])&&p.points[x.key])&&y[f+"Stacker"](a,p,r)})},J.prototype.percentStacker=function(y,C,M){y[0]=N(y[0]*(C=C.total?100/C.total:0)),y[1]=N(y[1]*C),this.stackedYData[M]=y[1]},J.prototype.getStackIndicator=function(y,C,M,D){return!O(y)||y.x!==C||D&&y.key!==D?y={x:C,index:0,key:D}:y.index++,y.key=[M,C,y.index].join(),y},rt.StackItem=T,rt.StackItem}),wt(o,"Series/Line/LineSeries.js",[o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var X,rt=this&&this.__extends||(X=function(F,N){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var g in k)k.hasOwnProperty(g)&&(O[g]=k[g])})(F,N)},function(F,N){function O(){this.constructor=F}X(F,N),F.prototype=null===N?Object.create(N):(O.prototype=N.prototype,new O)}),J=q.defined,K=q.merge;return q=function(X){function F(){var N=null!==X&&X.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return rt(F,X),F.prototype.drawGraph=function(){var N=this,O=this.options,k=(this.gappedPath||this.getGraphPath).call(this),g=this.chart.styledMode,d=[["graph","highcharts-graph"]];g||d[0].push(O.lineColor||this.color||"#cccccc",O.dashStyle),(d=N.getZonesGraphs(d)).forEach(function(v,_){var T=v[0],y=N[T],C=y?"animate":"attr";y?(y.endX=N.preventGraphAnimation?null:k.xMap,y.animate({d:k})):k.length&&(N[T]=y=N.chart.renderer.path(k).addClass(v[1]).attr({zIndex:1}).add(N.group)),y&&!g&&(T={stroke:v[2],"stroke-width":O.lineWidth,fill:N.fillGraph&&N.color||"none"},v[3]?T.dashstyle=v[3]:"square"!==O.linecap&&(T["stroke-linecap"]=T["stroke-linejoin"]="round"),y[C](T).shadow(2>_&&O.shadow)),y&&(y.startX=k.xMap,y.isArea=k.isArea)})},F.prototype.getGraphPath=function(N,O,k){var T,g=this,d=g.options,v=[],_=[],y=d.step,C=(N=N||g.points).reversed;return C&&N.reverse(),(y={right:1,center:2}[y]||y&&3)&&C&&(y=4-y),(N=this.getValidPoints(N,!1,!(d.connectNulls&&!O&&!k))).forEach(function(M,D){var x=M.plotX,f=M.plotY,m=N[D-1];(M.leftCliff||m&&m.rightCliff)&&!k&&(T=!0),M.isNull&&!J(O)&&0<D?T=!d.connectNulls:M.isNull&&!O?T=!0:(0===D||T?D=[["M",M.plotX,M.plotY]]:g.getPointSpline?D=[g.getPointSpline(N,M,D)]:y?(D=1===y?[["L",m.plotX,f]]:2===y?[["L",(m.plotX+x)/2,m.plotY],["L",(m.plotX+x)/2,f]]:[["L",x,m.plotY]]).push(["L",x,f]):D=[["L",x,f]],_.push(M.x),y&&(_.push(M.x),2===y&&_.push(M.x)),v.push.apply(v,D),T=!1)}),v.xMap=_,g.graphPath=v},F.prototype.getZonesGraphs=function(N){return this.zones.forEach(function(O,k){k=["zone-graph-"+k,"highcharts-graph highcharts-zone-graph-"+k+" "+(O.className||"")],this.chart.styledMode||k.push(O.color||this.color,O.dashStyle||this.options.dashStyle),N.push(k)},this),N},F.defaultOptions=K(Y.defaultOptions,{}),F}(Y),$.registerSeriesType("line",q),q}),wt(o,"Series/Area/AreaSeries.js",[o["Core/Color/Color.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var k,J=this&&this.__extends||(k=function(g,d){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var T in _)_.hasOwnProperty(T)&&(v[T]=_[T])})(g,d)},function(g,d){function v(){this.constructor=g}k(g,d),g.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)}),K=Y.parse,X=q.seriesTypes.line;Y=rt.extend;var F=rt.merge,N=rt.objectEach,O=rt.pick;return rt=function(k){function g(){var d=null!==k&&k.apply(this,arguments)||this;return d.data=void 0,d.options=void 0,d.points=void 0,d}return J(g,k),g.prototype.drawGraph=function(){this.areaPath=[],k.prototype.drawGraph.apply(this);var d=this,v=this.areaPath,_=this.options,T=[["area","highcharts-area",this.color,_.fillColor]];this.zones.forEach(function(y,C){T.push(["zone-area-"+C,"highcharts-area highcharts-zone-area-"+C+" "+y.className,y.color||d.color,y.fillColor||_.fillColor])}),T.forEach(function(y){var C=y[0],M=d[C],D=M?"animate":"attr",x={};M?(M.endX=d.preventGraphAnimation?null:v.xMap,M.animate({d:v})):(x.zIndex=0,(M=d[C]=d.chart.renderer.path(v).addClass(y[1]).add(d.group)).isArea=!0),d.chart.styledMode||(x.fill=O(y[3],K(y[2]).setOpacity(O(_.fillOpacity,.75)).get())),M[D](x),M.startX=v.xMap,M.shiftUnit=_.step?2:1})},g.prototype.getGraphPath=function(d){var C,v=X.prototype.getGraphPath,_=this.options,T=_.stacking,y=this.yAxis,M=[],D=[],x=this.index,f=y.stacking.stacks[this.stackKey],m=_.threshold,r=Math.round(y.getThreshold(_.threshold));_=O(_.connectNulls,"percent"===T);var p=function(l,w,P){var I=d[l];l=T&&f[I.x].points[x];var L=I[P+"Null"]||0;if(P=I[P+"Cliff"]||0,I=!0,P||L){var S=(L?l[0]:l[1])+P,B=l[0]+P;I=!!L}else!T&&d[w]&&d[w].isNull&&(S=B=m);void 0!==S&&(D.push({plotX:n,plotY:null===S?r:y.getThreshold(S),isNull:I,isCliff:!0}),M.push({plotX:n,plotY:null===B?r:y.getThreshold(B),doCurve:!1}))};for(d=d||this.points,T&&(d=this.getStackPoints(d)),C=0;C<d.length;C++){T||(d[C].leftCliff=d[C].rightCliff=d[C].leftNull=d[C].rightNull=void 0);var a=d[C].isNull,n=O(d[C].rectPlotX,d[C].plotX),h=T?O(d[C].yBottom,r):r;(!a||_)&&(_||p(C,C-1,"left"),a&&!T&&_||(D.push(d[C]),M.push({x:C,plotX:n,plotY:h})),_||p(C,C+1,"right"))}return C=v.call(this,D,!0,!0),M.reversed=!0,(h=(a=v.call(this,M,!0,!0))[0])&&"M"===h[0]&&(a[0]=["L",h[1],h[2]]),(a=C.concat(a)).length&&a.push(["Z"]),v=v.call(this,D,!1,_),a.xMap=C.xMap,this.areaPath=a,v},g.prototype.getStackPoints=function(d){var v=this,_=[],T=[],y=this.xAxis,C=this.yAxis,M=C.stacking.stacks[this.stackKey],D={},x=C.series,f=x.length,m=C.options.reversedStacks?1:-1,r=x.indexOf(v);if(d=d||this.points,this.options.stacking){for(var p=0;p<d.length;p++)d[p].leftNull=d[p].rightNull=void 0,D[d[p].x]=d[p];N(M,function(n,h){null!==n.total&&T.push(h)}),T.sort(function(n,h){return n-h});var a=x.map(function(n){return n.visible});T.forEach(function(n,h){var w,P,l=0;if(D[n]&&!D[n].isNull)_.push(D[n]),[-1,1].forEach(function(L){var S=1===L?"rightNull":"leftNull",B=0,c=M[T[h+L]];if(c)for(var u=r;0<=u&&u<f;){var E=x[u].index;(w=c.points[E])||(E===v.index?D[n][S]=!0:a[u]&&(P=M[n].points[E])&&(B-=P[1]-P[0])),u+=m}D[n][1===L?"rightCliff":"leftCliff"]=B});else{for(var I=r;0<=I&&I<f;){if(w=M[n].points[x[I].index]){l=w[1];break}I+=m}l=O(l,0),l=C.translate(l,0,1,0,1),_.push({isNull:!0,plotX:y.translate(n,0,0,0,1),x:n,plotY:l,yBottom:l})}})}return _},g.defaultOptions=F(X.defaultOptions,{threshold:0}),g}(X),Y(rt.prototype,{singleStacks:!1,drawLegendSymbol:$.drawRectangle}),q.registerSeriesType("area",rt),rt}),wt(o,"Series/Spline/SplineSeries.js",[o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$){var X,q=this&&this.__extends||(X=function(F,N){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var g in k)k.hasOwnProperty(g)&&(O[g]=k[g])})(F,N)},function(F,N){function O(){this.constructor=F}X(F,N),F.prototype=null===N?Object.create(N):(O.prototype=N.prototype,new O)}),rt=Y.seriesTypes.line,J=$.merge,K=$.pick;return $=function(X){function F(){var N=null!==X&&X.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return q(F,X),F.prototype.getPointSpline=function(N,O,k){var g=O.plotX||0,d=O.plotY||0,v=N[k-1];if(k=N[k+1],v&&!v.isNull&&!1!==v.doCurve&&!O.isCliff&&k&&!k.isNull&&!1!==k.doCurve&&!O.isCliff){var _=k.plotX||0,T=0,y=(1.5*g+(v.plotX||0))/2.5,C=(1.5*d+(N=v.plotY||0))/2.5,M=(1.5*d+(k=k.plotY||0))/2.5;(_=(1.5*g+_)/2.5)!==y&&(T=(M-C)*(_-g)/(_-y)+d-M),M+=T,(C+=T)>N&&C>d?M=2*d-(C=Math.max(N,d)):C<N&&C<d&&(M=2*d-(C=Math.min(N,d))),M>k&&M>d?C=2*d-(M=Math.max(k,d)):M<k&&M<d&&(C=2*d-(M=Math.min(k,d))),O.rightContX=_,O.rightContY=M}return O=["C",K(v.rightContX,v.plotX,0),K(v.rightContY,v.plotY,0),K(y,g,0),K(C,d,0),g,d],v.rightContX=v.rightContY=void 0,O},F.defaultOptions=J(rt.defaultOptions),F}(rt),Y.registerSeriesType("spline",$),$}),wt(o,"Series/AreaSpline/AreaSplineSeries.js",[o["Series/Area/AreaSeries.js"],o["Series/Spline/SplineSeries.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var O,K=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),X=Y.prototype,F=J.extend,N=J.merge;return J=function(O){function k(){var g=null!==O&&O.apply(this,arguments)||this;return g.data=void 0,g.points=void 0,g.options=void 0,g}return K(k,O),k.defaultOptions=N($.defaultOptions,Y.defaultOptions),k}($),F(J.prototype,{getGraphPath:X.getGraphPath,getStackPoints:X.getStackPoints,drawGraph:X.drawGraph,drawLegendSymbol:q.drawRectangle}),rt.registerSeriesType("areaspline",J),J}),wt(o,"Series/Column/ColumnSeries.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X){var f,F=this&&this.__extends||(f=function(m,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var n in a)a.hasOwnProperty(n)&&(p[n]=a[n])})(m,r)},function(m,r){function p(){this.constructor=m}f(m,r),m.prototype=null===r?Object.create(r):(p.prototype=r.prototype,new p)}),N=Y.animObject,O=$.parse,k=q.hasTouch;Y=q.noop;var g=X.clamp,d=X.css,v=X.defined,_=X.extend,T=X.fireEvent,y=X.isArray,C=X.isNumber,M=X.merge,D=X.pick,x=X.objectEach;return X=function(f){function m(){var r=null!==f&&f.apply(this,arguments)||this;return r.borderWidth=void 0,r.data=void 0,r.group=void 0,r.options=void 0,r.points=void 0,r}return F(m,f),m.prototype.animate=function(r){var p=this,a=this.yAxis,n=p.options,h=this.chart.inverted,l={},w=h?"translateX":"translateY";if(r)l.scaleY=.001,r=g(a.toPixels(n.threshold),a.pos,a.pos+a.len),h?l.translateX=r-a.len:l.translateY=r,p.clipBox&&p.setClip(),p.group.attr(l);else{var P=Number(p.group.attr(w));p.group.animate({scaleY:1},_(N(p.options.animation),{step:function(I,L){p.group&&(l[w]=P+L.pos*(a.pos-P),p.group.attr(l))}}))}},m.prototype.init=function(r,p){f.prototype.init.apply(this,arguments);var a=this;(r=a.chart).hasRendered&&r.series.forEach(function(n){n.type===a.type&&(n.isDirty=!0)})},m.prototype.getColumnMetrics=function(){var r=this,p=r.options,a=r.xAxis,n=r.yAxis,h=a.options.reversedStacks;h=a.reversed&&!h||!a.reversed&&h;var w,l={},P=0;!1===p.grouping?P=1:r.chart.series.forEach(function(B){var c=B.yAxis,u=B.options;if(B.type===r.type&&(B.visible||!r.chart.options.chart.ignoreHiddenSeries)&&n.len===c.len&&n.pos===c.pos){if(u.stacking&&"group"!==u.stacking){void 0===l[w=B.stackKey]&&(l[w]=P++);var E=l[w]}else!1!==u.grouping&&(E=P++);B.columnIndex=E}});var I=Math.min(Math.abs(a.transA)*(a.ordinal&&a.ordinal.slope||p.pointRange||a.closestPointRange||a.tickInterval||1),a.len),L=I*p.groupPadding,S=(I-2*L)/(P||1);return p=Math.min(p.maxPointWidth||a.len,D(p.pointWidth,S*(1-2*p.pointPadding))),r.columnMetrics={width:p,offset:(S-p)/2+(L+((r.columnIndex||0)+(h?1:0))*S-I/2)*(h?-1:1),paddedWidth:S,columnCount:P},r.columnMetrics},m.prototype.crispCol=function(r,p,a,n){var h=this.chart,l=this.borderWidth,w=-(l%2?.5:0);return l=l%2?.5:1,h.inverted&&h.renderer.isVML&&(l+=1),this.options.crisp&&(a=Math.round(r+a)+w,a-=r=Math.round(r)+w),n=Math.round(p+n)+l,w=.5>=Math.abs(p)&&.5<n,n-=p=Math.round(p)+l,w&&n&&(--p,n+=1),{x:r,y:p,width:a,height:n}},m.prototype.adjustForMissingColumns=function(r,p,a,n){var h=this,l=this.options.stacking;if(!a.isNull&&1<n.columnCount){var w=0,P=0;x(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(I){if("number"==typeof a.x&&(I=I[a.x.toString()])){var L=I.points[h.index],S=I.total;l?(L&&(w=P),I.hasValidPoints&&P++):y(L)&&(w=L[1],P=S||0)}}),r=(a.plotX||0)+((P-1)*n.paddedWidth+p)/2-p-w*n.paddedWidth}return r},m.prototype.translate=function(){var r=this,p=r.chart,a=r.options,n=r.dense=2>r.closestPointRange*r.xAxis.transA;n=r.borderWidth=D(a.borderWidth,n?0:1);var h=r.xAxis,l=r.yAxis,w=a.threshold,P=r.translatedThreshold=l.getThreshold(w),I=D(a.minPointLength,5),L=r.getColumnMetrics(),S=L.width,B=r.pointXOffset=L.offset,c=r.dataMin,u=r.dataMax,E=r.barW=Math.max(S,1+2*n);p.inverted&&(P-=.5),a.pointPadding&&(E=Math.ceil(E)),J.prototype.translate.apply(r),r.points.forEach(function(j){var G=D(j.yBottom,P),W=999+Math.abs(G),b=j.plotX||0;W=g(j.plotY,-W,l.len+W);var z=Math.min(W,G),R=Math.max(W,G)-z,V=S,Z=b+B,nt=E;I&&Math.abs(R)<I&&(R=I,b=!l.reversed&&!j.negative||l.reversed&&j.negative,C(w)&&C(u)&&j.y===w&&u<=w&&(l.min||0)<w&&(c!==u||(l.max||0)<=w)&&(b=!b),z=Math.abs(z-P)>I?G-I:P-(b?I:0)),v(j.options.pointWidth)&&(V=nt=Math.ceil(j.options.pointWidth),Z-=Math.round((V-S)/2)),a.centerInCategory&&(Z=r.adjustForMissingColumns(Z,V,j,L)),j.barX=Z,j.pointWidth=V,j.tooltipPos=p.inverted?[g(l.len+l.pos-p.plotLeft-W,l.pos-p.plotLeft,l.len+l.pos-p.plotLeft),h.len+h.pos-p.plotTop-Z-nt/2,R]:[h.left-p.plotLeft+Z+nt/2,g(W+l.pos-p.plotTop,l.pos-p.plotTop,l.len+l.pos-p.plotTop),R],j.shapeType=r.pointClass.prototype.shapeType||"rect",j.shapeArgs=r.crispCol.apply(r,j.isNull?[Z,P,nt,0]:[Z,z,nt,R])})},m.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},m.prototype.pointAttribs=function(r,p){var a=this.options,n=this.pointAttrToOptions||{},h=n.stroke||"borderColor",l=n["stroke-width"]||"borderWidth",w=r&&r.color||this.color,P=r&&r[h]||a[h]||w;n=r&&r.options.dashStyle||a.dashStyle;var I=r&&r[l]||a[l]||this[l]||0,L=D(r&&r.opacity,a.opacity,1);if(r&&this.zones.length){var S=r.getZone();w=r.options.color||S&&(S.color||r.nonZonedColor)||this.color,S&&(P=S.borderColor||P,n=S.dashStyle||n,I=S.borderWidth||I)}return p&&r&&(p=(r=M(a.states[p],r.options.states&&r.options.states[p]||{})).brightness,w=r.color||void 0!==p&&O(w).brighten(r.brightness).get()||w,P=r[h]||P,I=r[l]||I,n=r.dashStyle||n,L=D(r.opacity,L)),h={fill:w,stroke:P,"stroke-width":I,opacity:L},n&&(h.dashstyle=n),h},m.prototype.drawPoints=function(){var l,r=this,p=this.chart,a=r.options,n=p.renderer,h=a.animationLimit||250;r.points.forEach(function(w){var P=w.graphic,I=!!P,L=P&&p.pointCount<h?"animate":"attr";C(w.plotY)&&null!==w.y?(l=w.shapeArgs,P&&w.hasNewShapeType()&&(P=P.destroy()),r.enabledDataSorting&&(w.startXPos=r.xAxis.reversed?-(l&&l.width||0):r.xAxis.width),P||(w.graphic=P=n[w.shapeType](l).add(w.group||r.group))&&r.enabledDataSorting&&p.hasRendered&&p.pointCount<h&&(P.attr({x:w.startXPos}),I=!0,L="animate"),P&&I&&P[L](M(l)),a.borderRadius&&P[L]({r:a.borderRadius}),p.styledMode||P[L](r.pointAttribs(w,w.selected&&"select")).shadow(!1!==w.allowShadow&&a.shadow,null,a.stacking&&!a.borderRadius),P&&(P.addClass(w.getClassName(),!0),P.attr({visibility:w.visible?"inherit":"hidden"}))):P&&(w.graphic=P.destroy())})},m.prototype.drawTracker=function(){var h,r=this,p=r.chart,a=p.pointer,n=function(l){var w=a.getPointFromEvent(l);void 0!==w&&(a.isDirectTouch=!0,w.onMouseOver(l))};r.points.forEach(function(l){h=y(l.dataLabels)?l.dataLabels:l.dataLabel?[l.dataLabel]:[],l.graphic&&(l.graphic.element.point=l),h.forEach(function(w){w.div?w.div.point=l:w.element.point=l})}),r._hasTracking||(r.trackerGroups.forEach(function(l){r[l]&&(r[l].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(w){a.onTrackerMouseOut(w)}),k&&r[l].on("touchstart",n),!p.styledMode&&r.options.cursor&&r[l].css(d).css({cursor:r.options.cursor}))}),r._hasTracking=!0),T(this,"afterDrawTracker")},m.prototype.remove=function(){var r=this,p=r.chart;p.hasRendered&&p.series.forEach(function(a){a.type===r.type&&(a.isDirty=!0)}),J.prototype.remove.apply(r,arguments)},m.defaultOptions=M(J.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),m}(J),_(X.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:rt.drawRectangle,getSymbol:Y,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),K.registerSeriesType("column",X),X}),wt(o,"Core/Series/DataLabel.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/FormatUtilities.js"],o["Core/Utilities.js"]],function(Y,$,q){var v,rt=Y.getDeferredAnimation,J=$.format,K=q.defined,X=q.extend,F=q.fireEvent,N=q.isArray,O=q.merge,k=q.objectEach,g=q.pick,d=q.splat;return function(_){function T(m,r,p,a,n){var h=this,l=this.chart,w=this.isCartesian&&l.inverted,P=this.enabledDataSorting,I=g(m.dlBox&&m.dlBox.centerX,m.plotX,-9999),L=g(m.plotY,-9999),S=r.getBBox(),B=p.rotation,c=p.align,u=l.isInsidePlot(I,Math.round(L),{inverted:w,paneCoordinates:!0,series:h}),E=function(b){P&&h.xAxis&&!j&&h.setDataLabelStartPos(m,r,n,u,b)},j="justify"===g(p.overflow,P?"none":"justify"),G=this.visible&&!1!==m.visible&&(m.series.forceDL||P&&!j||u||g(p.inside,!!this.options.stacking)&&a&&l.isInsidePlot(I,w?a.x+1:a.y+a.height-1,{inverted:w,paneCoordinates:!0,series:h}));if(G){var W=l.renderer.fontMetrics(l.styledMode?void 0:p.style.fontSize,r).b;a=X({x:w?this.yAxis.len-L:I,y:Math.round(w?this.xAxis.len-I:L),width:0,height:0},a),X(p,{width:S.width,height:S.height}),B?(j=!1,I=l.renderer.rotCorr(W,B),E(I={x:a.x+(p.x||0)+a.width/2+I.x,y:a.y+(p.y||0)+{top:0,middle:.5,bottom:1}[p.verticalAlign]*a.height}),r[n?"attr":"animate"](I).attr({align:c}),E=180<(E=(B+720)%360)&&360>E,"left"===c?I.y-=E?S.height:0:"center"===c?(I.x-=S.width/2,I.y-=S.height/2):"right"===c&&(I.x-=S.width,I.y-=E?0:S.height),r.placed=!0,r.alignAttr=I):(E(a),r.align(p,void 0,a),I=r.alignAttr),j&&0<=a.height?this.justifyDataLabel(r,p,I,S,a,n):g(p.crop,!0)&&(G=l.isInsidePlot(I.x,I.y,{paneCoordinates:!0,series:h})&&l.isInsidePlot(I.x+S.width,I.y+S.height,{paneCoordinates:!0,series:h})),p.shape&&!B&&r[n?"attr":"animate"]({anchorX:w?l.plotWidth-m.plotY:m.plotX,anchorY:w?l.plotHeight-m.plotX:m.plotY})}n&&P&&(r.placed=!1),G||P&&!j||(r.hide(!0),r.placed=!1)}function C(){var m=this,r=m.chart,p=m.options,a=m.points,n=m.hasRendered||0,h=r.renderer,l=p.dataLabels,P=l.animation;if(P=l.defer?rt(r,P,m):{defer:0,duration:0},l=D(D(r.options.plotOptions&&r.options.plotOptions.series&&r.options.plotOptions.series.dataLabels,r.options.plotOptions&&r.options.plotOptions[m.type]&&r.options.plotOptions[m.type].dataLabels),l),F(this,"drawDataLabels"),N(l)||l.enabled||m._hasPointLabels){var I=m.plotGroup("dataLabelsGroup","data-labels",n?"inherit":"hidden",l.zIndex||6);I.attr({opacity:+n}),!n&&(n=m.dataLabelsGroup)&&(m.visible&&I.show(!0),n[p.animation?"animate":"attr"]({opacity:1},P)),a.forEach(function(L){d(D(l,L.dlOptions||L.options&&L.options.dataLabels)).forEach(function(S,B){var c=S.enabled&&(!L.isNull||L.dataLabelOnNull)&&function(m,r){var p=r.filter;return!p||(r=p.operator,m=m[p.property],p=p.value,">"===r&&m>p||"<"===r&&m<p||">="===r&&m>=p||"<="===r&&m<=p||"=="===r&&m==p||"==="===r&&m===p)}(L,S),u=L.connectors?L.connectors[B]:L.connector,E=L.dataLabels?L.dataLabels[B]:L.dataLabel,j=g(S.distance,L.labelDistance),G=!E;if(c){var W=L.getLabelConfig(),b=g(S[L.formatPrefix+"Format"],S.format);W=K(b)?J(b,W,r):(S[L.formatPrefix+"Formatter"]||S.formatter).call(W,S),b=S.style;var z=S.rotation;r.styledMode||(b.color=g(S.color,b.color,m.color,"#000000"),"contrast"===b.color?(L.contrastColor=h.getContrast(L.color||m.color),b.color=!K(j)&&S.inside||0>j||p.stacking?L.contrastColor:"#000000"):delete L.contrastColor,p.cursor&&(b.cursor=p.cursor));var R={r:S.borderRadius||0,rotation:z,padding:S.padding,zIndex:1};r.styledMode||(R.fill=S.backgroundColor,R.stroke=S.borderColor,R["stroke-width"]=S.borderWidth),k(R,function(V,Z){void 0===V&&delete R[Z]})}!E||c&&K(W)&&!!E.div==!!S.useHTML||(L.dataLabel=E=L.dataLabel&&L.dataLabel.destroy(),L.dataLabels&&(1===L.dataLabels.length?delete L.dataLabels:delete L.dataLabels[B]),B||delete L.dataLabel,u&&(L.connector=L.connector.destroy(),L.connectors&&(1===L.connectors.length?delete L.connectors:delete L.connectors[B]))),c&&K(W)&&(E?R.text=W:(L.dataLabels=L.dataLabels||[],E=L.dataLabels[B]=z?h.text(W,0,-9999,S.useHTML).addClass("highcharts-data-label"):h.label(W,0,-9999,S.shape,null,null,S.useHTML,null,"data-label"),B||(L.dataLabel=E),E.addClass(" highcharts-data-label-color-"+L.colorIndex+" "+(S.className||"")+(S.useHTML?" highcharts-tracker":""))),E.options=S,E.attr(R),r.styledMode||E.css(b).shadow(S.shadow),E.added||E.add(I),S.textPath&&!S.useHTML&&(E.setTextPath(L.getDataLabelPath&&L.getDataLabelPath(E)||L.graphic,S.textPath),L.dataLabelPath&&!S.textPath.enabled&&(L.dataLabelPath=L.dataLabelPath.destroy())),m.alignDataLabel(L,E,S,null,G))})})}F(this,"afterDrawDataLabels")}function M(m,r,p,a,n,h){var l=this.chart,w=r.align,P=r.verticalAlign,I=m.box?0:m.padding||0,L=r.x;L=void 0===L?0:L;var S=r.y;S=void 0===S?0:S;var B=(p.x||0)+I;if(0>B){"right"===w&&0<=L?(r.align="left",r.inside=!0):L-=B;var c=!0}return(B=(p.x||0)+a.width-I)>l.plotWidth&&("left"===w&&0>=L?(r.align="right",r.inside=!0):L+=l.plotWidth-B,c=!0),0>(B=p.y+I)&&("bottom"===P&&0<=S?(r.verticalAlign="top",r.inside=!0):S-=B,c=!0),(B=(p.y||0)+a.height-I)>l.plotHeight&&("top"===P&&0>=S?(r.verticalAlign="bottom",r.inside=!0):S+=l.plotHeight-B,c=!0),c&&(r.x=L,r.y=S,m.placed=!h,m.align(r,void 0,n)),c}function D(m,r){var a,p=[];if(N(m)&&!N(r))p=m.map(function(n){return O(n,r)});else if(N(r)&&!N(m))p=r.map(function(n){return O(m,n)});else if(N(m)||N(r))for(a=Math.max(m.length,r.length);a--;)p[a]=O(m[a],r[a]);else p=O(m,r);return p}function x(m,r,p,a,n){var h=this.chart,l=h.inverted,w=this.xAxis,P=w.reversed,I=l?r.height/2:r.width/2;m=(m=m.pointWidth)?m/2:0,r.startXPos=l?n.x:P?-I-m:w.width-I+m,r.startYPos=l?P?this.yAxis.height-I+m:-I-m:n.y,a?"hidden"===r.visibility&&(r.show(),r.attr({opacity:0}).animate({opacity:1})):r.attr({opacity:1}).animate({opacity:0},void 0,r.hide),h.hasRendered&&(p&&r.attr({x:r.startXPos,y:r.startYPos}),r.placed=!0)}var f=[];_.compose=function(m){if(-1===f.indexOf(m)){var r=m.prototype;f.push(m),r.alignDataLabel=T,r.drawDataLabels=C,r.justifyDataLabel=M,r.setDataLabelStartPos=x}}}(v||(v={})),v}),wt(o,"Series/Column/ColumnDataLabel.js",[o["Core/Series/DataLabel.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var X,rt=$.series,J=q.merge,K=q.pick;return function(F){function N(k,g,d,v,_){var T=this.chart.inverted,y=k.series,C=(y.xAxis?y.xAxis.len:this.chart.plotSizeX)||0,M=k.dlBox||k.shapeArgs,D=K(k.below,k.plotY>K(this.translatedThreshold,y=(y.yAxis?y.yAxis.len:this.chart.plotSizeY)||0)),x=K(d.inside,!!this.options.stacking);M&&(0>(v=J(M)).y&&(v.height+=v.y,v.y=0),0<(M=v.y+v.height-y)&&M<v.height&&(v.height-=M),T&&(v={x:y-v.y-v.height,y:C-v.x-v.width,width:v.height,height:v.width}),x||(T?(v.x+=D?0:v.width,v.width=0):(v.y+=D?v.height:0,v.height=0))),d.align=K(d.align,!T||x?"center":D?"right":"left"),d.verticalAlign=K(d.verticalAlign,T||x?"middle":D?"top":"bottom"),rt.prototype.alignDataLabel.call(this,k,g,d,v,_),d.inside&&k.contrastColor&&g.css({color:k.contrastColor})}var O=[];F.compose=function(k){Y.compose(rt),-1===O.indexOf(k)&&(O.push(k),k.prototype.alignDataLabel=N)}}(X||(X={})),X}),wt(o,"Series/Bar/BarSeries.js",[o["Series/Column/ColumnSeries.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var X,rt=this&&this.__extends||(X=function(F,N){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var g in k)k.hasOwnProperty(g)&&(O[g]=k[g])})(F,N)},function(F,N){function O(){this.constructor=F}X(F,N),F.prototype=null===N?Object.create(N):(O.prototype=N.prototype,new O)}),J=q.extend,K=q.merge;return q=function(X){function F(){var N=null!==X&&X.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return rt(F,X),F.defaultOptions=K(Y.defaultOptions,{}),F}(Y),J(q.prototype,{inverted:!0}),$.registerSeriesType("bar",q),q}),wt(o,"Series/Scatter/ScatterSeries.js",[o["Series/Column/ColumnSeries.js"],o["Series/Line/LineSeries.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var N,J=this&&this.__extends||(N=function(O,k){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var v in d)d.hasOwnProperty(v)&&(g[v]=d[v])})(O,k)},function(O,k){function g(){this.constructor=O}N(O,k),O.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)}),K=rt.addEvent,X=rt.extend,F=rt.merge;return rt=function(N){function O(){var k=null!==N&&N.apply(this,arguments)||this;return k.data=void 0,k.options=void 0,k.points=void 0,k}return J(O,N),O.prototype.applyJitter=function(){var k=this,g=this.options.jitter,d=this.points.length;g&&this.points.forEach(function(v,_){["x","y"].forEach(function(T,y){var C="plot"+T.toUpperCase();if(g[T]&&!v.isNull){var M=k[T+"Axis"],D=g[T]*M.transA;if(M&&!M.isLog){var x=Math.max(0,v[C]-D);M=Math.min(M.len,v[C]+D),y=1e4*Math.sin(_+y*d),v[C]=x+(M-x)*(y-Math.floor(y)),"x"===T&&(v.clientX=v.plotX)}}})})},O.prototype.drawGraph=function(){this.options.lineWidth?N.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},O.defaultOptions=F($.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),O}($),X(rt.prototype,{drawTracker:Y.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),K(rt,"afterTranslate",function(){this.applyJitter()}),q.registerSeriesType("scatter",rt),rt}),wt(o,"Series/CenteredUtilities.js",[o["Core/Globals.js"],o["Core/Series/Series.js"],o["Core/Utilities.js"]],function(Y,$,q){var F,N,rt=Y.deg2rad,J=q.isNumber,K=q.pick,X=q.relativeLength;return(N=F||(F={})).getCenter=function(){var O=this.options,k=this.chart,g=2*(O.slicedOffset||0),d=k.plotWidth-2*g,v=k.plotHeight-2*g,_=O.center,T=Math.min(d,v),y=O.size,C=O.innerSize||0;for("string"==typeof y&&(y=parseFloat(y)),"string"==typeof C&&(C=parseFloat(C)),O=[K(_[0],"50%"),K(_[1],"50%"),K(y&&0>y?void 0:O.size,"100%"),K(C&&0>C?void 0:O.innerSize||0,"0%")],!k.angular||this instanceof $||(O[3]=0),_=0;4>_;++_)y=O[_],k=2>_||2===_&&/%$/.test(y),O[_]=X(y,[d,v,T,O[2]][_])+(k?g:0);return O[3]>O[2]&&(O[3]=O[2]),O},N.getStartAndEndRadians=function(O,k){return O=J(O)?O:0,k=J(k)&&k>O&&360>k-O?k:O+360,{start:rt*(O+-90),end:rt*(k+-90)}},F}),wt(o,"Series/Pie/PiePoint.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Series/Point.js"],o["Core/Utilities.js"]],function(Y,$,q){var k,rt=this&&this.__extends||(k=function(g,d){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var T in _)_.hasOwnProperty(T)&&(v[T]=_[T])})(g,d)},function(g,d){function v(){this.constructor=g}k(g,d),g.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)}),J=Y.setAnimation,K=q.addEvent,X=q.defined;Y=q.extend;var F=q.isNumber,N=q.pick,O=q.relativeLength;return $=function(k){function g(){var d=null!==k&&k.apply(this,arguments)||this;return d.labelDistance=void 0,d.options=void 0,d.series=void 0,d}return rt(g,k),g.prototype.getConnectorPath=function(){var d=this.labelPosition,v=this.series.options.dataLabels,_=this.connectorShapes,T=v.connectorShape;return _[T]&&(T=_[T]),T.call(this,{x:d.final.x,y:d.final.y,alignment:d.alignment},d.connectorPosition,v)},g.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},g.prototype.haloPath=function(d){var v=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(v.x,v.y,v.r+d,v.r+d,{innerR:v.r-1,start:v.start,end:v.end})},g.prototype.init=function(){var d=this;k.prototype.init.apply(this,arguments),this.name=N(this.name,"Slice");var v=function(_){d.slice("select"===_.type)};return K(this,"select",v),K(this,"unselect",v),this},g.prototype.isValid=function(){return F(this.y)&&0<=this.y},g.prototype.setVisible=function(d,v){var _=this,T=this.series,y=T.chart,C=T.options.ignoreHiddenPoint;v=N(v,C),d!==this.visible&&(this.visible=this.options.visible=d=void 0===d?!this.visible:d,T.options.data[T.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(M){_[M]&&_[M][d?"show":"hide"](d)}),this.legendItem&&y.legend.colorizeItem(this,d),d||"hover"!==this.state||this.setState(""),C&&(T.isDirty=!0),v&&y.redraw())},g.prototype.slice=function(d,v,_){var T=this.series;J(_,T.chart),N(v,!0),this.sliced=this.options.sliced=X(d)?d:!this.sliced,T.options.data[T.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},g}($),Y($.prototype,{connectorShapes:{fixedOffset:function(k,g,d){var v=g.breakAt;return g=g.touchingSliceAt,[["M",k.x,k.y],d.softConnector?["C",k.x+("left"===k.alignment?-5:5),k.y,2*v.x-g.x,2*v.y-g.y,v.x,v.y]:["L",v.x,v.y],["L",g.x,g.y]]},straight:function(k,g){return[["M",k.x,k.y],["L",(g=g.touchingSliceAt).x,g.y]]},crookedLine:function(k,g,d){g=g.touchingSliceAt;var v=this.series,_=v.center[0],T=v.chart.plotWidth,y=v.chart.plotLeft;v=k.alignment;var C=this.shapeArgs.r;return d=O(d.crookDistance,1),d=["L",T="left"===v?_+C+(T+y-_-C)*(1-d):y+(_-C)*d,k.y],_=!0,("left"===v?T>k.x||T<g.x:T<k.x||T>g.x)&&(_=!1),k=[["M",k.x,k.y]],_&&k.push(d),k.push(["L",g.x,g.y]),k}}}),$}),wt(o,"Series/Pie/PieSeries.js",[o["Series/CenteredUtilities.js"],o["Series/Column/ColumnSeries.js"],o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Series/Pie/PiePoint.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/Symbols.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N){var C,O=this&&this.__extends||(C=function(M,D){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,f){x.__proto__=f}||function(x,f){for(var m in f)f.hasOwnProperty(m)&&(x[m]=f[m])})(M,D)},function(M,D){function x(){this.constructor=M}C(M,D),M.prototype=null===D?Object.create(D):(x.prototype=D.prototype,new x)}),k=Y.getStartAndEndRadians;q=q.noop;var g=N.clamp,d=N.extend,v=N.fireEvent,_=N.merge,T=N.pick,y=N.relativeLength;return N=function(C){function M(){var D=null!==C&&C.apply(this,arguments)||this;return D.center=void 0,D.data=void 0,D.maxLabelDistance=void 0,D.options=void 0,D.points=void 0,D}return O(M,C),M.prototype.animate=function(D){var x=this,m=x.startAngleRad;D||x.points.forEach(function(r){var p=r.graphic,a=r.shapeArgs;p&&a&&(p.attr({r:T(r.startR,x.center&&x.center[3]/2),start:m,end:m}),p.animate({r:a.r,start:a.start,end:a.end},x.options.animation))})},M.prototype.drawEmpty=function(){var D=this.startAngleRad,x=this.endAngleRad,f=this.options;if(0===this.total&&this.center){var m=this.center[0],r=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(m,r,this.center[1]/2,0,D,x).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:F.arc(m,r,this.center[2]/2,0,{start:D,end:x,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":f.borderWidth,fill:f.fillColor||"none",stroke:f.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},M.prototype.drawPoints=function(){var D=this.chart.renderer;this.points.forEach(function(x){x.graphic&&x.hasNewShapeType()&&(x.graphic=x.graphic.destroy()),x.graphic||(x.graphic=D[x.shapeType](x.shapeArgs).add(x.series.group),x.delayedRendering=!0)})},M.prototype.generatePoints=function(){C.prototype.generatePoints.call(this),this.updateTotals()},M.prototype.getX=function(D,x,f){var m=this.center,r=this.radii?this.radii[f.index]||0:m[2]/2;return D=Math.asin(g((D-m[1])/(r+f.labelDistance),-1,1)),m[0]+(x?-1:1)*Math.cos(D)*(r+f.labelDistance)+(0<f.labelDistance?(x?-1:1)*this.options.dataLabels.padding:0)},M.prototype.hasData=function(){return!!this.processedXData.length},M.prototype.redrawPoints=function(){var r,p,a,n,D=this,x=D.chart,f=x.renderer,m=D.options.shadow;this.drawEmpty(),!m||D.shadowGroup||x.styledMode||(D.shadowGroup=f.g("shadow").attr({zIndex:-1}).add(D.group)),D.points.forEach(function(h){var l={};if(p=h.graphic,!h.isNull&&p){var w=void 0;n=h.shapeArgs,r=h.getTranslate(),x.styledMode||(w=h.shadowGroup,m&&!w&&(w=h.shadowGroup=f.g("shadow").add(D.shadowGroup)),w&&w.attr(r),a=D.pointAttribs(h,h.selected&&"select")),h.delayedRendering?(p.setRadialReference(D.center).attr(n).attr(r),x.styledMode||p.attr(a).attr({"stroke-linejoin":"round"}).shadow(m,w),h.delayedRendering=!1):(p.setRadialReference(D.center),x.styledMode||_(!0,l,a),_(!0,l,n,r),p.animate(l)),p.attr({visibility:h.visible?"inherit":"hidden"}),p.addClass(h.getClassName(),!0)}else p&&(h.graphic=p.destroy())})},M.prototype.sortByAngle=function(D,x){D.sort(function(f,m){return void 0!==f.angle&&(m.angle-f.angle)*x})},M.prototype.translate=function(D){this.generatePoints();var x=this.options,f=x.slicedOffset,m=f+(x.borderWidth||0),r=k(x.startAngle,x.endAngle),p=this.startAngleRad=r.start;r=(this.endAngleRad=r.end)-p;var a=this.points,n=x.dataLabels.distance;x=x.ignoreHiddenPoint;var l,h=a.length,w=0;for(D||(this.center=D=this.getCenter()),l=0;l<h;l++){var P=a[l],I=p+w*r;!P.isValid()||x&&!P.visible||(w+=P.percentage/100);var L=p+w*r,S={x:D[0],y:D[1],r:D[2]/2,innerR:D[3]/2,start:Math.round(1e3*I)/1e3,end:Math.round(1e3*L)/1e3};P.shapeType="arc",P.shapeArgs=S,P.labelDistance=T(P.options.dataLabels&&P.options.dataLabels.distance,n),P.labelDistance=y(P.labelDistance,S.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,P.labelDistance),(L=(L+I)/2)>1.5*Math.PI?L-=2*Math.PI:L<-Math.PI/2&&(L+=2*Math.PI),P.slicedTranslation={translateX:Math.round(Math.cos(L)*f),translateY:Math.round(Math.sin(L)*f)},S=Math.cos(L)*D[2]/2;var B=Math.sin(L)*D[2]/2;P.tooltipPos=[D[0]+.7*S,D[1]+.7*B],P.half=L<-Math.PI/2||L>Math.PI/2?1:0,P.angle=L,I=Math.min(m,P.labelDistance/5),P.labelPosition={natural:{x:D[0]+S+Math.cos(L)*P.labelDistance,y:D[1]+B+Math.sin(L)*P.labelDistance},final:{},alignment:0>P.labelDistance?"center":P.half?"right":"left",connectorPosition:{breakAt:{x:D[0]+S+Math.cos(L)*I,y:D[1]+B+Math.sin(L)*I},touchingSliceAt:{x:D[0]+S,y:D[1]+B}}}}v(this,"afterTranslate")},M.prototype.updateTotals=function(){var m,D=this.points,x=D.length,f=this.options.ignoreHiddenPoint,r=0;for(m=0;m<x;m++){var p=D[m];!p.isValid()||f&&!p.visible||(r+=p.y)}for(this.total=r,m=0;m<x;m++)(p=D[m]).percentage=0<r&&(p.visible||!f)?p.y/r*100:0,p.total=r},M.defaultOptions=_(K.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),M}(K),d(N.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:rt.drawRectangle,drawTracker:$.prototype.drawTracker,getCenter:Y.getCenter,getSymbol:q,isCartesian:!1,noSharedTooltip:!0,pointAttribs:$.prototype.pointAttribs,pointClass:J,requireSorting:!1,searchPoint:q,trackerGroups:["group","dataLabelsGroup"]}),X.registerSeriesType("pie",N),N}),wt(o,"Series/Pie/PieDataLabel.js",[o["Core/Series/DataLabel.js"],o["Core/Globals.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var _,K=$.noop,X=q.distribute,F=rt.series,N=J.arrayMax,O=J.clamp,k=J.defined,g=J.merge,d=J.pick,v=J.relativeLength;return function(T){function y(){var u,E,j,G,W,b,z,R,V,Z,nt,it,f=this,m=f.data,r=f.chart,p=f.options.dataLabels||{},a=p.connectorPadding,n=r.plotWidth,h=r.plotHeight,l=r.plotLeft,w=Math.round(r.chartWidth/3),P=f.center,I=P[2]/2,L=P[1],S=[[],[]],B=[0,0,0,0],c=f.dataLabelPositioners;f.visible&&(p.enabled||f._hasPointLabels)&&(m.forEach(function(ot){ot.dataLabel&&ot.visible&&ot.dataLabel.shortened&&(ot.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ot.dataLabel.shortened=!1)}),F.prototype.drawDataLabels.apply(f),m.forEach(function(ot){ot.dataLabel&&(ot.visible?(S[ot.half].push(ot),ot.dataLabel._pos=null,!k(p.style.width)&&!k(ot.options.dataLabels&&ot.options.dataLabels.style&&ot.options.dataLabels.style.width)&&ot.dataLabel.getBBox().width>w&&(ot.dataLabel.css({width:Math.round(.7*w)+"px"}),ot.dataLabel.shortened=!0)):(ot.dataLabel=ot.dataLabel.destroy(),ot.dataLabels&&1===ot.dataLabels.length&&delete ot.dataLabels))}),S.forEach(function(ot,at){var yt,mt=ot.length,_t=[];if(mt){if(f.sortByAngle(ot,at-.5),0<f.maxLabelDistance){var ut=Math.max(0,L-I-f.maxLabelDistance),ct=Math.min(L+I+f.maxLabelDistance,r.plotHeight);ot.forEach(function(H){0<H.labelDistance&&H.dataLabel&&(H.top=Math.max(0,L-I-H.labelDistance),H.bottom=Math.min(L+I+H.labelDistance,r.plotHeight),yt=H.dataLabel.getBBox().height||21,H.distributeBox={target:H.labelPosition.natural.y-H.top+yt/2,size:yt,rank:H.y},_t.push(H.distributeBox))}),X(_t,ut=ct+yt-ut,ut/5)}for(nt=0;nt<mt;nt++){if(G=(u=ot[nt]).dataLabel,Z=!1===u.visible?"hidden":"inherit",V=ut=(b=u.labelPosition).natural.y,_t&&k(u.distributeBox)&&(void 0===u.distributeBox.pos?Z="hidden":(z=u.distributeBox.size,V=c.radialDistributionY(u))),delete u.positionIndex,p.justify)R=c.justify(u,I,P);else switch(p.alignTo){case"connectors":R=c.alignToConnectors(ot,at,n,l);break;case"plotEdges":R=c.alignToPlotEdges(G,at,n,l);break;default:R=c.radialDistributionX(f,u,V,ut)}G._attr={visibility:Z,align:b.alignment},G._pos={x:R+d((it=u.options.dataLabels||{}).x,p.x)+({left:a,right:-a}[b.alignment]||0),y:V+d(it.y,p.y)-10},b.final.x=R,b.final.y=V,d(p.crop,!0)&&(W=G.getBBox().width,ut=null,R-W<a&&1===at?(ut=Math.round(W-R+a),B[3]=Math.max(ut,B[3])):R+W>n-a&&0===at&&(ut=Math.round(R+W-n+a),B[1]=Math.max(ut,B[1])),0>V-z/2?B[0]=Math.max(Math.round(z/2-V),B[0]):V+z/2>h&&(B[2]=Math.max(Math.round(V+z/2-h),B[2])),G.sideOverflow=ut)}}}),0===N(B)||this.verifyDataLabelOverflow(B))&&(this.placeDataLabels(),this.points.forEach(function(ot){var at;it=g(p,ot.options.dataLabels),(E=d(it.connectorWidth,1))&&(j=ot.connector,(G=ot.dataLabel)&&G._pos&&ot.visible&&0<ot.labelDistance?(Z=G._attr.visibility,(at=!j)&&(ot.connector=j=r.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ot.colorIndex+(ot.className?" "+ot.className:"")).add(f.dataLabelsGroup),r.styledMode||j.attr({"stroke-width":E,stroke:it.connectorColor||ot.color||"#666666"})),j[at?"attr":"animate"]({d:ot.getConnectorPath()}),j.attr("visibility",Z)):j&&(ot.connector=j.destroy()))}))}function C(){this.points.forEach(function(f){var r,m=f.dataLabel;m&&f.visible&&((r=m._pos)?(m.sideOverflow&&(m._attr.width=Math.max(m.getBBox().width-m.sideOverflow,0),m.css({width:m._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),m.shortened=!0),m.attr(m._attr),m[m.moved?"animate":"attr"](r),m.moved=!0):m&&m.attr({y:-9999})),delete f.distributeBox},this)}function M(f){var m=this.center,r=this.options,p=r.center,a=r.minSize||80,n=null!==r.size;if(!n){if(null!==p[0])var h=Math.max(m[2]-Math.max(f[1],f[3]),a);else h=Math.max(m[2]-f[1]-f[3],a),m[0]+=(f[3]-f[1])/2;null!==p[1]?h=O(h,a,m[2]-Math.max(f[0],f[2])):(h=O(h,a,m[2]-f[0]-f[2]),m[1]+=(f[0]-f[2])/2),h<m[2]?(m[2]=h,m[3]=Math.min(v(r.innerSize||0,h),h),this.translate(m),this.drawDataLabels&&this.drawDataLabels()):n=!0}return n}var D=[],x={radialDistributionY:function(f){return f.top+f.distributeBox.pos},radialDistributionX:function(f,m,r,p){return f.getX(r<m.top+2||r>m.bottom-2?p:r,m.half,m)},justify:function(f,m,r){return r[0]+(f.half?-1:1)*(m+f.labelDistance)},alignToPlotEdges:function(f,m,r,p){return f=f.getBBox().width,m?f+p:r-f-p},alignToConnectors:function(f,m,r,p){var n,a=0;return f.forEach(function(h){(n=h.dataLabel.getBBox().width)>a&&(a=n)}),m?a+p:r-a-p}};T.compose=function(f){Y.compose(F),-1===D.indexOf(f)&&(D.push(f),(f=f.prototype).dataLabelPositioners=x,f.alignDataLabel=K,f.drawDataLabels=y,f.placeDataLabels=C,f.verifyDataLabelOverflow=M)}}(_||(_={})),_}),wt(o,"Extensions/OverlappingDataLabels.js",[o["Core/Chart/Chart.js"],o["Core/Utilities.js"]],function(Y,$){function q(O,k){var g=!1;if(O){var d=O.newOpacity;O.oldOpacity!==d&&(O.alignAttr&&O.placed?(O[d?"removeClass":"addClass"]("highcharts-data-label-hidden"),g=!0,O.alignAttr.opacity=d,O[O.isOld?"animate":"attr"](O.alignAttr,null,function(){k.styledMode||O.css({pointerEvents:d?"auto":"none"})}),J(k,"afterHideOverlappingLabel")):O.attr({opacity:d})),O.isOld=!0}return g}var J=$.fireEvent,K=$.isArray,X=$.isNumber,F=$.objectEach,N=$.pick;(0,$.addEvent)(Y,"render",function(){var O=this,k=[];(this.labelCollectors||[]).forEach(function(g){k=k.concat(g())}),(this.yAxis||[]).forEach(function(g){g.stacking&&g.options.stackLabels&&!g.options.stackLabels.allowOverlap&&F(g.stacking.stacks,function(d){F(d,function(v){v.label&&"hidden"!==v.label.visibility&&k.push(v.label)})})}),(this.series||[]).forEach(function(g){var d=g.options.dataLabels;g.visible&&(!1!==d.enabled||g._hasPointLabels)&&((d=function(v){return v.forEach(function(_){_.visible&&(K(_.dataLabels)?_.dataLabels:_.dataLabel?[_.dataLabel]:[]).forEach(function(T){var y=T.options;T.labelrank=N(y.labelrank,_.labelrank,_.shapeArgs&&_.shapeArgs.height),y.allowOverlap?(T.oldOpacity=T.opacity,T.newOpacity=1,q(T,O)):k.push(T)})})})(g.nodes||[]),d(g.points))}),this.hideOverlappingLabels(k)}),Y.prototype.hideOverlappingLabels=function(O){var v,_,T,k=this,g=O.length,d=k.renderer,y=!1,C=function(x){var f,p,m=x.box?0:x.padding||0,r=f=0;if(x&&(!x.alignAttr||x.placed)){var a=x.alignAttr||{x:x.attr("x"),y:x.attr("y")},n=x.parentGroup;return x.width||(f=x.getBBox(),x.width=f.width,x.height=f.height,f=d.fontMetrics(null,x.element).h),(p={left:"0",center:"0.5",right:"1"}[x.alignValue])?r=+p*(x.width-2*m):X(x.x)&&Math.round(x.x)!==x.translateX&&(r=x.x-x.translateX),{x:a.x+(n.translateX||0)+m-(r||0),y:a.y+(n.translateY||0)+m-f,width:x.width-2*m,height:x.height-2*m}}};for(_=0;_<g;_++)(v=O[_])&&(v.oldOpacity=v.opacity,v.newOpacity=1,v.absoluteBox=C(v));for(O.sort(function(x,f){return(f.labelrank||0)-(x.labelrank||0)}),_=0;_<g;_++){var M=(C=O[_])&&C.absoluteBox;for(v=_+1;v<g;++v){var D=(T=O[v])&&T.absoluteBox;!M||!D||C===T||0===C.newOpacity||0===T.newOpacity||D.x>=M.x+M.width||D.x+D.width<=M.x||D.y>=M.y+M.height||D.y+D.height<=M.y||((C.labelrank<T.labelrank?C:T).newOpacity=0)}}O.forEach(function(x){q(x,k)&&(y=!0)}),y&&J(k,"afterHideAllOverlappingLabels")}}),wt(o,"Core/Responsive.js",[o["Core/Utilities.js"]],function(Y){var k,$=Y.extend,q=Y.find,rt=Y.isArray,J=Y.isObject,K=Y.merge,X=Y.objectEach,F=Y.pick,N=Y.splat,O=Y.uniqueKey;return function(g){var d=[];g.compose=function(_){return-1===d.indexOf(_)&&(d.push(_),$(_.prototype,v.prototype)),_};var v=function(){function _(){}return _.prototype.currentOptions=function(T){var C=this,M={};return function y(D,x,f,m){var r;X(D,function(p,a){if(!m&&-1<C.collectionsWithUpdate.indexOf(a)&&x[a])for(p=N(p),f[a]=[],r=0;r<Math.max(p.length,x[a].length);r++)x[a][r]&&(void 0===p[r]?f[a][r]=x[a][r]:(f[a][r]={},y(p[r],x[a][r],f[a][r],m+1)));else J(p)?(f[a]=rt(p)?[]:{},y(p,x[a]||{},f[a],m+1)):f[a]=void 0===x[a]?null:x[a]})}(T,this.options,M,0),M},_.prototype.matchResponsiveRule=function(T,y){var C=T.condition;(C.callback||function(){return this.chartWidth<=F(C.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=F(C.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=F(C.minWidth,0)&&this.chartHeight>=F(C.minHeight,0)}).call(this)&&y.push(T._id)},_.prototype.setResponsive=function(T,y){var C=this,M=this.options.responsive,D=this.currentResponsive,x=[];!y&&M&&M.rules&&M.rules.forEach(function(f){void 0===f._id&&(f._id=O()),C.matchResponsiveRule(f,x)},this),(y=K.apply(void 0,x.map(function(f){return q((M||{}).rules||[],function(m){return m._id===f})}).map(function(f){return f&&f.chartOptions}))).isResponsiveOptions=!0,(x=x.toString()||void 0)!==(D&&D.ruleIds)&&(D&&this.update(D.undoOptions,T,!0),x?((D=this.currentOptions(y)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:x,mergedOptions:y,undoOptions:D},this.update(y,T,!0)):this.currentResponsive=void 0)},_}()}(k||(k={})),k}),wt(o,"masters/highcharts.src.js",[o["Core/Globals.js"],o["Core/Utilities.js"],o["Core/DefaultOptions.js"],o["Core/Animation/Fx.js"],o["Core/Animation/AnimationUtilities.js"],o["Core/Renderer/HTML/AST.js"],o["Core/FormatUtilities.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Renderer/HTML/HTMLElement.js"],o["Core/Renderer/HTML/HTMLRenderer.js"],o["Core/Axis/Axis.js"],o["Core/Axis/DateTimeAxis.js"],o["Core/Axis/LogarithmicAxis.js"],o["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],o["Core/Axis/Tick.js"],o["Core/Tooltip.js"],o["Core/Series/Point.js"],o["Core/Pointer.js"],o["Core/MSPointer.js"],o["Core/Legend/Legend.js"],o["Core/Chart/Chart.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Series/Column/ColumnSeries.js"],o["Series/Column/ColumnDataLabel.js"],o["Series/Pie/PieSeries.js"],o["Series/Pie/PieDataLabel.js"],o["Core/Series/DataLabel.js"],o["Core/Responsive.js"],o["Core/Color/Color.js"],o["Core/Time.js"]],function(Y,$,q,rt,J,K,X,F,N,O,k,g,d,v,_,T,y,C,M,D,x,f,m,r,p,a,n,h,l,w,P,I,L){return Y.animate=J.animate,Y.animObject=J.animObject,Y.getDeferredAnimation=J.getDeferredAnimation,Y.setAnimation=J.setAnimation,Y.stop=J.stop,Y.timers=rt.timers,Y.AST=K,Y.Axis=d,Y.Chart=m,Y.chart=m.chart,Y.Fx=rt,Y.Legend=f,Y.PlotLineOrBand=T,Y.Point=M,Y.Pointer=x.isRequired()?x:D,Y.Series=r,Y.SVGElement=N,Y.SVGRenderer=O,Y.Tick=y,Y.Time=L,Y.Tooltip=C,Y.Color=I,Y.color=I.parse,g.compose(O),k.compose(N),Y.defaultOptions=q.defaultOptions,Y.getOptions=q.getOptions,Y.time=q.defaultTime,Y.setOptions=q.setOptions,Y.dateFormat=X.dateFormat,Y.format=X.format,Y.numberFormat=X.numberFormat,Y.addEvent=$.addEvent,Y.arrayMax=$.arrayMax,Y.arrayMin=$.arrayMin,Y.attr=$.attr,Y.clearTimeout=$.clearTimeout,Y.correctFloat=$.correctFloat,Y.createElement=$.createElement,Y.css=$.css,Y.defined=$.defined,Y.destroyObjectProperties=$.destroyObjectProperties,Y.discardElement=$.discardElement,Y.distribute=F.distribute,Y.erase=$.erase,Y.error=$.error,Y.extend=$.extend,Y.extendClass=$.extendClass,Y.find=$.find,Y.fireEvent=$.fireEvent,Y.getMagnitude=$.getMagnitude,Y.getStyle=$.getStyle,Y.inArray=$.inArray,Y.isArray=$.isArray,Y.isClass=$.isClass,Y.isDOMElement=$.isDOMElement,Y.isFunction=$.isFunction,Y.isNumber=$.isNumber,Y.isObject=$.isObject,Y.isString=$.isString,Y.keys=$.keys,Y.merge=$.merge,Y.normalizeTickInterval=$.normalizeTickInterval,Y.objectEach=$.objectEach,Y.offset=$.offset,Y.pad=$.pad,Y.pick=$.pick,Y.pInt=$.pInt,Y.relativeLength=$.relativeLength,Y.removeEvent=$.removeEvent,Y.seriesType=p.seriesType,Y.splat=$.splat,Y.stableSort=$.stableSort,Y.syncTimeout=$.syncTimeout,Y.timeUnits=$.timeUnits,Y.uniqueKey=$.uniqueKey,Y.useSerialIds=$.useSerialIds,Y.wrap=$.wrap,n.compose(a),w.compose(r),v.compose(d),_.compose(d),l.compose(h),T.compose(d),P.compose(m),Y}),o["masters/highcharts.src.js"]._modules=o,o["masters/highcharts.src.js"]},we.exports?(wt.default=wt,we.exports=qt.document?wt(qt):wt):void 0!==(Nt=function(){return wt(qt)}.call(_e,Xt,_e,we))&&(we.exports=Nt)},7575:function(we,_e,Xt){"use strict";var Nt,qt,wt;qt="undefined"!=typeof window?window:this,wt=function(qt){function wt(Y,$,q,rt){Y.hasOwnProperty($)||(Y[$]=rt.apply(null,q))}var o={};return wt(o,"Core/Globals.js",[],function(){var $,q,Y=void 0!==qt?qt:"undefined"!=typeof window?window:{};return(q=$||($={})).SVG_NS="http://www.w3.org/2000/svg",q.product="Highcharts",q.version="9.3.3",q.win=Y,q.doc=q.win.document,q.svg=q.doc&&q.doc.createElementNS&&!!q.doc.createElementNS(q.SVG_NS,"svg").createSVGRect,q.userAgent=q.win.navigator&&q.win.navigator.userAgent||"",q.isChrome=-1!==q.userAgent.indexOf("Chrome"),q.isFirefox=-1!==q.userAgent.indexOf("Firefox"),q.isMS=/(edge|msie|trident)/i.test(q.userAgent)&&!q.win.opera,q.isSafari=!q.isChrome&&-1!==q.userAgent.indexOf("Safari"),q.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(q.userAgent),q.isWebKit=-1!==q.userAgent.indexOf("AppleWebKit"),q.deg2rad=2*Math.PI/360,q.hasBidiBug=q.isFirefox&&4>parseInt(q.userAgent.split("Firefox/")[1],10),q.hasTouch=!!q.win.TouchEvent,q.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],q.noop=function(){},q.supportsPassiveEvents=function(){var rt=!1;if(!q.isMS){var J=Object.defineProperty({},"passive",{get:function(){rt=!0}});q.win.addEventListener&&q.win.removeEventListener&&(q.win.addEventListener("testPassive",q.noop,J),q.win.removeEventListener("testPassive",q.noop,J))}return rt}(),q.charts=[],q.dateFormats={},q.seriesTypes={},q.symbolSizes={},q.chartCount=0,$}),wt(o,"Core/Utilities.js",[o["Core/Globals.js"]],function(Y){function $(n,h,l,w){var P=h?"Highcharts error":"Highcharts warning";32===n&&(n=P+": Deprecated member");var I=O(n),L=I?P+" #"+n+": www.highcharts.com/errors/"+n+"/":n.toString();if(void 0!==w){var S="";I&&(L+="?"),C(w,function(B,c){S+="\n - "+c+": "+B,I&&(L+=encodeURI(c)+"="+encodeURI(B))}),L+=S}D(Y,"displayError",{chart:l,code:n,message:L,params:w},function(){if(h)throw Error(L);m.console&&-1===$.messages.indexOf(L)&&console.warn(L)}),$.messages.push(L)}function rt(n,h){return parseInt(n,h||10)}function J(n){return"string"==typeof n}function K(n){return"[object Array]"===(n=Object.prototype.toString.call(n))||"[object Array Iterator]"===n}function X(n,h){return!(!n||"object"!=typeof n||h&&K(n))}function F(n){return X(n)&&"number"==typeof n.nodeType}function N(n){var h=n&&n.constructor;return!(!X(n,!0)||F(n)||!h||!h.name||"Object"===h.name)}function O(n){return"number"==typeof n&&!isNaN(n)&&1/0>n&&-1/0<n}function k(n){return null!=n}function g(n,h,l){var w;return J(h)?k(l)?n.setAttribute(h,l):n&&n.getAttribute&&((w=n.getAttribute(h))||"class"!==h||(w=n.getAttribute(h+"Name"))):C(h,function(P,I){k(P)?n.setAttribute(I,P):n.removeAttribute(I)}),w}function d(n,h){var l;for(l in n||(n={}),h)n[l]=h[l];return n}function v(){for(var n=arguments,h=n.length,l=0;l<h;l++){var w=n[l];if(null!=w)return w}}function _(n,h){Y.isMS&&!Y.svg&&h&&void 0!==h.opacity&&(h.filter="alpha(opacity="+100*h.opacity+")"),d(n.style,h)}function T(n,h){return 1e14<n?n:parseFloat(n.toPrecision(h||14))}function C(n,h,l){for(var w in n)Object.hasOwnProperty.call(n,w)&&h.call(l||n[w],n[w],w,n)}function M(n,h,l){function w(S,B){var c=n.removeEventListener||Y.removeEventListenerPolyfill;c&&c.call(n,S,B,!1)}function P(S){var B;if(n.nodeName){if(h){var c={};c[h]=!0}else c=S;C(c,function(u,E){if(S[E])for(B=S[E].length;B--;)w(E,S[E][B].fn)})}}var I="function"==typeof n&&n.prototype||n;if(Object.hasOwnProperty.call(I,"hcEvents")){var L=I.hcEvents;h?(I=L[h]||[],l?(L[h]=I.filter(function(S){return l!==S.fn}),w(h,l)):(P(L),L[h]=[])):(P(L),delete I.hcEvents)}}function D(n,h,l,w){if(l=l||{},f.createEvent&&(n.dispatchEvent||n.fireEvent&&n!==Y)){var P=f.createEvent("Events");P.initEvent(h,!0,!0),l=d(P,l),n.dispatchEvent?n.dispatchEvent(l):n.fireEvent(h,l)}else if(n.hcEvents){l.target||d(l,{preventDefault:function(){l.defaultPrevented=!0},target:n,type:h}),P=[];for(var I=n,L=!1;I.hcEvents;)Object.hasOwnProperty.call(I,"hcEvents")&&I.hcEvents[h]&&(P.length&&(L=!0),P.unshift.apply(P,I.hcEvents[h])),I=Object.getPrototypeOf(I);L&&P.sort(function(S,B){return S.order-B.order}),P.forEach(function(S){!1===S.fn.call(n,l)&&l.preventDefault()})}w&&!l.defaultPrevented&&w.call(n,l)}var x=Y.charts,f=Y.doc,m=Y.win;($||($={})).messages=[],Math.easeInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)};var r=Array.prototype.find?function(n,h){return n.find(h)}:function(n,h){var l,w=n.length;for(l=0;l<w;l++)if(h(n[l],l))return n[l]};C({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(n,h){Y[h]=function(l){var w;return $(32,!1,void 0,((w={})["Highcharts."+h]="use Array."+n,w)),Array.prototype[n].apply(l,[].slice.call(arguments,1))}});var p,n,h,a=(n=Math.random().toString(36).substring(2,9)+"-",h=0,function(){return"highcharts-"+(p?"":n)+h++});return m.jQuery&&(m.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(Y[J(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):x[g(this[0],"data-highcharts-chart")]}),r={addEvent:function(n,h,l,w){void 0===w&&(w={});var P="function"==typeof n&&n.prototype||n;Object.hasOwnProperty.call(P,"hcEvents")||(P.hcEvents={}),P=P.hcEvents,Y.Point&&n instanceof Y.Point&&n.series&&n.series.chart&&(n.series.chart.runTrackerClick=!0);var I=n.addEventListener||Y.addEventListenerPolyfill;return I&&I.call(n,h,l,!!Y.supportsPassiveEvents&&{passive:void 0===w.passive?-1!==h.indexOf("touch"):w.passive,capture:!1}),P[h]||(P[h]=[]),P[h].push({fn:l,order:"number"==typeof w.order?w.order:1/0}),P[h].sort(function(L,S){return L.order-S.order}),function(){M(n,h,l)}},arrayMax:function(n){for(var h=n.length,l=n[0];h--;)n[h]>l&&(l=n[h]);return l},arrayMin:function(n){for(var h=n.length,l=n[0];h--;)n[h]<l&&(l=n[h]);return l},attr:g,clamp:function(n,h,l){return n>h?n<l?n:l:h},cleanRecursively:function q(n,h){var l={};return C(n,function(w,P){X(n[P],!0)&&!n.nodeType&&h[P]?(w=q(n[P],h[P]),Object.keys(w).length&&(l[P]=w)):(X(n[P])||n[P]!==h[P])&&(l[P]=n[P])}),l},clearTimeout:function(n){k(n)&&clearTimeout(n)},correctFloat:T,createElement:function(n,h,l,w,P){return n=f.createElement(n),h&&d(n,h),P&&_(n,{padding:"0",border:"none",margin:"0"}),l&&_(n,l),w&&w.appendChild(n),n},css:_,defined:k,destroyObjectProperties:function(n,h){C(n,function(l,w){l&&l!==h&&l.destroy&&l.destroy(),delete n[w]})},discardElement:function(n){n&&n.parentElement&&n.parentElement.removeChild(n)},erase:function(n,h){for(var l=n.length;l--;)if(n[l]===h){n.splice(l,1);break}},error:$,extend:d,extendClass:function(n,h){var l=function(){};return d(l.prototype=new n,h),l},find:r,fireEvent:D,getMagnitude:function(n){return Math.pow(10,Math.floor(Math.log(n)/Math.LN10))},getNestedProperty:function(n,h){for(n=n.split(".");n.length&&k(h);){var l=n.shift();if(void 0===l||"__proto__"===l||!k(h=h[l])||"function"==typeof h||"number"==typeof h.nodeType||h===m)return}return h},getStyle:function y(n,h,l){var w=Y.getStyle||y;if("width"===h)return h=Math.min(n.offsetWidth,n.scrollWidth),(l=n.getBoundingClientRect&&n.getBoundingClientRect().width)<h&&l>=h-1&&(h=Math.floor(l)),Math.max(0,h-(w(n,"padding-left",!0)||0)-(w(n,"padding-right",!0)||0));if("height"===h)return Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-(w(n,"padding-top",!0)||0)-(w(n,"padding-bottom",!0)||0));if(m.getComputedStyle||$(27,!0),n=m.getComputedStyle(n,void 0)){var P=n.getPropertyValue(h);v(l,"opacity"!==h)&&(P=rt(P))}return P},inArray:function(n,h,l){return $(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),h.indexOf(n,l)},isArray:K,isClass:N,isDOMElement:F,isFunction:function(n){return"function"==typeof n},isNumber:O,isObject:X,isString:J,keys:function(n){return $(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(n)},merge:function(){var n,h=arguments,l={},w=function(I,L){return"object"!=typeof I&&(I={}),C(L,function(S,B){"__proto__"!==B&&"constructor"!==B&&(I[B]=!X(S,!0)||N(S)||F(S)?L[B]:w(I[B]||{},S))}),I};!0===h[0]&&(l=h[1],h=Array.prototype.slice.call(h,2));var P=h.length;for(n=0;n<P;n++)l=w(l,h[n]);return l},normalizeTickInterval:function(n,h,l,w,P){var I=n,L=n/(l=v(l,1));for(h||(h=P?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===w&&(1===l?h=h.filter(function(S){return S%1==0}):.1>=l&&(h=[1/l]))),w=0;w<h.length&&(I=h[w],!(P&&I*l>=n||!P&&L<=(h[w]+(h[w+1]||h[w]))/2));w++);return T(I*l,-Math.round(Math.log(.001)/Math.LN10))},objectEach:C,offset:function(n){var h=f.documentElement;return{top:(n=n.parentElement||n.parentNode?n.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(m.pageYOffset||h.scrollTop)-(h.clientTop||0),left:n.left+(m.pageXOffset||h.scrollLeft)-(h.clientLeft||0),width:n.width,height:n.height}},pad:function(n,h,l){return Array((h||2)+1-String(n).replace("-","").length).join(l||"0")+n},pick:v,pInt:rt,relativeLength:function(n,h,l){return/%$/.test(n)?h*parseFloat(n)/100+(l||0):parseFloat(n)},removeEvent:M,splat:function(n){return K(n)?n:[n]},stableSort:function(n,h){var w,P,l=n.length;for(P=0;P<l;P++)n[P].safeI=P;for(n.sort(function(I,L){return 0===(w=h(I,L))?I.safeI-L.safeI:w}),P=0;P<l;P++)delete n[P].safeI},syncTimeout:function(n,h,l){return 0<h?setTimeout(n,h,l):(n.call(0,l),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:a,useSerialIds:function(n){return p=v(n,p)},wrap:function(n,h,l){var w=n[h];n[h]=function(){var P=Array.prototype.slice.call(arguments),I=arguments,L=this;return L.proceed=function(){w.apply(L,arguments.length?arguments:I)},P.unshift(w),P=l.apply(this,P),L.proceed=null,P}}},r}),wt(o,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),wt(o,"Core/Color/Color.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$){var q=$.isNumber,rt=$.merge,J=$.pInt;return function(){function K(X){this.rgba=[NaN,NaN,NaN,NaN],this.input=X;var F=Y.Color;return F&&F!==K?new F(X):this instanceof K?void this.init(X):new K(X)}return K.parse=function(X){return X?new K(X):K.None},K.prototype.init=function(X){var F;if("object"==typeof X&&void 0!==X.stops)this.stops=X.stops.map(function(g){return new K(g[1])});else if("string"==typeof X){if(this.input=X=K.names[X.toLowerCase()]||X,"#"===X.charAt(0)){var N=X.length,O=parseInt(X.substr(1),16);7===N?F=[(16711680&O)>>16,(65280&O)>>8,255&O,1]:4===N&&(F=[(3840&O)>>4|(3840&O)>>8,(240&O)>>4|240&O,(15&O)<<4|15&O,1])}if(!F)for(O=K.parsers.length;O--&&!F;){var k=K.parsers[O];(N=k.regex.exec(X))&&(F=k.parse(N))}}F&&(this.rgba=F)},K.prototype.get=function(X){var F=this.input,N=this.rgba;if("object"==typeof F&&void 0!==this.stops){var O=rt(F);return O.stops=[].slice.call(O.stops),this.stops.forEach(function(k,g){O.stops[g]=[O.stops[g][0],k.get(X)]}),O}return N&&q(N[0])?"rgb"===X||!X&&1===N[3]?"rgb("+N[0]+","+N[1]+","+N[2]+")":"a"===X?""+N[3]:"rgba("+N.join(",")+")":F},K.prototype.brighten=function(X){var F=this.rgba;if(this.stops)this.stops.forEach(function(O){O.brighten(X)});else if(q(X)&&0!==X)for(var N=0;3>N;N++)F[N]+=J(255*X),0>F[N]&&(F[N]=0),255<F[N]&&(F[N]=255);return this},K.prototype.setOpacity=function(X){return this.rgba[3]=X,this},K.prototype.tweenTo=function(X,F){var N=this.rgba,O=X.rgba;return q(N[0])&&q(O[0])?((X=1!==O[3]||1!==N[3])?"rgba(":"rgb(")+Math.round(O[0]+(N[0]-O[0])*(1-F))+","+Math.round(O[1]+(N[1]-O[1])*(1-F))+","+Math.round(O[2]+(N[2]-O[2])*(1-F))+(X?","+(O[3]+(N[3]-O[3])*(1-F)):"")+")":X.input||"none"},K.names={white:"#ffffff",black:"#000000"},K.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(X){return[J(X[1]),J(X[2]),J(X[3]),parseFloat(X[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(X){return[J(X[1]),J(X[2]),J(X[3]),1]}}],K.None=new K(""),K}()}),wt(o,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),wt(o,"Core/Time.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$){var q=Y.win,rt=$.defined,J=$.error,K=$.extend,X=$.isObject,F=$.merge,N=$.objectEach,O=$.pad,k=$.pick,g=$.splat,d=$.timeUnits,v=Y.isSafari&&q.Intl&&q.Intl.DateTimeFormat.prototype.formatRange,_=Y.isSafari&&q.Intl&&!q.Intl.DateTimeFormat.prototype.formatRange;return $=function(){function T(y){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=q.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(y)}return T.prototype.get=function(y,C){if(this.variableTimezone||this.timezoneOffset){var M=C.getTime(),D=M-this.getTimezoneOffset(C);return C.setTime(D),y=C["getUTC"+y](),C.setTime(M),y}return this.useUTC?C["getUTC"+y]():C["get"+y]()},T.prototype.set=function(y,C,M){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===y||"Seconds"===y||"Minutes"===y&&this.getTimezoneOffset(C)%36e5==0)return C["setUTC"+y](M);var D=this.getTimezoneOffset(C);return D=C.getTime()-D,C.setTime(D),C["setUTC"+y](M),y=this.getTimezoneOffset(C),D=C.getTime()+y,C.setTime(D)}return this.useUTC||v&&"FullYear"===y?C["setUTC"+y](M):C["set"+y](M)},T.prototype.update=function(y){var C=k(y&&y.useUTC,!0);this.options=y=F(!0,this.options||{},y),this.Date=y.Date||q.Date||Date,this.timezoneOffset=(this.useUTC=C)&&y.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=C&&!(!y.getTimezoneOffset&&!y.timezone)},T.prototype.makeTime=function(y,C,M,D,x,f){if(this.useUTC){var m=this.Date.UTC.apply(0,arguments),r=this.getTimezoneOffset(m),p=this.getTimezoneOffset(m+=r);r!==p?m+=p-r:r-36e5!==this.getTimezoneOffset(m-36e5)||_||(m-=36e5)}else m=new this.Date(y,C,k(M,1),k(D,0),k(x,0),k(f,0)).getTime();return m},T.prototype.timezoneOffsetFunction=function(){var y=this,C=this.options,M=C.getTimezoneOffset,D=C.moment||q.moment;if(!this.useUTC)return function(x){return 6e4*new Date(x.toString()).getTimezoneOffset()};if(C.timezone){if(D)return function(x){return 6e4*-D.tz(x,C.timezone).utcOffset()};J(25)}return this.useUTC&&M?function(x){return 6e4*M(x.valueOf())}:function(){return 6e4*(y.timezoneOffset||0)}},T.prototype.dateFormat=function(y,C,M){if(!rt(C)||isNaN(C))return Y.defaultOptions.lang&&Y.defaultOptions.lang.invalidDate||"";y=k(y,"%Y-%m-%d %H:%M:%S");var D=this,x=new this.Date(C),f=this.get("Hours",x),m=this.get("Day",x),r=this.get("Date",x),p=this.get("Month",x),a=this.get("FullYear",x),n=Y.defaultOptions.lang,h=n&&n.weekdays,l=n&&n.shortWeekdays;return x=K({a:l?l[m]:h[m].substr(0,3),A:h[m],d:O(r),e:O(r,2," "),w:m,b:n.shortMonths[p],B:n.months[p],m:O(p+1),o:p+1,y:a.toString().substr(2,2),Y:a,H:O(f),k:f,I:O(f%12||12),l:f%12||12,M:O(this.get("Minutes",x)),p:12>f?"AM":"PM",P:12>f?"am":"pm",S:O(x.getSeconds()),L:O(Math.floor(C%1e3),3)},Y.dateFormats),N(x,function(w,P){for(;-1!==y.indexOf("%"+P);)y=y.replace("%"+P,"function"==typeof w?w.call(D,C):w)}),M?y.substr(0,1).toUpperCase()+y.substr(1):y},T.prototype.resolveDTLFormat=function(y){return X(y,!0)?y:{main:(y=g(y))[0],from:y[1],to:y[2]}},T.prototype.getTimeTicks=function(y,C,M,D){var n,x=this,f=[],m={},r=new x.Date(C),p=y.unitRange,a=y.count||1;if(D=k(D,1),rt(C)){if(x.set("Milliseconds",r,p>=d.second?0:a*Math.floor(x.get("Milliseconds",r)/a)),p>=d.second&&x.set("Seconds",r,p>=d.minute?0:a*Math.floor(x.get("Seconds",r)/a)),p>=d.minute&&x.set("Minutes",r,p>=d.hour?0:a*Math.floor(x.get("Minutes",r)/a)),p>=d.hour&&x.set("Hours",r,p>=d.day?0:a*Math.floor(x.get("Hours",r)/a)),p>=d.day&&x.set("Date",r,p>=d.month?1:Math.max(1,a*Math.floor(x.get("Date",r)/a))),p>=d.month){x.set("Month",r,p>=d.year?0:a*Math.floor(x.get("Month",r)/a));var h=x.get("FullYear",r)}p>=d.year&&x.set("FullYear",r,h-h%a),p===d.week&&(h=x.get("Day",r),x.set("Date",r,x.get("Date",r)-h+D+(h<D?-7:0))),h=x.get("FullYear",r),D=x.get("Month",r);var l=x.get("Date",r),w=x.get("Hours",r);for(C=r.getTime(),!x.variableTimezone&&x.useUTC||!rt(M)||(n=M-C>4*d.month||x.getTimezoneOffset(C)!==x.getTimezoneOffset(M)),C=r.getTime(),r=1;C<M;)f.push(C),C=p===d.year?x.makeTime(h+r*a,0):p===d.month?x.makeTime(h,D+r*a):!n||p!==d.day&&p!==d.week?n&&p===d.hour&&1<a?x.makeTime(h,D,l,w+r*a):C+p*a:x.makeTime(h,D,l+r*a*(p===d.day?1:7)),r++;f.push(C),p<=d.hour&&1e4>f.length&&f.forEach(function(P){P%18e5==0&&"000000000"===x.dateFormat("%H%M%S%L",P)&&(m[P]="day")})}return f.info=K(y,{higherRanks:m,totalRange:p*a}),f},T.prototype.getDateFormat=function(y,C,M,D){var x=this.dateFormat("%m-%d %H:%M:%S.%L",C),f={millisecond:15,second:12,minute:9,hour:6,day:3},m="millisecond";for(r in d){if(y===d.week&&+this.dateFormat("%w",C)===M&&"00:00:00.000"===x.substr(6)){var r="week";break}if(d[r]>y){r=m;break}if(f[r]&&x.substr(f[r])!=="01-01 00:00:00.000".substr(f[r]))break;"week"!==r&&(m=r)}if(r)var p=this.resolveDTLFormat(D[r]).main;return p},T}(),$}),wt(o,"Core/DefaultOptions.js",[o["Core/Chart/ChartDefaults.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Color/Palettes.js"],o["Core/Time.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){$=$.parse;var X=K.merge,F={colors:rt.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:Y,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:q.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:q.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:$("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};F.chart.styledMode=!1;var N=new J(X(F.global,F.time));return{defaultOptions:F,defaultTime:N,getOptions:function(){return F},setOptions:function(O){return X(!0,F,O),(O.time||O.global)&&(q.time?q.time.update(X(F.global,F.time,O.global,O.time)):q.time=N),F}}}),wt(o,"Core/Animation/Fx.js",[o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=Y.parse,J=$.win,K=q.isNumber,X=q.objectEach;return function(){function F(N,O,k){this.pos=NaN,this.options=O,this.elem=N,this.prop=k}return F.prototype.dSetter=function(){var N=this.paths,O=N&&N[0];N=N&&N[1];var k=this.now||0,g=[];if(1!==k&&O&&N)if(O.length===N.length&&1>k)for(var d=0;d<N.length;d++){for(var v=O[d],_=N[d],T=[],y=0;y<_.length;y++){var C=v[y],M=_[y];T[y]=K(C)&&K(M)&&("A"!==_[0]||4!==y&&5!==y)?C+k*(M-C):M}g.push(T)}else g=N;else g=this.toD||[];this.elem.attr("d",g,void 0,!0)},F.prototype.update=function(){var N=this.elem,O=this.prop,k=this.now,g=this.options.step;this[O+"Setter"]?this[O+"Setter"]():N.attr?N.element&&N.attr(O,k,null,!0):N.style[O]=k+this.unit,g&&g.call(N,k,this)},F.prototype.run=function(N,O,k){var g=this,d=g.options,v=function(y){return!v.stopped&&g.step(y)},_=J.requestAnimationFrame||function(y){setTimeout(y,13)},T=function(){for(var y=0;y<F.timers.length;y++)F.timers[y]()||F.timers.splice(y--,1);F.timers.length&&_(T)};N!==O||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=N,this.end=O,this.unit=k,this.now=this.start,this.pos=0,v.elem=this.elem,v.prop=this.prop,v()&&1===F.timers.push(v)&&_(T)):(delete d.curAnim[this.prop],d.complete&&0===Object.keys(d.curAnim).length&&d.complete.call(this.elem))},F.prototype.step=function(N){var O=+new Date,k=this.options,g=this.elem,d=k.complete,v=k.duration,_=k.curAnim;if(g.attr&&!g.element)N=!1;else if(N||O>=v+this.startTime){this.now=this.end,this.pos=1,this.update();var T=_[this.prop]=!0;X(_,function(y){!0!==y&&(T=!1)}),T&&d&&d.call(g),N=!1}else this.pos=k.easing((O-this.startTime)/v),this.now=this.start+(this.end-this.start)*this.pos,this.update(),N=!0;return N},F.prototype.initPath=function(N,O,k){function g(x,f){for(;x.length<D;){var m=x[0],r=f[D-x.length];r&&"M"===m[0]&&(x[0]="C"===r[0]?["C",m[1],m[2],m[1],m[2],m[1],m[2]]:["L",m[1],m[2]]),x.unshift(m),T&&(m=x.pop(),x.push(x[x.length-1],m))}}function d(x,f){for(;x.length<D;)if("C"===(f=x[Math.floor(x.length/y)-1].slice())[0]&&(f[1]=f[5],f[2]=f[6]),T){var m=x[Math.floor(x.length/y)].slice();x.splice(x.length/2,0,f,m)}else x.push(f)}var v=N.startX,_=N.endX;k=k.slice();var T=N.isArea,y=T?2:1;if(!(O=O&&O.slice()))return[k,k];if(v&&_&&_.length){for(N=0;N<v.length;N++){if(v[N]===_[0]){var C=N;break}if(v[0]===_[_.length-v.length+N]){C=N;var M=!0;break}if(v[v.length-1]===_[_.length-v.length+N]){C=v.length-N;break}}void 0===C&&(O=[])}if(O.length&&K(C)){var D=k.length+C*y;M?(g(O,k),d(k,O)):(g(k,O),d(O,k))}return[O,k]},F.prototype.fillSetter=function(){F.prototype.strokeSetter.apply(this,arguments)},F.prototype.strokeSetter=function(){this.elem.attr(this.prop,rt(this.start).tweenTo(rt(this.end),this.pos),void 0,!0)},F.timers=[],F}()}),wt(o,"Core/Animation/AnimationUtilities.js",[o["Core/Animation/Fx.js"],o["Core/Utilities.js"]],function(Y,$){function q(d){return N(d)?O({duration:500,defer:0},d):{duration:d?500:0,defer:0}}function rt(d,v){for(var _=Y.timers.length;_--;)Y.timers[_].elem!==d||v&&v!==Y.timers[_].prop||(Y.timers[_].stopped=!0)}var J=$.defined,K=$.getStyle,X=$.isArray,F=$.isNumber,N=$.isObject,O=$.merge,k=$.objectEach,g=$.pick;return{animate:function(d,v,_){var T,C,M,y="";if(!N(_)){var D=arguments;_={duration:D[2],easing:D[3],complete:D[4]}}F(_.duration)||(_.duration=400),_.easing="function"==typeof _.easing?_.easing:Math[_.easing]||Math.easeInOutSine,_.curAnim=O(v),k(v,function(x,f){rt(d,f),M=new Y(d,_,f),C=void 0,"d"===f&&X(v.d)?(M.paths=M.initPath(d,d.pathArray,v.d),M.toD=v.d,T=0,C=1):d.attr?T=d.attr(f):(T=parseFloat(K(d,f))||0,"opacity"!==f&&(y="px")),C||(C=x),"string"==typeof C&&C.match("px")&&(C=C.replace(/px/g,"")),M.run(T,C,y)})},animObject:q,getDeferredAnimation:function(d,v,_){var T=q(v),y=0,C=0;return(_?[_]:d.series).forEach(function(M){M=q(M.options.animation),y=v&&J(v.defer)?T.defer:Math.max(y,M.duration+M.defer),C=Math.min(T.duration,M.duration)}),d.renderer.forExport&&(y=0),{defer:Math.max(0,y-C),duration:Math.min(y,C)}},setAnimation:function(d,v){v.renderer.globalAnimation=g(d,v.options.chart.animation,!0)},stop:rt}}),wt(o,"Core/Renderer/HTML/AST.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$){var q=Y.SVG_NS,rt=$.attr,J=$.createElement,K=$.error,X=$.isFunction,F=$.isString,N=$.objectEach,O=$.splat,k=($=Y.win.trustedTypes)&&X($.createPolicy)&&$.createPolicy("highcharts",{createHTML:function(v){return v}}),g=k?k.createHTML(""):"";try{var d=!!(new DOMParser).parseFromString(g,"text/html")}catch(v){d=!1}return function(){function v(_){this.nodes="string"==typeof _?this.parseMarkup(_):_}return v.filterUserAttributes=function(_){return N(_,function(T,y){var C=!0;-1===v.allowedAttributes.indexOf(y)&&(C=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(y)&&(C=F(T)&&v.allowedReferences.some(function(M){return 0===T.indexOf(M)})),C||(K("Highcharts warning: Invalid attribute '"+y+"' in config"),delete _[y])}),_},v.setElementHTML=function(_,T){_.innerHTML=v.emptyHTML,T&&new v(T).addToDOM(_)},v.prototype.addToDOM=function(_){return function T(y,C){var M;return O(y).forEach(function(D){var x=D.tagName,f=D.textContent?Y.doc.createTextNode(D.textContent):void 0;if(x)if("#text"===x)var m=f;else if(-1!==v.allowedTags.indexOf(x)){x=Y.doc.createElementNS("svg"===x?q:C.namespaceURI||q,x);var r=D.attributes||{};N(D,function(p,a){"tagName"!==a&&"attributes"!==a&&"children"!==a&&"textContent"!==a&&(r[a]=p)}),rt(x,v.filterUserAttributes(r)),f&&x.appendChild(f),T(D.children||[],x),m=x}else K("Highcharts warning: Invalid tagName "+x+" in config");m&&C.appendChild(m),M=m}),M}(this.nodes,_)},v.prototype.parseMarkup=function(_){var T=[];if(_=_.trim(),d)_=(new DOMParser).parseFromString(k?k.createHTML(_):_,"text/html");else{var y=J("div");y.innerHTML=_,_={body:y}}var C=function(M,D){var x=M.nodeName.toLowerCase(),f={tagName:x};if("#text"===x&&(f.textContent=M.textContent||""),x=M.attributes){var m={};[].forEach.call(x,function(p){m[p.name]=p.value}),f.attributes=m}if(M.childNodes.length){var r=[];[].forEach.call(M.childNodes,function(p){C(p,r)}),r.length&&(f.children=r)}D.push(f)};return[].forEach.call(_.body.childNodes,function(M){return C(M,T)}),T},v.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),v.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),v.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),v.emptyHTML=g,v}()}),wt(o,"Core/FormatUtilities.js",[o["Core/DefaultOptions.js"],o["Core/Utilities.js"]],function(Y,$){function q(O,k,g,d){k=+k;var v=rt.lang,_=((O=+O||0).toString().split(".")[1]||"").split("e")[0].length,T=O.toString().split("e"),y=k;if(-1===k)k=Math.min(_,20);else if(X(k)){if(k&&T[1]&&0>T[1]){var C=k+ +T[1];0<=C?(T[0]=(+T[0]).toExponential(C).split("e")[0],k=C):(T[0]=T[0].split(".")[0]||0,O=20>k?(T[0]*Math.pow(10,T[1])).toFixed(k):0,T[1]=0)}}else k=2;C=(Math.abs(T[1]?T[0]:O)+Math.pow(10,-Math.max(k,_)-1)).toFixed(k);var M=3<(_=String(N(C))).length?_.length%3:0;return g=F(g,v.decimalPoint),d=F(d,v.thousandsSep),O=(0>O?"-":"")+(M?_.substr(0,M)+d:""),O=0>+T[1]&&!y?"0":O+_.substr(M).replace(/(\d{3})(?=\d)/g,"$1"+d),k&&(O+=g+C.slice(-k)),T[1]&&0!=+O&&(O+="e"+T[1]),O}var rt=Y.defaultOptions,J=Y.defaultTime,K=$.getNestedProperty,X=$.isNumber,F=$.pick,N=$.pInt;return{dateFormat:function(O,k,g){return J.dateFormat(O,k,g)},format:function(O,k,g){var d="{",v=!1,_=/f$/,T=/\.([0-9])/,y=rt.lang,C=g&&g.time||J;g=g&&g.numberFormatter||q;for(var M=[];O;){var D=O.indexOf(d);if(-1===D)break;var x=O.slice(0,D);if(v){if(x=x.split(":"),d=K(x.shift()||"",k),x.length&&"number"==typeof d)if(x=x.join(":"),_.test(x)){var f=parseInt((x.match(T)||["","-1"])[1],10);null!==d&&(d=g(d,f,y.decimalPoint,-1<x.indexOf(",")?y.thousandsSep:""))}else d=C.dateFormat(x,d);M.push(d)}else M.push(x);O=O.slice(D+1),d=(v=!v)?"}":"{"}return M.push(O),M.join("")},numberFormat:q}}),wt(o,"Core/Renderer/RendererUtilities.js",[o["Core/Utilities.js"]],function(Y){var J,$=Y.clamp,q=Y.pick,rt=Y.stableSort;return(J||(J={})).distribute=function X(F,N,O){var _,k=F,g=k.reducedLen||N,d=function(M,D){return(D.rank||0)-(M.rank||0)},v=function(M,D){return M.target-D.target},T=!0,y=[],C=0;for(_=F.length;_--;)C+=F[_].size;if(C>g){for(rt(F,d),C=_=0;C<=g;)C+=F[_].size,_++;y=F.splice(_-1,F.length)}for(rt(F,v),F=F.map(function(M){return{size:M.size,targets:[M.target],align:q(M.align,.5)}});T;){for(_=F.length;_--;)g=F[_],d=(Math.min.apply(0,g.targets)+Math.max.apply(0,g.targets))/2,g.pos=$(d-g.size*g.align,0,N-g.size);for(_=F.length,T=!1;_--;)0<_&&F[_-1].pos+F[_-1].size>F[_].pos&&(F[_-1].size+=F[_].size,F[_-1].targets=F[_-1].targets.concat(F[_].targets),F[_-1].align=.5,F[_-1].pos+F[_-1].size>N&&(F[_-1].pos=N-F[_-1].size),F.splice(_,1),T=!0)}return k.push.apply(k,y),_=0,F.some(function(M){var D=0;return(M.targets||[]).some(function(){return k[_].pos=M.pos+D,void 0!==O&&Math.abs(k[_].pos-k[_].target)>O?(k.slice(0,_+1).forEach(function(x){return delete x.pos}),k.reducedLen=(k.reducedLen||N)-.1*N,k.reducedLen>.1*N&&X(k,N,O),!0):(D+=k[_].size,_++,!1)})}),rt(k,v),k},J}),wt(o,"Core/Renderer/SVG/SVGElement.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Renderer/HTML/AST.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var K=Y.animate,X=Y.animObject,F=Y.stop,N=rt.deg2rad,O=rt.doc,k=rt.noop,g=rt.svg,d=rt.SVG_NS,v=rt.win,_=J.addEvent,T=J.attr,y=J.createElement,C=J.css,M=J.defined,D=J.erase,x=J.extend,f=J.fireEvent,m=J.isArray,r=J.isFunction,p=J.isNumber,a=J.isString,n=J.merge,h=J.objectEach,l=J.pick,w=J.pInt,P=J.syncTimeout,I=J.uniqueKey;return Y=function(){function L(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=d,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return L.prototype._defaultGetter=function(S){return S=l(this[S+"Value"],this[S],this.element?this.element.getAttribute(S):null,0),/^[\-0-9\.]+$/.test(S)&&(S=parseFloat(S)),S},L.prototype._defaultSetter=function(S,B,c){c.setAttribute(B,S)},L.prototype.add=function(S){var B=this.renderer,c=this.element;if(S&&(this.parentGroup=S),this.parentInverted=S&&S.inverted,void 0!==this.textStr&&"text"===this.element.nodeName&&B.buildText(this),this.added=!0,!S||S.handleZ||this.zIndex)var u=this.zIndexSetter();return u||(S?S.element:B.box).appendChild(c),this.onAdd&&this.onAdd(),this},L.prototype.addClass=function(S,B){var c=B?"":this.attr("class")||"";return(S=(S||"").split(/ /g).reduce(function(u,E){return-1===c.indexOf(E)&&u.push(E),u},c?[c]:[]).join(" "))!==c&&this.attr("class",S),this},L.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},L.prototype.align=function(S,B,c){var G,W,b,u={},E=this.renderer,j=E.alignedObjects;S?(this.alignOptions=S,this.alignByTranslate=B,(!c||a(c))&&(this.alignTo=G=c||"renderer",D(j,this),j.push(this),c=void 0)):(S=this.alignOptions,B=this.alignByTranslate,G=this.alignTo),c=l(c,E[G],"scrollablePlotBox"===G?E.plotBox:void 0,E);var z=S.verticalAlign;return E=(c.x||0)+(S.x||0),j=(c.y||0)+(S.y||0),"right"===(G=S.align)?W=1:"center"===G&&(W=2),W&&(E+=(c.width-(S.width||0))/W),u[B?"translateX":"x"]=Math.round(E),"bottom"===z?b=1:"middle"===z&&(b=2),b&&(j+=(c.height-(S.height||0))/b),u[B?"translateY":"y"]=Math.round(j),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},L.prototype.alignSetter=function(S){var B={left:"start",center:"middle",right:"end"};B[S]&&(this.alignValue=S,this.element.setAttribute("text-anchor",B[S]))},L.prototype.animate=function(S,B,c){var u=this,E=X(l(B,this.renderer.globalAnimation,!0));return B=E.defer,l(O.hidden,O.msHidden,O.webkitHidden,!1)&&(E.duration=0),0!==E.duration?(c&&(E.complete=c),P(function(){u.element&&K(u,S,E)},B)):(this.attr(S,void 0,c),h(S,function(j,G){E.step&&E.step.call(this,j,{prop:G,pos:1,elem:this})},this)),this},L.prototype.applyTextOutline=function(S){var B=this.element;-1!==S.indexOf("contrast")&&(S=S.replace(/contrast/g,this.renderer.getContrast(B.style.fill)));var c=S.split(" ");if(S=c[c.length-1],(c=c[0])&&"none"!==c&&rt.svg){this.fakeTS=!0,this.ySetter=this.xSetter,c=c.replace(/(^[\d\.]+)(.*?)$/g,function(j,G,W){return 2*Number(G)+W}),this.removeTextOutline();var u=O.createElementNS(d,"tspan");T(u,{class:"highcharts-text-outline",fill:S,stroke:S,"stroke-width":c,"stroke-linejoin":"round"}),[].forEach.call(B.childNodes,function(j){var G=j.cloneNode(!0);G.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(W){return G.removeAttribute(W)}),u.appendChild(G)});var E=O.createElementNS(d,"tspan");E.textContent="\u200b",["x","y"].forEach(function(j){var G=B.getAttribute(j);G&&E.setAttribute(j,G)}),u.appendChild(E),B.insertBefore(u,B.firstChild)}},L.prototype.attr=function(S,B,c,u){var G,b,z,E=this.element,j=this.symbolCustomAttribs,W=this;if("string"==typeof S&&void 0!==B){var R=S;(S={})[R]=B}return"string"==typeof S?W=(this[S+"Getter"]||this._defaultGetter).call(this,S,E):(h(S,function(V,Z){b=!1,u||F(this,Z),this.symbolName&&-1!==j.indexOf(Z)&&(G||(this.symbolAttr(S),G=!0),b=!0),!this.rotation||"x"!==Z&&"y"!==Z||(this.doTransform=!0),b||((z=this[Z+"Setter"]||this._defaultSetter).call(this,V,Z,E),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(Z)&&this.updateShadows(Z,V,z))},this),this.afterSetters()),c&&c.call(this),W},L.prototype.clip=function(S){return this.attr("clip-path",S?"url("+this.renderer.url+"#"+S.id+")":"none")},L.prototype.crisp=function(S,B){B=B||S.strokeWidth||0;var c=Math.round(B)%2/2;return S.x=Math.floor(S.x||this.x||0)+c,S.y=Math.floor(S.y||this.y||0)+c,S.width=Math.floor((S.width||this.width||0)-2*c),S.height=Math.floor((S.height||this.height||0)-2*c),M(S.strokeWidth)&&(S.strokeWidth=B),S},L.prototype.complexColor=function(S,B,c){var E,j,G,W,b,z,R,V,Z,nt,ot,u=this.renderer,it=[];f(this.renderer,"complexColor",{args:arguments},function(){if(S.radialGradient?j="radialGradient":S.linearGradient&&(j="linearGradient"),j){if(b=u.gradients,z=S.stops,Z=c.radialReference,m(G=S[j])&&(S[j]=G={x1:G[0],y1:G[1],x2:G[2],y2:G[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===j&&Z&&!M(G.gradientUnits)&&(G=n(G,u.getRadialAttr(Z,W=G),{gradientUnits:"userSpaceOnUse"})),h(G,function(mt,_t){"id"!==_t&&it.push(_t,mt)}),h(z,function(mt){it.push(mt)}),it=it.join(","),b[it])nt=b[it].attr("id");else{G.id=nt=I();var at=b[it]=u.createElement(j).attr(G).add(u.defs);at.radAttr=W,at.stops=[],z.forEach(function(mt){0===mt[1].indexOf("rgba")?(E=q.parse(mt[1]),R=E.get("rgb"),V=E.get("a")):(R=mt[1],V=1),mt=u.createElement("stop").attr({offset:mt[0],"stop-color":R,"stop-opacity":V}).add(at),at.stops.push(mt)})}c.setAttribute(B,ot="url("+u.url+"#"+nt+")"),c.gradient=it,S.toString=function(){return ot}}})},L.prototype.css=function(S){var B=this.styles,c={},u=this.element,E=["textOutline","textOverflow","width"],j="",G=!B;if(S&&S.color&&(S.fill=S.color),B&&h(S,function(z,R){B&&B[R]!==z&&(c[R]=z,G=!0)}),G){if(B&&(S=x(B,c)),S)if(null===S.width||"auto"===S.width)delete this.textWidth;else if("text"===u.nodeName.toLowerCase()&&S.width)var W=this.textWidth=w(S.width);if(this.styles=S,W&&!g&&this.renderer.forExport&&delete S.width,u.namespaceURI===this.SVG_NS){var b=function(z,R){return"-"+R.toLowerCase()};h(S,function(z,R){-1===E.indexOf(R)&&(j+=R.replace(/([A-Z])/g,b)+":"+z+";")}),j&&T(u,"style",j)}else C(u,S);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),S&&S.textOutline&&this.applyTextOutline(S.textOutline))}return this},L.prototype.dashstyleSetter=function(S){var B=this["stroke-width"];if("inherit"===B&&(B=1),S=S&&S.toLowerCase()){var c=S.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(S=c.length;S--;)c[S]=""+w(c[S])*l(B,NaN);S=c.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",S)}},L.prototype.destroy=function(){var S=this,B=S.element||{},c=S.renderer,u=B.ownerSVGElement,E=c.isSVG&&"SPAN"===B.nodeName&&S.parentGroup||void 0;if(B.onclick=B.onmouseout=B.onmouseover=B.onmousemove=B.point=null,F(S),S.clipPath&&u){var j=S.clipPath;[].forEach.call(u.querySelectorAll("[clip-path],[CLIP-PATH]"),function(G){-1<G.getAttribute("clip-path").indexOf(j.element.id)&&G.removeAttribute("clip-path")}),S.clipPath=j.destroy()}if(S.stops){for(u=0;u<S.stops.length;u++)S.stops[u].destroy();S.stops.length=0,S.stops=void 0}for(S.safeRemoveChild(B),c.styledMode||S.destroyShadows();E&&E.div&&0===E.div.childNodes.length;)B=E.parentGroup,S.safeRemoveChild(E.div),delete E.div,E=B;S.alignTo&&D(c.alignedObjects,S),h(S,function(G,W){S[W]&&S[W].parentGroup===S&&S[W].destroy&&S[W].destroy(),delete S[W]})},L.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(S){this.safeRemoveChild(S)},this),this.shadows=void 0},L.prototype.destroyTextPath=function(S,B){var c=S.getElementsByTagName("text")[0];if(c){if(c.removeAttribute("dx"),c.removeAttribute("dy"),B.element.setAttribute("id",""),this.textPathWrapper&&c.getElementsByTagName("textPath").length){for(S=this.textPathWrapper.element.childNodes;S.length;)c.appendChild(S[0]);c.removeChild(this.textPathWrapper.element)}}else(S.getAttribute("dx")||S.getAttribute("dy"))&&(S.removeAttribute("dx"),S.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},L.prototype.dSetter=function(S,B,c){m(S)&&("string"==typeof S[0]&&(S=this.renderer.pathToSegments(S)),this.pathArray=S,S=S.reduce(function(u,E,j){return E&&E.join?(j?u+" ":"")+E.join(" "):(E||"").toString()},"")),/(NaN| {2}|^$)/.test(S)&&(S="M 0 0"),this[B]!==S&&(c.setAttribute(B,S),this[B]=S)},L.prototype.fadeOut=function(S){var B=this;B.animate({opacity:0},{duration:l(S,150),complete:function(){B.attr({y:-9999}).hide()}})},L.prototype.fillSetter=function(S,B,c){"string"==typeof S?c.setAttribute(B,S):S&&this.complexColor(S,B,c)},L.prototype.getBBox=function(S,B){var c=this.renderer,u=this.element,E=this.styles,j=this.textStr,G=c.cache,W=c.cacheKeys,b=u.namespaceURI===this.SVG_NS;B=l(B,this.rotation,0);var R,z=c.styledMode?u&&L.prototype.getStyle.call(u,"font-size"):E&&E.fontSize;if(M(j)){var V=j.toString();-1===V.indexOf("<")&&(V=V.replace(/[0-9]/g,"0")),V+=["",B,z,this.textWidth,E&&E.textOverflow,E&&E.fontWeight].join()}if(V&&!S&&(R=G[V]),!R){if(b||c.forExport){try{var Z=this.fakeTS&&function(nt){var it=u.querySelector(".highcharts-text-outline");it&&C(it,{display:nt})};r(Z)&&Z("none"),R=u.getBBox?x({},u.getBBox()):{width:u.offsetWidth,height:u.offsetHeight},r(Z)&&Z("")}catch(nt){}(!R||0>R.width)&&(R={width:0,height:0})}else R=this.htmlGetBBox();if(c.isSVG&&(S=R.width,c=R.height,b&&(R.height=c={"11px,17":14,"13px,20":16}[(z||"")+","+Math.round(c)]||c),B&&(b=B*N,R.width=Math.abs(c*Math.sin(b))+Math.abs(S*Math.cos(b)),R.height=Math.abs(c*Math.cos(b))+Math.abs(S*Math.sin(b)))),V&&(""===j||0<R.height)){for(;250<W.length;)delete G[W.shift()];G[V]||W.push(V),G[V]=R}}return R},L.prototype.getStyle=function(S){return v.getComputedStyle(this.element||this,"").getPropertyValue(S)},L.prototype.hasClass=function(S){return-1!==(""+this.attr("class")).split(" ").indexOf(S)},L.prototype.hide=function(S){return this.attr(S?{y:-9999}:{visibility:"hidden"}),this},L.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},L.prototype.init=function(S,B){this.element="span"===B?y(B):O.createElementNS(this.SVG_NS,B),this.renderer=S,f(this,"afterInit")},L.prototype.invert=function(S){return this.inverted=S,this.updateTransform(),this},L.prototype.on=function(S,B){var c=this.onEvents;return c[S]&&c[S](),c[S]=_(this.element,S,B),this},L.prototype.opacitySetter=function(S,B,c){this.opacity=S=Number(Number(S).toFixed(3)),c.setAttribute(B,S)},L.prototype.removeClass=function(S){return this.attr("class",(""+this.attr("class")).replace(a(S)?new RegExp("(^| )"+S+"( |$)"):S," ").replace(/ +/g," ").trim())},L.prototype.removeTextOutline=function(){var S=this.element.querySelector("tspan.highcharts-text-outline");S&&this.safeRemoveChild(S)},L.prototype.safeRemoveChild=function(S){var B=S.parentNode;B&&B.removeChild(S)},L.prototype.setRadialReference=function(S){var B=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=S,B&&B.radAttr&&B.animate(this.renderer.getRadialAttr(S,B.radAttr)),this},L.prototype.setTextPath=function(S,B){var c=this.element,u=this.text?this.text.element:c,E={textAnchor:"text-anchor"},j=!1,G=this.textPathWrapper,W=!G;B=n(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},B);var b=$.filterUserAttributes(B.attributes);if(S&&B&&B.enabled){G&&null===G.element.parentNode?(W=!0,G=G.destroy()):G&&this.removeTextOutline.call(G.parentGroup),this.options&&this.options.padding&&(b.dx=-this.options.padding),G||(this.textPathWrapper=G=this.renderer.createElement("textPath"),j=!0);var z=G.element;if((B=S.element.getAttribute("id"))||S.element.setAttribute("id",B=I()),W)for(u.setAttribute("y",0),p(b.dx)&&u.setAttribute("x",-b.dx),S=[].slice.call(u.childNodes),W=0;W<S.length;W++){var R=S[W];R.nodeType!==v.Node.TEXT_NODE&&"tspan"!==R.nodeName||z.appendChild(R)}j&&G&&G.add({element:u}),z.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+B),M(b.dy)&&(z.parentNode.setAttribute("dy",b.dy),delete b.dy),M(b.dx)&&(z.parentNode.setAttribute("dx",b.dx),delete b.dx),h(b,function(V,Z){z.setAttribute(E[Z]||Z,V)}),c.removeAttribute("transform"),this.removeTextOutline.call(G),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=k}else G&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(c,S),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},L.prototype.shadow=function(S,B,c){var b,u=[],E=this.element,j=this.oldShadowOptions,G={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},W=!1;if(!0===S?b=G:"object"==typeof S&&(b=x(G,S)),b&&(b&&j&&h(b,function(nt,it){nt!==j[it]&&(W=!0)}),W&&this.destroyShadows(),this.oldShadowOptions=b),b){if(!this.shadows){var z=b.opacity/b.width,R=this.parentInverted?"translate("+b.offsetY+", "+b.offsetX+")":"translate("+b.offsetX+", "+b.offsetY+")";for(G=1;G<=b.width;G++){var V=E.cloneNode(!1),Z=2*b.width+1-2*G;T(V,{stroke:S.color||"#000000","stroke-opacity":z*G,"stroke-width":Z,transform:R,fill:"none"}),V.setAttribute("class",(V.getAttribute("class")||"")+" highcharts-shadow"),c&&(T(V,"height",Math.max(T(V,"height")-Z,0)),V.cutHeight=Z),B?B.element.appendChild(V):E.parentNode&&E.parentNode.insertBefore(V,E),u.push(V)}this.shadows=u}}else this.destroyShadows();return this},L.prototype.show=function(S){return this.attr({visibility:S?"inherit":"visible"})},L.prototype.strokeSetter=function(S,B,c){this[B]=S,this.stroke&&this["stroke-width"]?(L.prototype.fillSetter.call(this,this.stroke,"stroke",c),c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===B&&0===S&&this.hasStroke?(c.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},L.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var S=this.getStyle("stroke-width"),B=0;if(S.indexOf("px")===S.length-2)B=w(S);else if(""!==S){var c=O.createElementNS(d,"rect");T(c,{width:S,"stroke-width":0}),this.element.parentNode.appendChild(c),B=c.getBBox().width,c.parentNode.removeChild(c)}return B},L.prototype.symbolAttr=function(S){var B=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(c){B[c]=l(S[c],B[c])}),B.attr({d:B.renderer.symbols[B.symbolName](B.x,B.y,B.width,B.height,B)})},L.prototype.textSetter=function(S){S!==this.textStr&&(delete this.textPxLength,this.textStr=S,this.added&&this.renderer.buildText(this))},L.prototype.titleSetter=function(S){var B=this.element,c=B.getElementsByTagName("title")[0]||O.createElementNS(this.SVG_NS,"title");B.insertBefore?B.insertBefore(c,B.firstChild):B.appendChild(c),c.textContent=String(l(S,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},L.prototype.toFront=function(){var S=this.element;return S.parentNode.appendChild(S),this},L.prototype.translate=function(S,B){return this.attr({translateX:S,translateY:B})},L.prototype.updateShadows=function(S,B,c){var u=this.shadows;if(u)for(var E=u.length;E--;)c.call(u[E],"height"===S?Math.max(B-(u[E].cutHeight||0),0):"d"===S?this.d:B,S,u[E])},L.prototype.updateTransform=function(){var S=this.scaleX,B=this.scaleY,c=this.inverted,u=this.rotation,E=this.matrix,j=this.element,G=this.translateX||0,W=this.translateY||0;c&&(G+=this.width,W+=this.height),G=["translate("+G+","+W+")"],M(E)&&G.push("matrix("+E.join(",")+")"),c?G.push("rotate(90) scale(-1,1)"):u&&G.push("rotate("+u+" "+l(this.rotationOriginX,j.getAttribute("x"),0)+" "+l(this.rotationOriginY,j.getAttribute("y")||0)+")"),(M(S)||M(B))&&G.push("scale("+l(S,1)+" "+l(B,1)+")"),G.length&&j.setAttribute("transform",G.join(" "))},L.prototype.visibilitySetter=function(S,B,c){"inherit"===S?c.removeAttribute(B):this[B]!==S&&c.setAttribute(B,S),this[B]=S},L.prototype.xGetter=function(S){return"circle"===this.element.nodeName&&("x"===S?S="cx":"y"===S&&(S="cy")),this._defaultGetter(S)},L.prototype.zIndexSetter=function(S,B){var c=this.renderer,u=this.parentGroup,E=(u||c).element||c.box,j=this.element;c=E===c.box;var b,G=!1,W=this.added;if(M(S)?(j.setAttribute("data-z-index",S),this[B]===(S=+S)&&(W=!1)):M(this[B])&&j.removeAttribute("data-z-index"),this[B]=S,W){for((S=this.zIndex)&&u&&(u.handleZ=!0),b=(B=E.childNodes).length-1;0<=b&&!G;b--){W=(u=B[b]).getAttribute("data-z-index");var z=!M(W);u!==j&&(0>S&&z&&!c&&!b?(E.insertBefore(j,B[b]),G=!0):(w(W)<=S||z&&(!M(S)||0<=S))&&(E.insertBefore(j,B[b+1]||null),G=!0))}G||(E.insertBefore(j,B[c?3:0]||null),G=!0)}return G},L}(),Y.prototype["stroke-widthSetter"]=Y.prototype.strokeSetter,Y.prototype.yGetter=Y.prototype.xGetter,Y.prototype.matrixSetter=Y.prototype.rotationOriginXSetter=Y.prototype.rotationOriginYSetter=Y.prototype.rotationSetter=Y.prototype.scaleXSetter=Y.prototype.scaleYSetter=Y.prototype.translateXSetter=Y.prototype.translateYSetter=Y.prototype.verticalAlignSetter=function(L,S){this[S]=L,this.doTransform=!0},Y}),wt(o,"Core/Renderer/RendererRegistry.js",[o["Core/Globals.js"]],function(Y){var $,q,rt;return(q=$||($={})).rendererTypes={},q.getRendererType=function(J){return void 0===J&&(J=rt),q.rendererTypes[J]||q.rendererTypes[rt]},q.registerRendererType=function(J,K,X){q.rendererTypes[J]=K,(!rt||X)&&(rt=J,Y.Renderer=K)},$}),wt(o,"Core/Renderer/SVG/SVGLabel.js",[o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$){var O,q=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),rt=$.defined,J=$.extend,K=$.isNumber,X=$.merge,F=$.pick,N=$.removeEvent;return function(O){function k(g,d,v,_,T,y,C,M,D,x){var m,f=O.call(this)||this;return f.paddingLeftSetter=f.paddingSetter,f.paddingRightSetter=f.paddingSetter,f.init(g,"g"),f.textStr=d,f.x=v,f.y=_,f.anchorX=y,f.anchorY=C,f.baseline=D,f.className=x,f.addClass("button"===x?"highcharts-no-tooltip":"highcharts-label"),x&&f.addClass("highcharts-"+x),f.text=g.text(void 0,0,0,M).attr({zIndex:1}),"string"==typeof T&&((m=/^url\((.*?)\)$/.test(T))||f.renderer.symbols[T])&&(f.symbolKey=T),f.bBox=k.emptyBBox,f.padding=3,f.baselineOffset=0,f.needsBox=g.styledMode||m,f.deferredAttr={},f.alignFactor=0,f}return q(k,O),k.prototype.alignSetter=function(g){(g={left:0,center:.5,right:1}[g])!==this.alignFactor&&(this.alignFactor=g,this.bBox&&K(this.xSetting)&&this.attr({x:this.xSetting}))},k.prototype.anchorXSetter=function(g,d){this.anchorX=g,this.boxAttr(d,Math.round(g)-this.getCrispAdjust()-this.xSetting)},k.prototype.anchorYSetter=function(g,d){this.anchorY=g,this.boxAttr(d,g-this.ySetting)},k.prototype.boxAttr=function(g,d){this.box?this.box.attr(g,d):this.deferredAttr[g]=d},k.prototype.css=function(g){if(g){var d={};g=X(g),k.textProps.forEach(function(_){void 0!==g[_]&&(d[_]=g[_],delete g[_])}),this.text.css(d);var v="width"in d;"fontSize"in d||"fontWeight"in d?this.updateTextPadding():v&&this.updateBoxSize()}return Y.prototype.css.call(this,g)},k.prototype.destroy=function(){N(this.element,"mouseenter"),N(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Y.prototype.destroy.call(this)},k.prototype.fillSetter=function(g,d){g&&(this.needsBox=!0),this.fill=g,this.boxAttr(d,g)},k.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var g=this.padding,d=F(this.paddingLeft,g);return{width:this.width,height:this.height,x:this.bBox.x-d,y:this.bBox.y-g}},k.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},k.prototype.heightSetter=function(g){this.heightSetting=g},k.prototype.onAdd=function(){var g=this.textStr;this.text.add(this),this.attr({text:rt(g)?g:"",x:this.x,y:this.y}),this.box&&rt(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},k.prototype.paddingSetter=function(g,d){K(g)?g!==this[d]&&(this[d]=g,this.updateTextPadding()):this[d]=void 0},k.prototype.rSetter=function(g,d){this.boxAttr(d,g)},k.prototype.shadow=function(g){return g&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(g)),this},k.prototype.strokeSetter=function(g,d){this.stroke=g,this.boxAttr(d,g)},k.prototype["stroke-widthSetter"]=function(g,d){g&&(this.needsBox=!0),this["stroke-width"]=g,this.boxAttr(d,g)},k.prototype["text-alignSetter"]=function(g){this.textAlign=g},k.prototype.textSetter=function(g){void 0!==g&&this.text.attr({text:g}),this.updateTextPadding()},k.prototype.updateBoxSize=function(){var g=this.text.element.style,d={},v=this.padding,_=this.bBox=K(this.widthSetting)&&K(this.heightSetting)&&!this.textAlign||!rt(this.text.textStr)?k.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||_.height||0)+2*v,g=this.renderer.fontMetrics(g&&g.fontSize,this.text),this.baselineOffset=v+Math.min((this.text.firstLineMetrics||g).b,_.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-g.h)/2),this.needsBox&&(this.box||((v=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),v.add(this)),v=this.getCrispAdjust(),d.x=v,d.y=(this.baseline?-this.baselineOffset:0)+v,d.width=Math.round(this.width),d.height=Math.round(this.height),this.box.attr(J(d,this.deferredAttr)),this.deferredAttr={})},k.prototype.updateTextPadding=function(){var g=this.text;this.updateBoxSize();var d=this.baseline?0:this.baselineOffset,v=F(this.paddingLeft,this.padding);rt(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(v+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(v!==g.x||d!==g.y)&&(g.attr("x",v),g.hasBoxWidthChanged&&(this.bBox=g.getBBox(!0)),void 0!==d&&g.attr("y",d)),g.x=v,g.y=d},k.prototype.widthSetter=function(g){this.widthSetting=K(g)?g:void 0},k.prototype.getPaddedWidth=function(){var g=this.padding,d=F(this.paddingLeft,g);return g=F(this.paddingRight,g),(this.widthSetting||this.bBox.width||0)+d+g},k.prototype.xSetter=function(g){this.x=g,this.alignFactor&&(g-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(g),this.attr("translateX",this.xSetting)},k.prototype.ySetter=function(g){this.ySetting=this.y=Math.round(g),this.attr("translateY",this.ySetting)},k.emptyBBox={width:0,height:0,x:0,y:0},k.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),k}(Y)}),wt(o,"Core/Renderer/SVG/Symbols.js",[o["Core/Utilities.js"]],function(Y){function $(F,N,O,k,g){var d=[];if(g){var v=g.start||0,_=X(g.r,O);O=X(g.r,k||O);var T=(g.end||0)-.001;k=g.innerR;var y=X(g.open,.001>Math.abs((g.end||0)-v-2*Math.PI)),C=Math.cos(v),M=Math.sin(v),D=Math.cos(T),x=Math.sin(T);v=X(g.longArc,.001>T-v-Math.PI?0:1),d.push(["M",F+_*C,N+O*M],["A",_,O,0,v,X(g.clockwise,1),F+_*D,N+O*x]),J(k)&&d.push(y?["M",F+k*D,N+k*x]:["L",F+k*D,N+k*x],["A",k,k,0,v,J(g.clockwise)?1-g.clockwise:0,F+k*C,N+k*M]),y||d.push(["Z"])}return d}function q(F,N,O,k,g){return g&&g.r?rt(F,N,O,k,g):[["M",F,N],["L",F+O,N],["L",F+O,N+k],["L",F,N+k],["Z"]]}function rt(F,N,O,k,g){return[["M",F+(g=g&&g.r||0),N],["L",F+O-g,N],["C",F+O,N,F+O,N,F+O,N+g],["L",F+O,N+k-g],["C",F+O,N+k,F+O,N+k,F+O-g,N+k],["L",F+g,N+k],["C",F,N+k,F,N+k,F,N+k-g],["L",F,N+g],["C",F,N,F,N,F+g,N]]}var J=Y.defined,K=Y.isNumber,X=Y.pick;return{arc:$,callout:function(F,N,O,k,g){var d=Math.min(g&&g.r||0,O,k),v=d+6,_=g&&g.anchorX;g=g&&g.anchorY||0;var T=rt(F,N,O,k,{r:d});return K(_)&&(F+_>=O?g>N+v&&g<N+k-v?T.splice(3,1,["L",F+O,g-6],["L",F+O+6,g],["L",F+O,g+6],["L",F+O,N+k-d]):T.splice(3,1,["L",F+O,k/2],["L",_,g],["L",F+O,k/2],["L",F+O,N+k-d]):0>=F+_?g>N+v&&g<N+k-v?T.splice(7,1,["L",F,g+6],["L",F-6,g],["L",F,g-6],["L",F,N+d]):T.splice(7,1,["L",F,k/2],["L",_,g],["L",F,k/2],["L",F,N+d]):g&&g>k&&_>F+v&&_<F+O-v?T.splice(5,1,["L",_+6,N+k],["L",_,N+k+6],["L",_-6,N+k],["L",F+d,N+k]):g&&0>g&&_>F+v&&_<F+O-v&&T.splice(1,1,["L",_-6,N],["L",_,N-6],["L",_+6,N],["L",O-d,N])),T},circle:function(F,N,O,k){return $(F+O/2,N+k/2,O/2,k/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(F,N,O,k){return[["M",F+O/2,N],["L",F+O,N+k/2],["L",F+O/2,N+k],["L",F,N+k/2],["Z"]]},rect:q,roundedRect:rt,square:q,triangle:function(F,N,O,k){return[["M",F+O/2,N],["L",F+O,N+k],["L",F,N+k],["Z"]]},"triangle-down":function(F,N,O,k){return[["M",F,N],["L",F+O,N],["L",F+O/2,N+k],["Z"]]}}}),wt(o,"Core/Renderer/SVG/TextBuilder.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=$.doc,J=$.SVG_NS,K=$.win,X=q.attr,F=q.isString,N=q.objectEach,O=q.pick;return function(){function k(g){var d=g.styles;this.renderer=g.renderer,this.svgElement=g,this.width=g.textWidth,this.textLineHeight=d&&d.lineHeight,this.textOutline=d&&d.textOutline,this.ellipsis=!(!d||"ellipsis"!==d.textOverflow),this.noWrap=!(!d||"nowrap"!==d.whiteSpace),this.fontSize=d&&d.fontSize}return k.prototype.buildSVG=function(){var g=this.svgElement,d=g.element,v=g.renderer,_=O(g.textStr,"").toString(),T=-1!==_.indexOf("<"),y=d.childNodes;v=this.width&&!g.added&&v.box;var M=[_,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(M!==g.textCache){for(g.textCache=M,delete g.actualWidth,M=y.length;M--;)d.removeChild(y[M]);T||this.ellipsis||this.width||-1!==_.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(_))?""!==_&&(v&&v.appendChild(d),_=new Y(_),this.modifyTree(_.nodes),_.addToDOM(g.element),this.modifyDOM(),this.ellipsis&&-1!==(d.textContent||"").indexOf("\u2026")&&g.attr("title",this.unescapeEntities(g.textStr||"",["&lt;","&gt;"])),v&&v.removeChild(d)):d.appendChild(rt.createTextNode(this.unescapeEntities(_))),F(this.textOutline)&&g.applyTextOutline&&g.applyTextOutline(this.textOutline)}},k.prototype.modifyDOM=function(){var _,g=this,d=this.svgElement,v=X(d.element,"x");for(d.firstLineMetrics=void 0;(_=d.element.firstChild)&&/^[\s\u200B]*$/.test(_.textContent||" ");)d.element.removeChild(_);[].forEach.call(d.element.querySelectorAll("tspan.highcharts-br"),function(M,D){M.nextSibling&&M.previousSibling&&(0===D&&1===M.previousSibling.nodeType&&(d.firstLineMetrics=d.renderer.fontMetrics(void 0,M.previousSibling)),X(M,{dy:g.getLineHeight(M.nextSibling),x:v}))});var T=this.width||0;if(T){var C=function(M){[].slice.call(M.childNodes).forEach(function(D){D.nodeType===K.Node.TEXT_NODE?function(M,D){var x=M.textContent||"",f=x.replace(/([^\^])-/g,"$1- ").split(" "),m=!g.noWrap&&(1<f.length||1<d.element.childNodes.length),r=g.getLineHeight(D),p=0,a=d.actualWidth;if(g.ellipsis)x&&g.truncate(M,x,void 0,0,Math.max(0,T-parseInt(g.fontSize||12,10)),function(n,h){return n.substring(0,h)+"\u2026"});else if(m){for(x=[],m=[];D.firstChild&&D.firstChild!==M;)m.push(D.firstChild),D.removeChild(D.firstChild);for(;f.length;)f.length&&!g.noWrap&&0<p&&(x.push(M.textContent||""),M.textContent=f.join(" ").replace(/- /g,"-")),g.truncate(M,void 0,f,0===p&&a||0,T,function(n,h){return f.slice(0,h).join(" ").replace(/- /g,"-")}),a=d.actualWidth,p++;m.forEach(function(n){D.insertBefore(n,M)}),x.forEach(function(n){D.insertBefore(rt.createTextNode(n),M),(n=rt.createElementNS(J,"tspan")).textContent="\u200b",X(n,{dy:r,x:v}),D.insertBefore(n,M)})}}(D,M):(-1!==D.className.baseVal.indexOf("highcharts-br")&&(d.actualWidth=0),C(D))})};C(d.element)}},k.prototype.getLineHeight=function(g){var d;return g=g.nodeType===K.Node.TEXT_NODE?g.parentElement:g,this.renderer.styledMode||(d=g&&/(px|em)$/.test(g.style.fontSize)?g.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(d,g||this.svgElement.element).h},k.prototype.modifyTree=function(g){var d=this,v=function(_,T){var y=_.attributes;y=void 0===y?{}:y;var C=_.children,M=_.tagName,D=d.renderer.styledMode;"b"===M||"strong"===M?D?y.class="highcharts-strong":y.style="font-weight:bold;"+(y.style||""):("i"===M||"em"===M)&&(D?y.class="highcharts-emphasized":y.style="font-style:italic;"+(y.style||"")),F(y.style)&&(y.style=y.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===M?(y.class="highcharts-br",_.textContent="\u200b",(T=g[T+1])&&T.textContent&&(T.textContent=T.textContent.replace(/^ +/gm,""))):"a"===M&&C&&C.some(function(x){return"#text"===x.tagName})&&(_.children=[{children:C,tagName:"tspan"}]),"#text"!==M&&"a"!==M&&(_.tagName="tspan"),_.attributes=y,C&&C.filter(function(x){return"#text"!==x.tagName}).forEach(v)};g.forEach(v)},k.prototype.truncate=function(g,d,v,_,T,y){var p,C=this.svgElement,M=C.renderer,D=C.rotation,x=[],f=v?1:0,m=(d||v||"").length,r=m,a=function(h,l){l=l||h;var w=g.parentNode;if(w&&void 0===x[l])if(w.getSubStringLength)try{x[l]=_+w.getSubStringLength(0,v?l+1:l)}catch(P){}else M.getSpanWidth&&(g.textContent=y(d||v,h),x[l]=_+M.getSpanWidth(C,g));return x[l]};C.rotation=0;var n=a(g.textContent.length);if(_+n>T){for(;f<=m;)r=Math.ceil((f+m)/2),v&&(p=y(v,r)),n=a(r,p&&p.length-1),f===m?f=m+1:n>T?m=r-1:f=r;0===m?g.textContent="":d&&m===d.length-1||(g.textContent=p||y(d||v,r))}v&&v.splice(0,r),C.actualWidth=n,C.rotation=D},k.prototype.unescapeEntities=function(g,d){return N(this.renderer.escapes,function(v,_){d&&-1!==d.indexOf(v)||(g=g.toString().replace(new RegExp(v,"g"),_))}),g},k}()}),wt(o,"Core/Renderer/SVG/SVGRenderer.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Renderer/SVG/SVGLabel.js"],o["Core/Renderer/SVG/Symbols.js"],o["Core/Renderer/SVG/TextBuilder.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N){var B,O=q.charts,k=q.deg2rad,g=q.doc,d=q.isFirefox,v=q.isMS,_=q.isWebKit,T=q.noop,y=q.SVG_NS,C=q.symbolSizes,M=q.win,D=N.addEvent,x=N.attr,f=N.createElement,m=N.css,r=N.defined,p=N.destroyObjectProperties,a=N.extend,n=N.isArray,h=N.isNumber,l=N.isObject,w=N.isString,P=N.merge,I=N.pick,L=N.pInt,S=N.uniqueKey;return q=function(){function c(u,E,j,G,W,b,z){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(u,E,j,G,W,b,z)}return c.prototype.init=function(u,E,j,G,W,b,z){var Z,R=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),V=R.element;z||R.css(this.getStyle(G)),u.appendChild(V),x(u,"dir","ltr"),-1===u.innerHTML.indexOf("xmlns")&&x(V,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=V,this.boxWrapper=R,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(g.createTextNode("Created with Highcharts 9.3.3")),this.defs=this.createElement("defs").add(),this.allowHTML=b,this.forExport=W,this.styledMode=z,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(E,j,!1),d&&u.getBoundingClientRect&&((E=function(){m(u,{left:0,top:0}),Z=u.getBoundingClientRect(),m(u,{left:Math.ceil(Z.left)-Z.left+"px",top:Math.ceil(Z.top)-Z.top+"px"})})(),this.unSubPixelFix=D(M,"resize",E))},c.prototype.definition=function(u){return new Y([u]).addToDOM(this.defs.element)},c.prototype.getReferenceURL=function(){if((d||_)&&g.getElementsByTagName("base").length){if(!r(B)){var u=S();u=new Y([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:u},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+u+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(g.body),m(u,{position:"fixed",top:0,left:0,zIndex:9e5});var E=g.elementFromPoint(6,6);B="hitme"===(E&&E.id),g.body.removeChild(u)}if(B)return M.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},c.prototype.getStyle=function(u){return this.style=a({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},u)},c.prototype.setStyle=function(u){this.boxWrapper.css(this.getStyle(u))},c.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},c.prototype.destroy=function(){var u=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),p(this.gradients||{}),this.gradients=null,u&&(this.defs=u.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},c.prototype.createElement=function(u){var E=new this.Element;return E.init(this,u),E},c.prototype.getRadialAttr=function(u,E){return{cx:u[0]-u[2]/2+(E.cx||0)*u[2],cy:u[1]-u[2]/2+(E.cy||0)*u[2],r:(E.r||0)*u[2]}},c.prototype.buildText=function(u){new F(u).buildSVG()},c.prototype.getContrast=function(u){return(u=$.parse(u).rgba)[0]*=1,u[1]*=1.2,u[2]*=.5,459<u[0]+u[1]+u[2]?"#000000":"#FFFFFF"},c.prototype.button=function(u,E,j,G,W,b,z,R,V,Z){var nt=this.label(u,E,j,V,void 0,void 0,Z,void 0,"button"),it=this.styledMode,ot=0,at=W?P(W):{};if(u=at&&at.style||{},at=Y.filterUserAttributes(at),nt.attr(P({padding:8,r:2},at)),!it){var mt=(at=P({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:u},at)).style;delete at.style;var _t=(b=P(at,{fill:"#e6e6e6"},Y.filterUserAttributes(b||{}))).style;delete b.style;var yt=(z=P(at,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},Y.filterUserAttributes(z||{}))).style;delete z.style;var ut=(R=P(at,{style:{color:"#cccccc"}},Y.filterUserAttributes(R||{}))).style;delete R.style}return D(nt.element,v?"mouseover":"mouseenter",function(){3!==ot&&nt.setState(1)}),D(nt.element,v?"mouseout":"mouseleave",function(){3!==ot&&nt.setState(ot)}),nt.setState=function(ct){1!==ct&&(nt.state=ot=ct),nt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ct||0]),it||nt.attr([at,b,z,R][ct||0]).css([mt,_t,yt,ut][ct||0])},it||nt.attr(at).css(a({cursor:"default"},mt)),nt.on("touchstart",function(ct){return ct.stopPropagation()}).on("click",function(ct){3!==ot&&G.call(nt,ct)})},c.prototype.crispLine=function(u,E,j){void 0===j&&(j="round");var G=u[0],W=u[1];return r(G[1])&&G[1]===W[1]&&(G[1]=W[1]=Math[j](G[1])-E%2/2),r(G[2])&&G[2]===W[2]&&(G[2]=W[2]=Math[j](G[2])+E%2/2),u},c.prototype.path=function(u){var E=this.styledMode?{}:{fill:"none"};return n(u)?E.d=u:l(u)&&a(E,u),this.createElement("path").attr(E)},c.prototype.circle=function(u,E,j){return u=l(u)?u:void 0===u?{}:{x:u,y:E,r:j},(E=this.createElement("circle")).xSetter=E.ySetter=function(G,W,b){b.setAttribute("c"+W,G)},E.attr(u)},c.prototype.arc=function(u,E,j,G,W,b){return l(u)?(E=(G=u).y,j=G.r,u=G.x):G={innerR:G,start:W,end:b},(u=this.symbol("arc",u,E,j,j,G)).r=j,u},c.prototype.rect=function(u,E,j,G,W,b){W=l(u)?u.r:W;var z=this.createElement("rect");return u=l(u)?u:void 0===u?{}:{x:u,y:E,width:Math.max(j,0),height:Math.max(G,0)},this.styledMode||(void 0!==b&&(u["stroke-width"]=b,u=z.crisp(u)),u.fill="none"),W&&(u.r=W),z.rSetter=function(R,V,Z){z.r=R,x(Z,{rx:R,ry:R})},z.rGetter=function(){return z.r||0},z.attr(u)},c.prototype.setSize=function(u,E,j){this.width=u,this.height=E,this.boxWrapper.animate({width:u,height:E},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:I(j,!0)?void 0:0}),this.alignElements()},c.prototype.g=function(u){var E=this.createElement("g");return u?E.attr({class:"highcharts-"+u}):E},c.prototype.image=function(u,E,j,G,W,b){var z={preserveAspectRatio:"none"},R=function(Z,nt){Z.setAttributeNS?Z.setAttributeNS("http://www.w3.org/1999/xlink","href",nt):Z.setAttribute("hc-svg-href",nt)};h(E)&&(z.x=E),h(j)&&(z.y=j),h(G)&&(z.width=G),h(W)&&(z.height=W);var V=this.createElement("image").attr(z);return E=function(Z){R(V.element,u),b.call(V,Z)},b?(R(V.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),j=new M.Image,D(j,"load",E),j.src=u,j.complete&&E({})):R(V.element,u),V},c.prototype.symbol=function(u,E,j,G,W,b){var it,z=this,R=/^url\((.*?)\)$/,V=R.test(u),Z=!V&&(this.symbols[u]?u:"circle"),nt=Z&&this.symbols[Z];if(nt){"number"==typeof E&&(it=nt.call(this.symbols,Math.round(E||0),Math.round(j||0),G||0,W||0,b));var ot=this.path(it);z.styledMode||ot.attr("fill","none"),a(ot,{symbolName:Z||void 0,x:E,y:j,width:G,height:W}),b&&a(ot,b)}else if(V){var at=u.match(R)[1],mt=ot=this.image(at);mt.imgwidth=I(C[at]&&C[at].width,b&&b.width),mt.imgheight=I(C[at]&&C[at].height,b&&b.height);var _t=function(yt){return yt.attr({width:yt.width,height:yt.height})};["width","height"].forEach(function(yt){mt[yt+"Setter"]=function(ut,ct){var H=this["img"+ct];this[ct]=ut,r(H)&&(b&&"within"===b.backgroundSize&&this.width&&this.height&&(H=Math.round(H*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(ct,H),this.alignByTranslate||(ut=((this[ct]||0)-H)/2,this.attr("width"===ct?{translateX:ut}:{translateY:ut})))}}),r(E)&&mt.attr({x:E,y:j}),mt.isImg=!0,r(mt.imgwidth)&&r(mt.imgheight)?_t(mt):(mt.attr({width:0,height:0}),f("img",{onload:function(){var yt=O[z.chartIndex];0===this.width&&(m(this,{position:"absolute",top:"-999em"}),g.body.appendChild(this)),C[at]={width:this.width,height:this.height},mt.imgwidth=this.width,mt.imgheight=this.height,mt.element&&_t(mt),this.parentNode&&this.parentNode.removeChild(this),z.imgCount--,!z.imgCount&&yt&&!yt.hasLoaded&&yt.onload()},src:at}),this.imgCount++)}return ot},c.prototype.clipRect=function(u,E,j,G){var W=S()+"-",b=this.createElement("clipPath").attr({id:W}).add(this.defs);return(u=this.rect(u,E,j,G,0).add(b)).id=W,u.clipPath=b,u.count=0,u},c.prototype.text=function(u,E,j,G){var W={};return!G||!this.allowHTML&&this.forExport?(W.x=Math.round(E||0),j&&(W.y=Math.round(j)),r(u)&&(W.text=u),u=this.createElement("text").attr(W),(!G||this.forExport&&!this.allowHTML)&&(u.xSetter=function(b,z,R){for(var it,V=R.getElementsByTagName("tspan"),Z=R.getAttribute(z),nt=0;nt<V.length;nt++)(it=V[nt]).getAttribute(z)===Z&&it.setAttribute(z,b);R.setAttribute(z,b)}),u):this.html(u,E,j)},c.prototype.fontMetrics=function(u,E){return u=!this.styledMode&&/px/.test(u)||!M.getComputedStyle?u||E&&E.style&&E.style.fontSize||this.style&&this.style.fontSize:E&&J.prototype.getStyle.call(E,"font-size"),{h:E=24>(u=/px/.test(u)?L(u):12)?u+3:Math.round(1.2*u),b:Math.round(.8*E),f:u}},c.prototype.rotCorr=function(u,E,j){var G=u;return E&&j&&(G=Math.max(G*Math.cos(E*k),4)),{x:-u/3*Math.sin(E*k),y:G}},c.prototype.pathToSegments=function(u){for(var E=[],j=[],G={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},W=0;W<u.length;W++)w(j[0])&&h(u[W])&&j.length===G[j[0].toUpperCase()]&&u.splice(W,0,j[0].replace("M","L").replace("m","l")),"string"==typeof u[W]&&(j.length&&E.push(j.slice(0)),j.length=0),j.push(u[W]);return E.push(j.slice(0)),E},c.prototype.label=function(u,E,j,G,W,b,z,R,V){return new K(this,u,E,j,G,W,b,z,R,V)},c.prototype.alignElements=function(){this.alignedObjects.forEach(function(u){return u.align()})},c}(),a(q.prototype,{Element:J,SVG_NS:y,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:X,draw:T}),rt.registerRendererType("svg",q,!0),q}),wt(o,"Core/Renderer/HTML/HTMLElement.js",[o["Core/Globals.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$,q){var v,rt=this&&this.__extends||(v=function(_,T){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,C){y.__proto__=C}||function(y,C){for(var M in C)C.hasOwnProperty(M)&&(y[M]=C[M])})(_,T)},function(_,T){function y(){this.constructor=_}v(_,T),_.prototype=null===T?Object.create(T):(y.prototype=T.prototype,new y)}),J=Y.isFirefox,K=Y.isMS,X=Y.isWebKit,F=Y.win,N=q.css,O=q.defined,k=q.extend,g=q.pick,d=q.pInt;return function(v){function _(){return null!==v&&v.apply(this,arguments)||this}return rt(_,v),_.compose=function(T){if(-1===_.composedClasses.indexOf(T)){_.composedClasses.push(T);var y=_.prototype,C=T.prototype;C.getSpanCorrection=y.getSpanCorrection,C.htmlCss=y.htmlCss,C.htmlGetBBox=y.htmlGetBBox,C.htmlUpdateTransform=y.htmlUpdateTransform,C.setSpanRotation=y.setSpanRotation}return T},_.prototype.getSpanCorrection=function(T,y,C){this.xCorr=-T*C,this.yCorr=-y},_.prototype.htmlCss=function(T){var y="SPAN"===this.element.tagName&&T&&"width"in T,C=g(y&&T.width,void 0);if(y){delete T.width,this.textWidth=C;var M=!0}return T&&"ellipsis"===T.textOverflow&&(T.whiteSpace="nowrap",T.overflow="hidden"),this.styles=k(this.styles,T),N(this.element,T),M&&this.htmlUpdateTransform(),this},_.prototype.htmlGetBBox=function(){var T=this.element;return{x:T.offsetLeft,y:T.offsetTop,width:T.offsetWidth,height:T.offsetHeight}},_.prototype.htmlUpdateTransform=function(){if(this.added){var T=this.renderer,y=this.element,C=this.translateX||0,M=this.translateY||0,D=this.x||0,x=this.y||0,f=this.textAlign||"left",m={left:0,center:.5,right:1}[f],r=this.styles;if(r=r&&r.whiteSpace,N(y,{marginLeft:C,marginTop:M}),!T.styledMode&&this.shadows&&this.shadows.forEach(function(w){N(w,{marginLeft:C+1,marginTop:M+1})}),this.inverted&&[].forEach.call(y.childNodes,function(w){T.invertChild(w,y)}),"SPAN"===y.tagName){var p=this.rotation,a=this.textWidth&&d(this.textWidth),n=[p,f,y.innerHTML,this.textWidth,this.textAlign].join(),h=void 0;if(h=!1,a!==this.oldTextWidth){if(this.textPxLength)var l=this.textPxLength;else N(y,{width:"",whiteSpace:r||"nowrap"}),l=y.offsetWidth;(a>this.oldTextWidth||l>a)&&(/[ \-]/.test(y.textContent||y.innerText)||"ellipsis"===y.style.textOverflow)&&(N(y,{width:l>a||p?a+"px":"auto",display:"block",whiteSpace:r||"normal"}),this.oldTextWidth=a,h=!0)}this.hasBoxWidthChanged=h,n!==this.cTT&&(h=T.fontMetrics(y.style.fontSize,y).b,!O(p)||p===(this.oldRotation||0)&&f===this.oldAlign||this.setSpanRotation(p,m,h),this.getSpanCorrection(!O(p)&&this.textPxLength||y.offsetWidth,h,m,p,f)),N(y,{left:D+(this.xCorr||0)+"px",top:x+(this.yCorr||0)+"px"}),this.cTT=n,this.oldRotation=p,this.oldAlign=f}}else this.alignOnAdd=!0},_.prototype.setSpanRotation=function(T,y,C){var M={},D=K&&!/Edge/.test(F.navigator.userAgent)?"-ms-transform":X?"-webkit-transform":J?"MozTransform":F.opera?"-o-transform":void 0;D&&(M[D]=M.transform="rotate("+T+"deg)",M[D+(J?"Origin":"-origin")]=M.transformOrigin=100*y+"% "+C+"px",N(this.element,M))},_.composedClasses=[],_}($)}),wt(o,"Core/Renderer/HTML/HTMLRenderer.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var O,J=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),K=rt.attr,X=rt.createElement,F=rt.extend,N=rt.pick;return function(O){function k(){return null!==O&&O.apply(this,arguments)||this}return J(k,O),k.compose=function(g){return-1===k.composedClasses.indexOf(g)&&(k.composedClasses.push(g),g.prototype.html=k.prototype.html),g},k.prototype.html=function(g,d,v){var _=this.createElement("span"),T=_.element,y=_.renderer,C=y.isSVG,M=function(D,x){["opacity","visibility"].forEach(function(f){D[f+"Setter"]=function(m,r,p){var a=D.div?D.div.style:x;$.prototype[f+"Setter"].call(this,m,r,p),a&&(a[r]=m)}}),D.addedSetters=!0};return _.textSetter=function(D){D!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Y.setElementHTML(this.element,N(D,"")),this.textStr=D,_.doTransform=!0)},C&&M(_,_.element.style),_.xSetter=_.ySetter=_.alignSetter=_.rotationSetter=function(D,x){"align"===x?_.alignValue=_.textAlign=D:_[x]=D,_.doTransform=!0},_.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},_.attr({text:g,x:Math.round(d),y:Math.round(v)}).css({position:"absolute"}),y.styledMode||_.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),T.style.whiteSpace="nowrap",_.css=_.htmlCss,C&&(_.add=function(D){var x=y.box.parentNode,f=[];if(this.parentGroup=D){var m=D.div;if(!m){for(;D;)f.push(D),D=D.parentGroup;f.reverse().forEach(function(r){function p(l,w){r[w]=l,"translateX"===w?h.left=l+"px":h.top=l+"px",r.doTransform=!0}var l,a=K(r.element,"class"),n=r.styles||{},h=(m=r.div=r.div||X("div",a?{className:a}:void 0,{position:"absolute",left:(r.translateX||0)+"px",top:(r.translateY||0)+"px",display:r.display,opacity:r.opacity,cursor:n.cursor,pointerEvents:n.pointerEvents,visibility:r.visibility},m||x)).style;F(r,{classSetter:(l=m,function(w){this.element.setAttribute("class",w),l.className=w}),on:function(){return f[0].div&&_.on.apply({element:f[0].div,onEvents:r.onEvents},arguments),r},translateXSetter:p,translateYSetter:p}),r.addedSetters||M(r)})}}else m=x;return m.appendChild(T),_.added=!0,_.alignOnAdd&&_.htmlUpdateTransform(),_}),_},k.composedClasses=[],k}(q)}),wt(o,"Core/Axis/AxisDefaults.js",[],function(){var Y=(()=>{return($=Y||(Y={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},$.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},$.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},$.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},$.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},$.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},Y;var $})();return Y}),wt(o,"Core/Foundation.js",[o["Core/Utilities.js"]],function(Y){var K,$=Y.addEvent,q=Y.isFunction,rt=Y.objectEach,J=Y.removeEvent;return(K||(K={})).registerEventOptions=function(F,N){F.eventOptions=F.eventOptions||{},rt(N.events,function(O,k){F.eventOptions[k]!==O&&(F.eventOptions[k]&&(J(F,k,F.eventOptions[k]),delete F.eventOptions[k]),q(O)&&(F.eventOptions[k]=O,$(F,k,O)))})},K}),wt(o,"Core/Axis/Tick.js",[o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=$.deg2rad,J=q.clamp,K=q.correctFloat,X=q.defined,F=q.destroyObjectProperties,N=q.extend,O=q.fireEvent,k=q.isNumber,g=q.merge,d=q.objectEach,v=q.pick;return function(){function _(T,y,C,M,D){this.isNewLabel=this.isNew=!0,this.axis=T,this.pos=y,this.type=C||"",this.parameters=D||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,O(this,"init"),C||M||this.addLabel()}return _.prototype.addLabel=function(){var T=this,y=T.axis,C=y.options,M=y.chart,D=y.categories,x=y.logarithmic,f=y.names,m=T.pos,r=v(T.options&&T.options.labels,C.labels),p=y.tickPositions,a=m===p[0],n=m===p[p.length-1],h=(!r.step||1===r.step)&&1===y.tickInterval;p=p.info;var w,l=T.label;if(D=this.parameters.category||(D?v(D[m],f[m],m):m),x&&k(D)&&(D=K(x.lin2log(D))),y.dateTime)if(p)var P=M.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid&&p.higherRanks[m]||p.unitName]),I=P.main;else k(D)&&(I=y.dateTime.getXDateFormat(D,C.dateTimeLabelFormats||{}));T.isFirst=a,T.isLast=n;var L={axis:y,chart:M,dateTimeLabelFormat:I,isFirst:a,isLast:n,pos:m,tick:T,tickPositionInfo:p,value:D};O(this,"labelFormat",L);var S=function(c){return r.formatter?r.formatter.call(c,c):r.format?(c.text=y.defaultLabelFormatter.call(c),Y.format(r.format,c,M)):y.defaultLabelFormatter.call(c,c)};C=S.call(L,L);var B=P&&P.list;T.shortenLabel=B?function(){for(w=0;w<B.length;w++)if(N(L,{dateTimeLabelFormat:B[w]}),l.attr({text:S.call(L,L)}),l.getBBox().width<y.getSlotWidth(T)-2*r.padding)return;l.attr({text:""})}:void 0,h&&y._addedPlotLB&&T.moveLabel(C,r),X(l)||T.movedLabel?l&&l.textStr!==C&&!h&&(!l.textWidth||r.style.width||l.styles.width||l.css({width:null}),l.attr({text:C}),l.textPxLength=l.getBBox().width):(T.label=l=T.createLabel({x:0,y:0},C,r),T.rotation=0)},_.prototype.createLabel=function(T,y,C){var M=this.axis,D=M.chart;return(T=X(y)&&C.enabled?D.renderer.text(y,T.x,T.y,C.useHTML).add(M.labelGroup):null)&&(D.styledMode||T.css(g(C.style)),T.textPxLength=T.getBBox().width),T},_.prototype.destroy=function(){F(this,this.axis)},_.prototype.getPosition=function(T,y,C,M){var D=this.axis,x=D.chart,f=M&&x.oldChartHeight||x.chartHeight;return(T={x:T?K(D.translate(y+C,null,null,M)+D.transB):D.left+D.offset+(D.opposite?(M&&x.oldChartWidth||x.chartWidth)-D.right-D.left:0),y:T?f-D.bottom+D.offset-(D.opposite?D.height:0):K(f-D.translate(y+C,null,null,M)-D.transB)}).y=J(T.y,-1e5,1e5),O(this,"afterGetPosition",{pos:T}),T},_.prototype.getLabelPosition=function(T,y,C,M,D,x,f,m){var r=this.axis,p=r.transA,a=r.isLinked&&r.linkedParent?r.linkedParent.reversed:r.reversed,n=r.staggerLines,h=r.tickRotCorr||{x:0,y:0},l=M||r.reserveSpaceDefault?0:-r.labelOffset*("center"===r.labelAlign?.5:1),w={},P=D.y;return X(P)||(P=0===r.side?C.rotation?-8:-C.getBBox().height:2===r.side?h.y+8:Math.cos(C.rotation*rt)*(h.y-C.getBBox(!1,0).height/2)),y=y+P-(x&&!M?x*p*(a?1:-1):0),n&&(C=f/(m||1)%n,r.opposite&&(C=n-C-1),y+=r.labelOffset/n*C),w.x=T=T+D.x+l+h.x-(x&&M?x*p*(a?-1:1):0),w.y=Math.round(y),O(this,"afterGetLabelPosition",{pos:w,tickmarkOffset:x,index:f}),w},_.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},_.prototype.getMarkPath=function(T,y,C,M,D,x){return x.crispLine([["M",T,y],["L",T+(D?0:-C),y+(D?C:0)]],M)},_.prototype.handleOverflow=function(T){var y=this.axis,C=y.options.labels,M=T.x,D=y.chart.chartWidth,x=y.chart.spacing,f=v(y.labelLeft,Math.min(y.pos,x[3]));x=v(y.labelRight,Math.max(y.isRadial?0:y.pos+y.len,D-x[1]));var P,m=this.label,r=this.rotation,p={left:0,center:.5,right:1}[y.labelAlign||m.attr("align")],a=m.getBBox().width,n=y.getSlotWidth(this),h={},l=n,w=1;r||"justify"!==C.overflow?0>r&&M-p*a<f?P=Math.round(M/Math.cos(r*rt)-f):0<r&&M+p*a>x&&(P=Math.round((D-M)/Math.cos(r*rt))):(D=M+(1-p)*a,M-p*a<f?l=T.x+l*(1-p)-f:D>x&&(l=x-T.x+l*p,w=-1),(l=Math.min(n,l))<n&&"center"===y.labelAlign&&(T.x+=w*(n-l-p*(n-Math.min(a,l)))),(a>l||y.autoRotation&&(m.styles||{}).width)&&(P=l)),P&&(this.shortenLabel?this.shortenLabel():(h.width=Math.floor(P)+"px",(C.style||{}).textOverflow||(h.textOverflow="ellipsis"),m.css(h)))},_.prototype.moveLabel=function(T,y){var C=this,M=C.label,D=C.axis,x=D.reversed,f=!1;if(M&&M.textStr===T?(C.movedLabel=M,f=!0,delete C.label):d(D.ticks,function(r){f||r.isNew||r===C||!r.label||r.label.textStr!==T||(C.movedLabel=r.label,f=!0,r.labelPos=C.movedLabel.xy,delete r.label)}),!f&&(C.labelPos||M)){var m=C.labelPos||M.xy;C.movedLabel=C.createLabel({x:M=D.horiz?x?0:D.width+D.left:m.x,y:D=D.horiz?m.y:x?D.width+D.left:0},T,y),C.movedLabel&&C.movedLabel.attr({opacity:0})}},_.prototype.render=function(T,y,C){var M=this.axis,D=M.horiz,x=this.pos,f=v(this.tickmarkOffset,M.tickmarkOffset);f=(x=this.getPosition(D,x,f,y)).x,M=D&&f===M.pos+M.len||!D&&x.y===M.pos?-1:1,D=v(C,this.label&&this.label.newOpacity,1),C=v(C,1),this.isActive=!0,this.renderGridLine(y,C,M),this.renderMark(x,C,M),this.renderLabel(x,y,D,T),this.isNew=!1,O(this,"afterRender")},_.prototype.renderGridLine=function(T,y,C){var M=this.axis,D=M.options,x={},f=this.pos,m=this.type,r=v(this.tickmarkOffset,M.tickmarkOffset),p=M.chart.renderer,a=this.gridLine,n=D.gridLineWidth,h=D.gridLineColor,l=D.gridLineDashStyle;"minor"===this.type&&(n=D.minorGridLineWidth,h=D.minorGridLineColor,l=D.minorGridLineDashStyle),a||(M.chart.styledMode||(x.stroke=h,x["stroke-width"]=n||0,x.dashstyle=l),m||(x.zIndex=1),T&&(y=0),this.gridLine=a=p.path().attr(x).addClass("highcharts-"+(m?m+"-":"")+"grid-line").add(M.gridGroup)),a&&(C=M.getPlotLinePath({value:f+r,lineWidth:a.strokeWidth()*C,force:"pass",old:T}))&&a[T||this.isNew?"attr":"animate"]({d:C,opacity:y})},_.prototype.renderMark=function(T,y,C){var M=this.axis,D=M.options,x=M.chart.renderer,f=this.type,m=M.tickSize(f?f+"Tick":"tick"),r=T.x;T=T.y;var p=v(D["minor"!==f?"tickWidth":"minorTickWidth"],!f&&M.isXAxis?1:0);D=D["minor"!==f?"tickColor":"minorTickColor"];var a=this.mark,n=!a;m&&(M.opposite&&(m[0]=-m[0]),a||(this.mark=a=x.path().addClass("highcharts-"+(f?f+"-":"")+"tick").add(M.axisGroup),M.chart.styledMode||a.attr({stroke:D,"stroke-width":p})),a[n?"attr":"animate"]({d:this.getMarkPath(r,T,m[0],a.strokeWidth()*C,M.horiz,x),opacity:y}))},_.prototype.renderLabel=function(T,y,C,M){var D=this.axis,x=D.horiz,f=D.options,m=this.label,r=f.labels,p=r.step;D=v(this.tickmarkOffset,D.tickmarkOffset);var a=T.x;T=T.y;var n=!0;m&&k(a)&&(m.xy=T=this.getLabelPosition(a,T,m,x,r,D,M,p),this.isFirst&&!this.isLast&&!f.showFirstLabel||this.isLast&&!this.isFirst&&!f.showLastLabel?n=!1:!x||r.step||r.rotation||y||0===C||this.handleOverflow(T),p&&M%p&&(n=!1),n&&k(T.y)?(T.opacity=C,m[this.isNewLabel?"attr":"animate"](T),this.isNewLabel=!1):(m.attr("y",-9999),this.isNewLabel=!0))},_.prototype.replaceMovedLabel=function(){var T=this.label,y=this.axis,C=y.reversed;T&&!this.isNew&&(T.animate({x:y.horiz?C?y.left:y.width+y.left:T.xy.x,y:C=y.horiz?T.xy.y:C?y.width+y.top:y.top,opacity:0},void 0,T.destroy),delete this.label),y.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},_}()}),wt(o,"Core/Axis/Axis.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/AxisDefaults.js"],o["Core/Color/Color.js"],o["Core/DefaultOptions.js"],o["Core/Foundation.js"],o["Core/Globals.js"],o["Core/Axis/Tick.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F){var N=Y.animObject,O=rt.defaultOptions,k=J.registerEventOptions,g=K.deg2rad,d=F.arrayMax,v=F.arrayMin,_=F.clamp,T=F.correctFloat,y=F.defined,C=F.destroyObjectProperties,M=F.erase,D=F.error,x=F.extend,f=F.fireEvent,m=F.getMagnitude,r=F.isArray,p=F.isNumber,a=F.isString,n=F.merge,h=F.normalizeTickInterval,l=F.objectEach,w=F.pick,P=F.relativeLength,I=F.removeEvent,L=F.splat,S=F.syncTimeout;return function(){function B(c,u){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(c,u)}return B.prototype.init=function(c,u){var E=u.isX;this.chart=c,this.horiz=c.inverted&&!this.isZAxis?!E:E,this.isXAxis=E,this.coll=this.coll||(E?"xAxis":"yAxis"),f(this,"init",{userOptions:u}),this.opposite=w(u.opposite,this.opposite),this.side=w(u.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(u);var j=this.options,G=j.labels,W=j.type;this.userOptions=u,this.minPixelPadding=0,this.reversed=w(j.reversed,this.reversed),this.visible=j.visible,this.zoomEnabled=j.zoomEnabled,this.hasNames="category"===W||!0===j.categories,this.categories=j.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=y(j.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=j.minRange||j.maxZoom,this.range=j.range,this.offset=j.offset||0,this.min=this.max=null,u=w(j.crosshair,L(c.options.tooltip.crosshairs)[E?0:1]),this.crosshair=!0===u?{}:u,-1===c.axes.indexOf(this)&&(E?c.axes.splice(c.xAxis.length,0,this):c.axes.push(this),c[this.coll].push(this)),this.series=this.series||[],c.inverted&&!this.isZAxis&&E&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=p(G.rotation)?G.rotation:void 0,k(this,j),f(this,"afterInit")},B.prototype.setOptions=function(c){this.options=n($.defaultXAxisOptions,"yAxis"===this.coll&&$.defaultYAxisOptions,[$.defaultTopAxisOptions,$.defaultRightAxisOptions,$.defaultBottomAxisOptions,$.defaultLeftAxisOptions][this.side],n(O[this.coll],c)),f(this,"afterSetOptions",{userOptions:c})},B.prototype.defaultLabelFormatter=function(c){var u=this.axis;c=this.chart.numberFormatter;var E=p(this.value)?this.value:NaN,j=u.chart.time,G=this.dateTimeLabelFormat,W=O.lang,b=W.numericSymbols;W=W.numericSymbolMagnitude||1e3;var z=u.logarithmic?Math.abs(E):u.tickInterval,R=b&&b.length;if(u.categories)var V=""+this.value;else if(G)V=j.dateFormat(G,E);else if(R&&1e3<=z)for(;R--&&void 0===V;)z>=(u=Math.pow(W,R+1))&&10*E%u==0&&null!==b[R]&&0!==E&&(V=c(E/u,-1)+b[R]);return void 0===V&&(V=1e4<=Math.abs(E)?c(E,-1):c(E,-1,void 0,"")),V},B.prototype.getSeriesExtremes=function(){var E,c=this,u=c.chart;f(this,"getSeriesExtremes",null,function(){c.hasVisibleSeries=!1,c.dataMin=c.dataMax=c.threshold=null,c.softThreshold=!c.isXAxis,c.stacking&&c.stacking.buildStacks(),c.series.forEach(function(j){if(j.visible||!u.options.chart.ignoreHiddenSeries){var G=j.options,W=G.threshold;if(c.hasVisibleSeries=!0,c.positiveValuesOnly&&0>=W&&(W=null),c.isXAxis){if((G=j.xData).length){G=c.logarithmic?G.filter(c.validatePositiveValue):G;var b=(E=j.getXExtremes(G)).min,z=E.max;p(b)||b instanceof Date||(G=G.filter(p),b=(E=j.getXExtremes(G)).min,z=E.max),G.length&&(c.dataMin=Math.min(w(c.dataMin,b),b),c.dataMax=Math.max(w(c.dataMax,z),z))}}else j=j.applyExtremes(),p(j.dataMin)&&(b=j.dataMin,c.dataMin=Math.min(w(c.dataMin,b),b)),p(j.dataMax)&&(z=j.dataMax,c.dataMax=Math.max(w(c.dataMax,z),z)),y(W)&&(c.threshold=W),(!G.softThreshold||c.positiveValuesOnly)&&(c.softThreshold=!1)}})}),f(this,"afterGetSeriesExtremes")},B.prototype.translate=function(c,u,E,j,G,W){var b=this.linkedParent||this,z=j&&b.old?b.old.min:b.min,R=b.minPixelPadding;G=(b.isOrdinal||b.brokenAxis&&b.brokenAxis.hasBreaks||b.logarithmic&&G)&&b.lin2val;var V=1,Z=0;return(j=j&&b.old?b.old.transA:b.transA)||(j=b.transA),E&&(V*=-1,Z=b.len),b.reversed&&(Z-=(V*=-1)*(b.sector||b.len)),u?(c=(c*V+Z-R)/j+z,G&&(c=b.lin2val(c))):(G&&(c=b.val2lin(c)),c=p(z)?V*(c-z)*j+Z+V*R+(p(W)?j*W:0):void 0),c},B.prototype.toPixels=function(c,u){return this.translate(c,!1,!this.horiz,null,!0)+(u?0:this.pos)},B.prototype.toValue=function(c,u){return this.translate(c-(u?0:this.pos),!0,!this.horiz,null,!0)},B.prototype.getPlotLinePath=function(c){function u(ct,H,tt){return("pass"!==ot&&ct<H||ct>tt)&&(ot?ct=_(ct,H,tt):ut=!0),ct}var at,mt,_t,yt,ut,E=this,j=E.chart,G=E.left,W=E.top,b=c.old,z=c.value,R=c.lineWidth,V=b&&j.oldChartHeight||j.chartHeight,Z=b&&j.oldChartWidth||j.chartWidth,nt=E.transB,it=c.translatedValue,ot=c.force;return f(this,"getPlotLinePath",c={value:z,lineWidth:R,old:b,force:ot,acrossPanes:c.acrossPanes,translatedValue:it},function(ct){it=w(it,E.translate(z,null,null,b)),it=_(it,-1e5,1e5),at=_t=Math.round(it+nt),mt=yt=Math.round(V-it-nt),p(it)?E.horiz?(mt=W,yt=V-E.bottom,at=_t=u(at,G,G+E.width)):(at=G,_t=Z-E.right,mt=yt=u(mt,W,W+E.height)):(ut=!0,ot=!1),ct.path=ut&&!ot?null:j.renderer.crispLine([["M",at,mt],["L",_t,yt]],R||1)}),c.path},B.prototype.getLinearTickPositions=function(c,u,E){var j=T(Math.floor(u/c)*c);E=T(Math.ceil(E/c)*c);var W,G=[];if(T(j+c)===j&&(W=20),this.single)return[u];for(u=j;u<=E&&(G.push(u),(u=T(u+c,W))!==b);)var b=u;return G},B.prototype.getMinorTickInterval=function(){var c=this.options;return!0===c.minorTicks?w(c.minorTickInterval,"auto"):!1===c.minorTicks?null:c.minorTickInterval},B.prototype.getMinorTickPositions=function(){var c=this.options,u=this.tickPositions,E=this.minorTickInterval,j=this.pointRangePadding||0,G=this.min-j,W=(j=this.max+j)-G,b=[];if(W&&W/E<this.len/3){var z=this.logarithmic;if(z)this.paddedTicks.forEach(function(R,V,Z){V&&b.push.apply(b,z.getLogTickPositions(E,Z[V-1],Z[V],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())b=b.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(E),G,j,c.startOfWeek));else for(c=G+(u[0]-G)%E;c<=j&&c!==b[0];c+=E)b.push(c)}return 0!==b.length&&this.trimTicks(b),b},B.prototype.adjustForMinRange=function(){var W,b,z,R,c=this.options,u=this.logarithmic,E=this.min,j=this.max,G=0;if(this.isXAxis&&void 0===this.minRange&&!u&&(y(c.min)||y(c.max)||y(c.floor)||y(c.ceiling)?this.minRange=null:(this.series.forEach(function(it){if(z=it.xData,R=it.xIncrement?1:z.length-1,1<z.length)for(W=R;0<W;W--)b=z[W]-z[W-1],(!G||b<G)&&(G=b)}),this.minRange=Math.min(5*G,this.dataMax-this.dataMin))),j-E<this.minRange){var V=this.dataMax-this.dataMin>=this.minRange,Z=this.minRange,nt=(Z-j+E)/2;nt=[E-nt,w(c.min,E-nt)],V&&(nt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),j=[(E=d(nt))+Z,w(c.max,E+Z)],V&&(j[2]=u?u.log2lin(this.dataMax):this.dataMax),(j=v(j))-E<Z&&(nt[0]=j-Z,nt[1]=w(c.min,j-Z),E=d(nt))}this.min=E,this.max=j},B.prototype.getClosest=function(){var c;return this.categories?c=1:this.series.forEach(function(u){var E=u.closestPointRange,j=u.visible||!u.chart.options.chart.ignoreHiddenSeries;!u.noSharedTooltip&&y(E)&&j&&(c=y(c)?Math.min(c,E):E)}),c},B.prototype.nameToX=function(c){var u=r(this.categories),E=u?this.categories:this.names,j=c.options.x;if(c.series.requireSorting=!1,y(j)||(j=this.options.uniqueNames?u?E.indexOf(c.name):w(E.keys[c.name],-1):c.series.autoIncrement()),-1===j){if(!u)var G=E.length}else G=j;return void 0!==G&&(this.names[G]=c.name,this.names.keys[c.name]=G),G},B.prototype.updateNames=function(){var c=this,u=this.names;0<u.length&&(Object.keys(u.keys).forEach(function(E){delete u.keys[E]}),u.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(E){E.xIncrement=null,(!E.points||E.isDirtyData)&&(c.max=Math.max(c.max,E.xData.length-1),E.processData(),E.generatePoints()),E.data.forEach(function(j,G){if(j&&j.options&&void 0!==j.name){var W=c.nameToX(j);void 0!==W&&W!==j.x&&(j.x=W,E.xData[G]=W)}})}))},B.prototype.setAxisTranslation=function(){var R,c=this,u=c.max-c.min,E=c.linkedParent,j=!!c.categories,G=c.isXAxis,W=c.axisPointRange||0,b=0,z=0;if(G||j||W){var V=c.getClosest();E?(b=E.minPointOffset,z=E.pointRangePadding):c.series.forEach(function(Z){var nt=j?1:G?w(Z.options.pointRange,V,0):c.axisPointRange||0,it=Z.options.pointPlacement;W=Math.max(W,nt),(!c.single||j)&&(Z=Z.is("xrange")?!G:G,b=Math.max(b,Z&&a(it)?0:nt/2),z=Math.max(z,Z&&"on"===it?0:nt))}),c.minPointOffset=b*=E=c.ordinal&&c.ordinal.slope&&V?c.ordinal.slope/V:1,c.pointRangePadding=z*=E,c.pointRange=Math.min(W,c.single&&j?1:u),G&&(c.closestPointRange=V)}c.translationSlope=c.transA=R=c.staticScale||c.len/(u+z||1),c.transB=c.horiz?c.left:c.bottom,c.minPixelPadding=R*b,f(this,"afterSetAxisTranslation")},B.prototype.minFromRange=function(){return this.max-this.range},B.prototype.setTickInterval=function(c){var u=this.chart,E=this.logarithmic,j=this.options,G=this.isXAxis,W=this.isLinked,b=j.tickPixelInterval,z=this.categories,R=this.softThreshold,V=j.maxPadding,Z=j.minPadding,nt=p(j.tickInterval)&&0<=j.tickInterval?j.tickInterval:void 0,it=p(this.threshold)?this.threshold:null;this.dateTime||z||W||this.getTickAmount();var ot=w(this.userMin,j.min),at=w(this.userMax,j.max);if(W){this.linkedParent=u[this.coll][j.linkedTo];var mt=this.linkedParent.getExtremes();this.min=w(mt.min,mt.dataMin),this.max=w(mt.max,mt.dataMax),j.type!==this.linkedParent.options.type&&D(11,1,u)}else{if(R&&y(it))if(this.dataMin>=it)mt=it,Z=0;else if(this.dataMax<=it){var _t=it;V=0}this.min=w(ot,mt,this.dataMin),this.max=w(at,_t,this.dataMax)}if(E&&(this.positiveValuesOnly&&!c&&0>=Math.min(this.min,w(this.dataMin,this.min))&&D(10,1,u),this.min=T(E.log2lin(this.min),16),this.max=T(E.log2lin(this.max),16)),this.range&&y(this.max)&&(this.userMin=this.min=ot=Math.max(this.dataMin,this.minFromRange()),this.userMax=at=this.max,this.range=null),f(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(z||this.axisPointRange||this.stacking&&this.stacking.usePercentage||W)&&y(this.min)&&y(this.max)&&(u=this.max-this.min)&&(!y(ot)&&Z&&(this.min-=u*Z),!y(at)&&V&&(this.max+=u*V)),p(this.userMin)||(p(j.softMin)&&j.softMin<this.min&&(this.min=ot=j.softMin),p(j.floor)&&(this.min=Math.max(this.min,j.floor))),p(this.userMax)||(p(j.softMax)&&j.softMax>this.max&&(this.max=at=j.softMax),p(j.ceiling)&&(this.max=Math.min(this.max,j.ceiling))),R&&y(this.dataMin)&&(it=it||0,!y(ot)&&this.min<it&&this.dataMin>=it?this.min=this.options.minRange?Math.min(it,this.max-this.minRange):it:!y(at)&&this.max>it&&this.dataMax<=it&&(this.max=this.options.minRange?Math.max(it,this.min+this.minRange):it)),p(this.min)&&p(this.max)&&!this.chart.polar&&this.min>this.max&&(y(this.options.min)?this.max=this.min:y(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:W&&this.linkedParent&&!nt&&b===this.linkedParent.options.tickPixelInterval?nt=this.linkedParent.tickInterval:w(nt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,z?1:(this.max-this.min)*b/Math.max(this.len,b)),G&&!c){var yt=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(ut){ut.forceCrop=ut.forceCropping&&ut.forceCropping(),ut.processData(yt)}),f(this,"postProcessData",{hasExtemesChanged:yt})}this.setAxisTranslation(),f(this,"initialAxisTranslation"),this.pointRange&&!nt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),c=w(j.minTickInterval,this.dateTime&&!this.series.some(function(ut){return ut.noSharedTooltip})?this.closestPointRange:0),!nt&&this.tickInterval<c&&(this.tickInterval=c),this.dateTime||this.logarithmic||nt||(this.tickInterval=h(this.tickInterval,void 0,m(this.tickInterval),w(j.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},B.prototype.setTickPositions=function(){var c=this.options,u=c.tickPositions,E=this.getMinorTickInterval(),j=this.hasVerticalPanning(),G="colorAxis"===this.coll,W=(G||!j)&&c.startOnTick;j=(G||!j)&&c.endOnTick,G=c.tickPositioner,this.tickmarkOffset=this.categories&&"between"===c.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===E&&this.tickInterval?this.tickInterval/5:E,this.single=this.min===this.max&&y(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==c.allowDecimals),this.tickPositions=E=u&&u.slice(),!E&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?E=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,c.units),this.min,this.max,c.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(E=[this.min,this.max],D(19,!1,this.chart)),E.length>this.len&&(E=[E[0],E.pop()])[0]===E[1]&&(E.length=1),this.tickPositions=E,G&&(G=G.apply(this,[this.min,this.max])))&&(this.tickPositions=E=G),this.paddedTicks=E.slice(0),this.trimTicks(E,W,j),this.isLinked||(this.single&&2>E.length&&!this.categories&&!this.series.some(function(b){return b.is("heatmap")&&"between"===b.options.pointPlacement})&&(this.min-=.5,this.max+=.5),u||G||this.adjustTickAmount()),f(this,"afterSetTickPositions")},B.prototype.trimTicks=function(c,u,E){var j=c[0],G=c[c.length-1],W=!this.isOrdinal&&this.minPointOffset||0;if(f(this,"trimTicks"),!this.isLinked){if(u&&j!==-1/0)this.min=j;else for(;this.min-W>c[0];)c.shift();if(E)this.max=G;else for(;this.max+W<c[c.length-1];)c.pop();0===c.length&&y(j)&&!this.options.tickPositions&&c.push((G+j)/2)}},B.prototype.alignToOthers=function(){var E,c={},u=this.options;return!1!==this.chart.options.chart.alignTicks&&u.alignTicks&&!1!==u.startOnTick&&!1!==u.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach(function(j){var G=j.options;G=[j.horiz?G.left:G.top,G.width,G.height,G.pane].join(),j.series.length&&(c[G]?E=!0:c[G]=1)}),E},B.prototype.getTickAmount=function(){var c=this.options,u=c.tickPixelInterval,E=c.tickAmount;!y(c.tickInterval)&&!E&&this.len<u&&!this.isRadial&&!this.logarithmic&&c.startOnTick&&c.endOnTick&&(E=2),!E&&this.alignToOthers()&&(E=Math.ceil(this.len/u)+1),4>E&&(this.finalTickAmt=E,E=5),this.tickAmount=E},B.prototype.adjustTickAmount=function(){var c=this.options,u=this.tickInterval,E=this.tickPositions,j=this.tickAmount,G=this.finalTickAmt,W=E&&E.length,b=w(this.threshold,this.softThreshold?0:null);if(this.hasData()&&p(this.min)&&p(this.max)){if(W<j){for(;E.length<j;)E.length%2||this.min===b?E.push(T(E[E.length-1]+u)):E.unshift(T(E[0]-u));this.transA*=(W-1)/(j-1),this.min=c.startOnTick?E[0]:Math.min(this.min,E[0]),this.max=c.endOnTick?E[E.length-1]:Math.max(this.max,E[E.length-1])}else W>j&&(this.tickInterval*=2,this.setTickPositions());if(y(G)){for(u=c=E.length;u--;)(3===G&&u%2==1||2>=G&&0<u&&u<c-1)&&E.splice(u,1);this.finalTickAmt=void 0}}},B.prototype.setScale=function(){var c=!1,u=!1;this.series.forEach(function(j){c=c||j.isDirtyData||j.isDirty,u=u||j.xAxis&&j.xAxis.isDirty||!1}),this.setAxisSize();var E=this.len!==(this.old&&this.old.len);E||c||u||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=E||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),c&&this.panningState&&(this.panningState.isDirty=!0),f(this,"afterSetScale")},B.prototype.setExtremes=function(c,u,E,j,G){var W=this,b=W.chart;E=w(E,!0),W.series.forEach(function(z){delete z.kdTree}),G=x(G,{min:c,max:u}),f(W,"setExtremes",G,function(){W.userMin=c,W.userMax=u,W.eventArgs=G,E&&b.redraw(j)})},B.prototype.zoom=function(c,u){var E=this,j=this.dataMin,G=this.dataMax,W=this.options,b=Math.min(j,w(W.min,j)),z=Math.max(G,w(W.max,G));return f(this,"zoom",c={newMin:c,newMax:u},function(R){var V=R.newMin,Z=R.newMax;(V!==E.min||Z!==E.max)&&(E.allowZoomOutside||(y(j)&&(V<b&&(V=b),V>z&&(V=z)),y(G)&&(Z<b&&(Z=b),Z>z&&(Z=z))),E.displayBtn=void 0!==V||void 0!==Z,E.setExtremes(V,Z,!1,void 0,{trigger:"zoom"})),R.zoomed=!0}),c.zoomed},B.prototype.setAxisSize=function(){var c=this.chart,u=this.options,E=u.offsets||[0,0,0,0],j=this.horiz,G=this.width=Math.round(P(w(u.width,c.plotWidth-E[3]+E[1]),c.plotWidth)),W=this.height=Math.round(P(w(u.height,c.plotHeight-E[0]+E[2]),c.plotHeight)),b=this.top=Math.round(P(w(u.top,c.plotTop+E[0]),c.plotHeight,c.plotTop));u=this.left=Math.round(P(w(u.left,c.plotLeft+E[3]),c.plotWidth,c.plotLeft)),this.bottom=c.chartHeight-W-b,this.right=c.chartWidth-G-u,this.len=Math.max(j?G:W,0),this.pos=j?u:b},B.prototype.getExtremes=function(){var c=this.logarithmic;return{min:c?T(c.lin2log(this.min)):this.min,max:c?T(c.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},B.prototype.getThreshold=function(c){var u=this.logarithmic,E=u?u.lin2log(this.min):this.min;return u=u?u.lin2log(this.max):this.max,null===c||c===-1/0?c=E:c===1/0?c=u:E>c?c=E:u<c&&(c=u),this.translate(c,0,1,0,1)},B.prototype.autoLabelAlign=function(c){var u=(w(c,0)-90*this.side+720)%360;return f(this,"autoLabelAlign",c={align:"center"},function(E){15<u&&165>u?E.align="right":195<u&&345>u&&(E.align="left")}),c.align},B.prototype.tickSize=function(c){var u=this.options,E=w(u["tick"===c?"tickWidth":"minorTickWidth"],"tick"===c&&this.isXAxis&&!this.categories?1:0),j=u["tick"===c?"tickLength":"minorTickLength"];if(E&&j){"inside"===u[c+"Position"]&&(j=-j);var G=[j,E]}return f(this,"afterTickSize",c={tickSize:G}),c.tickSize},B.prototype.labelMetrics=function(){var c=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[c]&&this.ticks[c].label)},B.prototype.unsquish=function(){var V,Z,c=this.options.labels,u=this.horiz,E=this.tickInterval,j=this.len/(((this.categories?1:0)+this.max-this.min)/E),G=c.rotation,W=this.labelMetrics(),b=Math.max(this.max-this.min,0),z=function(ot){var at=ot/(j||1);return(at=1<at?Math.ceil(at):1)*E>b&&ot!==1/0&&j!==1/0&&b&&(at=Math.ceil(b/E)),T(at*E)},R=E,nt=Number.MAX_VALUE;if(u){if(!c.staggerLines&&!c.step)if(p(G))var it=[G];else j<c.autoRotationLimit&&(it=c.autoRotation);it&&it.forEach(function(ot){if(ot===G||ot&&-90<=ot&&90>=ot){var at=(Z=z(Math.abs(W.h/Math.sin(g*ot))))+Math.abs(ot/360);at<nt&&(nt=at,V=ot,R=Z)}})}else c.step||(R=z(W.h));return this.autoRotation=it,this.labelRotation=w(V,p(G)?G:0),R},B.prototype.getSlotWidth=function(c){var u=this.chart,E=this.horiz,j=this.options.labels,G=Math.max(this.tickPositions.length-(this.categories?0:1),1),W=u.margin[3];if(c&&p(c.slotWidth))return c.slotWidth;if(E&&2>j.step)return j.rotation?0:(this.staggerLines||1)*this.len/G;if(!E){if(void 0!==(c=j.style.width))return parseInt(String(c),10);if(W)return W-u.spacing[3]}return.33*u.chartWidth},B.prototype.renderUnsquish=function(){var c=this.chart,u=c.renderer,E=this.tickPositions,j=this.ticks,G=this.options.labels,W=G.style,b=this.horiz,z=this.getSlotWidth(),R=Math.max(1,Math.round(z-2*G.padding)),V={},Z=this.labelMetrics(),nt=W.textOverflow,it=0;if(a(G.rotation)||(V.rotation=G.rotation||0),E.forEach(function(_t){(_t=j[_t]).movedLabel&&_t.replaceMovedLabel(),_t&&_t.label&&_t.label.textPxLength>it&&(it=_t.label.textPxLength)}),this.maxLabelLength=it,this.autoRotation)it>R&&it>Z.h?V.rotation=this.labelRotation:this.labelRotation=0;else if(z){var ot=R;if(!nt){var at="clip";for(R=E.length;!b&&R--;){var mt=E[R];(mt=j[mt].label)&&(mt.styles&&"ellipsis"===mt.styles.textOverflow?mt.css({textOverflow:"clip"}):mt.textPxLength>z&&mt.css({width:z+"px"}),mt.getBBox().height>this.len/E.length-(Z.h-Z.f)&&(mt.specificTextOverflow="ellipsis"))}}}V.rotation&&(ot=it>.5*c.chartHeight?.33*c.chartHeight:it,nt||(at="ellipsis")),(this.labelAlign=G.align||this.autoLabelAlign(this.labelRotation))&&(V.align=this.labelAlign),E.forEach(function(_t){var yt=(_t=j[_t])&&_t.label,ut=W.width,ct={};yt&&(yt.attr(V),_t.shortenLabel?_t.shortenLabel():ot&&!ut&&"nowrap"!==W.whiteSpace&&(ot<yt.textPxLength||"SPAN"===yt.element.tagName)?(ct.width=ot+"px",nt||(ct.textOverflow=yt.specificTextOverflow||at),yt.css(ct)):yt.styles&&yt.styles.width&&!ct.width&&!ut&&yt.css({width:null}),delete yt.specificTextOverflow,_t.rotation=V.rotation)},this),this.tickRotCorr=u.rotCorr(Z.b,this.labelRotation||0,0!==this.side)},B.prototype.hasData=function(){return this.series.some(function(c){return c.hasData()})||this.options.showEmpty&&y(this.min)&&y(this.max)},B.prototype.addTitle=function(c){var b,j=this.opposite,G=this.options.title,W=this.chart.styledMode;this.axisTitle||((b=G.textAlign)||(b=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:j?"right":"left",middle:"center",high:j?"left":"right"})[G.align]),this.axisTitle=this.chart.renderer.text(G.text||"",0,0,G.useHTML).attr({zIndex:7,rotation:G.rotation,align:b}).addClass("highcharts-axis-title"),W||this.axisTitle.css(n(G.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),W||G.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[c?"show":"hide"](c)},B.prototype.generateTick=function(c){var u=this.ticks;u[c]?u[c].addLabel():u[c]=new X(this,c)},B.prototype.getOffset=function(){var c=this,u=this,E=u.chart,j=u.horiz,G=u.options,W=u.side,b=u.ticks,z=u.tickPositions,R=u.coll,V=u.axisParent,Z=E.renderer,nt=E.inverted&&!u.isZAxis?[1,0,3,2][W]:W,it=u.hasData(),ot=G.title,at=G.labels,mt=E.axisOffset;E=E.clipOffset;var ut,_t=[-1,1,1,-1][W],yt=G.className,ct=0,H=0,tt=0;if(u.showAxis=ut=it||G.showEmpty,u.staggerLines=u.horiz&&at.staggerLines||void 0,!u.axisGroup){var lt=function(ft,bt,Tt){return Z.g(ft).attr({zIndex:Tt}).addClass("highcharts-"+R.toLowerCase()+bt+" "+(c.isRadial?"highcharts-radial-axis"+bt+" ":"")+(yt||"")).add(V)};u.gridGroup=lt("grid","-grid",G.gridZIndex),u.axisGroup=lt("axis","",G.zIndex),u.labelGroup=lt("axis-labels","-labels",at.zIndex)}if(it||u.isLinked?(z.forEach(function(ft){u.generateTick(ft)}),u.renderUnsquish(),u.reserveSpaceDefault=0===W||2===W||{1:"left",3:"right"}[W]===u.labelAlign,w(at.reserveSpace,"center"===u.labelAlign||null,u.reserveSpaceDefault)&&z.forEach(function(ft){tt=Math.max(b[ft].getLabelSize(),tt)}),u.staggerLines&&(tt*=u.staggerLines),u.labelOffset=tt*(u.opposite?-1:1)):l(b,function(ft,bt){ft.destroy(),delete b[bt]}),ot&&ot.text&&!1!==ot.enabled&&(u.addTitle(ut),ut&&!1!==ot.reserveSpace)){u.titleOffset=ct=u.axisTitle.getBBox()[j?"height":"width"];var dt=ot.offset;H=y(dt)?0:w(ot.margin,j?5:10)}u.renderLine(),u.offset=_t*w(G.offset,mt[W]?mt[W]+(G.margin||0):0),u.tickRotCorr=u.tickRotCorr||{x:0,y:0},ot=0===W?-u.labelMetrics().h:2===W?u.tickRotCorr.y:0,it=Math.abs(tt)+H,tt&&(it=it-ot+_t*(j?w(at.y,u.tickRotCorr.y+8*_t):at.x)),u.axisTitleMargin=w(dt,it),u.getMaxLabelDimensions&&(u.maxLabelDimensions=u.getMaxLabelDimensions(b,z)),"colorAxis"!==R&&(j=this.tickSize("tick"),mt[W]=Math.max(mt[W],(u.axisTitleMargin||0)+ct+_t*u.offset,it,z&&z.length&&j?j[0]+_t*u.offset:0),G=!u.axisLine||G.offset?0:2*Math.floor(u.axisLine.strokeWidth()/2),E[nt]=Math.max(E[nt],G)),f(this,"afterGetOffset")},B.prototype.getLinePath=function(c){var u=this.chart,E=this.opposite,j=this.offset,G=this.horiz,W=this.left+(E?this.width:0)+j;return j=u.chartHeight-this.bottom-(E?this.height:0)+j,E&&(c*=-1),u.renderer.crispLine([["M",G?this.left:W,G?j:this.top],["L",G?u.chartWidth-this.right:W,G?j:u.chartHeight-this.bottom]],c)},B.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},B.prototype.getTitlePosition=function(){var c=this.horiz,u=this.left,E=this.top,j=this.len,G=this.options.title,W=c?u:E,b=this.opposite,z=this.offset,R=G.x,V=G.y,Z=this.axisTitle,nt=this.chart.renderer.fontMetrics(G.style.fontSize,Z);return Z=Math.max(Z.getBBox(null,0).height-nt.h-1,0),j={low:W+(c?0:j),middle:W+j/2,high:W+(c?j:0)}[G.align],u=(c?E+this.height:u)+(c?1:-1)*(b?-1:1)*this.axisTitleMargin+[-Z,Z,nt.f,-Z][this.side],f(this,"afterGetTitlePosition",{titlePosition:c={x:c?j+R:u+(b?this.width:0)+z+R,y:c?u+V-(b?this.height:0)+z:j+V}}),c},B.prototype.renderMinorTick=function(c,u){var E=this.minorTicks;E[c]||(E[c]=new X(this,c,"minor")),u&&E[c].isNew&&E[c].render(null,!0),E[c].render(null,!1,1)},B.prototype.renderTick=function(c,u,E){var j=this.ticks;(!this.isLinked||c>=this.min&&c<=this.max||this.grid&&this.grid.isColumn)&&(j[c]||(j[c]=new X(this,c)),E&&j[c].isNew&&j[c].render(u,!0,-1),j[c].render(u))},B.prototype.render=function(){var _t,yt,c=this,u=c.chart,E=c.logarithmic,j=c.options,G=c.isLinked,W=c.tickPositions,b=c.axisTitle,z=c.ticks,R=c.minorTicks,V=c.alternateBands,Z=j.stackLabels,nt=j.alternateGridColor,it=c.tickmarkOffset,ot=c.axisLine,at=c.showAxis,mt=N(u.renderer.globalAnimation);if(c.labelEdge.length=0,c.overlap=!1,[z,R,V].forEach(function(ct){l(ct,function(H){H.isActive=!1})}),c.hasData()||G){var ut=c.chart.hasRendered&&c.old&&p(c.old.min);c.minorTickInterval&&!c.categories&&c.getMinorTickPositions().forEach(function(ct){c.renderMinorTick(ct,ut)}),W.length&&(W.forEach(function(ct,H){c.renderTick(ct,H,ut)}),it&&(0===c.min||c.single)&&(z[-1]||(z[-1]=new X(c,-1,null,!0)),z[-1].render(-1))),nt&&W.forEach(function(ct,H){yt=void 0!==W[H+1]?W[H+1]+it:c.max-it,H%2==0&&ct<c.max&&yt<=c.max+(u.polar?-it:it)&&(V[ct]||(V[ct]=new K.PlotLineOrBand(c)),_t=ct+it,V[ct].options={from:E?E.lin2log(_t):_t,to:E?E.lin2log(yt):yt,color:nt,className:"highcharts-alternate-grid"},V[ct].render(),V[ct].isActive=!0)}),c._addedPlotLB||(c._addedPlotLB=!0,(j.plotLines||[]).concat(j.plotBands||[]).forEach(function(ct){c.addPlotBandOrLine(ct)}))}[z,R,V].forEach(function(ct){var H=[],tt=mt.duration;l(ct,function(lt,dt){lt.isActive||(lt.render(dt,!1,0),lt.isActive=!1,H.push(dt))}),S(function(){for(var lt=H.length;lt--;)ct[H[lt]]&&!ct[H[lt]].isActive&&(ct[H[lt]].destroy(),delete ct[H[lt]])},ct!==V&&u.hasRendered&&tt?tt:0)}),ot&&(ot[ot.isPlaced?"animate":"attr"]({d:this.getLinePath(ot.strokeWidth())}),ot.isPlaced=!0,ot[at?"show":"hide"](at)),b&&at&&(j=c.getTitlePosition(),p(j.y)?(b[b.isNew?"attr":"animate"](j),b.isNew=!1):(b.attr("y",-9999),b.isNew=!0)),Z&&Z.enabled&&c.stacking&&c.stacking.renderStackTotals(),c.old={len:c.len,max:c.max,min:c.min,transA:c.transA,userMax:c.userMax,userMin:c.userMin},c.isDirty=!1,f(this,"afterRender")},B.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(c){c.render()})),this.series.forEach(function(c){c.isDirty=!0})},B.prototype.getKeepProps=function(){return this.keepProps||B.keepProps},B.prototype.destroy=function(c){var u=this,E=u.plotLinesAndBands,j=this.eventOptions;if(f(this,"destroy",{keepEvents:c}),c||I(u),[u.ticks,u.minorTicks,u.alternateBands].forEach(function(W){C(W)}),E)for(c=E.length;c--;)E[c].destroy();for(var G in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(W){u[W]&&(u[W]=u[W].destroy())}),u.plotLinesAndBandsGroups)u.plotLinesAndBandsGroups[G]=u.plotLinesAndBandsGroups[G].destroy();l(u,function(W,b){-1===u.getKeepProps().indexOf(b)&&delete u[b]}),this.eventOptions=j},B.prototype.drawCrosshair=function(c,u){var W,E=this.crosshair,j=w(E&&E.snap,!0),G=this.chart,b=this.cross;if(f(this,"drawCrosshair",{e:c,point:u}),c||(c=this.cross&&this.cross.e),E&&!1!==(y(u)||!j)){if(j?y(u)&&(W=w("colorAxis"!==this.coll?u.crosshairPos:null,this.isXAxis?u.plotX:this.len-u.plotY)):W=c&&(this.horiz?c.chartX-this.pos:this.len-c.chartY+this.pos),y(W)){var z={value:u&&(this.isXAxis?u.x:w(u.stackY,u.y)),translatedValue:W};G.polar&&x(z,{isCrosshair:!0,chartX:c&&c.chartX,chartY:c&&c.chartY,point:u}),z=this.getPlotLinePath(z)||null}if(!y(z))return void this.hideCrosshair();j=this.categories&&!this.isRadial,b||(this.cross=b=G.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(j?"category ":"thin ")+(E.className||"")).attr({zIndex:w(E.zIndex,2)}).add(),G.styledMode||(b.attr({stroke:E.color||(j?q.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":w(E.width,1)}).css({"pointer-events":"none"}),E.dashStyle&&b.attr({dashstyle:E.dashStyle}))),b.show().attr({d:z}),j&&!E.width&&b.attr({"stroke-width":this.transA}),this.cross.e=c}else this.hideCrosshair();f(this,"afterDrawCrosshair",{e:c,point:u})},B.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),f(this,"afterHideCrosshair")},B.prototype.hasVerticalPanning=function(){var c=this.chart.options.chart.panning;return!!(c&&c.enabled&&/y/.test(c.type))},B.prototype.validatePositiveValue=function(c){return p(c)&&0<c},B.prototype.update=function(c,u){var E=this.chart;c=n(this.userOptions,c),this.destroy(!0),this.init(E,c),E.isDirtyBox=!0,w(u,!0)&&E.redraw()},B.prototype.remove=function(c){for(var u=this.chart,E=this.coll,j=this.series,G=j.length;G--;)j[G]&&j[G].remove(!1);M(u.axes,this),M(u[E],this),u[E].forEach(function(W,b){W.options.index=W.userOptions.index=b}),this.destroy(),u.isDirtyBox=!0,w(c,!0)&&u.redraw()},B.prototype.setTitle=function(c,u){this.update({title:c},u)},B.prototype.setCategories=function(c,u){this.update({categories:c},u)},B.defaultOptions=$.defaultXAxisOptions,B.keepProps="extKey hcEvents names series userMax userMin".split(" "),B}()}),wt(o,"Core/Axis/DateTimeAxis.js",[o["Core/Utilities.js"]],function(Y){var K,$=Y.addEvent,q=Y.getMagnitude,rt=Y.normalizeTickInterval,J=Y.timeUnits;return function(X){function F(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function N(g){"datetime"!==g.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new k(this))}var O=[];X.compose=function(g){return-1===O.indexOf(g)&&(O.push(g),g.keepProps.push("dateTime"),g.prototype.getTimeTicks=F,$(g,"init",N)),g};var k=function(){function g(d){this.axis=d}return g.prototype.normalizeTimeTickInterval=function(d,v){var C,_=v||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],T=J[(v=_[_.length-1])[0]],y=v[1];for(C=0;C<_.length&&(T=J[(v=_[C])[0]],y=v[1],!(_[C+1]&&d<=(T*y[y.length-1]+J[_[C+1][0]])/2));C++);return T===J.year&&d<5*T&&(y=[1,2,5]),{unitRange:T,count:d=rt(d/T,y,"year"===v[0]?Math.max(q(d/T),1):1),unitName:v[0]}},g.prototype.getXDateFormat=function(d,v){var _=this.axis;return _.closestPointRange?_.chart.time.getDateFormat(_.closestPointRange,d,_.options.startOfWeek,v)||v.year:v.day},g}();X.Additions=k}(K||(K={})),K}),wt(o,"Core/Axis/LogarithmicAxis.js",[o["Core/Utilities.js"]],function(Y){var K,$=Y.addEvent,q=Y.getMagnitude,rt=Y.normalizeTickInterval,J=Y.pick;return function(X){function F(g){var d=this.logarithmic;"logarithmic"!==g.userOptions.type?this.logarithmic=void 0:d||(this.logarithmic=new k(this))}function N(){var g=this.logarithmic;g&&(this.lin2val=function(d){return g.lin2log(d)},this.val2lin=function(d){return g.log2lin(d)})}var O=[];X.compose=function(g){return-1===O.indexOf(g)&&(O.push(g),g.keepProps.push("logarithmic"),$(g,"init",F),$(g,"afterInit",N)),g};var k=function(){function g(d){this.axis=d}return g.prototype.getLogTickPositions=function(d,v,_,T){var y=this.axis,C=y.len,M=y.options,D=[];if(T||(this.minorAutoInterval=void 0),.5<=d)d=Math.round(d),D=y.getLinearTickPositions(d,v,_);else if(.08<=d){var f,x=Math.floor(v),m=M=void 0;for(C=.3<d?[1,2,4]:.15<d?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];x<_+1&&!m;x++){var r=C.length;for(f=0;f<r&&!m;f++){var p=this.log2lin(this.lin2log(x)*C[f]);p>v&&(!T||M<=_)&&void 0!==M&&D.push(M),M>_&&(m=!0),M=p}}}else v=this.lin2log(v),_=this.lin2log(_),d=T?y.getMinorTickInterval():M.tickInterval,d=J("auto"===d?null:d,this.minorAutoInterval,M.tickPixelInterval/(T?5:1)*(_-v)/((T?C/y.tickPositions.length:C)||1)),d=rt(d,void 0,q(d)),D=y.getLinearTickPositions(d,v,_).map(this.log2lin),T||(this.minorAutoInterval=d/5);return T||(y.tickInterval=d),D},g.prototype.lin2log=function(d){return Math.pow(10,d)},g.prototype.log2lin=function(d){return Math.log(d)/Math.LN10},g}();X.Additions=k}(K||(K={})),K}),wt(o,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[o["Core/Utilities.js"]],function(Y){var J,$=Y.erase,q=Y.extend,rt=Y.isNumber;return function(K){var F,X=[];K.compose=function(O,k){return F||(F=O),-1===X.indexOf(k)&&(X.push(k),q(k.prototype,N.prototype)),k};var N=function(){function O(){}return O.prototype.getPlotBandPath=function(k,g,d){void 0===d&&(d=this.options);var v=this.getPlotLinePath({value:g,force:!0,acrossPanes:d.acrossPanes}),_=[],T=this.horiz;if(g=!rt(this.min)||!rt(this.max)||k<this.min&&g<this.min||k>this.max&&g>this.max,k=this.getPlotLinePath({value:k,force:!0,acrossPanes:d.acrossPanes}),d=1,k&&v){if(g){var y=k.toString()===v.toString();d=0}for(g=0;g<k.length;g+=2){var C=k[g],M=k[g+1],D=v[g],x=v[g+1];"M"!==C[0]&&"L"!==C[0]||"M"!==M[0]&&"L"!==M[0]||"M"!==D[0]&&"L"!==D[0]||"M"!==x[0]&&"L"!==x[0]||(T&&D[1]===C[1]?(D[1]+=d,x[1]+=d):T||D[2]!==C[2]||(D[2]+=d,x[2]+=d),_.push(["M",C[1],C[2]],["L",M[1],M[2]],["L",x[1],x[2]],["L",D[1],D[2]],["Z"])),_.isFlat=y}}return _},O.prototype.addPlotBand=function(k){return this.addPlotBandOrLine(k,"plotBands")},O.prototype.addPlotLine=function(k){return this.addPlotBandOrLine(k,"plotLines")},O.prototype.addPlotBandOrLine=function(k,g){var d=this,v=this.userOptions,_=new F(this,k);if(this.visible&&(_=_.render()),_){if(this._addedPlotLB||(this._addedPlotLB=!0,(v.plotLines||[]).concat(v.plotBands||[]).forEach(function(y){d.addPlotBandOrLine(y)})),g){var T=v[g]||[];T.push(k),v[g]=T}this.plotLinesAndBands.push(_)}return _},O.prototype.removePlotBandOrLine=function(k){var g=this.plotLinesAndBands,d=this.options,v=this.userOptions;if(g){for(var _=g.length;_--;)g[_].id===k&&g[_].destroy();[d.plotLines||[],v.plotLines||[],d.plotBands||[],v.plotBands||[]].forEach(function(T){for(_=T.length;_--;)(T[_]||{}).id===k&&$(T,T[_])})}},O.prototype.removePlotBand=function(k){this.removePlotBandOrLine(k)},O.prototype.removePlotLine=function(k){this.removePlotBandOrLine(k)},O}()}(J||(J={})),J}),wt(o,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[o["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],o["Core/Utilities.js"]],function(Y,$){var q=$.arrayMax,rt=$.arrayMin,J=$.defined,K=$.destroyObjectProperties,X=$.erase,F=$.fireEvent,N=$.merge,O=$.objectEach,k=$.pick;return function(){function g(d,v){this.axis=d,v&&(this.options=v,this.id=v.id)}return g.compose=function(d){return Y.compose(g,d)},g.prototype.render=function(){F(this,"render");var d=this,v=d.axis,_=v.horiz,T=v.logarithmic,y=d.options,C=y.color,M=k(y.zIndex,0),D=y.events,x={},f=v.chart.renderer,m=y.label,r=d.label,p=y.to,a=y.from,n=y.value,h=d.svgElem,l=[],w=J(a)&&J(p);l=J(n);var P=!h,I={class:"highcharts-plot-"+(w?"band ":"line ")+(y.className||"")},L=w?"bands":"lines";if(T&&(a=T.log2lin(a),p=T.log2lin(p),n=T.log2lin(n)),v.chart.styledMode||(l?(I.stroke=C||"#999999",I["stroke-width"]=k(y.width,1),y.dashStyle&&(I.dashstyle=y.dashStyle)):w&&(I.fill=C||"#e6ebf5",y.borderWidth&&(I.stroke=y.borderColor,I["stroke-width"]=y.borderWidth))),x.zIndex=M,(T=v.plotLinesAndBandsGroups[L+="-"+M])||(v.plotLinesAndBandsGroups[L]=T=f.g("plot-"+L).attr(x).add()),P&&(d.svgElem=h=f.path().attr(I).add(T)),l)l=v.getPlotLinePath({value:n,lineWidth:h.strokeWidth(),acrossPanes:y.acrossPanes});else{if(!w)return;l=v.getPlotBandPath(a,p,y)}return!d.eventsAdded&&D&&(O(D,function(S,B){h.on(B,function(c){D[B].apply(d,[c])})}),d.eventsAdded=!0),(P||!h.d)&&l&&l.length?h.attr({d:l}):h&&(l?(h.show(!0),h.animate({d:l})):h.d&&(h.hide(),r&&(d.label=r=r.destroy()))),m&&(J(m.text)||J(m.formatter))&&l&&l.length&&0<v.width&&0<v.height&&!l.isFlat?(m=N({align:_&&w&&"center",x:_?!w&&4:10,verticalAlign:!_&&w&&"middle",y:_?w?16:10:w?6:-4,rotation:_&&!w&&90},m),this.renderLabel(m,l,w,M)):r&&r.hide(),d},g.prototype.renderLabel=function(d,v,_,T){var y=this.axis,C=y.chart.renderer,M=this.label;M||(this.label=M=C.text(this.getLabelText(d),0,0,d.useHTML).attr({align:d.textAlign||d.align,rotation:d.rotation,class:"highcharts-plot-"+(_?"band":"line")+"-label "+(d.className||""),zIndex:T}).add(),y.chart.styledMode||M.css(N({textOverflow:"ellipsis"},d.style))),T=v.xBounds||[v[0][1],v[1][1],_?v[2][1]:v[0][1]],v=v.yBounds||[v[0][2],v[1][2],_?v[2][2]:v[0][2]],_=rt(T),C=rt(v),M.align(d,!1,{x:_,y:C,width:q(T)-_,height:q(v)-C}),M.alignValue&&"left"!==M.alignValue||M.css({width:(90===M.rotation?y.height-(M.alignAttr.y-y.top):y.width-(M.alignAttr.x-y.left))+"px"}),M.show(!0)},g.prototype.getLabelText=function(d){return J(d.formatter)?d.formatter.call(this):d.text},g.prototype.destroy=function(){X(this.axis.plotLinesAndBands,this),delete this.axis,K(this)},g}()}),wt(o,"Core/Tooltip.js",[o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var K=Y.format,X=$.doc,F=q.distribute,N=J.addEvent,O=J.clamp,k=J.css,g=J.defined,d=J.discardElement,v=J.extend,_=J.fireEvent,T=J.isArray,y=J.isNumber,C=J.isString,M=J.merge,D=J.pick,x=J.splat,f=J.syncTimeout;return function(){function m(r,p){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=r,this.init(r,p)}return m.prototype.applyFilter=function(){var r=this.chart;r.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+r.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},m.prototype.bodyFormatter=function(r){return r.map(function(p){var a=p.series.tooltipOptions;return(a[(p.point.formatPrefix||"point")+"Formatter"]||p.point.tooltipFormatter).call(p.point,a[(p.point.formatPrefix||"point")+"Format"]||"")})},m.prototype.cleanSplit=function(r){this.chart.series.forEach(function(p){var a=p&&p.tt;a&&(!a.isActive||r?p.tt=a.destroy():a.isActive=!1)})},m.prototype.defaultFormatter=function(r){var p=this.points||x(this),a=[r.tooltipFooterHeaderFormatter(p[0])];return(a=a.concat(r.bodyFormatter(p))).push(r.tooltipFooterHeaderFormatter(p[0],!0)),a},m.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),d(this.container)),J.clearTimeout(this.hideTimer),J.clearTimeout(this.tooltipTimeout)},m.prototype.getAnchor=function(r,p){var P,I,a=this.chart,n=a.pointer,h=a.inverted,l=a.plotTop,w=a.plotLeft,L=0,S=0;return r=x(r),this.followPointer&&p?(void 0===p.chartX&&(p=n.normalize(p)),n=[p.chartX-w,p.chartY-l]):r[0].tooltipPos?n=r[0].tooltipPos:(r.forEach(function(B){P=B.series.yAxis,L+=B.plotX||0,S+=B.plotLow?(B.plotLow+(B.plotHigh||0))/2:B.plotY||0,(I=B.series.xAxis)&&P&&(h?(L+=l+a.plotHeight-I.len-I.pos,S+=w+a.plotWidth-P.len-P.pos):(L+=I.pos-w,S+=P.pos-l))}),L/=r.length,S/=r.length,n=[h?a.plotWidth-S:L,h?a.plotHeight-L:S],this.shared&&1<r.length&&p&&(h?n[0]=p.chartX-w:n[1]=p.chartY-l)),n.map(Math.round)},m.prototype.getLabel=function(){var I,r=this,p=this.chart.styledMode,a=this.options,n=this.split&&this.allowShared,h="tooltip"+(g(a.className)?" "+a.className:""),l=a.style.pointerEvents||(!this.followPointer&&a.stickOnContact?"auto":"none"),w=function(){r.inContact=!0},P=function(j){var G=r.chart.hoverSeries;r.inContact=r.shouldStickOnContact()&&r.chart.pointer.inClass(j.relatedTarget,"highcharts-tooltip"),!r.inContact&&G&&G.onMouseOut&&G.onMouseOut()},L=this.chart.renderer;if(r.label){var S=!r.label.hasClass("highcharts-label");(n&&!S||!n&&S)&&r.destroy()}if(!this.label){if(this.outside){S=this.chart.options.chart.style;var B=rt.getRendererType();this.container=I=$.doc.createElement("div"),I.className="highcharts-tooltip-container",k(I,{position:"absolute",top:"1px",pointerEvents:l,zIndex:Math.max(this.options.style.zIndex||0,(S&&S.zIndex||0)+3)}),N(I,"mouseenter",w),N(I,"mouseleave",P),$.doc.body.appendChild(I),this.renderer=L=new B(I,0,0,S,void 0,void 0,L.styledMode)}if(n?this.label=L.g(h):(this.label=L.label("",0,0,a.shape,void 0,void 0,a.useHTML,void 0,h).attr({padding:a.padding,r:a.borderRadius}),p||this.label.attr({fill:a.backgroundColor,"stroke-width":a.borderWidth}).css(a.style).css({pointerEvents:l}).shadow(a.shadow)),p&&a.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),r.outside&&!r.split){var c=this.label,u=c.xSetter,E=c.ySetter;c.xSetter=function(j){u.call(c,r.distance),I.style.left=j+"px"},c.ySetter=function(j){E.call(c,r.distance),I.style.top=j+"px"}}this.label.on("mouseenter",w).on("mouseleave",P).attr({zIndex:8}).add()}return this.label},m.prototype.getPosition=function(r,p,a){var E,n=this.chart,h=this.distance,l={},w=n.inverted&&a.h||0,P=this.outside,I=P?X.documentElement.clientWidth-2*h:n.chartWidth,L=P?Math.max(X.body.scrollHeight,X.documentElement.scrollHeight,X.body.offsetHeight,X.documentElement.offsetHeight,X.documentElement.clientHeight):n.chartHeight,S=n.pointer.getChartPosition(),B=function(R){var V="x"===R;return[R,V?I:L,V?r:p].concat(P?[V?r*S.scaleX:p*S.scaleY,V?S.left-h+(a.plotX+n.plotLeft)*S.scaleX:S.top-h+(a.plotY+n.plotTop)*S.scaleY,0,V?I:L]:[V?r:p,V?a.plotX+n.plotLeft:a.plotY+n.plotTop,V?n.plotLeft:n.plotTop,V?n.plotLeft+n.plotWidth:n.plotTop+n.plotHeight])},c=B("y"),u=B("x");B=!!a.negative,!n.polar&&n.hoverSeries&&n.hoverSeries.yAxis&&n.hoverSeries.yAxis.reversed&&(B=!B);var j=!this.followPointer&&D(a.ttBelow,!n.inverted===B),G=function(R,V,Z,nt,it,ot,at){var mt=P?"y"===R?h*S.scaleY:h*S.scaleX:h,_t=(Z-nt)/2,yt=nt<it-h,ut=it+h+nt<V,ct=it-mt-Z+_t;if(it=it+mt-_t,j&&ut)l[R]=it;else if(!j&&yt)l[R]=ct;else if(yt)l[R]=Math.min(at-nt,0>ct-w?ct:ct-w);else{if(!ut)return!1;l[R]=Math.max(ot,it+w+Z>V?it:it+w)}},W=function(R,V,Z,nt,it){var ot;return it<h||it>V-h?ot=!1:l[R]=it<Z/2?1:it>V-nt/2?V-nt-2:it-Z/2,ot},b=function(R){var V=c;c=u,u=V,E=R},z=function(){!1!==G.apply(0,c)?!1!==W.apply(0,u)||E||(b(!0),z()):E?l.x=l.y=0:(b(!0),z())};return(n.inverted||1<this.len)&&b(),z(),l},m.prototype.hide=function(r){var p=this;J.clearTimeout(this.hideTimer),r=D(r,this.options.hideDelay),this.isHidden||(this.hideTimer=f(function(){p.getLabel().fadeOut(r&&void 0),p.isHidden=!0},r))},m.prototype.init=function(r,p){this.chart=r,this.options=p,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=p.split&&!r.inverted&&!r.polar,this.shared=p.shared||this.split,this.outside=D(p.outside,!(!r.scrollablePixelsX&&!r.scrollablePixelsY))},m.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},m.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},m.prototype.move=function(r,p,a,n){var h=this,l=h.now,w=!1!==h.options.animation&&!h.isHidden&&(1<Math.abs(r-l.x)||1<Math.abs(p-l.y)),P=h.followPointer||1<h.len;v(l,{x:w?(2*l.x+r)/3:r,y:w?(l.y+p)/2:p,anchorX:P?void 0:w?(2*l.anchorX+a)/3:a,anchorY:P?void 0:w?(l.anchorY+n)/2:n}),h.getLabel().attr(l),h.drawTracker(),w&&(J.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){h&&h.move(r,p,a,n)},32))},m.prototype.refresh=function(r,p){var a=this.chart,n=this.options,h=x(r),l=h[0],w=[],P=n.formatter||this.defaultFormatter,I=this.shared,L=a.styledMode,S={};if(n.enabled){J.clearTimeout(this.hideTimer),this.allowShared=!(!T(r)&&r.series&&r.series.noSharedTooltip),this.followPointer=!this.split&&l.series.tooltipOptions.followPointer;var B=(r=this.getAnchor(r,p))[0],c=r[1];if(I&&this.allowShared?(a.pointer.applyInactiveState(h),h.forEach(function(j){j.setState("hover"),w.push(j.getLabelConfig())}),(S={x:l.category,y:l.y}).points=w):S=l.getLabelConfig(),this.len=w.length,P=P.call(S,this),this.distance=D((I=l.series).tooltipOptions.distance,16),!1===P)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(P,h);else{var u=B,E=c;if(p&&a.pointer.isDirectTouch&&(u=p.chartX-a.plotLeft,E=p.chartY-a.plotTop),!a.polar&&!1!==I.options.clip&&!h.some(function(j){return j.series.shouldShowTooltip(u,E)}))return void this.hide();p=this.getLabel(),n.style.width&&!L||p.css({width:this.chart.spacingBox.width+"px"}),p.attr({text:P&&P.join?P.join(""):P}),p.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+D(l.colorIndex,I.colorIndex)),L||p.attr({stroke:n.borderColor||l.color||I.color||"#666666"}),this.updatePosition({plotX:B,plotY:c,negative:l.negative,ttBelow:l.ttBelow,h:r[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}_(this,"refresh")}},m.prototype.renderSplit=function(r,p){function a(ut,ct,H,tt,lt){return void 0===lt&&(lt=!0),H?(ct=nt?0:mt,ut=O(ut-tt/2,R.left,R.right-tt-(n.outside?it:0))):(ct-=ot,ut=O(ut=lt?ut-tt-W:ut+W,lt?ut:R.left,R.right)),{x:ut,y:ct}}var n=this,h=n.chart,l=n.chart,w=l.chartWidth,P=l.chartHeight,I=l.plotHeight,L=l.plotLeft,S=l.plotTop,B=l.pointer,c=l.scrollablePixelsY;c=void 0===c?0:c;var E=l.scrollingContainer,j=(E=void 0===E?{scrollLeft:0,scrollTop:0}:E).scrollLeft;E=E.scrollTop;var G=l.styledMode,W=n.distance,b=n.options,z=n.options.positioner,R=n.outside&&"number"!=typeof l.scrollablePixelsX?X.documentElement.getBoundingClientRect():{left:j,right:j+w,top:E,bottom:E+P},V=n.getLabel(),Z=this.renderer||h.renderer,nt=!(!h.xAxis[0]||!h.xAxis[0].opposite),it=(h=B.getChartPosition()).left;h=h.top;var ot=S+E,at=0,mt=I-c;C(r)&&(r=[!1,r]),r=r.slice(0,p.length+1).reduce(function(ut,ct,H){if(!1!==ct&&""!==ct){var tt=(H=p[H-1]||{isHeader:!0,plotX:p[0].plotX,plotY:I,series:{}}).isHeader,lt=tt?n:H.series;ct=ct.toString();var dt=lt.tt,ft=H.isHeader,bt=H.series,Tt="highcharts-color-"+D(H.colorIndex,bt.colorIndex,"none");if(dt||(dt={padding:b.padding,r:b.borderRadius},G||(dt.fill=b.backgroundColor,dt["stroke-width"]=b.borderWidth),dt=Z.label("",0,0,b[ft?"headerShape":"shape"],void 0,void 0,b.useHTML).addClass((ft?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+Tt).attr(dt).add(V)),dt.isActive=!0,dt.attr({text:ct}),G||dt.css(b.style).shadow(b.shadow).attr({stroke:b.borderColor||H.color||bt.color||"#333333"}),ct=(ft=(lt=lt.tt=dt).getBBox()).width+lt.strokeWidth(),tt&&(mt+=at=ft.height,nt&&(ot-=at)),bt=void 0===(bt=H.plotX)?0:bt,Tt=void 0===(Tt=H.plotY)?0:Tt,dt=H.series,H.isHeader){bt=L+bt;var Lt=S+I/2}else{var jt=dt.xAxis,Rt=dt.yAxis;bt=jt.pos+O(bt,-W,jt.len+W),dt.shouldShowTooltip(0,Rt.pos-S+Tt,{ignoreX:!0})&&(Lt=Rt.pos+Tt)}bt=O(bt,R.left-W,R.right+W),"number"==typeof Lt?(ft=ft.height+1,Tt=z?z.call(n,ct,ft,H):a(bt,Lt,tt,ct),ut.push({align:z?0:void 0,anchorX:bt,anchorY:Lt,boxWidth:ct,point:H,rank:D(Tt.rank,tt?1:0),size:ft,target:Tt.y,tt:lt,x:Tt.x})):lt.isActive=!1}return ut},[]),!z&&r.some(function(ut){var ct=(n.outside?it:0)+ut.anchorX;return ct<R.left&&ct+ut.boxWidth<R.right||ct<it-R.left+ut.boxWidth&&R.right-ct>ct})&&(r=r.map(function(ut){var ct=a(ut.anchorX,ut.anchorY,ut.point.isHeader,ut.boxWidth,!1);return v(ut,{target:ct.y,x:ct.x})})),n.cleanSplit(),F(r,mt);var _t=it,yt=it;r.forEach(function(ut){var ct=ut.x,H=ut.boxWidth;(ut=ut.isHeader)||(n.outside&&it+ct<_t&&(_t=it+ct),!ut&&n.outside&&_t+H>yt&&(yt=it+ct))}),r.forEach(function(ut){var ct=ut.x,H=ut.anchorX,tt=ut.pos,lt=ut.point.isHeader;if(tt={visibility:void 0===tt?"hidden":"inherit",x:ct,y:tt+ot,anchorX:H,anchorY:ut.anchorY},n.outside&&ct<H){var dt=it-_t;0<dt&&(lt||(tt.x=ct+dt,tt.anchorX=H+dt),lt&&(tt.x=(yt-_t)/2,tt.anchorX=H+dt))}ut.tt.attr(tt)}),r=n.container,c=n.renderer,n.outside&&r&&c&&(l=V.getBBox(),c.setSize(l.width+l.x,l.height+l.y,!1),r.style.left=_t+"px",r.style.top=h+"px")},m.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var r=this.chart,p=this.label,a=this.shared?r.hoverPoints:r.hoverPoint;if(p&&a){var n={x:0,y:0,width:0,height:0};a=this.getAnchor(a);var h=p.getBBox();a[0]+=r.plotLeft-p.translateX,a[1]+=r.plotTop-p.translateY,n.x=Math.min(0,a[0]),n.y=Math.min(0,a[1]),n.width=0>a[0]?Math.max(Math.abs(a[0]),h.width-a[0]):Math.max(Math.abs(a[0]),h.width),n.height=0>a[1]?Math.max(Math.abs(a[1]),h.height-Math.abs(a[1])):Math.max(Math.abs(a[1]),h.height),this.tracker?this.tracker.attr(n):(this.tracker=p.renderer.rect(n).addClass("highcharts-tracker").add(p),r.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},m.prototype.styledModeFormat=function(r){return r.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},m.prototype.tooltipFooterHeaderFormatter=function(r,p){var a=r.series,n=a.tooltipOptions,h=a.xAxis,l=h&&h.dateTime,w=n.xDateFormat,P=n[p?"footerFormat":"headerFormat"];return _(this,"headerFormatter",h={isFooter:p,labelConfig:r},function(I){l&&!w&&y(r.key)&&(w=l.getXDateFormat(r.key,n.dateTimeLabelFormats)),l&&w&&(r.point&&r.point.tooltipDateKeys||["key"]).forEach(function(L){P=P.replace("{point."+L+"}","{point."+L+":"+w+"}")}),a.chart.styledMode&&(P=this.styledModeFormat(P)),I.text=K(P,{point:r,series:a},this.chart)}),h.text},m.prototype.update=function(r){this.destroy(),M(!0,this.chart.options.tooltip.userOptions,r),this.init(this.chart,M(!0,this.options,r))},m.prototype.updatePosition=function(r){var p=this.chart,a=this.options,n=p.pointer,h=this.getLabel();n=n.getChartPosition();var l=(a.positioner||this.getPosition).call(this,h.width,h.height,r),w=r.plotX+p.plotLeft;r=r.plotY+p.plotTop,this.outside&&(this.renderer.setSize(h.width+(a=a.borderWidth+2*this.distance),h.height+a,!1),(1!==n.scaleX||1!==n.scaleY)&&(k(this.container,{transform:"scale("+n.scaleX+", "+n.scaleY+")"}),w*=n.scaleX,r*=n.scaleY),w+=n.left-l.x,r+=n.top-l.y),this.move(Math.round(l.x),Math.round(l.y||0),w,r)},m}()}),wt(o,"Core/Series/Point.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Animation/AnimationUtilities.js"],o["Core/DefaultOptions.js"],o["Core/FormatUtilities.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var K=$.animObject,X=q.defaultOptions,F=rt.format,N=J.addEvent,O=J.defined,k=J.erase,g=J.extend,d=J.fireEvent,v=J.getNestedProperty,_=J.isArray,T=J.isFunction,y=J.isNumber,C=J.isObject,M=J.merge,D=J.objectEach,x=J.pick,f=J.syncTimeout,m=J.removeEvent,r=J.uniqueKey;return function(){function p(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return p.prototype.animateBeforeDestroy=function(){var a=this,n={x:a.startXPos,opacity:0},h=a.getGraphicalProps();h.singular.forEach(function(l){a[l]=a[l].animate("dataLabel"===l?{x:a[l].startXPos,y:a[l].startYPos,opacity:0}:n)}),h.plural.forEach(function(l){a[l].forEach(function(w){w.element&&w.animate(g({x:a.startXPos},w.startYPos?{x:w.startXPos,y:w.startYPos}:{}))})})},p.prototype.applyOptions=function(a,n){var h=this.series,l=h.options.pointValKey||h.pointValKey;return a=p.prototype.optionsToObject.call(this,a),g(this,a),this.options=this.options?g(this.options,a):a,a.group&&delete this.group,a.dataLabels&&delete this.dataLabels,l&&(this.y=p.prototype.getNestedProperty.call(this,l)),this.formatPrefix=(this.isNull=x(this.isValid&&!this.isValid(),null===this.x||!y(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===n&&h.xAxis&&h.xAxis.hasNames&&(this.x=h.xAxis.nameToX(this)),void 0===this.x&&h?this.x=void 0===n?h.autoIncrement():n:y(a.x)&&h.options.relativeXValue&&(this.x=h.autoIncrement(a.x)),this},p.prototype.destroy=function(){function a(){for(I in(n.graphic||n.dataLabel||n.dataLabels)&&(m(n),n.destroyElements()),n)n[I]=null}var n=this,h=n.series,l=h.chart;h=h.options.dataSorting;var I,w=l.hoverPoints,P=K(n.series.chart.renderer.globalAnimation);n.legendItem&&l.legend.destroyItem(n),w&&(n.setState(),k(w,n),w.length||(l.hoverPoints=null)),n===l.hoverPoint&&n.onMouseOut(),h&&h.enabled?(this.animateBeforeDestroy(),f(a,P.duration)):a(),l.pointCount--},p.prototype.destroyElements=function(a){var n=this;(a=n.getGraphicalProps(a)).singular.forEach(function(h){n[h]=n[h].destroy()}),a.plural.forEach(function(h){n[h].forEach(function(l){l.element&&l.destroy()}),delete n[h]})},p.prototype.firePointEvent=function(a,n,h){var l=this,w=this.series.options;(w.point.events[a]||l.options&&l.options.events&&l.options.events[a])&&l.importEvents(),"click"===a&&w.allowPointSelect&&(h=function(P){l.select&&l.select(null,P.ctrlKey||P.metaKey||P.shiftKey)}),d(l,a,n,h)},p.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},p.prototype.getGraphicalProps=function(a){var w,n=this,h=[],l={singular:[],plural:[]};for((a=a||{graphic:1,dataLabel:1}).graphic&&h.push("graphic","upperGraphic","shadowGroup"),a.dataLabel&&h.push("dataLabel","dataLabelUpper","connector"),w=h.length;w--;){var P=h[w];n[P]&&l.singular.push(P)}return["dataLabel","connector"].forEach(function(I){var L=I+"s";a[I]&&n[L]&&l.plural.push(L)}),l},p.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},p.prototype.getNestedProperty=function(a){if(a)return 0===a.indexOf("custom.")?v(a,this.options):this[a]},p.prototype.getZone=function(){var a=this.series,n=a.zones;a=a.zoneAxis||"y";var h,l=0;for(h=n[l];this[a]>=h.value;)h=n[++l];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=h&&h.color&&!this.options.color?h.color:this.nonZonedColor,h},p.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},p.prototype.init=function(a,n,h){return this.series=a,this.applyOptions(n,h),this.id=O(this.id)?this.id:r(),this.resolveColor(),a.chart.pointCount++,d(this,"afterInit"),this},p.prototype.optionsToObject=function(a){var n=this.series,h=n.options.keys,l=h||n.pointArrayMap||["y"],w=l.length,P={},I=0,L=0;if(y(a)||null===a)P[l[0]]=a;else if(_(a))for(!h&&a.length>w&&("string"==(n=typeof a[0])?P.name=a[0]:"number"===n&&(P.x=a[0]),I++);L<w;)h&&void 0===a[I]||(0<l[L].indexOf(".")?p.prototype.setNestedProperty(P,a[I],l[L]):P[l[L]]=a[I]),I++,L++;else"object"==typeof a&&(P=a,a.dataLabels&&(n._hasPointLabels=!0),a.marker&&(n._hasPointMarkers=!0));return P},p.prototype.resolveColor=function(){var a=this.series,n=a.chart.styledMode,h=a.chart.options.chart.colorCount;if(delete this.nonZonedColor,a.options.colorByPoint){if(!n){var l=(h=a.options.colors||a.chart.options.colors)[a.colorCounter];h=h.length}n=a.colorCounter,a.colorCounter++,a.colorCounter===h&&(a.colorCounter=0)}else n||(l=a.color),n=a.colorIndex;this.colorIndex=x(this.options.colorIndex,n),this.color=x(this.options.color,l)},p.prototype.setNestedProperty=function(a,n,h){return h.split(".").reduce(function(l,w,P,I){return l[w]=I.length-1===P?n:C(l[w],!0)?l[w]:{},l[w]},a),a},p.prototype.tooltipFormatter=function(a){var n=this.series,h=n.tooltipOptions,l=x(h.valueDecimals,""),w=h.valuePrefix||"",P=h.valueSuffix||"";return n.chart.styledMode&&(a=n.chart.tooltip.styledModeFormat(a)),(n.pointArrayMap||["y"]).forEach(function(I){I="{point."+I,(w||P)&&(a=a.replace(RegExp(I+"}","g"),w+I+"}"+P)),a=a.replace(RegExp(I+"}","g"),I+":,."+l+"f}")}),F(a,{point:this,series:this.series},n.chart)},p.prototype.update=function(a,n,h,l){function w(){P.applyOptions(a);var u=L&&P.hasDummyGraphic;u=null===P.y?!u:u,L&&u&&(P.graphic=L.destroy(),delete P.hasDummyGraphic),C(a,!0)&&(L&&L.element&&a&&a.marker&&void 0!==a.marker.symbol&&(P.graphic=L.destroy()),a&&a.dataLabels&&P.dataLabel&&(P.dataLabel=P.dataLabel.destroy()),P.connector&&(P.connector=P.connector.destroy())),I.updateParallelArrays(P,c=P.index),B.data[c]=C(B.data[c],!0)||C(a,!0)?P.options:x(a,B.data[c]),I.isDirty=I.isDirtyData=!0,!I.fixedBox&&I.hasCartesianSeries&&(S.isDirtyBox=!0),"point"===B.legendType&&(S.isDirtyLegend=!0),n&&S.redraw(h)}var c,P=this,I=P.series,L=P.graphic,S=I.chart,B=I.options;n=x(n,!0),!1===l?w():P.firePointEvent("update",{options:a},w)},p.prototype.remove=function(a,n){this.series.removePoint(this.series.data.indexOf(this),a,n)},p.prototype.select=function(a,n){var h=this,l=h.series,w=l.chart;this.selectedStaging=a=x(a,!h.selected),h.firePointEvent(a?"select":"unselect",{accumulate:n},function(){h.selected=h.options.selected=a,l.options.data[l.data.indexOf(h)]=h.options,h.setState(a&&"select"),n||w.getSelectedPoints().forEach(function(P){var I=P.series;P.selected&&P!==h&&(P.selected=P.options.selected=!1,I.options.data[I.data.indexOf(P)]=P.options,P.setState(w.hoverPoints&&I.options.inactiveOtherPoints?"inactive":""),P.firePointEvent("unselect"))})}),delete this.selectedStaging},p.prototype.onMouseOver=function(a){var n=this.series.chart,h=n.pointer;a=a?h.normalize(a):h.getChartCoordinatesFromPoint(this,n.inverted),h.runPointActions(a,this)},p.prototype.onMouseOut=function(){var a=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(a.hoverPoints||[]).forEach(function(n){n.setState()}),a.hoverPoints=a.hoverPoint=null},p.prototype.importEvents=function(){if(!this.hasImportedEvents){var a=this,n=M(a.series.options.point,a.options).events;a.events=n,D(n,function(h,l){T(h)&&N(a,l,h)}),this.hasImportedEvents=!0}},p.prototype.setState=function(a,n){var j,h=this.series,l=this.state,w=h.options.states[a||"normal"]||{},P=X.plotOptions[h.type].marker&&h.options.marker,L=P&&P.states&&P.states[a||"normal"]||{},B=this.marker||{},c=h.chart,u=P&&h.markerAttribs,E=h.halo,G=h.stateMarkerGraphic;if(!((a=a||"")===this.state&&!n||this.selected&&"select"!==a||!1===w.enabled||a&&(!1===L.enabled||P&&!1===P.enabled&&!1===L.enabled)||a&&B.states&&B.states[a]&&!1===B.states[a].enabled)){if(this.state=a,u&&(j=h.markerAttribs(this,a)),this.graphic&&!this.hasDummyGraphic){if(l&&this.graphic.removeClass("highcharts-point-"+l),a&&this.graphic.addClass("highcharts-point-"+a),!c.styledMode){var W=h.pointAttribs(this,a),b=x(c.options.chart.animation,w.animation);h.options.inactiveOtherPoints&&y(W.opacity)&&((this.dataLabels||[]).forEach(function(z){z&&z.animate({opacity:W.opacity},b)}),this.connector&&this.connector.animate({opacity:W.opacity},b)),this.graphic.animate(W,b)}j&&this.graphic.animate(j,x(c.options.chart.animation,L.animation,P.animation)),G&&G.hide()}else a&&L&&(l=B.symbol||h.symbol,G&&G.currentSymbol!==l&&(G=G.destroy()),j&&(G?G[n?"animate":"attr"]({x:j.x,y:j.y}):l&&(h.stateMarkerGraphic=G=c.renderer.symbol(l,j.x,j.y,j.width,j.height).add(h.markerGroup),G.currentSymbol=l)),!c.styledMode&&G&&"inactive"!==this.state&&G.attr(h.pointAttribs(this,a))),G&&(G[a&&this.isInside?"show":"hide"](),G.element.point=this,G.addClass(this.getClassName(),!0));j=(G=this.graphic||G)&&G.visibility||"inherit",(w=w.halo)&&w.size&&G&&"hidden"!==j&&!this.isCluster?(E||(h.halo=E=c.renderer.path().add(G.parentGroup)),E.show()[n?"animate":"attr"]({d:this.haloPath(w.size)}),E.attr({class:"highcharts-halo highcharts-color-"+x(this.colorIndex,h.colorIndex)+(this.className?" "+this.className:""),visibility:j,zIndex:-1}),E.point=this,c.styledMode||E.attr(g({fill:this.color||h.color,"fill-opacity":w.opacity},Y.filterUserAttributes(w.attributes||{})))):E&&E.point&&E.point.haloPath&&E.animate({d:E.point.haloPath(0)},null,E.hide),d(this,"afterSetState",{state:a})}},p.prototype.haloPath=function(a){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-a,this.plotY-a,2*a,2*a)},p}()}),wt(o,"Core/Pointer.js",[o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Tooltip.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var J=Y.parse,K=$.charts,X=$.noop,F=rt.addEvent,N=rt.attr,O=rt.css,k=rt.defined,g=rt.extend,d=rt.find,v=rt.fireEvent,_=rt.isNumber,T=rt.isObject,y=rt.objectEach,C=rt.offset,M=rt.pick,D=rt.splat;return function(){function x(f,m){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=f,this.hasDragged=!1,this.options=m,this.init(f,m)}return x.prototype.applyInactiveState=function(f){var r,m=[];(f||[]).forEach(function(p){m.push(r=p.series),r.linkedParent&&m.push(r.linkedParent),r.linkedSeries&&(m=m.concat(r.linkedSeries)),r.navigatorSeries&&m.push(r.navigatorSeries)}),this.chart.series.forEach(function(p){-1===m.indexOf(p)?p.setState("inactive",!0):p.options.inactiveOtherPoints&&p.setAllPointsToState("inactive")})},x.prototype.destroy=function(){var f=this;this.eventsToUnbind.forEach(function(m){return m()}),this.eventsToUnbind=[],$.chartCount||(x.unbindDocumentMouseUp&&(x.unbindDocumentMouseUp=x.unbindDocumentMouseUp()),x.unbindDocumentTouchEnd&&(x.unbindDocumentTouchEnd=x.unbindDocumentTouchEnd())),clearInterval(f.tooltipTimeout),y(f,function(m,r){f[r]=void 0})},x.prototype.drag=function(f){var m=this.chart,r=m.options.chart,p=this.zoomHor,a=this.zoomVert,n=m.plotLeft,h=m.plotTop,l=m.plotWidth,w=m.plotHeight,P=this.mouseDownX||0,I=this.mouseDownY||0,L=T(r.panning)?r.panning&&r.panning.enabled:r.panning,S=r.panKey&&f[r.panKey+"Key"],B=f.chartX,c=f.chartY,u=this.selectionMarker;if((!u||!u.touch)&&(B<n?B=n:B>n+l&&(B=n+l),c<h?c=h:c>h+w&&(c=h+w),this.hasDragged=Math.sqrt(Math.pow(P-B,2)+Math.pow(I-c,2)),10<this.hasDragged)){var E=m.isInsidePlot(P-n,I-h,{visiblePlotOnly:!0});!m.hasCartesianSeries&&!m.mapView||!this.zoomX&&!this.zoomY||!E||S||u||(this.selectionMarker=u=m.renderer.rect(n,h,p?1:l,a?1:w,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),m.styledMode||u.attr({fill:r.selectionMarkerFill||J("#335cad").setOpacity(.25).get()})),u&&p&&(p=B-P,u.attr({width:Math.abs(p),x:(0<p?0:p)+P})),u&&a&&(p=c-I,u.attr({height:Math.abs(p),y:(0<p?0:p)+I})),E&&!u&&L&&m.pan(f,r.panning)}},x.prototype.dragStart=function(f){var m=this.chart;m.mouseIsDown=f.type,m.cancelClick=!1,m.mouseDownX=this.mouseDownX=f.chartX,m.mouseDownY=this.mouseDownY=f.chartY},x.prototype.drop=function(f){var m=this,r=this.chart,p=this.hasPinched;if(this.selectionMarker){var a=this.selectionMarker,n=a.attr?a.attr("x"):a.x,h=a.attr?a.attr("y"):a.y,l=a.attr?a.attr("width"):a.width,w=a.attr?a.attr("height"):a.height,P={originalEvent:f,xAxis:[],yAxis:[],x:n,y:h,width:l,height:w},I=!!r.mapView;(this.hasDragged||p)&&(r.axes.forEach(function(L){if(L.zoomEnabled&&k(L.min)&&(p||m[{xAxis:"zoomX",yAxis:"zoomY"}[L.coll]])&&_(n)&&_(h)){var S=L.horiz,B="touchend"===f.type?L.minPixelPadding:0,c=L.toValue((S?n:h)+B);S=L.toValue((S?n+l:h+w)-B),P[L.coll].push({axis:L,min:Math.min(c,S),max:Math.max(c,S)}),I=!0}}),I&&v(r,"selection",P,function(L){r.zoom(g(L,p?{animation:!1}:null))})),_(r.index)&&(this.selectionMarker=this.selectionMarker.destroy()),p&&this.scaleGroups()}r&&_(r.index)&&(O(r.container,{cursor:r._cursor}),r.cancelClick=10<this.hasDragged,r.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},x.prototype.findNearestKDPoint=function(f,m,r){var n,p=this.chart,a=p.hoverPoint;return p=p.tooltip,a&&p&&p.isStickyOnContact()?a:(f.forEach(function(h){var l=!(h.noSharedTooltip&&m)&&0>h.options.findNearestPointBy.indexOf("y");if(h=h.searchPoint(r,l),(l=T(h,!0)&&h.series)&&!(l=!T(n,!0))){var w=n.dist-h.dist,P=(h.series.group&&h.series.group.zIndex)-(n.series.group&&n.series.group.zIndex);l=0<(0!=(l=n.distX-h.distX)&&m?l:0!==w?w:0!==P?P:n.series.index>h.series.index?-1:1)}l&&(n=h)}),n)},x.prototype.getChartCoordinatesFromPoint=function(f,m){var r=f.series,p=r.xAxis;r=r.yAxis;var a=f.shapeArgs;if(p&&r){var n=M(f.clientX,f.plotX),h=f.plotY||0;return f.isNode&&a&&_(a.x)&&_(a.y)&&(n=a.x,h=a.y),m?{chartX:r.len+r.pos-h,chartY:p.len+p.pos-n}:{chartX:n+p.pos,chartY:h+r.pos}}if(a&&a.x&&a.y)return{chartX:a.x,chartY:a.y}},x.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var f=this.chart.container,m=C(f);this.chartPosition={left:m.left,top:m.top,scaleX:1,scaleY:1};var r=f.offsetWidth;return f=f.offsetHeight,2<r&&2<f&&(this.chartPosition.scaleX=m.width/r,this.chartPosition.scaleY=m.height/f),this.chartPosition},x.prototype.getCoordinates=function(f){var m={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(r){m[r.isXAxis?"xAxis":"yAxis"].push({axis:r,value:r.toValue(f[r.horiz?"chartX":"chartY"])})}),m},x.prototype.getHoverData=function(f,m,r,p,a,n){var h=[];p=!(!p||!f);var l={chartX:n?n.chartX:void 0,chartY:n?n.chartY:void 0,shared:a};v(this,"beforeGetHoverData",l);var w=m&&!m.stickyTracking?[m]:r.filter(function(I){return l.filter?l.filter(I):I.visible&&!(!a&&I.directTouch)&&M(I.options.enableMouseTracking,!0)&&I.stickyTracking}),P=p||!n?f:this.findNearestKDPoint(w,a,n);return m=P&&P.series,P&&(a&&!m.noSharedTooltip?(w=r.filter(function(I){return l.filter?l.filter(I):I.visible&&!(!a&&I.directTouch)&&M(I.options.enableMouseTracking,!0)&&!I.noSharedTooltip})).forEach(function(I){var L=d(I.points,function(S){return S.x===P.x&&!S.isNull});T(L)&&(I.chart.isBoosting&&(L=I.getPoint(L)),h.push(L))}):h.push(P)),v(this,"afterGetHoverData",l={hoverPoint:P}),{hoverPoint:l.hoverPoint,hoverSeries:m,hoverPoints:h}},x.prototype.getPointFromEvent=function(f){f=f.target;for(var m;f&&!m;)m=f.point,f=f.parentNode;return m},x.prototype.onTrackerMouseOut=function(f){f=f.relatedTarget||f.toElement;var m=this.chart.hoverSeries;this.isDirectTouch=!1,!m||!f||m.stickyTracking||this.inClass(f,"highcharts-tooltip")||this.inClass(f,"highcharts-series-"+m.index)&&this.inClass(f,"highcharts-tracker")||m.onMouseOut()},x.prototype.inClass=function(f,m){for(var r;f;){if(r=N(f,"class")){if(-1!==r.indexOf(m))return!0;if(-1!==r.indexOf("highcharts-container"))return!1}f=f.parentNode}},x.prototype.init=function(f,m){this.options=m,this.chart=f,this.runChartClick=!(!m.chart.events||!m.chart.events.click),this.pinchDown=[],this.lastValidTouch={},q&&(f.tooltip=new q(f,m.tooltip),this.followTouchMove=M(m.tooltip.followTouchMove,!0)),this.setDOMEvents()},x.prototype.normalize=function(f,m){var r=f.touches,p=r?r.length?r.item(0):M(r.changedTouches,f.changedTouches)[0]:f;return m||(m=this.getChartPosition()),r=p.pageX-m.left,p=p.pageY-m.top,r/=m.scaleX,p/=m.scaleY,g(f,{chartX:Math.round(r),chartY:Math.round(p)})},x.prototype.onContainerClick=function(f){var m=this.chart,r=m.hoverPoint;f=this.normalize(f);var p=m.plotLeft,a=m.plotTop;m.cancelClick||(r&&this.inClass(f.target,"highcharts-tracker")?(v(r.series,"click",g(f,{point:r})),m.hoverPoint&&r.firePointEvent("click",f)):(g(f,this.getCoordinates(f)),m.isInsidePlot(f.chartX-p,f.chartY-a,{visiblePlotOnly:!0})&&v(m,"click",f)))},x.prototype.onContainerMouseDown=function(f){var m=1==(1&(f.buttons||f.button));f=this.normalize(f),$.isFirefox&&0!==f.button&&this.onContainerMouseMove(f),(void 0===f.button||m)&&(this.zoomOption(f),m&&f.preventDefault&&f.preventDefault(),this.dragStart(f))},x.prototype.onContainerMouseLeave=function(f){var m=K[M(x.hoverChartIndex,-1)],r=this.chart.tooltip;r&&r.shouldStickOnContact()&&this.inClass(f.relatedTarget,"highcharts-tooltip-container")||(f=this.normalize(f),m&&(f.relatedTarget||f.toElement)&&(m.pointer.reset(),m.pointer.chartPosition=void 0),r&&!r.isHidden&&this.reset())},x.prototype.onContainerMouseEnter=function(f){delete this.chartPosition},x.prototype.onContainerMouseMove=function(f){var m=this.chart;f=this.normalize(f),this.setHoverChartIndex(),f.preventDefault||(f.returnValue=!1),("mousedown"===m.mouseIsDown||this.touchSelect(f))&&this.drag(f),m.openMenu||!this.inClass(f.target,"highcharts-tracker")&&!m.isInsidePlot(f.chartX-m.plotLeft,f.chartY-m.plotTop,{visiblePlotOnly:!0})||(this.inClass(f.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(f))},x.prototype.onDocumentTouchEnd=function(f){var m=K[M(x.hoverChartIndex,-1)];m&&m.pointer.drop(f)},x.prototype.onContainerTouchMove=function(f){this.touchSelect(f)?this.onContainerMouseMove(f):this.touch(f)},x.prototype.onContainerTouchStart=function(f){this.touchSelect(f)?this.onContainerMouseDown(f):(this.zoomOption(f),this.touch(f,!0))},x.prototype.onDocumentMouseMove=function(f){var m=this.chart,r=this.chartPosition;f=this.normalize(f,r);var p=m.tooltip;!r||p&&p.isStickyOnContact()||m.isInsidePlot(f.chartX-m.plotLeft,f.chartY-m.plotTop,{visiblePlotOnly:!0})||this.inClass(f.target,"highcharts-tracker")||this.reset()},x.prototype.onDocumentMouseUp=function(f){var m=K[M(x.hoverChartIndex,-1)];m&&m.pointer.drop(f)},x.prototype.pinch=function(f){var m=this,r=m.chart,p=m.pinchDown,a=f.touches||[],n=a.length,h=m.lastValidTouch,l=m.hasZoom,w={},P=1===n&&(m.inClass(f.target,"highcharts-tracker")&&r.runTrackerClick||m.runChartClick),I={},L=m.selectionMarker;1<n?m.initiated=!0:1===n&&this.followTouchMove&&(m.initiated=!1),l&&m.initiated&&!P&&!1!==f.cancelable&&f.preventDefault(),[].map.call(a,function(S){return m.normalize(S)}),"touchstart"===f.type?([].forEach.call(a,function(S,B){p[B]={chartX:S.chartX,chartY:S.chartY}}),h.x=[p[0].chartX,p[1]&&p[1].chartX],h.y=[p[0].chartY,p[1]&&p[1].chartY],r.axes.forEach(function(S){if(S.zoomEnabled){var B=r.bounds[S.horiz?"h":"v"],c=S.minPixelPadding,u=S.toPixels(Math.min(M(S.options.min,S.dataMin),S.dataMin)),E=S.toPixels(Math.max(M(S.options.max,S.dataMax),S.dataMax)),j=Math.max(u,E);B.min=Math.min(S.pos,Math.min(u,E)-c),B.max=Math.max(S.pos+S.len,j+c)}}),m.res=!0):m.followTouchMove&&1===n?this.runPointActions(m.normalize(f)):p.length&&(v(r,"touchpan",{originalEvent:f},function(){L||(m.selectionMarker=L=g({destroy:X,touch:!0},r.plotBox)),m.pinchTranslate(p,a,w,L,I,h),m.hasPinched=l,m.scaleGroups(w,I)}),m.res&&(m.res=!1,this.reset(!1,0)))},x.prototype.pinchTranslate=function(f,m,r,p,a,n){this.zoomHor&&this.pinchTranslateDirection(!0,f,m,r,p,a,n),this.zoomVert&&this.pinchTranslateDirection(!1,f,m,r,p,a,n)},x.prototype.pinchTranslateDirection=function(f,m,r,p,a,n,h,l){var w=this.chart,P=f?"x":"y",I=f?"X":"Y",L="chart"+I,S=f?"width":"height",B=w["plot"+(f?"Left":"Top")],c=w.inverted,u=w.bounds[f?"h":"v"],E=1===m.length,j=m[0][L],G=!E&&m[1][L];m=function(){"number"==typeof V&&20<Math.abs(j-G)&&(z=l||Math.abs(R-V)/Math.abs(j-G)),b=(B-R)/z+j,W=w["plot"+(f?"Width":"Height")]/z};var W,b,z=l||1,R=r[0][L],V=!E&&r[1][L];if(m(),(r=b)<u.min){r=u.min;var Z=!0}else r+W>u.max&&(r=u.max-W,Z=!0);Z?(R-=.8*(R-h[P][0]),"number"==typeof V&&(V-=.8*(V-h[P][1])),m()):h[P]=[R,V],c||(n[P]=b-B,n[S]=W),n=c?1/z:z,a[S]=W,a[P]=r,p[c?f?"scaleY":"scaleX":"scale"+I]=z,p["translate"+I]=n*B+(R-n*j)},x.prototype.reset=function(f,m){var r=this.chart,p=r.hoverSeries,a=r.hoverPoint,n=r.hoverPoints,h=r.tooltip,l=h&&h.shared?n:a;f&&l&&D(l).forEach(function(w){w.series.isCartesian&&void 0===w.plotX&&(f=!1)}),f?h&&l&&D(l).length&&(h.refresh(l),h.shared&&n?n.forEach(function(w){w.setState(w.state,!0),w.series.isCartesian&&(w.series.xAxis.crosshair&&w.series.xAxis.drawCrosshair(null,w),w.series.yAxis.crosshair&&w.series.yAxis.drawCrosshair(null,w))}):a&&(a.setState(a.state,!0),r.axes.forEach(function(w){w.crosshair&&a.series[w.coll]===w&&w.drawCrosshair(null,a)}))):(a&&a.onMouseOut(),n&&n.forEach(function(w){w.setState()}),p&&p.onMouseOut(),h&&h.hide(m),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),r.axes.forEach(function(w){w.hideCrosshair()}),this.hoverX=r.hoverPoints=r.hoverPoint=null)},x.prototype.runPointActions=function(f,m){var r=this.chart,p=r.tooltip&&r.tooltip.options.enabled?r.tooltip:void 0,a=!!p&&p.shared,n=m||r.hoverPoint,h=n&&n.series||r.hoverSeries;n=(m=this.getHoverData(n,h,r.series,(!f||"touchmove"!==f.type)&&(!!m||h&&h.directTouch&&this.isDirectTouch),a,f)).hoverPoint;var l=m.hoverPoints;if(m=(h=m.hoverSeries)&&h.tooltipOptions.followPointer&&!h.tooltipOptions.split,a=a&&h&&!h.noSharedTooltip,n&&(n!==r.hoverPoint||p&&p.isHidden)){if((r.hoverPoints||[]).forEach(function(w){-1===l.indexOf(w)&&w.setState()}),r.hoverSeries!==h&&h.onMouseOver(),this.applyInactiveState(l),(l||[]).forEach(function(w){w.setState("hover")}),r.hoverPoint&&r.hoverPoint.firePointEvent("mouseOut"),!n.series)return;r.hoverPoints=l,r.hoverPoint=n,n.firePointEvent("mouseOver"),p&&p.refresh(a?l:n,f)}else m&&p&&!p.isHidden&&(n=p.getAnchor([{}],f),r.isInsidePlot(n[0],n[1],{visiblePlotOnly:!0})&&p.updatePosition({plotX:n[0],plotY:n[1]}));this.unDocMouseMove||(this.unDocMouseMove=F(r.container.ownerDocument,"mousemove",function(w){var P=K[x.hoverChartIndex];P&&P.pointer.onDocumentMouseMove(w)}),this.eventsToUnbind.push(this.unDocMouseMove)),r.axes.forEach(function(w){var I,P=M((w.crosshair||{}).snap,!0);P&&((I=r.hoverPoint)&&I.series[w.coll]===w||(I=d(l,function(L){return L.series[w.coll]===w}))),I||!P?w.drawCrosshair(f,I):w.hideCrosshair()})},x.prototype.scaleGroups=function(f,m){var r=this.chart;r.series.forEach(function(p){var a=f||p.getPlotBox();p.group&&(p.xAxis&&p.xAxis.zoomEnabled||r.mapView)&&(p.group.attr(a),p.markerGroup&&(p.markerGroup.attr(a),p.markerGroup.clip(m?r.clipRect:null)),p.dataLabelsGroup&&p.dataLabelsGroup.attr(a))}),r.clipRect.attr(m||r.clipBox)},x.prototype.setDOMEvents=function(){var f=this,m=this.chart.container,r=m.ownerDocument;m.onmousedown=this.onContainerMouseDown.bind(this),m.onmousemove=this.onContainerMouseMove.bind(this),m.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(F(m,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(F(m,"mouseleave",this.onContainerMouseLeave.bind(this))),x.unbindDocumentMouseUp||(x.unbindDocumentMouseUp=F(r,"mouseup",this.onDocumentMouseUp.bind(this)));for(var p=this.chart.renderTo.parentElement;p&&"BODY"!==p.tagName;)this.eventsToUnbind.push(F(p,"scroll",function(){delete f.chartPosition})),p=p.parentElement;$.hasTouch&&(this.eventsToUnbind.push(F(m,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(F(m,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),x.unbindDocumentTouchEnd||(x.unbindDocumentTouchEnd=F(r,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},x.prototype.setHoverChartIndex=function(){var f=this.chart,m=$.charts[M(x.hoverChartIndex,-1)];m&&m!==f&&m.pointer.onContainerMouseLeave({relatedTarget:!0}),m&&m.mouseIsDown||(x.hoverChartIndex=f.index)},x.prototype.touch=function(f,m){var r=this.chart;if(this.setHoverChartIndex(),1===f.touches.length)if(f=this.normalize(f),r.isInsidePlot(f.chartX-r.plotLeft,f.chartY-r.plotTop,{visiblePlotOnly:!0})&&!r.openMenu){if(m&&this.runPointActions(f),"touchmove"===f.type)var a=!!(m=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(m[0].chartX-f.chartX,2)+Math.pow(m[0].chartY-f.chartY,2));M(a,!0)&&this.pinch(f)}else m&&this.reset();else 2===f.touches.length&&this.pinch(f)},x.prototype.touchSelect=function(f){return!(!this.chart.options.chart.zoomBySingleTouch||!f.touches||1!==f.touches.length)},x.prototype.zoomOption=function(f){var m=this.chart,r=m.options.chart;m=m.inverted;var p=r.zoomType||"";/touch/.test(f.type)&&(p=M(r.pinchType,p)),this.zoomX=f=/x/.test(p),this.zoomY=r=/y/.test(p),this.zoomHor=f&&!m||r&&m,this.zoomVert=r&&!m||f&&m,this.hasZoom=f||r},x}()}),wt(o,"Core/MSPointer.js",[o["Core/Globals.js"],o["Core/Pointer.js"],o["Core/Utilities.js"]],function(Y,$,q){function rt(){var y=[];return y.item=function(C){return this[C]},d(_,function(C){y.push({pageX:C.pageX,pageY:C.pageY,target:C.target})}),y}function J(y,C,M,D){var x=X[$.hoverChartIndex||NaN];"touch"!==y.pointerType&&y.pointerType!==y.MSPOINTER_TYPE_TOUCH||!x||(x=x.pointer,D(y),x[C]({type:M,target:y.currentTarget,preventDefault:N,touches:rt()}))}var y,K=this&&this.__extends||(y=function(C,M){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,x){D.__proto__=x}||function(D,x){for(var f in x)x.hasOwnProperty(f)&&(D[f]=x[f])})(C,M)},function(C,M){function D(){this.constructor=C}y(C,M),C.prototype=null===M?Object.create(M):(D.prototype=M.prototype,new D)}),X=Y.charts,F=Y.doc,N=Y.noop,O=Y.win,k=q.addEvent,g=q.css,d=q.objectEach,v=q.removeEvent,_={},T=!!O.PointerEvent;return function(y){function C(){return null!==y&&y.apply(this,arguments)||this}return K(C,y),C.isRequired=function(){return!(Y.hasTouch||!O.PointerEvent&&!O.MSPointerEvent)},C.prototype.batchMSEvents=function(M){M(this.chart.container,T?"pointerdown":"MSPointerDown",this.onContainerPointerDown),M(this.chart.container,T?"pointermove":"MSPointerMove",this.onContainerPointerMove),M(F,T?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},C.prototype.destroy=function(){this.batchMSEvents(v),y.prototype.destroy.call(this)},C.prototype.init=function(M,D){y.prototype.init.call(this,M,D),this.hasZoom&&g(M.container,{"-ms-touch-action":"none","touch-action":"none"})},C.prototype.onContainerPointerDown=function(M){J(M,"onContainerTouchStart","touchstart",function(D){_[D.pointerId]={pageX:D.pageX,pageY:D.pageY,target:D.currentTarget}})},C.prototype.onContainerPointerMove=function(M){J(M,"onContainerTouchMove","touchmove",function(D){_[D.pointerId]={pageX:D.pageX,pageY:D.pageY},_[D.pointerId].target||(_[D.pointerId].target=D.currentTarget)})},C.prototype.onDocumentPointerUp=function(M){J(M,"onDocumentTouchEnd","touchend",function(D){delete _[D.pointerId]})},C.prototype.setDOMEvents=function(){y.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(k)},C}($)}),wt(o,"Core/Legend/Legend.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Series/Point.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){var X=Y.animObject,F=Y.setAnimation,N=$.format;Y=q.isFirefox;var O=q.marginNames;q=q.win;var k=J.distribute,g=K.addEvent,d=K.createElement,v=K.css,_=K.defined,T=K.discardElement,y=K.find,C=K.fireEvent,M=K.isNumber,D=K.merge,x=K.pick,f=K.relativeLength,m=K.stableSort,r=K.syncTimeout;return J=K.wrap,K=function(){function p(a,n){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=a,this.init(a,n)}return p.prototype.init=function(a,n){this.chart=a,this.setOptions(n),n.enabled&&(this.render(),g(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=g(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},p.prototype.setOptions=function(a){var n=x(a.padding,8);this.options=a,this.chart.styledMode||(this.itemStyle=a.itemStyle,this.itemHiddenStyle=D(this.itemStyle,a.itemHiddenStyle)),this.itemMarginTop=a.itemMarginTop||0,this.itemMarginBottom=a.itemMarginBottom||0,this.padding=n,this.initialItemY=n-5,this.symbolWidth=x(a.symbolWidth,16),this.pages=[],this.proximate="proximate"===a.layout&&!this.chart.inverted,this.baseline=void 0},p.prototype.update=function(a,n){var h=this.chart;this.setOptions(D(!0,this.options,a)),this.destroy(),h.isDirtyLegend=h.isDirtyBox=!0,x(n,!0)&&h.redraw(),C(this,"afterUpdate")},p.prototype.colorizeItem=function(a,n){if(a.legendGroup[n?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var h=this.options,l=a.legendItem,w=a.legendLine,P=a.legendSymbol,I=this.itemHiddenStyle.color;h=n?h.itemStyle.color:I;var L=n&&a.color||I,S=a.options&&a.options.marker,B={fill:L};l&&l.css({fill:h,color:h}),w&&w.attr({stroke:L}),P&&(S&&P.isMarker&&(B=a.pointAttribs(),n||(B.stroke=B.fill=I)),P.attr(B))}C(this,"afterColorizeItem",{item:a,visible:n})},p.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},p.prototype.positionItem=function(a){var n=this,h=this.options,l=h.symbolPadding,w=!h.rtl,P=a._legendItemPos;h=P[0],P=P[1];var I=a.checkbox,L=a.legendGroup;L&&L.element&&(l={translateX:w?h:this.legendWidth-h-2*l-4,translateY:P},w=function(){C(n,"afterPositionItem",{item:a})},_(L.translateY)?L.animate(l,void 0,w):(L.attr(l),w())),I&&(I.x=h,I.y=P)},p.prototype.destroyItem=function(a){var n=a.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(h){a[h]&&(a[h]=a[h].destroy())}),n&&T(a.checkbox)},p.prototype.destroy=function(){function a(n){this[n]&&(this[n]=this[n].destroy())}this.getAllItems().forEach(function(n){["legendItem","legendGroup"].forEach(a,n)}),"clipRect up down pager nav box title group".split(" ").forEach(a,this),this.display=null},p.prototype.positionCheckboxes=function(){var a=this.group&&this.group.alignAttr,n=this.clipHeight||this.legendHeight,h=this.titleHeight;if(a){var l=a.translateY;this.allItems.forEach(function(w){var P=w.checkbox;if(P){var I=l+h+P.y+(this.scrollOffset||0)+3;v(P,{left:a.translateX+w.checkboxOffset+P.x-20+"px",top:I+"px",display:this.proximate||I>l-6&&I<l+n-6?"":"none"})}},this)}},p.prototype.renderTitle=function(){var a=this.options,n=this.padding,h=a.title,l=0;h.text&&(this.title||(this.title=this.chart.renderer.label(h.text,n-3,n-4,null,null,null,a.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(h.style),this.title.add(this.group)),h.width||this.title.css({width:this.maxLegendWidth+"px"}),l=(a=this.title.getBBox()).height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:l})),this.titleHeight=l},p.prototype.setText=function(a){var n=this.options;a.legendItem.attr({text:n.labelFormat?N(n.labelFormat,a,this.chart):n.labelFormatter.call(a)})},p.prototype.renderItem=function(a){var n=this.chart,h=n.renderer,l=this.options,w=this.symbolWidth,P=l.symbolPadding||0,I=this.itemStyle,L=this.itemHiddenStyle,S="horizontal"===l.layout?x(l.itemDistance,20):0,B=!l.rtl,c=!a.series,u=!c&&a.series.drawLegendSymbol?a.series:a,E=u.options,j=this.createCheckboxForItem&&E&&E.showCheckbox,G=l.useHTML,W=a.options.className,b=a.legendItem;E=w+P+S+(j?20:0),b||(a.legendGroup=h.g("legend-item").addClass("highcharts-"+u.type+"-series highcharts-color-"+a.colorIndex+(W?" "+W:"")+(c?" highcharts-series-"+a.index:"")).attr({zIndex:1}).add(this.scrollGroup),a.legendItem=b=h.text("",B?w+P:-P,this.baseline||0,G),n.styledMode||b.css(D(a.visible?I:L)),b.attr({align:B?"left":"right",zIndex:2}).add(a.legendGroup),this.baseline||(this.fontMetrics=h.fontMetrics(n.styledMode?12:I.fontSize,b),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,b.attr("y",this.baseline),this.symbolHeight=l.symbolHeight||this.fontMetrics.f,l.squareSymbol&&(this.symbolWidth=x(l.symbolWidth,Math.max(this.symbolHeight,16)),E=this.symbolWidth+P+S+(j?20:0),B&&b.attr("x",this.symbolWidth+P))),u.drawLegendSymbol(this,a),this.setItemEvents&&this.setItemEvents(a,b,G)),j&&!a.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(a),this.colorizeItem(a,a.visible),!n.styledMode&&I.width||b.css({width:(l.itemWidth||this.widthOption||n.spacingBox.width)-E+"px"}),this.setText(a),n=b.getBBox(),h=this.fontMetrics&&this.fontMetrics.h||0,a.itemWidth=a.checkboxOffset=l.itemWidth||a.legendItemWidth||n.width+E,this.maxItemWidth=Math.max(this.maxItemWidth,a.itemWidth),this.totalItemWidth+=a.itemWidth,this.itemHeight=a.itemHeight=Math.round(a.legendItemHeight||(n.height>1.5*h?n.height:h))},p.prototype.layoutItem=function(a){var n=this.options,h=this.padding,l="horizontal"===n.layout,w=a.itemHeight,P=this.itemMarginBottom,I=this.itemMarginTop,L=l?x(n.itemDistance,20):0,S=this.maxLegendWidth;n=n.alignColumns&&this.totalItemWidth>S?this.maxItemWidth:a.itemWidth,l&&this.itemX-h+n>S&&(this.itemX=h,this.lastLineHeight&&(this.itemY+=I+this.lastLineHeight+P),this.lastLineHeight=0),this.lastItemY=I+this.itemY+P,this.lastLineHeight=Math.max(w,this.lastLineHeight),a._legendItemPos=[this.itemX,this.itemY],l?this.itemX+=n:(this.itemY+=I+w+P,this.lastLineHeight=w),this.offsetWidth=this.widthOption||Math.max((l?this.itemX-h-(a.checkbox?0:L):n)+h,this.offsetWidth)},p.prototype.getAllItems=function(){var a=[];return this.chart.series.forEach(function(n){var h=n&&n.options;n&&x(h.showInLegend,!_(h.linkedTo)&&void 0,!0)&&(a=a.concat(n.legendItems||("point"===h.legendType?n.data:n)))}),C(this,"afterGetAllItems",{allItems:a}),a},p.prototype.getAlignment=function(){var a=this.options;return this.proximate?a.align.charAt(0)+"tv":a.floating?"":a.align.charAt(0)+a.verticalAlign.charAt(0)+a.layout.charAt(0)},p.prototype.adjustMargins=function(a,n){var h=this.chart,l=this.options,w=this.getAlignment();w&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(P,I){P.test(w)&&!_(a[I])&&(h[O[I]]=Math.max(h[O[I]],h.legend[(I+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][I]*l[I%2?"x":"y"]+x(l.margin,12)+n[I]+(h.titleOffset[I]||0)))})},p.prototype.proximatePositions=function(){var a=this.chart,n=[],h="left"===this.options.align;this.allItems.forEach(function(l){var w,P=h;if(l.yAxis){l.xAxis.options.reversed&&(P=!P),l.points&&(w=y(P?l.points:l.points.slice(0).reverse(),function(L){return M(L.plotY)})),P=this.itemMarginTop+l.legendItem.getBBox().height+this.itemMarginBottom;var I=l.yAxis.top-a.plotTop;l.visible?(w=w?w.plotY:l.yAxis.height,w+=I-.3*P):w=I+l.yAxis.height,n.push({target:w,size:P,item:l})}},this),k(n,a.plotHeight).forEach(function(l){l.item._legendItemPos&&(l.item._legendItemPos[1]=a.plotTop-a.spacing[0]+l.pos)})},p.prototype.render=function(){var a=this.chart,n=a.renderer,h=this.options,l=this.padding,w=this.getAllItems(),P=this.group,I=this.box;this.itemX=l,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=f(h.width,a.spacingBox.width-l);var L=a.spacingBox.width-2*l-h.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(L/=2),this.maxLegendWidth=this.widthOption||L,P||(this.group=P=n.g("legend").addClass(h.className||"").attr({zIndex:7}).add(),this.contentGroup=n.g().attr({zIndex:1}).add(P),this.scrollGroup=n.g().add(this.contentGroup)),this.renderTitle(),m(w,function(B,c){return(B.options&&B.options.legendIndex||0)-(c.options&&c.options.legendIndex||0)}),h.reversed&&w.reverse(),this.allItems=w,this.display=L=!!w.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,w.forEach(this.renderItem,this),w.forEach(this.layoutItem,this),w=(this.widthOption||this.offsetWidth)+l;var S=this.lastItemY+this.lastLineHeight+this.titleHeight;S=this.handleOverflow(S),S+=l,I||(this.box=I=n.rect().addClass("highcharts-legend-box").attr({r:h.borderRadius}).add(P),I.isNew=!0),a.styledMode||I.attr({stroke:h.borderColor,"stroke-width":h.borderWidth||0,fill:h.backgroundColor||"none"}).shadow(h.shadow),0<w&&0<S&&(I[I.isNew?"attr":"animate"](I.crisp.call({},{x:0,y:0,width:w,height:S},I.strokeWidth())),I.isNew=!1),I[L?"show":"hide"](),a.styledMode&&"none"===P.getStyle("display")&&(w=S=0),this.legendWidth=w,this.legendHeight=S,L&&this.align(),this.proximate||this.positionItems(),C(this,"afterRender")},p.prototype.align=function(a){void 0===a&&(a=this.chart.spacingBox);var n=this.chart,h=this.options,l=a.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<n.titleOffset[0]?l+=n.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<n.titleOffset[2]&&(l-=n.titleOffset[2]),l!==a.y&&(a=D(a,{y:l})),this.group.align(D(h,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":h.verticalAlign}),!0,a)},p.prototype.handleOverflow=function(a){var b,z,n=this,h=this.chart,l=h.renderer,w=this.options,P=w.y,I="top"===w.verticalAlign,L=this.padding,S=w.maxHeight,B=w.navigation,c=x(B.animation,!0),u=B.arrowSize||12,E=this.pages,j=this.allItems,G=function(Z){"number"==typeof Z?V.attr({height:Z}):V&&(n.clipRect=V.destroy(),n.contentGroup.clip()),n.contentGroup.div&&(n.contentGroup.div.style.clip=Z?"rect("+L+"px,9999px,"+(L+Z)+"px,0)":"auto")},W=function(Z){return n[Z]=l.circle(0,0,1.3*u).translate(u/2,u/2).add(R),h.styledMode||n[Z].attr("fill","rgba(0,0,0,0.0001)"),n[Z]};P=h.spacingBox.height+(I?-P:P)-L;var R=this.nav,V=this.clipRect;return"horizontal"!==w.layout||"middle"===w.verticalAlign||w.floating||(P/=2),S&&(P=Math.min(P,S)),E.length=0,a&&0<P&&a>P&&!1!==B.enabled?(this.clipHeight=b=Math.max(P-20-this.titleHeight-L,0),this.currentPage=x(this.currentPage,1),this.fullHeight=a,j.forEach(function(Z,nt){var it=Z._legendItemPos[1],ot=Math.round(Z.legendItem.getBBox().height),at=E.length;(!at||it-E[at-1]>b&&(z||it)!==E[at-1])&&(E.push(z||it),at++),Z.pageIx=at-1,z&&(j[nt-1].pageIx=at-1),nt===j.length-1&&it+ot-E[at-1]>b&&ot<=b&&(E.push(it),Z.pageIx=at),it!==z&&(z=it)}),V||(V=n.clipRect=l.clipRect(0,L,9999,0),n.contentGroup.clip(V)),G(b),R||(this.nav=R=l.g().attr({zIndex:1}).add(this.group),this.up=l.symbol("triangle",0,0,u,u).add(R),W("upTracker").on("click",function(){n.scroll(-1,c)}),this.pager=l.text("",15,10).addClass("highcharts-legend-navigation"),h.styledMode||this.pager.css(B.style),this.pager.add(R),this.down=l.symbol("triangle-down",0,0,u,u).add(R),W("downTracker").on("click",function(){n.scroll(1,c)})),n.scroll(0),a=P):R&&(G(),this.nav=R.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),a},p.prototype.scroll=function(a,n){var h=this,l=this.chart,w=this.pages,P=w.length,I=this.clipHeight,L=this.options.navigation,S=this.pager,B=this.padding,c=this.currentPage+a;c>P&&(c=P),0<c&&(void 0!==n&&F(n,l),this.nav.attr({translateX:B,translateY:I+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(u){u.attr({class:1===c?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),S.attr({text:c+"/"+P}),[this.down,this.downTracker].forEach(function(u){u.attr({x:18+this.pager.getBBox().width,class:c===P?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),l.styledMode||(this.up.attr({fill:1===c?L.inactiveColor:L.activeColor}),this.upTracker.css({cursor:1===c?"default":"pointer"}),this.down.attr({fill:c===P?L.inactiveColor:L.activeColor}),this.downTracker.css({cursor:c===P?"default":"pointer"})),this.scrollOffset=-w[c-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=c,this.positionCheckboxes(),a=X(x(n,l.renderer.globalAnimation,!0)),r(function(){C(h,"afterScroll",{currentPage:c})},a.duration))},p.prototype.setItemEvents=function(a,n,h){var l=this,w=l.chart.renderer.boxWrapper,P=a instanceof rt,I="highcharts-legend-"+(P?"point":"series")+"-active",L=l.chart.styledMode,S=function(B){l.allItems.forEach(function(c){a!==c&&[c].concat(c.linkedSeries||[]).forEach(function(u){u.setState(B,!P)})})};(h?[n,a.legendSymbol]:[a.legendGroup]).forEach(function(B){B&&B.on("mouseover",function(){a.visible&&S("inactive"),a.setState("hover"),a.visible&&w.addClass(I),L||n.css(l.options.itemHoverStyle)}).on("mouseout",function(){l.chart.styledMode||n.css(D(a.visible?l.itemStyle:l.itemHiddenStyle)),S(""),w.removeClass(I),a.setState()}).on("click",function(c){var u=function(){a.setVisible&&a.setVisible(),S(a.visible?"inactive":"")};w.removeClass(I),c={browserEvent:c},a.firePointEvent?a.firePointEvent("legendItemClick",c,u):C(a,"legendItemClick",c,u)})})},p.prototype.createCheckboxForItem=function(a){a.checkbox=d("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container),g(a.checkbox,"click",function(n){C(a.series||a,"checkboxClick",{checked:n.target.checked,item:a},function(){a.select()})})},p}(),(/Trident\/7\.0/.test(q.navigator&&q.navigator.userAgent)||Y)&&J(K.prototype,"positionItem",function(p,a){var n=this,h=function(){a._legendItemPos&&p.call(n,a)};h(),n.bubbleLegend||setTimeout(h)}),K}),wt(o,"Core/Series/SeriesRegistry.js",[o["Core/Globals.js"],o["Core/DefaultOptions.js"],o["Core/Series/Point.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var N,J=$.defaultOptions,K=rt.error,X=rt.extendClass,F=rt.merge;return function(O){function k(g,d){var v=J.plotOptions||{},_=d.defaultOptions;d.prototype.pointClass||(d.prototype.pointClass=q),d.prototype.type=g,_&&(v[g]=_),O.seriesTypes[g]=d}O.seriesTypes=Y.seriesTypes,O.getSeries=function(g,d){void 0===d&&(d={});var v=g.options.chart,_=O.seriesTypes[v=d.type||v.type||v.defaultSeriesType||""];return O||K(17,!0,g,{missingModuleFor:v}),"function"==typeof(v=new _).init&&v.init(g,d),v},O.registerSeriesType=k,O.seriesType=function(g,d,v,_,T){var y=J.plotOptions||{};return y[g]=F(y[d=d||""],v),k(g,X(O.seriesTypes[d]||function(){},_)),O.seriesTypes[g].prototype.type=g,T&&(O.seriesTypes[g].prototype.pointClass=X(q,T)),O.seriesTypes[g]}}(N||(N={})),N}),wt(o,"Core/Chart/Chart.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/Axis.js"],o["Core/FormatUtilities.js"],o["Core/Foundation.js"],o["Core/Globals.js"],o["Core/Legend/Legend.js"],o["Core/MSPointer.js"],o["Core/DefaultOptions.js"],o["Core/Pointer.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Time.js"],o["Core/Utilities.js"],o["Core/Renderer/HTML/AST.js"]],function(Y,$,q,rt,J,K,X,F,N,O,k,g,d,v,_){var T=Y.animate,y=Y.animObject,C=Y.setAnimation,M=q.numberFormat,D=rt.registerEventOptions,x=J.charts,f=J.doc,m=J.marginNames,r=J.svg,p=J.win,a=F.defaultOptions,n=F.defaultTime,h=k.seriesTypes,l=v.addEvent,w=v.attr,P=v.cleanRecursively,I=v.createElement,L=v.css,S=v.defined,B=v.discardElement,c=v.erase,u=v.error,E=v.extend,j=v.find,G=v.fireEvent,W=v.getStyle,b=v.isArray,z=v.isNumber,R=v.isObject,V=v.isString,Z=v.merge,nt=v.objectEach,it=v.pick,ot=v.pInt,at=v.relativeLength,mt=v.removeEvent,_t=v.splat,yt=v.syncTimeout,ut=v.uniqueKey;return Y=function(){function ct(H,tt,lt){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(H,tt,lt)}return ct.chart=function(H,tt,lt){return new ct(H,tt,lt)},ct.prototype.getArgs=function(H,tt,lt){V(H)||H.nodeName?(this.renderTo=H,this.init(tt,lt)):this.init(H,tt)},ct.prototype.init=function(H,tt){var lt=H.plotOptions||{};G(this,"init",{args:arguments},function(){var dt=Z(a,H),ft=dt.chart;nt(dt.plotOptions,function(bt,Tt){R(bt)&&(bt.tooltip=lt[Tt]&&Z(lt[Tt].tooltip)||void 0)}),dt.tooltip.userOptions=H.chart&&H.chart.forExport&&H.tooltip.userOptions||H.tooltip,this.userOptions=H,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=tt,this.isResizing=0,this.options=dt,this.axes=[],this.series=[],this.time=H.time&&Object.keys(H.time).length?new d(H.time):J.time,this.numberFormatter=ft.numberFormatter||M,this.styledMode=ft.styledMode,this.hasCartesianSeries=ft.showAxes,this.index=x.length,x.push(this),J.chartCount++,D(this,ft),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,G(this,"afterInit"),this.firstRender()})},ct.prototype.initSeries=function(H){var tt=this.options.chart,lt=h[tt=H.type||tt.type||tt.defaultSeriesType];return lt||u(17,!0,this,{missingModuleFor:tt}),"function"==typeof(tt=new lt).init&&tt.init(this,H),tt},ct.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(H){H.points||H.data||!H.enabledDataSorting||H.setData(H.options.data,!1)})},ct.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(H,tt){return H.linkedSeries.length||tt.linkedSeries.length?tt.linkedSeries.length-H.linkedSeries.length:0})},ct.prototype.orderSeries=function(H){var tt=this.series;H=H||0;for(var lt=tt.length;H<lt;++H)tt[H]&&(tt[H].index=H,tt[H].name=tt[H].getName())},ct.prototype.isInsidePlot=function(H,tt,lt){void 0===lt&&(lt={});var dt=this.inverted,ft=this.plotBox,bt=this.plotLeft,Tt=this.plotTop,Lt=this.scrollablePlotBox,jt=0,Rt=0;lt.visiblePlotOnly&&this.scrollingContainer&&(jt=(Rt=this.scrollingContainer).scrollLeft,Rt=Rt.scrollTop);var Et=lt.series;if(ft=lt.visiblePlotOnly&&Lt||ft,H={x:Lt=lt.inverted?tt:H,y:tt=lt.inverted?H:tt,isInsidePlot:!0},!lt.ignoreX){var Ht=Et&&(dt?Et.yAxis:Et.xAxis)||{pos:bt,len:1/0};(Lt=lt.paneCoordinates?Ht.pos+Lt:bt+Lt)>=Math.max(jt+bt,Ht.pos)&&Lt<=Math.min(jt+bt+ft.width,Ht.pos+Ht.len)||(H.isInsidePlot=!1)}return!lt.ignoreY&&H.isInsidePlot&&(dt=Et&&(dt?Et.xAxis:Et.yAxis)||{pos:Tt,len:1/0},(lt=lt.paneCoordinates?dt.pos+tt:Tt+tt)>=Math.max(Rt+Tt,dt.pos)&&lt<=Math.min(Rt+Tt+ft.height,dt.pos+dt.len)||(H.isInsidePlot=!1)),G(this,"afterIsInsidePlot",H),H.isInsidePlot},ct.prototype.redraw=function(H){G(this,"beforeRedraw");var tt=this.hasCartesianSeries?this.axes:this.colorAxis||[],lt=this.series,dt=this.pointer,ft=this.legend,bt=this.userOptions.legend,Tt=this.renderer,Lt=Tt.isHidden(),jt=[],Rt=this.isDirtyBox,Et=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),C(!!this.hasRendered&&H,this),Lt&&this.temporaryDisplay(),this.layOutTitles(),H=lt.length;H--;){var Ht=lt[H];if(Ht.options.stacking||Ht.options.centerInCategory){var It=!0;if(Ht.isDirty){var Pt=!0;break}}}if(Pt)for(H=lt.length;H--;)(Ht=lt[H]).options.stacking&&(Ht.isDirty=!0);lt.forEach(function(kt){kt.isDirty&&("point"===kt.options.legendType?("function"==typeof kt.updateTotals&&kt.updateTotals(),Et=!0):bt&&(bt.labelFormatter||bt.labelFormat)&&(Et=!0)),kt.isDirtyData&&G(kt,"updatedData")}),Et&&ft&&ft.options.enabled&&(ft.render(),this.isDirtyLegend=!1),It&&this.getStacks(),tt.forEach(function(kt){kt.updateNames(),kt.setScale()}),this.getMargins(),tt.forEach(function(kt){kt.isDirty&&(Rt=!0)}),tt.forEach(function(kt){var Ut=kt.min+","+kt.max;kt.extKey!==Ut&&(kt.extKey=Ut,jt.push(function(){G(kt,"afterSetExtremes",E(kt.eventArgs,kt.getExtremes())),delete kt.eventArgs})),(Rt||It)&&kt.redraw()}),Rt&&this.drawChartBox(),G(this,"predraw"),lt.forEach(function(kt){(Rt||kt.isDirty)&&kt.visible&&kt.redraw(),kt.isDirtyData=!1}),dt&&dt.reset(!0),Tt.draw(),G(this,"redraw"),G(this,"render"),Lt&&this.temporaryDisplay(!0),jt.forEach(function(kt){kt.call()})},ct.prototype.get=function(H){function tt(bt){return bt.id===H||bt.options&&bt.options.id===H}for(var lt=this.series,dt=j(this.axes,tt)||j(this.series,tt),ft=0;!dt&&ft<lt.length;ft++)dt=j(lt[ft].points||[],tt);return dt},ct.prototype.getAxes=function(){var H=this,tt=this.options,lt=tt.xAxis=_t(tt.xAxis||{});tt=tt.yAxis=_t(tt.yAxis||{}),G(this,"getAxes"),lt.forEach(function(dt,ft){dt.index=ft,dt.isX=!0}),tt.forEach(function(dt,ft){dt.index=ft}),lt.concat(tt).forEach(function(dt){new $(H,dt)}),G(this,"afterGetAxes")},ct.prototype.getSelectedPoints=function(){return this.series.reduce(function(H,tt){return tt.getPointsCollection().forEach(function(lt){it(lt.selectedStaging,lt.selected)&&H.push(lt)}),H},[])},ct.prototype.getSelectedSeries=function(){return this.series.filter(function(H){return H.selected})},ct.prototype.setTitle=function(H,tt,lt){this.applyDescription("title",H),this.applyDescription("subtitle",tt),this.applyDescription("caption",void 0),this.layOutTitles(lt)},ct.prototype.applyDescription=function(H,tt){var lt=this,dt="title"===H?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};dt=this.options[H]=Z(!this.styledMode&&{style:dt},this.options[H],tt);var ft=this[H];ft&&tt&&(this[H]=ft=ft.destroy()),dt&&!ft&&((ft=this.renderer.text(dt.text,0,0,dt.useHTML).attr({align:dt.align,class:"highcharts-"+H,zIndex:dt.zIndex||4}).add()).update=function(bt){lt[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[H]](bt)},this.styledMode||ft.css(dt.style),this[H]=ft)},ct.prototype.layOutTitles=function(H){var tt=[0,0,0],lt=this.renderer,dt=this.spacingBox;["title","subtitle","caption"].forEach(function(bt){var Rt,Tt=this[bt],Lt=this.options[bt],jt=Lt.verticalAlign||"top";if(bt="title"===bt?"top"===jt?-3:0:"top"===jt?tt[0]+2:0,Tt){this.styledMode||(Rt=Lt.style&&Lt.style.fontSize),Rt=lt.fontMetrics(Rt,Tt).b,Tt.css({width:(Lt.width||dt.width+(Lt.widthAdjust||0))+"px"});var Et=Math.round(Tt.getBBox(Lt.useHTML).height);Tt.align(E({y:"bottom"===jt?Rt:bt+Rt,height:Et},Lt),!1,"spacingBox"),Lt.floating||("top"===jt?tt[0]=Math.ceil(tt[0]+Et):"bottom"===jt&&(tt[2]=Math.ceil(tt[2]+Et)))}},this),tt[0]&&"top"===(this.options.title.verticalAlign||"top")&&(tt[0]+=this.options.title.margin),tt[2]&&"bottom"===this.options.caption.verticalAlign&&(tt[2]+=this.options.caption.margin);var ft=!this.titleOffset||this.titleOffset.join(",")!==tt.join(",");this.titleOffset=tt,G(this,"afterLayOutTitles"),!this.isDirtyBox&&ft&&(this.isDirtyBox=this.isDirtyLegend=ft,this.hasRendered&&it(H,!0)&&this.isDirtyBox&&this.redraw())},ct.prototype.getChartSize=function(){var H=this.options.chart,tt=H.width;H=H.height;var lt=this.renderTo;S(tt)||(this.containerWidth=W(lt,"width")),S(H)||(this.containerHeight=W(lt,"height")),this.chartWidth=Math.max(0,tt||this.containerWidth||600),this.chartHeight=Math.max(0,at(H,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},ct.prototype.temporaryDisplay=function(H){var tt=this.renderTo;if(H)for(;tt&&tt.style;)tt.hcOrigStyle&&(L(tt,tt.hcOrigStyle),delete tt.hcOrigStyle),tt.hcOrigDetached&&(f.body.removeChild(tt),tt.hcOrigDetached=!1),tt=tt.parentNode;else for(;tt&&tt.style&&(f.body.contains(tt)||tt.parentNode||(tt.hcOrigDetached=!0,f.body.appendChild(tt)),("none"===W(tt,"display",!1)||tt.hcOricDetached)&&(tt.hcOrigStyle={display:tt.style.display,height:tt.style.height,overflow:tt.style.overflow},H={display:"block",overflow:"hidden"},tt!==this.renderTo&&(H.height=0),L(tt,H),tt.offsetWidth||tt.style.setProperty("display","block","important")),(tt=tt.parentNode)!==f.body););},ct.prototype.setClassName=function(H){this.container.className="highcharts-container "+(H||"")},ct.prototype.getContainer=function(){var dt,H=this.options,tt=H.chart,lt=ut(),ft=this.renderTo;ft||(this.renderTo=ft=tt.renderTo),V(ft)&&(this.renderTo=ft=f.getElementById(ft)),ft||u(13,!0,this);var bt=ot(w(ft,"data-highcharts-chart"));z(bt)&&x[bt]&&x[bt].hasRendered&&x[bt].destroy(),w(ft,"data-highcharts-chart",this.index),ft.innerHTML=_.emptyHTML,tt.skipClone||ft.offsetWidth||this.temporaryDisplay(),this.getChartSize(),bt=this.chartWidth;var Tt=this.chartHeight;if(L(ft,{overflow:"hidden"}),this.styledMode||(dt=E({position:"relative",overflow:"hidden",width:bt+"px",height:Tt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},tt.style||{})),this.container=lt=I("div",{id:lt},dt,ft),this._cursor=lt.style.cursor,this.renderer=new(tt.renderer||!r?O.getRendererType(tt.renderer):g)(lt,bt,Tt,void 0,tt.forExport,H.exporting&&H.exporting.allowHTML,this.styledMode),C(void 0,this),this.setClassName(tt.className),this.styledMode)for(var Lt in H.defs)this.renderer.definition(H.defs[Lt]);else this.renderer.setStyle(tt.style);this.renderer.chartIndex=this.index,G(this,"afterGetContainer")},ct.prototype.getMargins=function(H){var tt=this.spacing,lt=this.margin,dt=this.titleOffset;this.resetMargins(),dt[0]&&!S(lt[0])&&(this.plotTop=Math.max(this.plotTop,dt[0]+tt[0])),dt[2]&&!S(lt[2])&&(this.marginBottom=Math.max(this.marginBottom,dt[2]+tt[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(lt,tt),G(this,"getMargins"),H||this.getAxisMargins()},ct.prototype.getAxisMargins=function(){var H=this,tt=H.axisOffset=[0,0,0,0],lt=H.colorAxis,dt=H.margin,ft=function(bt){bt.forEach(function(Tt){Tt.visible&&Tt.getOffset()})};H.hasCartesianSeries?ft(H.axes):lt&&lt.length&&ft(lt),m.forEach(function(bt,Tt){S(dt[Tt])||(H[bt]+=tt[Tt])}),H.setChartSize()},ct.prototype.reflow=function(H){var tt=this,lt=tt.options.chart,dt=tt.renderTo,ft=S(lt.width)&&S(lt.height),bt=lt.width||W(dt,"width");lt=lt.height||W(dt,"height"),dt=H?H.target:p,delete tt.pointer.chartPosition,!ft&&!tt.isPrinting&&bt&&lt&&(dt===p||dt===f)&&((bt!==tt.containerWidth||lt!==tt.containerHeight)&&(v.clearTimeout(tt.reflowTimeout),tt.reflowTimeout=yt(function(){tt.container&&tt.setSize(void 0,void 0,!1)},H?100:0)),tt.containerWidth=bt,tt.containerHeight=lt)},ct.prototype.setReflow=function(H){var tt=this;!1===H||this.unbindReflow?!1===H&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=l(p,"resize",function(lt){tt.options&&tt.reflow(lt)}),l(this,"destroy",this.unbindReflow))},ct.prototype.setSize=function(H,tt,lt){var dt=this,ft=dt.renderer;dt.isResizing+=1,C(lt,dt),lt=ft.globalAnimation,dt.oldChartHeight=dt.chartHeight,dt.oldChartWidth=dt.chartWidth,void 0!==H&&(dt.options.chart.width=H),void 0!==tt&&(dt.options.chart.height=tt),dt.getChartSize(),dt.styledMode||(lt?T:L)(dt.container,{width:dt.chartWidth+"px",height:dt.chartHeight+"px"},lt),dt.setChartSize(!0),ft.setSize(dt.chartWidth,dt.chartHeight,lt),dt.axes.forEach(function(bt){bt.isDirty=!0,bt.setScale()}),dt.isDirtyLegend=!0,dt.isDirtyBox=!0,dt.layOutTitles(),dt.getMargins(),dt.redraw(lt),dt.oldChartHeight=null,G(dt,"resize"),yt(function(){dt&&G(dt,"endResize",null,function(){--dt.isResizing})},y(lt).duration)},ct.prototype.setChartSize=function(H){var jt,Rt,Et,Ht,tt=this.inverted,lt=this.renderer,dt=this.chartWidth,ft=this.chartHeight,bt=this.options.chart,Tt=this.spacing,Lt=this.clipOffset;this.plotLeft=jt=Math.round(this.plotLeft),this.plotTop=Rt=Math.round(this.plotTop),this.plotWidth=Et=Math.max(0,Math.round(dt-jt-this.marginRight)),this.plotHeight=Ht=Math.max(0,Math.round(ft-Rt-this.marginBottom)),this.plotSizeX=tt?Ht:Et,this.plotSizeY=tt?Et:Ht,this.plotBorderWidth=bt.plotBorderWidth||0,this.spacingBox=lt.spacingBox={x:Tt[3],y:Tt[0],width:dt-Tt[3]-Tt[1],height:ft-Tt[0]-Tt[2]},this.plotBox=lt.plotBox={x:jt,y:Rt,width:Et,height:Ht},tt=2*Math.floor(this.plotBorderWidth/2),dt=Math.ceil(Math.max(tt,Lt[3])/2),ft=Math.ceil(Math.max(tt,Lt[0])/2),this.clipBox={x:dt,y:ft,width:Math.floor(this.plotSizeX-Math.max(tt,Lt[1])/2-dt),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(tt,Lt[2])/2-ft))},H||(this.axes.forEach(function(It){It.setAxisSize(),It.setAxisTranslation()}),lt.alignElements()),G(this,"afterSetChartSize",{skipAxes:H})},ct.prototype.resetMargins=function(){G(this,"resetMargins");var H=this,tt=H.options.chart;["margin","spacing"].forEach(function(lt){var dt=tt[lt],ft=R(dt)?dt:[dt,dt,dt,dt];["Top","Right","Bottom","Left"].forEach(function(bt,Tt){H[lt][Tt]=it(tt[lt+bt],ft[Tt])})}),m.forEach(function(lt,dt){H[lt]=it(H.margin[dt],H.spacing[dt])}),H.axisOffset=[0,0,0,0],H.clipOffset=[0,0,0,0]},ct.prototype.drawChartBox=function(){var pe,H=this.options.chart,tt=this.renderer,lt=this.chartWidth,dt=this.chartHeight,ft=this.styledMode,bt=this.plotBGImage,Tt=H.backgroundColor,Lt=H.plotBackgroundColor,jt=H.plotBackgroundImage,Rt=this.plotLeft,Et=this.plotTop,Ht=this.plotWidth,It=this.plotHeight,Pt=this.plotBox,kt=this.clipRect,Ut=this.clipBox,zt=this.chartBackground,Vt=this.plotBackground,ie=this.plotBorder,ne="animate";if(zt||(this.chartBackground=zt=tt.rect().addClass("highcharts-background").add(),ne="attr"),ft)var de=pe=zt.strokeWidth();else pe=(de=H.borderWidth||0)+(H.shadow?8:0),Tt={fill:Tt||"none"},(de||zt["stroke-width"])&&(Tt.stroke=H.borderColor,Tt["stroke-width"]=de),zt.attr(Tt).shadow(H.shadow);zt[ne]({x:pe/2,y:pe/2,width:lt-pe-de%2,height:dt-pe-de%2,r:H.borderRadius}),ne="animate",Vt||(ne="attr",this.plotBackground=Vt=tt.rect().addClass("highcharts-plot-background").add()),Vt[ne](Pt),ft||(Vt.attr({fill:Lt||"none"}).shadow(H.plotShadow),jt&&(bt?(jt!==bt.attr("href")&&bt.attr("href",jt),bt.animate(Pt)):this.plotBGImage=tt.image(jt,Rt,Et,Ht,It).add())),kt?kt.animate({width:Ut.width,height:Ut.height}):this.clipRect=tt.clipRect(Ut),ne="animate",ie||(ne="attr",this.plotBorder=ie=tt.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),ft||ie.attr({stroke:H.plotBorderColor,"stroke-width":H.plotBorderWidth||0,fill:"none"}),ie[ne](ie.crisp({x:Rt,y:Et,width:Ht,height:It},-ie.strokeWidth())),this.isDirtyBox=!1,G(this,"afterDrawChartBox")},ct.prototype.propFromSeries=function(){var dt,ft,bt,H=this,tt=H.options.chart,lt=H.options.series;["inverted","angular","polar"].forEach(function(Tt){for(ft=h[tt.type||tt.defaultSeriesType],bt=tt[Tt]||ft&&ft.prototype[Tt],dt=lt&&lt.length;!bt&&dt--;)(ft=h[lt[dt].type])&&ft.prototype[Tt]&&(bt=!0);H[Tt]=bt})},ct.prototype.linkSeries=function(){var H=this,tt=H.series;tt.forEach(function(lt){lt.linkedSeries.length=0}),tt.forEach(function(lt){var dt=lt.options.linkedTo;V(dt)&&(dt=":previous"===dt?H.series[lt.index-1]:H.get(dt))&&dt.linkedParent!==lt&&(dt.linkedSeries.push(lt),lt.linkedParent=dt,dt.enabledDataSorting&&lt.setDataSortingOptions(),lt.visible=it(lt.options.visible,dt.options.visible,lt.visible))}),G(this,"afterLinkSeries")},ct.prototype.renderSeries=function(){this.series.forEach(function(H){H.translate(),H.render()})},ct.prototype.renderLabels=function(){var H=this,tt=H.options.labels;tt.items&&tt.items.forEach(function(lt){var dt=E(tt.style,lt.style),ft=ot(dt.left)+H.plotLeft,bt=ot(dt.top)+H.plotTop+12;delete dt.left,delete dt.top,H.renderer.text(lt.html,ft,bt).attr({zIndex:2}).css(dt).add()})},ct.prototype.render=function(){var H=this.axes,tt=this.colorAxis,lt=this.renderer,dt=this.options,ft=function(Rt){Rt.forEach(function(Et){Et.visible&&Et.render()})},bt=0;this.setTitle(),this.legend=new K(this,dt.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),dt=this.plotWidth,H.some(function(Rt){if(Rt.horiz&&Rt.visible&&Rt.options.labels.enabled&&Rt.series.length)return bt=21,!0});var Tt=this.plotHeight=Math.max(this.plotHeight-bt,0);H.forEach(function(Rt){Rt.setScale()}),this.getAxisMargins();var Lt=1.1<dt/this.plotWidth,jt=1.05<Tt/this.plotHeight;(Lt||jt)&&(H.forEach(function(Rt){(Rt.horiz&&Lt||!Rt.horiz&&jt)&&Rt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?ft(H):tt&&tt.length&&ft(tt),this.seriesGroup||(this.seriesGroup=lt.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},ct.prototype.addCredits=function(H){var tt=this,lt=Z(!0,this.options.credits,H);lt.enabled&&!this.credits&&(this.credits=this.renderer.text(lt.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){lt.href&&(p.location.href=lt.href)}).attr({align:lt.position.align,zIndex:8}),tt.styledMode||this.credits.css(lt.style),this.credits.add().align(lt.position),this.credits.update=function(dt){tt.credits=tt.credits.destroy(),tt.addCredits(dt)})},ct.prototype.destroy=function(){var bt,H=this,tt=H.axes,lt=H.series,dt=H.container,ft=dt&&dt.parentNode;for(G(H,"destroy"),H.renderer.forExport?c(x,H):x[H.index]=void 0,J.chartCount--,H.renderTo.removeAttribute("data-highcharts-chart"),mt(H),bt=tt.length;bt--;)tt[bt]=tt[bt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),bt=lt.length;bt--;)lt[bt]=lt[bt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Tt){var Lt=H[Tt];Lt&&Lt.destroy&&(H[Tt]=Lt.destroy())}),dt&&(dt.innerHTML=_.emptyHTML,mt(dt),ft&&B(dt)),nt(H,function(Tt,Lt){delete H[Lt]})},ct.prototype.firstRender=function(){var H=this,tt=H.options;(!H.isReadyToRender||H.isReadyToRender())&&(H.getContainer(),H.resetMargins(),H.setChartSize(),H.propFromSeries(),H.getAxes(),(b(tt.series)?tt.series:[]).forEach(function(lt){H.initSeries(lt)}),H.linkSeries(),H.setSeriesData(),G(H,"beforeRender"),N&&(H.pointer=X.isRequired()?new X(H,tt):new N(H,tt)),H.render(),H.pointer.getChartPosition(),!H.renderer.imgCount&&!H.hasLoaded&&H.onload(),H.temporaryDisplay(!0))},ct.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(H){H&&void 0!==this.index&&H.apply(this,[this])},this),G(this,"load"),G(this,"render"),S(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},ct.prototype.addSeries=function(H,tt,lt){var ft,dt=this;return H&&(tt=it(tt,!0),G(dt,"addSeries",{options:H},function(){ft=dt.initSeries(H),dt.isDirtyLegend=!0,dt.linkSeries(),ft.enabledDataSorting&&ft.setData(H.data,!1),G(dt,"afterAddSeries",{series:ft}),tt&&dt.redraw(lt)})),ft},ct.prototype.addAxis=function(H,tt,lt,dt){return this.createAxis(tt?"xAxis":"yAxis",{axis:H,redraw:lt,animation:dt})},ct.prototype.addColorAxis=function(H,tt,lt){return this.createAxis("colorAxis",{axis:H,redraw:tt,animation:lt})},ct.prototype.createAxis=function(H,tt){return H=new $(this,Z(tt.axis,{index:this[H].length,isX:"xAxis"===H})),it(tt.redraw,!0)&&this.redraw(tt.animation),H},ct.prototype.showLoading=function(H){var tt=this,lt=tt.options,dt=lt.loading,ft=function(){bt&&L(bt,{left:tt.plotLeft+"px",top:tt.plotTop+"px",width:tt.plotWidth+"px",height:tt.plotHeight+"px"})},bt=tt.loadingDiv,Tt=tt.loadingSpan;bt||(tt.loadingDiv=bt=I("div",{className:"highcharts-loading highcharts-loading-hidden"},null,tt.container)),Tt||(tt.loadingSpan=Tt=I("span",{className:"highcharts-loading-inner"},null,bt),l(tt,"redraw",ft)),bt.className="highcharts-loading",_.setElementHTML(Tt,it(H,lt.lang.loading,"")),tt.styledMode||(L(bt,E(dt.style,{zIndex:10})),L(Tt,dt.labelStyle),tt.loadingShown||(L(bt,{opacity:0,display:""}),T(bt,{opacity:dt.style.opacity||.5},{duration:dt.showDuration||0}))),tt.loadingShown=!0,ft()},ct.prototype.hideLoading=function(){var H=this.options,tt=this.loadingDiv;tt&&(tt.className="highcharts-loading highcharts-loading-hidden",this.styledMode||T(tt,{opacity:0},{duration:H.loading.hideDuration||100,complete:function(){L(tt,{display:"none"})}})),this.loadingShown=!1},ct.prototype.update=function(H,tt,lt,dt){var jt,Rt,ft=this,bt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Tt=H.isResponsiveOptions,Lt=[];G(ft,"update",{options:H}),Tt||ft.setResponsive(!1,!0),H=P(H,ft.options),ft.userOptions=Z(ft.userOptions,H);var Et=H.chart;if(Et){if(Z(!0,ft.options.chart,Et),"className"in Et&&ft.setClassName(Et.className),"reflow"in Et&&ft.setReflow(Et.reflow),"inverted"in Et||"polar"in Et||"type"in Et){ft.propFromSeries();var Ht=!0}"alignTicks"in Et&&(Ht=!0),"events"in Et&&D(this,Et),nt(Et,function(It,Pt){-1!==ft.propsRequireUpdateSeries.indexOf("chart."+Pt)&&(jt=!0),-1!==ft.propsRequireDirtyBox.indexOf(Pt)&&(ft.isDirtyBox=!0),-1!==ft.propsRequireReflow.indexOf(Pt)&&(Tt?ft.isDirtyBox=!0:Rt=!0)}),!ft.styledMode&&Et.style&&ft.renderer.setStyle(ft.options.chart.style||{})}!ft.styledMode&&H.colors&&(this.options.colors=H.colors),H.time&&(this.time===n&&(this.time=new d(H.time)),Z(!0,ft.options.time,H.time)),nt(H,function(It,Pt){ft[Pt]&&"function"==typeof ft[Pt].update?ft[Pt].update(It,!1):"function"==typeof ft[bt[Pt]]?ft[bt[Pt]](It):"colors"!==Pt&&-1===ft.collectionsWithUpdate.indexOf(Pt)&&Z(!0,ft.options[Pt],H[Pt]),"chart"!==Pt&&-1!==ft.propsRequireUpdateSeries.indexOf(Pt)&&(jt=!0)}),this.collectionsWithUpdate.forEach(function(It){if(H[It]){var Pt=[];ft[It].forEach(function(kt,Ut){kt.options.isInternal||Pt.push(it(kt.options.index,Ut))}),_t(H[It]).forEach(function(kt,Ut){var Vt,zt=S(kt.id);zt&&(Vt=ft.get(kt.id)),!Vt&&ft[It]&&(Vt=ft[It][Pt?Pt[Ut]:Ut])&&zt&&S(Vt.options.id)&&(Vt=void 0),Vt&&Vt.coll===It&&(Vt.update(kt,!1),lt&&(Vt.touched=!0)),!Vt&&lt&&ft.collectionsWithInit[It]&&(ft.collectionsWithInit[It][0].apply(ft,[kt].concat(ft.collectionsWithInit[It][1]||[]).concat([!1])).touched=!0)}),lt&&ft[It].forEach(function(kt){kt.touched||kt.options.isInternal?delete kt.touched:Lt.push(kt)})}}),Lt.forEach(function(It){It.chart&&It.remove&&It.remove(!1)}),Ht&&ft.axes.forEach(function(It){It.update({},!1)}),jt&&ft.getSeriesOrderByLinks().forEach(function(It){It.chart&&It.update({},!1)},this),Ht=Et&&Et.width,Et=Et&&(V(Et.height)?at(Et.height,Ht||ft.chartWidth):Et.height),Rt||z(Ht)&&Ht!==ft.chartWidth||z(Et)&&Et!==ft.chartHeight?ft.setSize(Ht,Et,dt):it(tt,!0)&&ft.redraw(dt),G(ft,"afterUpdate",{options:H,redraw:tt,animation:dt})},ct.prototype.setSubtitle=function(H,tt){this.applyDescription("subtitle",H),this.layOutTitles(tt)},ct.prototype.setCaption=function(H,tt){this.applyDescription("caption",H),this.layOutTitles(tt)},ct.prototype.showResetZoom=function(){function H(){tt.zoomOut()}var tt=this,lt=a.lang,dt=tt.options.chart.resetZoomButton,ft=dt.theme,bt=ft.states,Tt="chart"===dt.relativeTo||"spacingBox"===dt.relativeTo?null:"scrollablePlotBox";G(this,"beforeShowResetZoom",null,function(){tt.resetZoomButton=tt.renderer.button(lt.resetZoom,null,null,H,ft,bt&&bt.hover).attr({align:dt.position.align,title:lt.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(dt.position,!1,Tt)}),G(this,"afterShowResetZoom")},ct.prototype.zoomOut=function(){G(this,"selection",{resetSelection:!0},this.zoom)},ct.prototype.zoom=function(H){var bt,tt=this,lt=tt.pointer,dt=tt.inverted?lt.mouseDownX:lt.mouseDownY,ft=!1;!H||H.resetSelection?(tt.axes.forEach(function(Lt){bt=Lt.zoom()}),lt.initiated=!1):H.xAxis.concat(H.yAxis).forEach(function(Lt){var jt=Lt.axis,Rt=tt.inverted?jt.left:jt.top,Ht=jt.isXAxis,It=!1;(!Ht&&dt>=Rt&&dt<=(tt.inverted?Rt+jt.width:Rt+jt.height)||Ht||!S(dt))&&(It=!0),lt[Ht?"zoomX":"zoomY"]&&It&&(bt=jt.zoom(Lt.min,Lt.max),jt.displayBtn&&(ft=!0))});var Tt=tt.resetZoomButton;ft&&!Tt?tt.showResetZoom():!ft&&R(Tt)&&(tt.resetZoomButton=Tt.destroy()),bt&&tt.redraw(it(tt.options.chart.animation,H&&H.animation,100>tt.pointCount))},ct.prototype.pan=function(H,tt){var lt=this,dt=lt.hoverPoints;tt="object"==typeof tt?tt:{enabled:tt,type:"x"};var ft=lt.options.chart,bt=lt.options.mapNavigation&&lt.options.mapNavigation.enabled;ft&&ft.panning&&(ft.panning=tt);var Lt,Tt=tt.type;G(this,"pan",{originalEvent:H},function(){dt&&dt.forEach(function(Et){Et.setState()});var jt=lt.xAxis;"xy"===Tt?jt=jt.concat(lt.yAxis):"y"===Tt&&(jt=lt.yAxis);var Rt={};jt.forEach(function(Et){if(Et.options.panningEnabled&&!Et.options.isInternal){var Ht=Et.horiz,It=H[Ht?"chartX":"chartY"],Pt=lt[Ht=Ht?"mouseDownX":"mouseDownY"],kt=Et.minPointOffset||0,Ut=Et.reversed&&!lt.inverted||!Et.reversed&&lt.inverted?-1:1,zt=Et.getExtremes(),Vt=Et.toValue(Pt-It,!0)+kt*Ut,ie=Et.toValue(Pt+Et.len-It,!0)-(kt*Ut||Et.isXAxis&&Et.pointRangePadding||0),pe=ie<Vt;Ut=Et.hasVerticalPanning(),Pt=pe?ie:Vt,Vt=pe?Vt:ie;var ne=Et.panningState;!Ut||Et.isXAxis||ne&&!ne.isDirty||Et.series.forEach(function(de){var Ae=de.getProcessedData(!0);Ae=de.getExtremes(Ae.yData,!0),ne||(ne={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),z(Ae.dataMin)&&z(Ae.dataMax)&&(ne.startMin=Math.min(it(de.options.threshold,1/0),Ae.dataMin,ne.startMin),ne.startMax=Math.max(it(de.options.threshold,-1/0),Ae.dataMax,ne.startMax))}),Ut=Math.min(it(ne&&ne.startMin,zt.dataMin),kt?zt.min:Et.toValue(Et.toPixels(zt.min)-Et.minPixelPadding)),ie=Math.max(it(ne&&ne.startMax,zt.dataMax),kt?zt.max:Et.toValue(Et.toPixels(zt.max)+Et.minPixelPadding)),Et.panningState=ne,Et.isOrdinal||(0<(kt=Ut-Pt)&&(Vt+=kt,Pt=Ut),0<(kt=Vt-ie)&&(Vt=ie,Pt-=kt),Et.series.length&&Pt!==zt.min&&Vt!==zt.max&&Pt>=Ut&&Vt<=ie&&(Et.setExtremes(Pt,Vt,!1,!1,{trigger:"pan"}),lt.resetZoomButton||bt||Pt===Ut||Vt===ie||!Tt.match("y")||(lt.showResetZoom(),Et.displayBtn=!1),Lt=!0),Rt[Ht]=It)}}),nt(Rt,function(Et,Ht){lt[Ht]=Et}),Lt&&lt.redraw(!1),L(lt.container,{cursor:"move"})})},ct}(),E(Y.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Y.prototype.addAxis,[!0]],yAxis:[Y.prototype.addAxis,[!1]],series:[Y.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),Y}),wt(o,"Core/Legend/LegendSymbol.js",[o["Core/Utilities.js"]],function(Y){var rt,J,$=Y.merge,q=Y.pick;return(J=rt||(rt={})).drawLineMarker=function(K){var X=this.options,F=K.symbolWidth,N=K.symbolHeight,O=N/2,k=this.chart.renderer,g=this.legendGroup;K=K.baseline-Math.round(.3*K.fontMetrics.b);var d={},v=X.marker;this.chart.styledMode||(d={"stroke-width":X.lineWidth||0},X.dashStyle&&(d.dashstyle=X.dashStyle)),this.legendLine=k.path([["M",0,K],["L",F,K]]).addClass("highcharts-graph").attr(d).add(g),v&&!1!==v.enabled&&F&&(X=Math.min(q(v.radius,O),O),0===this.symbol.indexOf("url")&&(v=$(v,{width:N,height:N}),X=0),this.legendSymbol=F=k.symbol(this.symbol,F/2-X,K-X,2*X,2*X,v).addClass("highcharts-point").add(g),F.isMarker=!0)},J.drawRectangle=function(K,X){var F=K.symbolHeight,N=K.options.squareSymbol;X.legendSymbol=this.chart.renderer.rect(N?(K.symbolWidth-F)/2:0,K.baseline-F+1,N?F:K.symbolWidth,F,q(K.options.symbolRadius,F/2)).addClass("highcharts-point").attr({zIndex:3}).add(X.legendGroup)},rt}),wt(o,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),wt(o,"Core/Series/Series.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/DefaultOptions.js"],o["Core/Foundation.js"],o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/Point.js"],o["Core/Series/SeriesDefaults.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N,O){var k=Y.animObject,g=Y.setAnimation,d=$.defaultOptions,v=q.registerEventOptions,_=rt.hasTouch,T=rt.svg,y=rt.win,C=F.seriesTypes,M=O.addEvent,D=O.arrayMax,x=O.arrayMin,f=O.clamp,m=O.cleanRecursively,r=O.correctFloat,p=O.defined,a=O.erase,n=O.error,h=O.extend,l=O.find,w=O.fireEvent,P=O.getNestedProperty,I=O.isArray,L=O.isNumber,S=O.isString,B=O.merge,c=O.objectEach,u=O.pick,E=O.removeEvent,j=O.splat,G=O.syncTimeout;return Y=function(){function W(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return W.prototype.init=function(b,z){w(this,"init",{options:z});var R=this,V=b.series;this.eventsToUnbind=[],R.chart=b,R.options=R.setOptions(z),z=R.options,R.linkedSeries=[],R.bindAxes(),h(R,{name:z.name,state:"",visible:!1!==z.visible,selected:!0===z.selected}),v(this,z);var nt,Z=z.events;(Z&&Z.click||z.point&&z.point.events&&z.point.events.click||z.allowPointSelect)&&(b.runTrackerClick=!0),R.getColor(),R.getSymbol(),R.parallelArrays.forEach(function(it){R[it+"Data"]||(R[it+"Data"]=[])}),R.isCartesian&&(b.hasCartesianSeries=!0),V.length&&(nt=V[V.length-1]),R._i=u(nt&&nt._i,-1)+1,R.opacity=R.options.opacity,b.orderSeries(this.insert(V)),z.dataSorting&&z.dataSorting.enabled?R.setDataSortingOptions():R.points||R.data||R.setData(z.data,!1),w(this,"afterInit")},W.prototype.is=function(b){return C[b]&&this instanceof C[b]},W.prototype.insert=function(b){var R,z=this.options.index;if(L(z)){for(R=b.length;R--;)if(z>=u(b[R].options.index,b[R]._i)){b.splice(R+1,0,this);break}-1===R&&b.unshift(this),R+=1}else b.push(this);return u(R,b.length-1)},W.prototype.bindAxes=function(){var V,b=this,z=b.options,R=b.chart;w(this,"bindAxes",null,function(){(b.axisTypes||[]).forEach(function(Z){var nt=0;R[Z].forEach(function(it){V=it.options,(z[Z]===nt&&!V.isInternal||void 0!==z[Z]&&z[Z]===V.id||void 0===z[Z]&&0===V.index)&&(b.insert(it.series),b[Z]=it,it.isDirty=!0),V.isInternal||nt++}),b[Z]||b.optionalAxis===Z||n(18,!0,R)})}),w(this,"afterBindAxes")},W.prototype.updateParallelArrays=function(b,z){var R=b.series,V=arguments,Z=L(z)?function(nt){var it="y"===nt&&R.toYData?R.toYData(b):b[nt];R[nt+"Data"][z]=it}:function(nt){Array.prototype[z].apply(R[nt+"Data"],Array.prototype.slice.call(V,2))};R.parallelArrays.forEach(Z)},W.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},W.prototype.autoIncrement=function(b){var it,z=this.options,R=z.pointIntervalUnit,V=z.relativeXValue,Z=this.chart.time,nt=this.xIncrement;return nt=u(nt,z.pointStart,0),this.pointInterval=it=u(this.pointInterval,z.pointInterval,1),V&&L(b)&&(it*=b),R&&(z=new Z.Date(nt),"day"===R?Z.set("Date",z,Z.get("Date",z)+it):"month"===R?Z.set("Month",z,Z.get("Month",z)+it):"year"===R&&Z.set("FullYear",z,Z.get("FullYear",z)+it),it=z.getTime()-nt),V&&L(b)?nt+it:(this.xIncrement=nt+it,nt)},W.prototype.setDataSortingOptions=function(){var b=this.options;h(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),p(b.pointRange)||(b.pointRange=1)},W.prototype.setOptions=function(b){var z=this.chart,R=z.options,V=R.plotOptions,Z=z.userOptions||{};b=B(b),z=z.styledMode;var nt={plotOptions:V,userOptions:b};w(this,"setOptions",nt);var it=nt.plotOptions[this.type],ot=Z.plotOptions||{};return this.userOptions=nt.userOptions,Z=B(it,V.series,Z.plotOptions&&Z.plotOptions[this.type],b),this.tooltipOptions=B(d.tooltip,d.plotOptions.series&&d.plotOptions.series.tooltip,d.plotOptions[this.type].tooltip,R.tooltip.userOptions,V.series&&V.series.tooltip,V[this.type].tooltip,b.tooltip),this.stickyTracking=u(b.stickyTracking,ot[this.type]&&ot[this.type].stickyTracking,ot.series&&ot.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||Z.stickyTracking),null===it.marker&&delete Z.marker,this.zoneAxis=Z.zoneAxis,V=this.zones=(Z.zones||[]).slice(),!Z.negativeColor&&!Z.negativeFillColor||Z.zones||(R={value:Z[this.zoneAxis+"Threshold"]||Z.threshold||0,className:"highcharts-negative"},z||(R.color=Z.negativeColor,R.fillColor=Z.negativeFillColor),V.push(R)),V.length&&p(V[V.length-1].value)&&V.push(z?{}:{color:this.color,fillColor:this.fillColor}),w(this,"afterSetOptions",{options:Z}),Z},W.prototype.getName=function(){return u(this.options.name,"Series "+(this.index+1))},W.prototype.getCyclic=function(b,z,R){var V=this.chart,Z=this.userOptions,nt=b+"Index",it=b+"Counter",ot=R?R.length:u(V.options.chart[b+"Count"],V[b+"Count"]);if(!z){var at=u(Z[nt],Z["_"+nt]);p(at)||(V.series.length||(V[it]=0),Z["_"+nt]=at=V[it]%ot,V[it]+=1),R&&(z=R[at])}void 0!==at&&(this[nt]=at),this[b]=z},W.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||d.plotOptions[this.type].color,this.chart.options.colors)},W.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},W.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},W.prototype.findPointIndex=function(b,z){var it,ot,R=b.id,V=b.x,Z=this.points,nt=this.options.dataSorting;if(R)(nt=this.chart.get(R))instanceof K&&(it=nt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(it=function(mt){return!mt.touched&&mt.index===b.index},nt&&nt.matchByName?it=function(mt){return!mt.touched&&mt.name===b.name}:this.options.relativeXValue&&(it=function(mt){return!mt.touched&&mt.options.x===b.x}),!(it=l(Z,it))))return;if(it){var at=it&&it.index;void 0!==at&&(ot=!0)}return void 0===at&&L(V)&&(at=this.xData.indexOf(V,z)),-1!==at&&void 0!==at&&this.cropped&&(at=at>=this.cropStart?at-this.cropStart:at),!ot&&L(at)&&Z[at]&&Z[at].touched&&(at=void 0),at},W.prototype.updateData=function(b,z){var at,mt,_t,R=this.options,V=R.dataSorting,Z=this.points,nt=[],it=this.requireSorting,ot=b.length===Z.length,yt=!0;if(this.xIncrement=null,b.forEach(function(ut,ct){var H=p(ut)&&this.pointClass.prototype.optionsToObject.call({series:this},ut)||{};H.id||L(H.x)?(-1===(H=this.findPointIndex(H,_t))||void 0===H?nt.push(ut):Z[H]&&ut!==R.data[H]?(Z[H].update(ut,!1,null,!1),Z[H].touched=!0,it&&(_t=H+1)):Z[H]&&(Z[H].touched=!0),(!ot||ct!==H||V&&V.enabled||this.hasDerivedData)&&(at=!0)):nt.push(ut)},this),at)for(b=Z.length;b--;)(mt=Z[b])&&!mt.touched&&mt.remove&&mt.remove(!1,z);else!ot||V&&V.enabled?yt=!1:(b.forEach(function(ut,ct){ut!==Z[ct].y&&Z[ct].update&&Z[ct].update(ut,!1,null,!1)}),nt.length=0);return Z.forEach(function(ut){ut&&(ut.touched=!1)}),!!yt&&(nt.forEach(function(ut){this.addPoint(ut,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=D(this.xData),this.autoIncrement()),!0)},W.prototype.setData=function(b,z,R,V){var Z=this,nt=Z.points,it=nt&&nt.length||0,ot=Z.options,at=Z.chart,mt=ot.dataSorting,_t=Z.xAxis,yt=ot.turboThreshold,ut=this.xData,ct=this.yData,H=Z.pointArrayMap;H=H&&H.length;var lt,tt=ot.keys,dt=0,ft=1,bt=null,Tt=(b=b||[]).length;if(z=u(z,!0),mt&&mt.enabled&&(b=this.sortData(b)),!1!==V&&Tt&&it&&!Z.cropped&&!Z.hasGroupedData&&Z.visible&&!Z.isSeriesBoosting&&(lt=this.updateData(b,R)),!lt){if(Z.xIncrement=null,Z.colorCounter=0,this.parallelArrays.forEach(function(Lt){Z[Lt+"Data"].length=0}),yt&&Tt>yt)if(bt=Z.getFirstValidPoint(b),L(bt))for(R=0;R<Tt;R++)ut[R]=this.autoIncrement(),ct[R]=b[R];else if(I(bt))if(H)if(bt.length===H)for(R=0;R<Tt;R++)ut[R]=this.autoIncrement(),ct[R]=b[R];else for(R=0;R<Tt;R++)ut[R]=(V=b[R])[0],ct[R]=V.slice(1,H+1);else if(tt&&(dt=0<=(dt=tt.indexOf("x"))?dt:0,ft=0<=(ft=tt.indexOf("y"))?ft:1),1===bt.length&&(ft=0),dt===ft)for(R=0;R<Tt;R++)ut[R]=this.autoIncrement(),ct[R]=b[R][ft];else for(R=0;R<Tt;R++)ut[R]=(V=b[R])[dt],ct[R]=V[ft];else n(12,!1,at);else for(R=0;R<Tt;R++)void 0!==b[R]&&(Z.pointClass.prototype.applyOptions.apply(V={series:Z},[b[R]]),Z.updateParallelArrays(V,R));for(ct&&S(ct[0])&&n(14,!0,at),Z.data=[],Z.options.data=Z.userOptions.data=b,R=it;R--;)nt[R]&&nt[R].destroy&&nt[R].destroy();_t&&(_t.minRange=_t.userMinRange),Z.isDirty=at.isDirtyBox=!0,Z.isDirtyData=!!nt,R=!1}"point"===ot.legendType&&(this.processData(),this.generatePoints()),z&&at.redraw(R)},W.prototype.sortData=function(b){var z=this,R=z.options.dataSorting.sortKey||"y",V=function(Z,nt){return p(nt)&&Z.pointClass.prototype.optionsToObject.call({series:Z},nt)||{}};return b.forEach(function(Z,nt){b[nt]=V(z,Z),b[nt].index=nt},this),b.concat().sort(function(Z,nt){return Z=P(R,Z),(nt=P(R,nt))<Z?-1:nt>Z?1:0}).forEach(function(Z,nt){Z.x=nt},this),z.linkedSeries&&z.linkedSeries.forEach(function(Z){var nt=Z.options,it=nt.data;nt.dataSorting&&nt.dataSorting.enabled||!it||(it.forEach(function(ot,at){it[at]=V(Z,ot),b[at]&&(it[at].x=b[at].x,it[at].index=at)}),Z.setData(it,!1))}),b},W.prototype.getProcessedData=function(b){var z=this.xAxis,R=this.options,V=R.cropThreshold,Z=b||this.getExtremesFromAll||R.getExtremesFromAll,nt=this.isCartesian;b=z&&z.val2lin,R=!(!z||!z.logarithmic);var it=0,ot=this.xData,at=this.yData,mt=this.requireSorting,_t=!1,yt=ot.length;if(z){var ut=(_t=z.getExtremes()).min,ct=_t.max;_t=z.categories&&!z.names.length}if(nt&&this.sorted&&!Z&&(!V||yt>V||this.forceCrop))if(ot[yt-1]<ut||ot[0]>ct)ot=[],at=[];else if(this.yData&&(ot[0]<ut||ot[yt-1]>ct)){var H=this.cropData(this.xData,this.yData,ut,ct);ot=H.xData,at=H.yData,it=H.start,H=!0}for(V=ot.length||1;--V;)if(0<(z=R?b(ot[V])-b(ot[V-1]):ot[V]-ot[V-1])&&(void 0===tt||z<tt))var tt=z;else 0>z&&mt&&!_t&&(n(15,!1,this.chart),mt=!1);return{xData:ot,yData:at,cropped:H,cropStart:it,closestPointRange:tt}},W.prototype.processData=function(b){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!b)return!1;b=this.getProcessedData(),this.cropped=b.cropped,this.cropStart=b.cropStart,this.processedXData=b.xData,this.processedYData=b.yData,this.closestPointRange=this.basePointRange=b.closestPointRange,w(this,"afterProcessData")},W.prototype.cropData=function(b,z,R,V,Z){var it,nt=b.length,ot=0,at=nt;for(Z=u(Z,this.cropShoulder),it=0;it<nt;it++)if(b[it]>=R){ot=Math.max(0,it-Z);break}for(R=it;R<nt;R++)if(b[R]>V){at=R+Z;break}return{xData:b.slice(ot,at),yData:z.slice(ot,at),start:ot,end:at}},W.prototype.generatePoints=function(){var b=this.options,z=b.data,R=this.processedXData,V=this.processedYData,Z=this.pointClass,nt=R.length,it=this.cropStart||0,ot=this.hasGroupedData,at=b.keys,mt=[];b=b.dataGrouping&&b.dataGrouping.groupAll?it:0;var _t,yt,ut=this.data;if(!ut&&!ot){var ct=[];ct.length=z.length,ut=this.data=ct}for(at&&ot&&(this.options.keys=!1),yt=0;yt<nt;yt++){if(ct=it+yt,ot){var H=(new Z).init(this,[R[yt]].concat(j(V[yt])));H.dataGroup=this.groupMap[b+yt],H.dataGroup.options&&(H.options=H.dataGroup.options,h(H,H.dataGroup.options),delete H.dataLabels)}else(H=ut[ct])||void 0===z[ct]||(ut[ct]=H=(new Z).init(this,z[ct],R[yt]));H&&(H.index=ot?b+yt:ct,mt[yt]=H)}if(this.options.keys=at,ut&&(nt!==(_t=ut.length)||ot))for(yt=0;yt<_t;yt++)yt!==it||ot||(yt+=nt),ut[yt]&&(ut[yt].destroyElements(),ut[yt].plotX=void 0);this.data=ut,this.points=mt,w(this,"afterGeneratePoints")},W.prototype.getXExtremes=function(b){return{min:x(b),max:D(b)}},W.prototype.getExtremes=function(b,z){var R=this.xAxis,V=this.yAxis,Z=this.processedXData||this.xData,nt=[],it=this.requireSorting?this.cropShoulder:0;V=!!V&&V.positiveValuesOnly;var ot,at=0,mt=0,_t=0,yt=(b=b||this.stackedYData||this.processedYData||[]).length;if(R){var ut=R.getExtremes();at=ut.min,mt=ut.max}for(ot=0;ot<yt;ot++){var ct=Z[ot],H=(L(ut=b[ot])||I(ut))&&(ut.length||0<ut||!V);if(ct=z||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!R||(Z[ot+it]||ct)>=at&&(Z[ot-it]||ct)<=mt,H&&ct)if(H=ut.length)for(;H--;)L(ut[H])&&(nt[_t++]=ut[H]);else nt[_t++]=ut}return b={activeYData:nt,dataMin:x(nt),dataMax:D(nt)},w(this,"afterGetExtremes",{dataExtremes:b}),b},W.prototype.applyExtremes=function(){var b=this.getExtremes();return this.dataMin=b.dataMin,this.dataMax=b.dataMax,b},W.prototype.getFirstValidPoint=function(b){for(var z=b.length,R=0,V=null;null===V&&R<z;)V=b[R],R++;return V},W.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var ct,H,b=this.options,z=b.stacking,R=this.xAxis,V=R.categories,Z=this.enabledDataSorting,nt=this.yAxis,it=this.points,ot=it.length,at=this.pointPlacementToXValue(),mt=!!at,_t=b.threshold,yt=b.startFromThreshold?_t:0,ut=this.zoneAxis||"y",tt=Number.MAX_VALUE;for(ct=0;ct<ot;ct++){var lt=it[ct],dt=lt.x,ft=void 0,bt=void 0,Tt=lt.y,Lt=lt.low,jt=z&&nt.stacking&&nt.stacking.stacks[(this.negStacks&&Tt<(yt?0:_t)?"-":"")+this.stackKey];if((nt.positiveValuesOnly&&!nt.validatePositiveValue(Tt)||R.positiveValuesOnly&&!R.validatePositiveValue(dt))&&(lt.isNull=!0),lt.plotX=H=r(f(R.translate(dt,0,0,0,1,at,"flags"===this.type),-1e5,1e5)),z&&this.visible&&jt&&jt[dt]){var Rt=this.getStackIndicator(Rt,dt,this.index);lt.isNull||(bt=(ft=jt[dt]).points[Rt.key])}if(I(bt)&&(Tt=bt[1],(Lt=bt[0])===yt&&Rt.key===jt[dt].base&&(Lt=u(L(_t)&&_t,nt.min)),nt.positiveValuesOnly&&0>=Lt&&(Lt=null),lt.total=lt.stackTotal=ft.total,lt.percentage=ft.total&&lt.y/ft.total*100,lt.stackY=Tt,this.irregularWidths||ft.setOffset(this.pointXOffset||0,this.barW||0)),lt.yBottom=p(Lt)?f(nt.translate(Lt,0,1,0,1),-1e5,1e5):null,this.dataModify&&(Tt=this.dataModify.modifyValue(Tt,ct)),lt.plotY=void 0,L(Tt)&&void 0!==(ft=nt.translate(Tt,!1,!0,!1,!0))&&(lt.plotY=f(ft,-1e5,1e5)),lt.isInside=this.isPointInside(lt),lt.clientX=mt?r(R.translate(dt,0,0,0,1,at)):H,lt.negative=lt[ut]<(b[ut+"Threshold"]||_t||0),lt.category=V&&void 0!==V[lt.x]?V[lt.x]:lt.x,!lt.isNull&&!1!==lt.visible){void 0!==Et&&(tt=Math.min(tt,Math.abs(H-Et)));var Et=H}lt.zone=this.zones.length?lt.getZone():void 0,!lt.graphic&&this.group&&Z&&(lt.isNew=!0)}this.closestPointRangePx=tt,w(this,"afterTranslate")},W.prototype.getValidPoints=function(b,z,R){var V=this.chart;return(b||this.points||[]).filter(function(Z){return!(z&&!V.isInsidePlot(Z.plotX,Z.plotY,{inverted:V.inverted}))&&!1!==Z.visible&&(R||!Z.isNull)})},W.prototype.getClipBox=function(){var b=this.chart,z=this.xAxis,R=this.yAxis,V=B(b.clipBox);return z&&z.len!==b.plotSizeX&&(V.width=z.len),R&&R.len!==b.plotSizeY&&(V.height=R.len),V},W.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},W.prototype.setClip=function(){var b=this.chart,z=this.group,R=this.markerGroup,V=b.sharedClips;b=b.renderer;var Z=this.getClipBox(),nt=this.getSharedClipKey(),it=V[nt];it?it.animate(Z):V[nt]=it=b.clipRect(Z),z&&z.clip(!1===this.options.clip?void 0:it),R&&R.clip()},W.prototype.animate=function(b){var z=this.chart,R=this.group,V=this.markerGroup,Z=z.inverted,nt=k(this.options.animation),it=[this.getSharedClipKey(),nt.duration,nt.easing,nt.defer].join(),ot=z.sharedClips[it],at=z.sharedClips[it+"m"];if(b&&R)nt=this.getClipBox(),ot?ot.attr("height",nt.height):(nt.width=0,Z&&(nt.x=z.plotHeight),ot=z.renderer.clipRect(nt),z.sharedClips[it]=ot,at=z.renderer.clipRect({x:Z?(z.plotSizeX||0)+99:-99,y:Z?-z.plotLeft:-z.plotTop,width:99,height:Z?z.chartWidth:z.chartHeight}),z.sharedClips[it+"m"]=at),R.clip(ot),V&&V.clip(at);else if(ot&&!ot.hasClass("highcharts-animating")){z=this.getClipBox();var mt=nt.step;V&&V.element.childNodes.length&&(nt.step=function(_t,yt){mt&&mt.apply(yt,arguments),at&&at.element&&at.attr(yt.prop,"width"===yt.prop?_t+99:_t)}),ot.addClass("highcharts-animating").animate(z,nt)}},W.prototype.afterAnimate=function(){var b=this;this.setClip(),c(this.chart.sharedClips,function(z,R,V){z&&!b.chart.container.querySelector('[clip-path="url(#'+z.id+')"]')&&(z.destroy(),delete V[R])}),this.finishedAnimating=!0,w(this,"afterAnimate")},W.prototype.drawPoints=function(){var it,ot,b=this.points,z=this.chart,R=this.options.marker,V=this[this.specialGroup]||this.markerGroup,Z=this.xAxis,nt=u(R.enabled,!(Z&&!Z.isRadial)||null,this.closestPointRangePx>=R.enabledThreshold*R.radius);if(!1!==R.enabled||this._hasPointMarkers)for(it=0;it<b.length;it++){var at=b[it],mt=(ot=at.graphic)?"animate":"attr",_t=at.marker||{},yt=!!at.marker;if((nt&&void 0===_t.enabled||_t.enabled)&&!at.isNull&&!1!==at.visible){var ut=u(_t.symbol,this.symbol,"rect"),ct=this.markerAttribs(at,at.selected&&"select");this.enabledDataSorting&&(at.startXPos=Z.reversed?-(ct.width||0):Z.width);var H=!1!==at.isInside;ot?ot[H?"show":"hide"](H).animate(ct):H&&(0<(ct.width||0)||at.hasImage)&&(at.graphic=ot=z.renderer.symbol(ut,ct.x,ct.y,ct.width,ct.height,yt?_t:R).add(V),this.enabledDataSorting&&z.hasRendered&&(ot.attr({x:at.startXPos}),mt="animate")),ot&&"animate"===mt&&ot[H?"show":"hide"](H).animate(ct),ot&&!z.styledMode&&ot[mt](this.pointAttribs(at,at.selected&&"select")),ot&&ot.addClass(at.getClassName(),!0)}else ot&&(at.graphic=ot.destroy())}},W.prototype.markerAttribs=function(b,z){var R=this.options,V=R.marker,Z=b.marker||{},nt=Z.symbol||V.symbol,it=u(Z.radius,V.radius);return z&&(V=V.states[z],it=u((z=Z.states&&Z.states[z])&&z.radius,V&&V.radius,it+(V&&V.radiusPlus||0))),b.hasImage=nt&&0===nt.indexOf("url"),b.hasImage&&(it=0),b={x:R.crisp?Math.floor(b.plotX-it):b.plotX-it,y:b.plotY-it},it&&(b.width=b.height=2*it),b},W.prototype.pointAttribs=function(b,z){var R=this.options.marker,V=b&&b.options,Z=V&&V.marker||{},nt=V&&V.color,it=b&&b.color,ot=b&&b.zone&&b.zone.color,at=this.color;return b=u(Z.lineWidth,R.lineWidth),V=1,at=nt||ot||it||at,nt=Z.fillColor||R.fillColor||at,it=Z.lineColor||R.lineColor||at,R=R.states[z=z||"normal"]||{},b=u((z=Z.states&&Z.states[z]||{}).lineWidth,R.lineWidth,b+u(z.lineWidthPlus,R.lineWidthPlus,0)),{stroke:it=z.lineColor||R.lineColor||it,"stroke-width":b,fill:nt=z.fillColor||R.fillColor||nt,opacity:V=u(z.opacity,R.opacity,V)}},W.prototype.destroy=function(b){var it,ot,at,z=this,R=z.chart,V=/AppleWebKit\/533/.test(y.navigator.userAgent),Z=z.data||[];for(w(z,"destroy"),this.removeEvents(b),(z.axisTypes||[]).forEach(function(mt){(at=z[mt])&&at.series&&(a(at.series,z),at.isDirty=at.forceRedraw=!0)}),z.legendItem&&z.chart.legend.destroyItem(z),it=Z.length;it--;)(ot=Z[it])&&ot.destroy&&ot.destroy();z.clips&&z.clips.forEach(function(mt){return mt.destroy()}),O.clearTimeout(z.animationTimeout),c(z,function(mt,_t){mt instanceof N&&!mt.survive&&mt[V&&"group"===_t?"hide":"destroy"]()}),R.hoverSeries===z&&(R.hoverSeries=void 0),a(R.series,z),R.orderSeries(),c(z,function(mt,_t){b&&"hcEvents"===_t||delete z[_t]})},W.prototype.applyZones=function(){var _t,yt,ut,ct,H,tt,lt,dt,b=this,z=this.chart,R=z.renderer,V=this.zones,Z=this.clips||[],nt=this.graph,it=this.area,ot=Math.max(z.chartWidth,z.chartHeight),at=this[(this.zoneAxis||"y")+"Axis"],mt=z.inverted,ft=!1;if(V.length&&(nt||it)&&at&&void 0!==at.min){var bt=at.reversed,Tt=at.horiz;nt&&!this.showLine&&nt.hide(),it&&it.hide();var Lt=at.getExtremes();V.forEach(function(jt,Rt){_t=bt?Tt?z.plotWidth:0:Tt?0:at.toPixels(Lt.min)||0,_t=f(u(yt,_t),0,ot),yt=f(Math.round(at.toPixels(u(jt.value,Lt.max),!0)||0),0,ot),ft&&(_t=yt=at.toPixels(Lt.max)),ct=Math.abs(_t-yt),H=Math.min(_t,yt),tt=Math.max(_t,yt),at.isXAxis?(ut={x:mt?tt:H,y:0,width:ct,height:ot},Tt||(ut.x=z.plotHeight-ut.x)):(ut={x:0,y:mt?tt:H,width:ot,height:ct},Tt&&(ut.y=z.plotWidth-ut.y)),mt&&R.isVML&&(ut=at.isXAxis?{x:0,y:bt?H:tt,height:ut.width,width:z.chartWidth}:{x:ut.y-z.plotLeft-z.spacingBox.x,y:0,width:ut.height,height:z.chartHeight}),Z[Rt]?Z[Rt].animate(ut):Z[Rt]=R.clipRect(ut),lt=b["zone-area-"+Rt],dt=b["zone-graph-"+Rt],nt&&dt&&dt.clip(Z[Rt]),it&&lt&&lt.clip(Z[Rt]),ft=jt.value>Lt.max,b.resetZones&&0===yt&&(yt=void 0)}),this.clips=Z}else b.visible&&(nt&&nt.show(!0),it&&it.show(!0))},W.prototype.invertGroups=function(b){function z(){["group","markerGroup"].forEach(function(Z){R[Z]&&(V.renderer.isVML&&R[Z].attr({width:R.yAxis.len,height:R.xAxis.len}),R[Z].width=R.yAxis.len,R[Z].height=R.xAxis.len,R[Z].invert(!R.isRadialSeries&&b))})}var R=this,V=R.chart;R.xAxis&&(R.eventsToUnbind.push(M(V,"resize",z)),z(),R.invertGroups=z)},W.prototype.plotGroup=function(b,z,R,V,Z){var nt=this[b],it=!nt;return R={visibility:R,zIndex:V||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(R.opacity=this.opacity),it&&(this[b]=nt=this.chart.renderer.g().add(Z)),nt.addClass("highcharts-"+z+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(p(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(nt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),nt.attr(R)[it?"attr":"animate"](this.getPlotBox()),nt},W.prototype.getPlotBox=function(){var b=this.chart,z=this.xAxis,R=this.yAxis;return b.inverted&&(z=R,R=this.xAxis),{translateX:z?z.left:b.plotLeft,translateY:R?R.top:b.plotTop,scaleX:1,scaleY:1}},W.prototype.removeEvents=function(b){b||E(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(z){z()}),this.eventsToUnbind.length=0)},W.prototype.render=function(){var b=this,z=b.chart,R=b.options,V=k(R.animation),Z=b.visible?"inherit":"hidden",nt=R.zIndex,it=b.hasRendered,ot=z.seriesGroup,at=z.inverted;z=!b.finishedAnimating&&z.renderer.isSVG?V.duration:0,w(this,"render");var mt=b.plotGroup("group","series",Z,nt,ot);b.markerGroup=b.plotGroup("markerGroup","markers",Z,nt,ot),!1!==R.clip&&b.setClip(),b.animate&&z&&b.animate(!0),mt.inverted=!!u(b.invertible,b.isCartesian)&&at,b.drawGraph&&(b.drawGraph(),b.applyZones()),b.visible&&b.drawPoints(),b.drawDataLabels&&b.drawDataLabels(),b.redrawPoints&&b.redrawPoints(),b.drawTracker&&!1!==b.options.enableMouseTracking&&b.drawTracker(),b.invertGroups(at),b.animate&&z&&b.animate(),it||(z&&V.defer&&(z+=V.defer),b.animationTimeout=G(function(){b.afterAnimate()},z||0)),b.isDirty=!1,b.hasRendered=!0,w(b,"afterRender")},W.prototype.redraw=function(){var b=this.chart,z=this.isDirty||this.isDirtyData,R=this.group,V=this.xAxis,Z=this.yAxis;R&&(b.inverted&&R.attr({width:b.plotWidth,height:b.plotHeight}),R.animate({translateX:u(V&&V.left,b.plotLeft),translateY:u(Z&&Z.top,b.plotTop)})),this.translate(),this.render(),z&&delete this.kdTree},W.prototype.searchPoint=function(b,z){var R=this.xAxis,V=this.yAxis,Z=this.chart.inverted;return this.searchKDTree({clientX:Z?R.len-b.chartY+R.pos:b.chartX-R.pos,plotY:Z?V.len-b.chartX+V.pos:b.chartY-V.pos},z,b)},W.prototype.buildKDTree=function(b){function z(Z,nt,it){var ot=Z&&Z.length;if(ot){var at=R.kdAxisArray[nt%it];return Z.sort(function(mt,_t){return mt[at]-_t[at]}),{point:Z[ot=Math.floor(ot/2)],left:z(Z.slice(0,ot),nt+1,it),right:z(Z.slice(ot+1),nt+1,it)}}}this.buildingKdTree=!0;var R=this,V=-1<R.options.findNearestPointBy.indexOf("y")?2:1;delete R.kdTree,G(function(){R.kdTree=z(R.getValidPoints(null,!R.directTouch),V,V),R.buildingKdTree=!1},R.options.kdNow||b&&"touchstart"===b.type?0:1)},W.prototype.searchKDTree=function(b,z,R){var Z=this,nt=this.kdAxisArray[0],it=this.kdAxisArray[1],ot=z?"distX":"dist";if(z=-1<Z.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(R),this.kdTree)return function V(at,mt,_t,yt){var ut=mt.point,ct=Z.kdAxisArray[_t%yt],H=ut,tt=p(at[nt])&&p(ut[nt])?Math.pow(at[nt]-ut[nt],2):null,lt=p(at[it])&&p(ut[it])?Math.pow(at[it]-ut[it],2):null;return ut.dist=p(lt=(tt||0)+(lt||0))?Math.sqrt(lt):Number.MAX_VALUE,ut.distX=p(tt)?Math.sqrt(tt):Number.MAX_VALUE,tt=0>(ct=at[ct]-ut[ct])?"right":"left",mt[lt=0>ct?"left":"right"]&&(H=(lt=V(at,mt[lt],_t+1,yt))[ot]<H[ot]?lt:ut),mt[tt]&&Math.sqrt(ct*ct)<H[ot]&&(H=(at=V(at,mt[tt],_t+1,yt))[ot]<H[ot]?at:H),H}(b,this.kdTree,z,z)},W.prototype.pointPlacementToXValue=function(){var b=this.options,z=b.pointRange,R=this.xAxis;return"between"===(b=b.pointPlacement)&&(b=R.reversed?-.5:.5),L(b)?b*(z||R.pointRange):0},W.prototype.isPointInside=function(b){var z=this.chart,R=this.xAxis,V=this.yAxis;return void 0!==b.plotY&&void 0!==b.plotX&&0<=b.plotY&&b.plotY<=(V?V.len:z.plotHeight)&&0<=b.plotX&&b.plotX<=(R?R.len:z.plotWidth)},W.prototype.drawTracker=function(){var b=this,z=b.options,R=z.trackByArea,V=[].concat(R?b.areaPath:b.graphPath),Z=b.chart,nt=Z.pointer,it=Z.renderer,ot=Z.options.tooltip.snap,at=b.tracker,mt=function(yt){Z.hoverSeries!==b&&b.onMouseOver()},_t="rgba(192,192,192,"+(T?1e-4:.002)+")";at?at.attr({d:V}):b.graph&&(b.tracker=it.path(V).attr({visibility:b.visible?"visible":"hidden",zIndex:2}).addClass(R?"highcharts-tracker-area":"highcharts-tracker-line").add(b.group),Z.styledMode||b.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:_t,fill:R?_t:"none","stroke-width":b.graph.strokeWidth()+(R?0:2*ot)}),[b.tracker,b.markerGroup,b.dataLabelsGroup].forEach(function(yt){yt&&(yt.addClass("highcharts-tracker").on("mouseover",mt).on("mouseout",function(ut){nt.onTrackerMouseOut(ut)}),z.cursor&&!Z.styledMode&&yt.css({cursor:z.cursor}),_)&&yt.on("touchstart",mt)})),w(this,"afterDrawTracker")},W.prototype.addPoint=function(b,z,R,V,Z){var nt=this.options,it=this.data,ot=this.chart,at=this.xAxis;at=at&&at.hasNames&&at.names;var yt,mt=nt.data,_t=this.xData;z=u(z,!0);var ut={series:this};this.pointClass.prototype.applyOptions.apply(ut,[b]);var ct=ut.x,H=_t.length;if(this.requireSorting&&ct<_t[H-1])for(yt=!0;H&&_t[H-1]>ct;)H--;this.updateParallelArrays(ut,"splice",H,0,0),this.updateParallelArrays(ut,H),at&&ut.name&&(at[ct]=ut.name),mt.splice(H,0,b),yt&&(this.data.splice(H,0,null),this.processData()),"point"===nt.legendType&&this.generatePoints(),R&&(it[0]&&it[0].remove?it[0].remove(!1):(it.shift(),this.updateParallelArrays(ut,"shift"),mt.shift())),!1!==Z&&w(this,"addPoint",{point:ut}),this.isDirtyData=this.isDirty=!0,z&&ot.redraw(V)},W.prototype.removePoint=function(b,z,R){var V=this,Z=V.data,nt=Z[b],it=V.points,ot=V.chart,at=function(){it&&it.length===Z.length&&it.splice(b,1),Z.splice(b,1),V.options.data.splice(b,1),V.updateParallelArrays(nt||{series:V},"splice",b,1),nt&&nt.destroy(),V.isDirty=!0,V.isDirtyData=!0,z&&ot.redraw()};g(R,ot),z=u(z,!0),nt?nt.firePointEvent("remove",null,at):at()},W.prototype.remove=function(b,z,R,V){function Z(){nt.destroy(V),it.isDirtyLegend=it.isDirtyBox=!0,it.linkSeries(),u(b,!0)&&it.redraw(z)}var nt=this,it=nt.chart;!1!==R?w(nt,"remove",null,Z):Z()},W.prototype.update=function(b,z){b=m(b,this.userOptions),w(this,"update",{options:b});var _t,R=this,V=R.chart,Z=R.userOptions,nt=R.initialType||R.type,it=V.options.plotOptions,ot=C[nt].prototype,at=R.finishedAnimating&&{animation:!1},mt={},yt=["eventOptions","navigatorSeries","baseSeries"],ut=b.type||Z.type||V.options.chart.type,ct=!(this.hasDerivedData||ut&&ut!==this.type||void 0!==b.pointStart||void 0!==b.pointInterval||void 0!==b.relativeXValue||R.hasOptionChanged("dataGrouping")||R.hasOptionChanged("pointStart")||R.hasOptionChanged("pointInterval")||R.hasOptionChanged("pointIntervalUnit")||R.hasOptionChanged("keys"));if(ut=ut||nt,ct&&(yt.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==b.visible&&yt.push("area","graph"),R.parallelArrays.forEach(function(tt){yt.push(tt+"Data")}),b.data&&(b.dataSorting&&h(R.options.dataSorting,b.dataSorting),this.setData(b.data,!1))),b=B(Z,at,{index:void 0===Z.index?R.index:Z.index,pointStart:u(it&&it.series&&it.series.pointStart,Z.pointStart,R.xData[0])},!ct&&{data:R.options.data},b),ct&&b.data&&(b.data=R.options.data),(yt=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(yt)).forEach(function(tt){yt[tt]=R[tt],delete R[tt]}),it=!1,C[ut]){if(it=ut!==R.type,R.remove(!1,!1,!1,!0),it)if(Object.setPrototypeOf)Object.setPrototypeOf(R,C[ut].prototype);else{for(_t in at=Object.hasOwnProperty.call(R,"hcEvents")&&R.hcEvents,ot)R[_t]=void 0;h(R,C[ut].prototype),at?R.hcEvents=at:delete R.hcEvents}}else n(17,!0,V,{missingModuleFor:ut});if(yt.forEach(function(tt){R[tt]=yt[tt]}),R.init(V,b),ct&&this.points){var H=R.options;!1===H.visible?(mt.graphic=1,mt.dataLabel=1):R._hasPointLabels||(ot=H.dataLabels,!(b=H.marker)||!1!==b.enabled&&(Z.marker&&Z.marker.symbol)===b.symbol||(mt.graphic=1),ot&&!1===ot.enabled&&(mt.dataLabel=1)),this.points.forEach(function(tt){tt&&tt.series&&(tt.resolveColor(),Object.keys(mt).length&&tt.destroyElements(mt),!1===H.showInLegend&&tt.legendItem&&V.legend.destroyItem(tt))},this)}R.initialType=nt,V.linkSeries(),it&&R.linkedSeries.length&&(R.isDirtyData=!0),w(this,"afterUpdate"),u(z,!0)&&V.redraw(!!ct&&void 0)},W.prototype.setName=function(b){this.name=this.options.name=this.userOptions.name=b,this.chart.isDirtyLegend=!0},W.prototype.hasOptionChanged=function(b){var z=this.options[b],R=this.chart.options.plotOptions,V=this.userOptions[b];return V?z!==V:z!==u(R&&R[this.type]&&R[this.type][b],R&&R.series&&R.series[b],z)},W.prototype.onMouseOver=function(){var b=this.chart,z=b.hoverSeries;b.pointer.setHoverChartIndex(),z&&z!==this&&z.onMouseOut(),this.options.events.mouseOver&&w(this,"mouseOver"),this.setState("hover"),b.hoverSeries=this},W.prototype.onMouseOut=function(){var b=this.options,z=this.chart,R=z.tooltip,V=z.hoverPoint;z.hoverSeries=null,V&&V.onMouseOut(),this&&b.events.mouseOut&&w(this,"mouseOut"),!R||this.stickyTracking||R.shared&&!this.noSharedTooltip||R.hide(),z.series.forEach(function(Z){Z.setState("",!0)})},W.prototype.setState=function(b,z){var R=this,V=R.options,Z=R.graph,nt=V.inactiveOtherPoints,it=V.states,ot=u(it[b||"normal"]&&it[b||"normal"].animation,R.chart.options.chart.animation),at=V.lineWidth,mt=0,_t=V.opacity;if(R.state!==(b=b||"")&&([R.group,R.markerGroup,R.dataLabelsGroup].forEach(function(yt){yt&&(R.state&&yt.removeClass("highcharts-series-"+R.state),b&&yt.addClass("highcharts-series-"+b))}),R.state=b,!R.chart.styledMode)){if(it[b]&&!1===it[b].enabled)return;if(b&&(at=it[b].lineWidth||at+(it[b].lineWidthPlus||0),_t=u(it[b].opacity,_t)),Z&&!Z.dashstyle)for(Z.animate(V={"stroke-width":at},ot);R["zone-graph-"+mt];)R["zone-graph-"+mt].animate(V,ot),mt+=1;nt||[R.group,R.markerGroup,R.dataLabelsGroup,R.labelBySeries].forEach(function(yt){yt&&yt.animate({opacity:_t},ot)})}z&&nt&&R.points&&R.setAllPointsToState(b||void 0)},W.prototype.setAllPointsToState=function(b){this.points.forEach(function(z){z.setState&&z.setState(b)})},W.prototype.setVisible=function(b,z){var R=this,V=R.chart,Z=R.legendItem,nt=V.options.chart.ignoreHiddenSeries,ot=(R.visible=b=R.options.visible=R.userOptions.visible=void 0===b?!R.visible:b)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(at){R[at]&&R[at][ot]()}),(V.hoverSeries===R||(V.hoverPoint&&V.hoverPoint.series)===R)&&R.onMouseOut(),Z&&V.legend.colorizeItem(R,b),R.isDirty=!0,R.options.stacking&&V.series.forEach(function(at){at.options.stacking&&at.visible&&(at.isDirty=!0)}),R.linkedSeries.forEach(function(at){at.setVisible(b,!1)}),nt&&(V.isDirtyBox=!0),w(R,ot),!1!==z&&V.redraw()},W.prototype.show=function(){this.setVisible(!0)},W.prototype.hide=function(){this.setVisible(!1)},W.prototype.select=function(b){this.selected=b=this.options.selected=void 0===b?!this.selected:b,this.checkbox&&(this.checkbox.checked=b),w(this,b?"select":"unselect")},W.prototype.shouldShowTooltip=function(b,z,R){return void 0===R&&(R={}),R.series=this,R.visiblePlotOnly=!0,this.chart.isInsidePlot(b,z,R)},W.defaultOptions=X,W}(),h(Y.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:J.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:K,requireSorting:!0,sorted:!0}),F.series=Y,Y}),wt(o,"Extensions/ScrollablePlotArea.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/Series/Series.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){var X=Y.stop,F=K.addEvent,N=K.createElement,O=K.merge,k=K.pick;F(q,"afterSetChartSize",function(g){var d=this.options.chart.scrollablePlotArea,v=d&&d.minWidth;if(d=d&&d.minHeight,!this.renderer.forExport){if(v){if(this.scrollablePixelsX=v=Math.max(0,v-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=O(this.plotBox),this.plotBox.width=this.plotWidth+=v,this.inverted?this.clipBox.height+=v:this.clipBox.width+=v;var _={1:{name:"right",value:v}}}}else d&&(this.scrollablePixelsY=v=Math.max(0,d-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=O(this.plotBox),this.plotBox.height=this.plotHeight+=v,this.inverted?this.clipBox.width+=v:this.clipBox.height+=v,_={2:{name:"bottom",value:v}});_&&!g.skipAxes&&this.axes.forEach(function(T){_[T.side]?T.getPlotLinePath=function(){var y=_[T.side].name,C=this[y];this[y]=C-_[T.side].value;var M=$.prototype.getPlotLinePath.apply(this,arguments);return this[y]=C,M}:(T.setAxisSize(),T.setAxisTranslation())})}}),F(q,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),q.prototype.setUpScrolling=function(){var g=this,d={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(d.overflowX="auto"),this.scrollablePixelsY&&(d.overflowY="auto"),this.scrollingParent=N("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=N("div",{className:"highcharts-scrolling"},d,this.scrollingParent),F(this.scrollingContainer,"scroll",function(){g.pointer&&delete g.pointer.chartPosition}),this.innerContainer=N("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},q.prototype.moveFixedElements=function(){var _,g=this.container,d=this.fixedRenderer,v=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?_=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?_=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(_=".highcharts-yaxis"),_&&v.push(_+":not(.highcharts-radial-axis)",_+"-labels:not(.highcharts-radial-axis-labels)"),v.forEach(function(T){[].forEach.call(g.querySelectorAll(T),function(y){(y.namespaceURI===d.SVG_NS?d.box:d.box.parentNode).appendChild(y),y.style.pointerEvents="auto"})})},q.prototype.applyFixed=function(){var g=!this.fixedDiv,d=this.options.chart,v=d.scrollablePlotArea,_=J.getRendererType();g?(this.fixedDiv=N("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(d.style&&d.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=d=new _(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=d.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":k(v.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),F(this,"afterShowResetZoom",this.moveFixedElements),F(this,"afterDrilldown",this.moveFixedElements),F(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||g)&&(this.scrollableDirty=!1,this.moveFixedElements()),d=this.chartWidth+(this.scrollablePixelsX||0),_=this.chartHeight+(this.scrollablePixelsY||0),X(this.container),this.container.style.width=d+"px",this.container.style.height=_+"px",this.renderer.boxWrapper.attr({width:d,height:_,viewBox:[0,0,d,_].join(" ")}),this.chartBackground.attr({width:d,height:_}),this.scrollingContainer.style.height=this.chartHeight+"px",g&&(v.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*v.scrollPositionX),v.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*v.scrollPositionY)),g=this.plotTop-(_=this.axisOffset)[0]-1,v=this.plotLeft-_[3]-1,d=this.plotTop+this.plotHeight+_[2]+1,_=this.plotLeft+this.plotWidth+_[1]+1;var T=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),y=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);g=this.scrollablePixelsX?[["M",0,g],["L",this.plotLeft-1,g],["L",this.plotLeft-1,d],["L",0,d],["Z"],["M",T,g],["L",this.chartWidth,g],["L",this.chartWidth,d],["L",T,d],["Z"]]:this.scrollablePixelsY?[["M",v,0],["L",v,this.plotTop-1],["L",_,this.plotTop-1],["L",_,0],["Z"],["M",v,y],["L",v,this.chartHeight],["L",_,this.chartHeight],["L",_,y],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:g})},F($,"afterInit",function(){this.chart.scrollableDirty=!0}),F(rt,"show",function(){this.chart.scrollableDirty=!0})}),wt(o,"Core/Axis/StackingAxis.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/Axis.js"],o["Core/Utilities.js"]],function(Y,$,q){var O,rt=Y.getDeferredAnimation,J=q.addEvent,K=q.destroyObjectProperties,X=q.fireEvent,F=q.isNumber,N=q.objectEach;return function(k){function g(){var T=this.stacking;if(T){var y=T.stacks;N(y,function(C,M){K(C),y[M]=null}),T&&T.stackTotalGroup&&T.stackTotalGroup.destroy()}}function d(){this.stacking||(this.stacking=new _(this))}var v=[];k.compose=function(T){return-1===v.indexOf(T)&&(v.push(T),J(T,"init",d),J(T,"destroy",g)),T};var _=function(){function T(y){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=y}return T.prototype.buildStacks=function(){var x,y=this.axis,C=y.series,M=y.options.reversedStacks,D=C.length;if(!y.isXAxis){for(this.usePercentage=!1,x=D;x--;){var f=C[M?x:D-x-1];f.setStackedPoints(),f.setGroupedPoints()}for(x=0;x<D;x++)C[x].modifyStacks();X(y,"afterBuildStacks")}},T.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var y=this.stacks=this.oldStacks;N(y,function(C){N(C,function(M){M.cumulative=M.total})})}},T.prototype.resetStacks=function(){var y=this;y.axis.isXAxis||N(y.stacks,function(M){N(M,function(D,x){F(D.touched)&&D.touched<y.stacksTouched?(D.destroy(),delete M[x]):(D.total=null,D.cumulative=null)})})},T.prototype.renderStackTotals=function(){var y=this.axis,C=y.chart,M=C.renderer,D=this.stacks;y=rt(C,y.options.stackLabels&&y.options.stackLabels.animation||!1);var x=this.stackTotalGroup=this.stackTotalGroup||M.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();x.translate(C.plotLeft,C.plotTop),N(D,function(f){N(f,function(m){m.render(x)})}),x.animate({opacity:1},y)},T}();k.Additions=_}(O||(O={})),O}),wt(o,"Extensions/Stacking.js",[o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Series/Series.js"],o["Core/Axis/StackingAxis.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X){var F=q.format,N=X.correctFloat,O=X.defined,k=X.destroyObjectProperties,g=X.isArray,d=X.isNumber,v=X.objectEach,_=X.pick,T=function(){function y(C,M,D,x,f){var m=C.chart.inverted;this.axis=C,this.isNegative=D,this.options=M=M||{},this.x=x,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=f,this.rightCliff=this.leftCliff=0,this.alignOptions={align:M.align||(m?D?"left":"right":"center"),verticalAlign:M.verticalAlign||(m?"middle":D?"bottom":"top"),y:M.y,x:M.x},this.textAlign=M.textAlign||(m?D?"right":"left":"center")}return y.prototype.destroy=function(){k(this,this.axis)},y.prototype.render=function(C){var M=this.axis.chart,D=this.options,x=D.format;x=x?F(x,this,M):D.formatter.call(this),this.label?this.label.attr({text:x,visibility:"hidden"}):(this.label=M.renderer.label(x,null,null,D.shape,null,null,D.useHTML,!1,"stack-labels"),x={r:D.borderRadius||0,text:x,rotation:D.rotation,padding:_(D.padding,5),visibility:"hidden"},M.styledMode||(x.fill=D.backgroundColor,x.stroke=D.borderColor,x["stroke-width"]=D.borderWidth,this.label.css(D.style)),this.label.attr(x),this.label.added||this.label.add(C)),this.label.labelrank=M.plotSizeY},y.prototype.setOffset=function(C,M,D,x,f){var m=this.axis,r=m.chart;x=m.translate(m.stacking.usePercentage?100:x||this.total,0,0,0,1),D=m.translate(D||0),D=O(x)&&Math.abs(x-D),C=_(f,r.xAxis[0].translate(this.x))+C,m=O(x)&&this.getStackBox(r,this,C,x,M,D,m),M=this.label,D=this.isNegative,C="justify"===_(this.options.overflow,"justify");var p=this.textAlign;M&&m&&(f=M.getBBox(),x=M.padding,p="left"===p?r.inverted?-x:x:"right"===p?f.width:r.inverted&&"center"===p?f.width/2:r.inverted?D?f.width+x:-x:f.width/2,D=r.inverted?f.height/2:D?-x:f.height,this.alignOptions.x=_(this.options.x,0),this.alignOptions.y=_(this.options.y,0),m.x-=p,m.y-=D,M.align(this.alignOptions,null,m),r.isInsidePlot(M.alignAttr.x+p-this.alignOptions.x,M.alignAttr.y+D-this.alignOptions.y)?M.show():(M.alignAttr.y=-9999,C=!1),C&&J.prototype.justifyDataLabel.call(this.axis,M,this.alignOptions,M.alignAttr,f,m),M.attr({x:M.alignAttr.x,y:M.alignAttr.y}),_(!C&&this.options.crop,!0)&&((r=d(M.x)&&d(M.y)&&r.isInsidePlot(M.x-x+M.width,M.y)&&r.isInsidePlot(M.x+x,M.y))||M.hide()))},y.prototype.getStackBox=function(C,M,D,x,f,m,r){var p=M.axis.reversed,a=C.inverted,n=r.height+r.pos-(a?C.plotLeft:C.plotTop);return M=M.isNegative&&!p||!M.isNegative&&p,{x:a?M?x-r.right:x-m+r.pos-C.plotLeft:D+C.xAxis[0].transB-C.plotLeft,y:a?r.height-D-f:M?n-x-m:n-x,width:a?m:f,height:a?f:m}},y}();return $.prototype.getStacks=function(){var y=this,C=y.inverted;y.yAxis.forEach(function(M){M.stacking&&M.stacking.stacks&&M.hasVisibleSeries&&(M.stacking.oldStacks=M.stacking.stacks)}),y.series.forEach(function(M){var D=M.xAxis&&M.xAxis.options||{};!M.options.stacking||!0!==M.visible&&!1!==y.options.chart.ignoreHiddenSeries||(M.stackKey=[M.type,_(M.options.stack,""),C?D.top:D.left,C?D.height:D.width].join())})},K.compose(Y),J.prototype.setGroupedPoints=function(){var y=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?J.prototype.setStackedPoints.call(this,"group"):y&&v(y.stacks,function(C,M){"group"===M.slice(-5)&&(v(C,function(D){return D.destroy()}),delete y.stacks[M])})},J.prototype.setStackedPoints=function(y){var C=y||this.options.stacking;if(C&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var M=this.processedXData,D=this.processedYData,x=[],f=D.length,m=this.options,r=m.threshold,p=_(m.startFromThreshold&&r,0);m=m.stack;var P,I,a="-"+(y=y?this.type+","+C:this.stackKey),n=this.negStacks,h=this.yAxis,l=h.stacking.stacks,w=h.stacking.oldStacks;for(h.stacking.stacksTouched+=1,I=0;I<f;I++){var L=M[I],S=D[I],B=this.getStackIndicator(B,L,this.index),c=B.key,u=(P=n&&S<(p?0:r))?a:y;l[u]||(l[u]={}),l[u][L]||(w[u]&&w[u][L]?(l[u][L]=w[u][L],l[u][L].total=null):l[u][L]=new T(h,h.options.stackLabels,P,L,m)),u=l[u][L],null!==S?(u.points[c]=u.points[this.index]=[_(u.cumulative,p)],O(u.cumulative)||(u.base=c),u.touched=h.stacking.stacksTouched,0<B.index&&!1===this.singleStacks&&(u.points[c][0]=u.points[this.index+","+L+",0"][0])):u.points[c]=u.points[this.index]=null,"percent"===C?(P=P?y:a,u.total=n&&l[P]&&l[P][L]?(P=l[P][L]).total=Math.max(P.total,u.total)+Math.abs(S)||0:N(u.total+(Math.abs(S)||0))):"group"===C?(g(S)&&(S=S[0]),null!==S&&(u.total=(u.total||0)+1)):u.total=N(u.total+(S||0)),u.cumulative="group"===C?(u.total||1)-1:_(u.cumulative,p)+(S||0),null!==S&&(u.points[c].push(u.cumulative),x[I]=u.cumulative,u.hasValidPoints=!0)}"percent"===C&&(h.stacking.usePercentage=!0),"group"!==C&&(this.stackedYData=x),h.stacking.oldStacks={}}},J.prototype.modifyStacks=function(){var x,y=this,C=y.stackKey,M=y.yAxis.stacking.stacks,D=y.processedXData,f=y.options.stacking;y[f+"Stacker"]&&[C,"-"+C].forEach(function(m){for(var p,a,r=D.length;r--;)x=y.getStackIndicator(x,p=D[r],y.index,m),(a=(p=M[m]&&M[m][p])&&p.points[x.key])&&y[f+"Stacker"](a,p,r)})},J.prototype.percentStacker=function(y,C,M){y[0]=N(y[0]*(C=C.total?100/C.total:0)),y[1]=N(y[1]*C),this.stackedYData[M]=y[1]},J.prototype.getStackIndicator=function(y,C,M,D){return!O(y)||y.x!==C||D&&y.key!==D?y={x:C,index:0,key:D}:y.index++,y.key=[M,C,y.index].join(),y},rt.StackItem=T,rt.StackItem}),wt(o,"Series/Line/LineSeries.js",[o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var X,rt=this&&this.__extends||(X=function(F,N){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var g in k)k.hasOwnProperty(g)&&(O[g]=k[g])})(F,N)},function(F,N){function O(){this.constructor=F}X(F,N),F.prototype=null===N?Object.create(N):(O.prototype=N.prototype,new O)}),J=q.defined,K=q.merge;return q=function(X){function F(){var N=null!==X&&X.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return rt(F,X),F.prototype.drawGraph=function(){var N=this,O=this.options,k=(this.gappedPath||this.getGraphPath).call(this),g=this.chart.styledMode,d=[["graph","highcharts-graph"]];g||d[0].push(O.lineColor||this.color||"#cccccc",O.dashStyle),(d=N.getZonesGraphs(d)).forEach(function(v,_){var T=v[0],y=N[T],C=y?"animate":"attr";y?(y.endX=N.preventGraphAnimation?null:k.xMap,y.animate({d:k})):k.length&&(N[T]=y=N.chart.renderer.path(k).addClass(v[1]).attr({zIndex:1}).add(N.group)),y&&!g&&(T={stroke:v[2],"stroke-width":O.lineWidth,fill:N.fillGraph&&N.color||"none"},v[3]?T.dashstyle=v[3]:"square"!==O.linecap&&(T["stroke-linecap"]=T["stroke-linejoin"]="round"),y[C](T).shadow(2>_&&O.shadow)),y&&(y.startX=k.xMap,y.isArea=k.isArea)})},F.prototype.getGraphPath=function(N,O,k){var T,g=this,d=g.options,v=[],_=[],y=d.step,C=(N=N||g.points).reversed;return C&&N.reverse(),(y={right:1,center:2}[y]||y&&3)&&C&&(y=4-y),(N=this.getValidPoints(N,!1,!(d.connectNulls&&!O&&!k))).forEach(function(M,D){var x=M.plotX,f=M.plotY,m=N[D-1];(M.leftCliff||m&&m.rightCliff)&&!k&&(T=!0),M.isNull&&!J(O)&&0<D?T=!d.connectNulls:M.isNull&&!O?T=!0:(0===D||T?D=[["M",M.plotX,M.plotY]]:g.getPointSpline?D=[g.getPointSpline(N,M,D)]:y?(D=1===y?[["L",m.plotX,f]]:2===y?[["L",(m.plotX+x)/2,m.plotY],["L",(m.plotX+x)/2,f]]:[["L",x,m.plotY]]).push(["L",x,f]):D=[["L",x,f]],_.push(M.x),y&&(_.push(M.x),2===y&&_.push(M.x)),v.push.apply(v,D),T=!1)}),v.xMap=_,g.graphPath=v},F.prototype.getZonesGraphs=function(N){return this.zones.forEach(function(O,k){k=["zone-graph-"+k,"highcharts-graph highcharts-zone-graph-"+k+" "+(O.className||"")],this.chart.styledMode||k.push(O.color||this.color,O.dashStyle||this.options.dashStyle),N.push(k)},this),N},F.defaultOptions=K(Y.defaultOptions,{}),F}(Y),$.registerSeriesType("line",q),q}),wt(o,"Series/Area/AreaSeries.js",[o["Core/Color/Color.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var k,J=this&&this.__extends||(k=function(g,d){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var T in _)_.hasOwnProperty(T)&&(v[T]=_[T])})(g,d)},function(g,d){function v(){this.constructor=g}k(g,d),g.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)}),K=Y.parse,X=q.seriesTypes.line;Y=rt.extend;var F=rt.merge,N=rt.objectEach,O=rt.pick;return rt=function(k){function g(){var d=null!==k&&k.apply(this,arguments)||this;return d.data=void 0,d.options=void 0,d.points=void 0,d}return J(g,k),g.prototype.drawGraph=function(){this.areaPath=[],k.prototype.drawGraph.apply(this);var d=this,v=this.areaPath,_=this.options,T=[["area","highcharts-area",this.color,_.fillColor]];this.zones.forEach(function(y,C){T.push(["zone-area-"+C,"highcharts-area highcharts-zone-area-"+C+" "+y.className,y.color||d.color,y.fillColor||_.fillColor])}),T.forEach(function(y){var C=y[0],M=d[C],D=M?"animate":"attr",x={};M?(M.endX=d.preventGraphAnimation?null:v.xMap,M.animate({d:v})):(x.zIndex=0,(M=d[C]=d.chart.renderer.path(v).addClass(y[1]).add(d.group)).isArea=!0),d.chart.styledMode||(x.fill=O(y[3],K(y[2]).setOpacity(O(_.fillOpacity,.75)).get())),M[D](x),M.startX=v.xMap,M.shiftUnit=_.step?2:1})},g.prototype.getGraphPath=function(d){var C,v=X.prototype.getGraphPath,_=this.options,T=_.stacking,y=this.yAxis,M=[],D=[],x=this.index,f=y.stacking.stacks[this.stackKey],m=_.threshold,r=Math.round(y.getThreshold(_.threshold));_=O(_.connectNulls,"percent"===T);var p=function(l,w,P){var I=d[l];l=T&&f[I.x].points[x];var L=I[P+"Null"]||0;if(P=I[P+"Cliff"]||0,I=!0,P||L){var S=(L?l[0]:l[1])+P,B=l[0]+P;I=!!L}else!T&&d[w]&&d[w].isNull&&(S=B=m);void 0!==S&&(D.push({plotX:n,plotY:null===S?r:y.getThreshold(S),isNull:I,isCliff:!0}),M.push({plotX:n,plotY:null===B?r:y.getThreshold(B),doCurve:!1}))};for(d=d||this.points,T&&(d=this.getStackPoints(d)),C=0;C<d.length;C++){T||(d[C].leftCliff=d[C].rightCliff=d[C].leftNull=d[C].rightNull=void 0);var a=d[C].isNull,n=O(d[C].rectPlotX,d[C].plotX),h=T?O(d[C].yBottom,r):r;(!a||_)&&(_||p(C,C-1,"left"),a&&!T&&_||(D.push(d[C]),M.push({x:C,plotX:n,plotY:h})),_||p(C,C+1,"right"))}return C=v.call(this,D,!0,!0),M.reversed=!0,(h=(a=v.call(this,M,!0,!0))[0])&&"M"===h[0]&&(a[0]=["L",h[1],h[2]]),(a=C.concat(a)).length&&a.push(["Z"]),v=v.call(this,D,!1,_),a.xMap=C.xMap,this.areaPath=a,v},g.prototype.getStackPoints=function(d){var v=this,_=[],T=[],y=this.xAxis,C=this.yAxis,M=C.stacking.stacks[this.stackKey],D={},x=C.series,f=x.length,m=C.options.reversedStacks?1:-1,r=x.indexOf(v);if(d=d||this.points,this.options.stacking){for(var p=0;p<d.length;p++)d[p].leftNull=d[p].rightNull=void 0,D[d[p].x]=d[p];N(M,function(n,h){null!==n.total&&T.push(h)}),T.sort(function(n,h){return n-h});var a=x.map(function(n){return n.visible});T.forEach(function(n,h){var w,P,l=0;if(D[n]&&!D[n].isNull)_.push(D[n]),[-1,1].forEach(function(L){var S=1===L?"rightNull":"leftNull",B=0,c=M[T[h+L]];if(c)for(var u=r;0<=u&&u<f;){var E=x[u].index;(w=c.points[E])||(E===v.index?D[n][S]=!0:a[u]&&(P=M[n].points[E])&&(B-=P[1]-P[0])),u+=m}D[n][1===L?"rightCliff":"leftCliff"]=B});else{for(var I=r;0<=I&&I<f;){if(w=M[n].points[x[I].index]){l=w[1];break}I+=m}l=O(l,0),l=C.translate(l,0,1,0,1),_.push({isNull:!0,plotX:y.translate(n,0,0,0,1),x:n,plotY:l,yBottom:l})}})}return _},g.defaultOptions=F(X.defaultOptions,{threshold:0}),g}(X),Y(rt.prototype,{singleStacks:!1,drawLegendSymbol:$.drawRectangle}),q.registerSeriesType("area",rt),rt}),wt(o,"Series/Spline/SplineSeries.js",[o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$){var X,q=this&&this.__extends||(X=function(F,N){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var g in k)k.hasOwnProperty(g)&&(O[g]=k[g])})(F,N)},function(F,N){function O(){this.constructor=F}X(F,N),F.prototype=null===N?Object.create(N):(O.prototype=N.prototype,new O)}),rt=Y.seriesTypes.line,J=$.merge,K=$.pick;return $=function(X){function F(){var N=null!==X&&X.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return q(F,X),F.prototype.getPointSpline=function(N,O,k){var g=O.plotX||0,d=O.plotY||0,v=N[k-1];if(k=N[k+1],v&&!v.isNull&&!1!==v.doCurve&&!O.isCliff&&k&&!k.isNull&&!1!==k.doCurve&&!O.isCliff){var _=k.plotX||0,T=0,y=(1.5*g+(v.plotX||0))/2.5,C=(1.5*d+(N=v.plotY||0))/2.5,M=(1.5*d+(k=k.plotY||0))/2.5;(_=(1.5*g+_)/2.5)!==y&&(T=(M-C)*(_-g)/(_-y)+d-M),M+=T,(C+=T)>N&&C>d?M=2*d-(C=Math.max(N,d)):C<N&&C<d&&(M=2*d-(C=Math.min(N,d))),M>k&&M>d?C=2*d-(M=Math.max(k,d)):M<k&&M<d&&(C=2*d-(M=Math.min(k,d))),O.rightContX=_,O.rightContY=M}return O=["C",K(v.rightContX,v.plotX,0),K(v.rightContY,v.plotY,0),K(y,g,0),K(C,d,0),g,d],v.rightContX=v.rightContY=void 0,O},F.defaultOptions=J(rt.defaultOptions),F}(rt),Y.registerSeriesType("spline",$),$}),wt(o,"Series/AreaSpline/AreaSplineSeries.js",[o["Series/Area/AreaSeries.js"],o["Series/Spline/SplineSeries.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var O,K=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),X=Y.prototype,F=J.extend,N=J.merge;return J=function(O){function k(){var g=null!==O&&O.apply(this,arguments)||this;return g.data=void 0,g.points=void 0,g.options=void 0,g}return K(k,O),k.defaultOptions=N($.defaultOptions,Y.defaultOptions),k}($),F(J.prototype,{getGraphPath:X.getGraphPath,getStackPoints:X.getStackPoints,drawGraph:X.drawGraph,drawLegendSymbol:q.drawRectangle}),rt.registerSeriesType("areaspline",J),J}),wt(o,"Series/Column/ColumnSeries.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X){var f,F=this&&this.__extends||(f=function(m,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var n in a)a.hasOwnProperty(n)&&(p[n]=a[n])})(m,r)},function(m,r){function p(){this.constructor=m}f(m,r),m.prototype=null===r?Object.create(r):(p.prototype=r.prototype,new p)}),N=Y.animObject,O=$.parse,k=q.hasTouch;Y=q.noop;var g=X.clamp,d=X.css,v=X.defined,_=X.extend,T=X.fireEvent,y=X.isArray,C=X.isNumber,M=X.merge,D=X.pick,x=X.objectEach;return X=function(f){function m(){var r=null!==f&&f.apply(this,arguments)||this;return r.borderWidth=void 0,r.data=void 0,r.group=void 0,r.options=void 0,r.points=void 0,r}return F(m,f),m.prototype.animate=function(r){var p=this,a=this.yAxis,n=p.options,h=this.chart.inverted,l={},w=h?"translateX":"translateY";if(r)l.scaleY=.001,r=g(a.toPixels(n.threshold),a.pos,a.pos+a.len),h?l.translateX=r-a.len:l.translateY=r,p.clipBox&&p.setClip(),p.group.attr(l);else{var P=Number(p.group.attr(w));p.group.animate({scaleY:1},_(N(p.options.animation),{step:function(I,L){p.group&&(l[w]=P+L.pos*(a.pos-P),p.group.attr(l))}}))}},m.prototype.init=function(r,p){f.prototype.init.apply(this,arguments);var a=this;(r=a.chart).hasRendered&&r.series.forEach(function(n){n.type===a.type&&(n.isDirty=!0)})},m.prototype.getColumnMetrics=function(){var r=this,p=r.options,a=r.xAxis,n=r.yAxis,h=a.options.reversedStacks;h=a.reversed&&!h||!a.reversed&&h;var w,l={},P=0;!1===p.grouping?P=1:r.chart.series.forEach(function(B){var c=B.yAxis,u=B.options;if(B.type===r.type&&(B.visible||!r.chart.options.chart.ignoreHiddenSeries)&&n.len===c.len&&n.pos===c.pos){if(u.stacking&&"group"!==u.stacking){void 0===l[w=B.stackKey]&&(l[w]=P++);var E=l[w]}else!1!==u.grouping&&(E=P++);B.columnIndex=E}});var I=Math.min(Math.abs(a.transA)*(a.ordinal&&a.ordinal.slope||p.pointRange||a.closestPointRange||a.tickInterval||1),a.len),L=I*p.groupPadding,S=(I-2*L)/(P||1);return p=Math.min(p.maxPointWidth||a.len,D(p.pointWidth,S*(1-2*p.pointPadding))),r.columnMetrics={width:p,offset:(S-p)/2+(L+((r.columnIndex||0)+(h?1:0))*S-I/2)*(h?-1:1),paddedWidth:S,columnCount:P},r.columnMetrics},m.prototype.crispCol=function(r,p,a,n){var h=this.chart,l=this.borderWidth,w=-(l%2?.5:0);return l=l%2?.5:1,h.inverted&&h.renderer.isVML&&(l+=1),this.options.crisp&&(a=Math.round(r+a)+w,a-=r=Math.round(r)+w),n=Math.round(p+n)+l,w=.5>=Math.abs(p)&&.5<n,n-=p=Math.round(p)+l,w&&n&&(--p,n+=1),{x:r,y:p,width:a,height:n}},m.prototype.adjustForMissingColumns=function(r,p,a,n){var h=this,l=this.options.stacking;if(!a.isNull&&1<n.columnCount){var w=0,P=0;x(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(I){if("number"==typeof a.x&&(I=I[a.x.toString()])){var L=I.points[h.index],S=I.total;l?(L&&(w=P),I.hasValidPoints&&P++):y(L)&&(w=L[1],P=S||0)}}),r=(a.plotX||0)+((P-1)*n.paddedWidth+p)/2-p-w*n.paddedWidth}return r},m.prototype.translate=function(){var r=this,p=r.chart,a=r.options,n=r.dense=2>r.closestPointRange*r.xAxis.transA;n=r.borderWidth=D(a.borderWidth,n?0:1);var h=r.xAxis,l=r.yAxis,w=a.threshold,P=r.translatedThreshold=l.getThreshold(w),I=D(a.minPointLength,5),L=r.getColumnMetrics(),S=L.width,B=r.pointXOffset=L.offset,c=r.dataMin,u=r.dataMax,E=r.barW=Math.max(S,1+2*n);p.inverted&&(P-=.5),a.pointPadding&&(E=Math.ceil(E)),J.prototype.translate.apply(r),r.points.forEach(function(j){var G=D(j.yBottom,P),W=999+Math.abs(G),b=j.plotX||0;W=g(j.plotY,-W,l.len+W);var z=Math.min(W,G),R=Math.max(W,G)-z,V=S,Z=b+B,nt=E;I&&Math.abs(R)<I&&(R=I,b=!l.reversed&&!j.negative||l.reversed&&j.negative,C(w)&&C(u)&&j.y===w&&u<=w&&(l.min||0)<w&&(c!==u||(l.max||0)<=w)&&(b=!b),z=Math.abs(z-P)>I?G-I:P-(b?I:0)),v(j.options.pointWidth)&&(V=nt=Math.ceil(j.options.pointWidth),Z-=Math.round((V-S)/2)),a.centerInCategory&&(Z=r.adjustForMissingColumns(Z,V,j,L)),j.barX=Z,j.pointWidth=V,j.tooltipPos=p.inverted?[g(l.len+l.pos-p.plotLeft-W,l.pos-p.plotLeft,l.len+l.pos-p.plotLeft),h.len+h.pos-p.plotTop-Z-nt/2,R]:[h.left-p.plotLeft+Z+nt/2,g(W+l.pos-p.plotTop,l.pos-p.plotTop,l.len+l.pos-p.plotTop),R],j.shapeType=r.pointClass.prototype.shapeType||"rect",j.shapeArgs=r.crispCol.apply(r,j.isNull?[Z,P,nt,0]:[Z,z,nt,R])})},m.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},m.prototype.pointAttribs=function(r,p){var a=this.options,n=this.pointAttrToOptions||{},h=n.stroke||"borderColor",l=n["stroke-width"]||"borderWidth",w=r&&r.color||this.color,P=r&&r[h]||a[h]||w;n=r&&r.options.dashStyle||a.dashStyle;var I=r&&r[l]||a[l]||this[l]||0,L=D(r&&r.opacity,a.opacity,1);if(r&&this.zones.length){var S=r.getZone();w=r.options.color||S&&(S.color||r.nonZonedColor)||this.color,S&&(P=S.borderColor||P,n=S.dashStyle||n,I=S.borderWidth||I)}return p&&r&&(p=(r=M(a.states[p],r.options.states&&r.options.states[p]||{})).brightness,w=r.color||void 0!==p&&O(w).brighten(r.brightness).get()||w,P=r[h]||P,I=r[l]||I,n=r.dashStyle||n,L=D(r.opacity,L)),h={fill:w,stroke:P,"stroke-width":I,opacity:L},n&&(h.dashstyle=n),h},m.prototype.drawPoints=function(){var l,r=this,p=this.chart,a=r.options,n=p.renderer,h=a.animationLimit||250;r.points.forEach(function(w){var P=w.graphic,I=!!P,L=P&&p.pointCount<h?"animate":"attr";C(w.plotY)&&null!==w.y?(l=w.shapeArgs,P&&w.hasNewShapeType()&&(P=P.destroy()),r.enabledDataSorting&&(w.startXPos=r.xAxis.reversed?-(l&&l.width||0):r.xAxis.width),P||(w.graphic=P=n[w.shapeType](l).add(w.group||r.group))&&r.enabledDataSorting&&p.hasRendered&&p.pointCount<h&&(P.attr({x:w.startXPos}),I=!0,L="animate"),P&&I&&P[L](M(l)),a.borderRadius&&P[L]({r:a.borderRadius}),p.styledMode||P[L](r.pointAttribs(w,w.selected&&"select")).shadow(!1!==w.allowShadow&&a.shadow,null,a.stacking&&!a.borderRadius),P&&(P.addClass(w.getClassName(),!0),P.attr({visibility:w.visible?"inherit":"hidden"}))):P&&(w.graphic=P.destroy())})},m.prototype.drawTracker=function(){var h,r=this,p=r.chart,a=p.pointer,n=function(l){var w=a.getPointFromEvent(l);void 0!==w&&(a.isDirectTouch=!0,w.onMouseOver(l))};r.points.forEach(function(l){h=y(l.dataLabels)?l.dataLabels:l.dataLabel?[l.dataLabel]:[],l.graphic&&(l.graphic.element.point=l),h.forEach(function(w){w.div?w.div.point=l:w.element.point=l})}),r._hasTracking||(r.trackerGroups.forEach(function(l){r[l]&&(r[l].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(w){a.onTrackerMouseOut(w)}),k&&r[l].on("touchstart",n),!p.styledMode&&r.options.cursor&&r[l].css(d).css({cursor:r.options.cursor}))}),r._hasTracking=!0),T(this,"afterDrawTracker")},m.prototype.remove=function(){var r=this,p=r.chart;p.hasRendered&&p.series.forEach(function(a){a.type===r.type&&(a.isDirty=!0)}),J.prototype.remove.apply(r,arguments)},m.defaultOptions=M(J.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),m}(J),_(X.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:rt.drawRectangle,getSymbol:Y,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),K.registerSeriesType("column",X),X}),wt(o,"Core/Series/DataLabel.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/FormatUtilities.js"],o["Core/Utilities.js"]],function(Y,$,q){var v,rt=Y.getDeferredAnimation,J=$.format,K=q.defined,X=q.extend,F=q.fireEvent,N=q.isArray,O=q.merge,k=q.objectEach,g=q.pick,d=q.splat;return function(_){function T(m,r,p,a,n){var h=this,l=this.chart,w=this.isCartesian&&l.inverted,P=this.enabledDataSorting,I=g(m.dlBox&&m.dlBox.centerX,m.plotX,-9999),L=g(m.plotY,-9999),S=r.getBBox(),B=p.rotation,c=p.align,u=l.isInsidePlot(I,Math.round(L),{inverted:w,paneCoordinates:!0,series:h}),E=function(b){P&&h.xAxis&&!j&&h.setDataLabelStartPos(m,r,n,u,b)},j="justify"===g(p.overflow,P?"none":"justify"),G=this.visible&&!1!==m.visible&&(m.series.forceDL||P&&!j||u||g(p.inside,!!this.options.stacking)&&a&&l.isInsidePlot(I,w?a.x+1:a.y+a.height-1,{inverted:w,paneCoordinates:!0,series:h}));if(G){var W=l.renderer.fontMetrics(l.styledMode?void 0:p.style.fontSize,r).b;a=X({x:w?this.yAxis.len-L:I,y:Math.round(w?this.xAxis.len-I:L),width:0,height:0},a),X(p,{width:S.width,height:S.height}),B?(j=!1,I=l.renderer.rotCorr(W,B),E(I={x:a.x+(p.x||0)+a.width/2+I.x,y:a.y+(p.y||0)+{top:0,middle:.5,bottom:1}[p.verticalAlign]*a.height}),r[n?"attr":"animate"](I).attr({align:c}),E=180<(E=(B+720)%360)&&360>E,"left"===c?I.y-=E?S.height:0:"center"===c?(I.x-=S.width/2,I.y-=S.height/2):"right"===c&&(I.x-=S.width,I.y-=E?0:S.height),r.placed=!0,r.alignAttr=I):(E(a),r.align(p,void 0,a),I=r.alignAttr),j&&0<=a.height?this.justifyDataLabel(r,p,I,S,a,n):g(p.crop,!0)&&(G=l.isInsidePlot(I.x,I.y,{paneCoordinates:!0,series:h})&&l.isInsidePlot(I.x+S.width,I.y+S.height,{paneCoordinates:!0,series:h})),p.shape&&!B&&r[n?"attr":"animate"]({anchorX:w?l.plotWidth-m.plotY:m.plotX,anchorY:w?l.plotHeight-m.plotX:m.plotY})}n&&P&&(r.placed=!1),G||P&&!j||(r.hide(!0),r.placed=!1)}function C(){var m=this,r=m.chart,p=m.options,a=m.points,n=m.hasRendered||0,h=r.renderer,l=p.dataLabels,P=l.animation;if(P=l.defer?rt(r,P,m):{defer:0,duration:0},l=D(D(r.options.plotOptions&&r.options.plotOptions.series&&r.options.plotOptions.series.dataLabels,r.options.plotOptions&&r.options.plotOptions[m.type]&&r.options.plotOptions[m.type].dataLabels),l),F(this,"drawDataLabels"),N(l)||l.enabled||m._hasPointLabels){var I=m.plotGroup("dataLabelsGroup","data-labels",n?"inherit":"hidden",l.zIndex||6);I.attr({opacity:+n}),!n&&(n=m.dataLabelsGroup)&&(m.visible&&I.show(!0),n[p.animation?"animate":"attr"]({opacity:1},P)),a.forEach(function(L){d(D(l,L.dlOptions||L.options&&L.options.dataLabels)).forEach(function(S,B){var c=S.enabled&&(!L.isNull||L.dataLabelOnNull)&&function(m,r){var p=r.filter;return!p||(r=p.operator,m=m[p.property],p=p.value,">"===r&&m>p||"<"===r&&m<p||">="===r&&m>=p||"<="===r&&m<=p||"=="===r&&m==p||"==="===r&&m===p)}(L,S),u=L.connectors?L.connectors[B]:L.connector,E=L.dataLabels?L.dataLabels[B]:L.dataLabel,j=g(S.distance,L.labelDistance),G=!E;if(c){var W=L.getLabelConfig(),b=g(S[L.formatPrefix+"Format"],S.format);W=K(b)?J(b,W,r):(S[L.formatPrefix+"Formatter"]||S.formatter).call(W,S),b=S.style;var z=S.rotation;r.styledMode||(b.color=g(S.color,b.color,m.color,"#000000"),"contrast"===b.color?(L.contrastColor=h.getContrast(L.color||m.color),b.color=!K(j)&&S.inside||0>j||p.stacking?L.contrastColor:"#000000"):delete L.contrastColor,p.cursor&&(b.cursor=p.cursor));var R={r:S.borderRadius||0,rotation:z,padding:S.padding,zIndex:1};r.styledMode||(R.fill=S.backgroundColor,R.stroke=S.borderColor,R["stroke-width"]=S.borderWidth),k(R,function(V,Z){void 0===V&&delete R[Z]})}!E||c&&K(W)&&!!E.div==!!S.useHTML||(L.dataLabel=E=L.dataLabel&&L.dataLabel.destroy(),L.dataLabels&&(1===L.dataLabels.length?delete L.dataLabels:delete L.dataLabels[B]),B||delete L.dataLabel,u&&(L.connector=L.connector.destroy(),L.connectors&&(1===L.connectors.length?delete L.connectors:delete L.connectors[B]))),c&&K(W)&&(E?R.text=W:(L.dataLabels=L.dataLabels||[],E=L.dataLabels[B]=z?h.text(W,0,-9999,S.useHTML).addClass("highcharts-data-label"):h.label(W,0,-9999,S.shape,null,null,S.useHTML,null,"data-label"),B||(L.dataLabel=E),E.addClass(" highcharts-data-label-color-"+L.colorIndex+" "+(S.className||"")+(S.useHTML?" highcharts-tracker":""))),E.options=S,E.attr(R),r.styledMode||E.css(b).shadow(S.shadow),E.added||E.add(I),S.textPath&&!S.useHTML&&(E.setTextPath(L.getDataLabelPath&&L.getDataLabelPath(E)||L.graphic,S.textPath),L.dataLabelPath&&!S.textPath.enabled&&(L.dataLabelPath=L.dataLabelPath.destroy())),m.alignDataLabel(L,E,S,null,G))})})}F(this,"afterDrawDataLabels")}function M(m,r,p,a,n,h){var l=this.chart,w=r.align,P=r.verticalAlign,I=m.box?0:m.padding||0,L=r.x;L=void 0===L?0:L;var S=r.y;S=void 0===S?0:S;var B=(p.x||0)+I;if(0>B){"right"===w&&0<=L?(r.align="left",r.inside=!0):L-=B;var c=!0}return(B=(p.x||0)+a.width-I)>l.plotWidth&&("left"===w&&0>=L?(r.align="right",r.inside=!0):L+=l.plotWidth-B,c=!0),0>(B=p.y+I)&&("bottom"===P&&0<=S?(r.verticalAlign="top",r.inside=!0):S-=B,c=!0),(B=(p.y||0)+a.height-I)>l.plotHeight&&("top"===P&&0>=S?(r.verticalAlign="bottom",r.inside=!0):S+=l.plotHeight-B,c=!0),c&&(r.x=L,r.y=S,m.placed=!h,m.align(r,void 0,n)),c}function D(m,r){var a,p=[];if(N(m)&&!N(r))p=m.map(function(n){return O(n,r)});else if(N(r)&&!N(m))p=r.map(function(n){return O(m,n)});else if(N(m)||N(r))for(a=Math.max(m.length,r.length);a--;)p[a]=O(m[a],r[a]);else p=O(m,r);return p}function x(m,r,p,a,n){var h=this.chart,l=h.inverted,w=this.xAxis,P=w.reversed,I=l?r.height/2:r.width/2;m=(m=m.pointWidth)?m/2:0,r.startXPos=l?n.x:P?-I-m:w.width-I+m,r.startYPos=l?P?this.yAxis.height-I+m:-I-m:n.y,a?"hidden"===r.visibility&&(r.show(),r.attr({opacity:0}).animate({opacity:1})):r.attr({opacity:1}).animate({opacity:0},void 0,r.hide),h.hasRendered&&(p&&r.attr({x:r.startXPos,y:r.startYPos}),r.placed=!0)}var f=[];_.compose=function(m){if(-1===f.indexOf(m)){var r=m.prototype;f.push(m),r.alignDataLabel=T,r.drawDataLabels=C,r.justifyDataLabel=M,r.setDataLabelStartPos=x}}}(v||(v={})),v}),wt(o,"Series/Column/ColumnDataLabel.js",[o["Core/Series/DataLabel.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var X,rt=$.series,J=q.merge,K=q.pick;return function(F){function N(k,g,d,v,_){var T=this.chart.inverted,y=k.series,C=(y.xAxis?y.xAxis.len:this.chart.plotSizeX)||0,M=k.dlBox||k.shapeArgs,D=K(k.below,k.plotY>K(this.translatedThreshold,y=(y.yAxis?y.yAxis.len:this.chart.plotSizeY)||0)),x=K(d.inside,!!this.options.stacking);M&&(0>(v=J(M)).y&&(v.height+=v.y,v.y=0),0<(M=v.y+v.height-y)&&M<v.height&&(v.height-=M),T&&(v={x:y-v.y-v.height,y:C-v.x-v.width,width:v.height,height:v.width}),x||(T?(v.x+=D?0:v.width,v.width=0):(v.y+=D?v.height:0,v.height=0))),d.align=K(d.align,!T||x?"center":D?"right":"left"),d.verticalAlign=K(d.verticalAlign,T||x?"middle":D?"top":"bottom"),rt.prototype.alignDataLabel.call(this,k,g,d,v,_),d.inside&&k.contrastColor&&g.css({color:k.contrastColor})}var O=[];F.compose=function(k){Y.compose(rt),-1===O.indexOf(k)&&(O.push(k),k.prototype.alignDataLabel=N)}}(X||(X={})),X}),wt(o,"Series/Bar/BarSeries.js",[o["Series/Column/ColumnSeries.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var X,rt=this&&this.__extends||(X=function(F,N){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var g in k)k.hasOwnProperty(g)&&(O[g]=k[g])})(F,N)},function(F,N){function O(){this.constructor=F}X(F,N),F.prototype=null===N?Object.create(N):(O.prototype=N.prototype,new O)}),J=q.extend,K=q.merge;return q=function(X){function F(){var N=null!==X&&X.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return rt(F,X),F.defaultOptions=K(Y.defaultOptions,{}),F}(Y),J(q.prototype,{inverted:!0}),$.registerSeriesType("bar",q),q}),wt(o,"Series/Scatter/ScatterSeries.js",[o["Series/Column/ColumnSeries.js"],o["Series/Line/LineSeries.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var N,J=this&&this.__extends||(N=function(O,k){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var v in d)d.hasOwnProperty(v)&&(g[v]=d[v])})(O,k)},function(O,k){function g(){this.constructor=O}N(O,k),O.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)}),K=rt.addEvent,X=rt.extend,F=rt.merge;return rt=function(N){function O(){var k=null!==N&&N.apply(this,arguments)||this;return k.data=void 0,k.options=void 0,k.points=void 0,k}return J(O,N),O.prototype.applyJitter=function(){var k=this,g=this.options.jitter,d=this.points.length;g&&this.points.forEach(function(v,_){["x","y"].forEach(function(T,y){var C="plot"+T.toUpperCase();if(g[T]&&!v.isNull){var M=k[T+"Axis"],D=g[T]*M.transA;if(M&&!M.isLog){var x=Math.max(0,v[C]-D);M=Math.min(M.len,v[C]+D),y=1e4*Math.sin(_+y*d),v[C]=x+(M-x)*(y-Math.floor(y)),"x"===T&&(v.clientX=v.plotX)}}})})},O.prototype.drawGraph=function(){this.options.lineWidth?N.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},O.defaultOptions=F($.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),O}($),X(rt.prototype,{drawTracker:Y.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),K(rt,"afterTranslate",function(){this.applyJitter()}),q.registerSeriesType("scatter",rt),rt}),wt(o,"Series/CenteredUtilities.js",[o["Core/Globals.js"],o["Core/Series/Series.js"],o["Core/Utilities.js"]],function(Y,$,q){var F,N,rt=Y.deg2rad,J=q.isNumber,K=q.pick,X=q.relativeLength;return(N=F||(F={})).getCenter=function(){var O=this.options,k=this.chart,g=2*(O.slicedOffset||0),d=k.plotWidth-2*g,v=k.plotHeight-2*g,_=O.center,T=Math.min(d,v),y=O.size,C=O.innerSize||0;for("string"==typeof y&&(y=parseFloat(y)),"string"==typeof C&&(C=parseFloat(C)),O=[K(_[0],"50%"),K(_[1],"50%"),K(y&&0>y?void 0:O.size,"100%"),K(C&&0>C?void 0:O.innerSize||0,"0%")],!k.angular||this instanceof $||(O[3]=0),_=0;4>_;++_)y=O[_],k=2>_||2===_&&/%$/.test(y),O[_]=X(y,[d,v,T,O[2]][_])+(k?g:0);return O[3]>O[2]&&(O[3]=O[2]),O},N.getStartAndEndRadians=function(O,k){return O=J(O)?O:0,k=J(k)&&k>O&&360>k-O?k:O+360,{start:rt*(O+-90),end:rt*(k+-90)}},F}),wt(o,"Series/Pie/PiePoint.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Series/Point.js"],o["Core/Utilities.js"]],function(Y,$,q){var k,rt=this&&this.__extends||(k=function(g,d){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var T in _)_.hasOwnProperty(T)&&(v[T]=_[T])})(g,d)},function(g,d){function v(){this.constructor=g}k(g,d),g.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)}),J=Y.setAnimation,K=q.addEvent,X=q.defined;Y=q.extend;var F=q.isNumber,N=q.pick,O=q.relativeLength;return $=function(k){function g(){var d=null!==k&&k.apply(this,arguments)||this;return d.labelDistance=void 0,d.options=void 0,d.series=void 0,d}return rt(g,k),g.prototype.getConnectorPath=function(){var d=this.labelPosition,v=this.series.options.dataLabels,_=this.connectorShapes,T=v.connectorShape;return _[T]&&(T=_[T]),T.call(this,{x:d.final.x,y:d.final.y,alignment:d.alignment},d.connectorPosition,v)},g.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},g.prototype.haloPath=function(d){var v=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(v.x,v.y,v.r+d,v.r+d,{innerR:v.r-1,start:v.start,end:v.end})},g.prototype.init=function(){var d=this;k.prototype.init.apply(this,arguments),this.name=N(this.name,"Slice");var v=function(_){d.slice("select"===_.type)};return K(this,"select",v),K(this,"unselect",v),this},g.prototype.isValid=function(){return F(this.y)&&0<=this.y},g.prototype.setVisible=function(d,v){var _=this,T=this.series,y=T.chart,C=T.options.ignoreHiddenPoint;v=N(v,C),d!==this.visible&&(this.visible=this.options.visible=d=void 0===d?!this.visible:d,T.options.data[T.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(M){_[M]&&_[M][d?"show":"hide"](d)}),this.legendItem&&y.legend.colorizeItem(this,d),d||"hover"!==this.state||this.setState(""),C&&(T.isDirty=!0),v&&y.redraw())},g.prototype.slice=function(d,v,_){var T=this.series;J(_,T.chart),N(v,!0),this.sliced=this.options.sliced=X(d)?d:!this.sliced,T.options.data[T.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},g}($),Y($.prototype,{connectorShapes:{fixedOffset:function(k,g,d){var v=g.breakAt;return g=g.touchingSliceAt,[["M",k.x,k.y],d.softConnector?["C",k.x+("left"===k.alignment?-5:5),k.y,2*v.x-g.x,2*v.y-g.y,v.x,v.y]:["L",v.x,v.y],["L",g.x,g.y]]},straight:function(k,g){return[["M",k.x,k.y],["L",(g=g.touchingSliceAt).x,g.y]]},crookedLine:function(k,g,d){g=g.touchingSliceAt;var v=this.series,_=v.center[0],T=v.chart.plotWidth,y=v.chart.plotLeft;v=k.alignment;var C=this.shapeArgs.r;return d=O(d.crookDistance,1),d=["L",T="left"===v?_+C+(T+y-_-C)*(1-d):y+(_-C)*d,k.y],_=!0,("left"===v?T>k.x||T<g.x:T<k.x||T>g.x)&&(_=!1),k=[["M",k.x,k.y]],_&&k.push(d),k.push(["L",g.x,g.y]),k}}}),$}),wt(o,"Series/Pie/PieSeries.js",[o["Series/CenteredUtilities.js"],o["Series/Column/ColumnSeries.js"],o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Series/Pie/PiePoint.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/Symbols.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N){var C,O=this&&this.__extends||(C=function(M,D){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,f){x.__proto__=f}||function(x,f){for(var m in f)f.hasOwnProperty(m)&&(x[m]=f[m])})(M,D)},function(M,D){function x(){this.constructor=M}C(M,D),M.prototype=null===D?Object.create(D):(x.prototype=D.prototype,new x)}),k=Y.getStartAndEndRadians;q=q.noop;var g=N.clamp,d=N.extend,v=N.fireEvent,_=N.merge,T=N.pick,y=N.relativeLength;return N=function(C){function M(){var D=null!==C&&C.apply(this,arguments)||this;return D.center=void 0,D.data=void 0,D.maxLabelDistance=void 0,D.options=void 0,D.points=void 0,D}return O(M,C),M.prototype.animate=function(D){var x=this,m=x.startAngleRad;D||x.points.forEach(function(r){var p=r.graphic,a=r.shapeArgs;p&&a&&(p.attr({r:T(r.startR,x.center&&x.center[3]/2),start:m,end:m}),p.animate({r:a.r,start:a.start,end:a.end},x.options.animation))})},M.prototype.drawEmpty=function(){var D=this.startAngleRad,x=this.endAngleRad,f=this.options;if(0===this.total&&this.center){var m=this.center[0],r=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(m,r,this.center[1]/2,0,D,x).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:F.arc(m,r,this.center[2]/2,0,{start:D,end:x,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":f.borderWidth,fill:f.fillColor||"none",stroke:f.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},M.prototype.drawPoints=function(){var D=this.chart.renderer;this.points.forEach(function(x){x.graphic&&x.hasNewShapeType()&&(x.graphic=x.graphic.destroy()),x.graphic||(x.graphic=D[x.shapeType](x.shapeArgs).add(x.series.group),x.delayedRendering=!0)})},M.prototype.generatePoints=function(){C.prototype.generatePoints.call(this),this.updateTotals()},M.prototype.getX=function(D,x,f){var m=this.center,r=this.radii?this.radii[f.index]||0:m[2]/2;return D=Math.asin(g((D-m[1])/(r+f.labelDistance),-1,1)),m[0]+(x?-1:1)*Math.cos(D)*(r+f.labelDistance)+(0<f.labelDistance?(x?-1:1)*this.options.dataLabels.padding:0)},M.prototype.hasData=function(){return!!this.processedXData.length},M.prototype.redrawPoints=function(){var r,p,a,n,D=this,x=D.chart,f=x.renderer,m=D.options.shadow;this.drawEmpty(),!m||D.shadowGroup||x.styledMode||(D.shadowGroup=f.g("shadow").attr({zIndex:-1}).add(D.group)),D.points.forEach(function(h){var l={};if(p=h.graphic,!h.isNull&&p){var w=void 0;n=h.shapeArgs,r=h.getTranslate(),x.styledMode||(w=h.shadowGroup,m&&!w&&(w=h.shadowGroup=f.g("shadow").add(D.shadowGroup)),w&&w.attr(r),a=D.pointAttribs(h,h.selected&&"select")),h.delayedRendering?(p.setRadialReference(D.center).attr(n).attr(r),x.styledMode||p.attr(a).attr({"stroke-linejoin":"round"}).shadow(m,w),h.delayedRendering=!1):(p.setRadialReference(D.center),x.styledMode||_(!0,l,a),_(!0,l,n,r),p.animate(l)),p.attr({visibility:h.visible?"inherit":"hidden"}),p.addClass(h.getClassName(),!0)}else p&&(h.graphic=p.destroy())})},M.prototype.sortByAngle=function(D,x){D.sort(function(f,m){return void 0!==f.angle&&(m.angle-f.angle)*x})},M.prototype.translate=function(D){this.generatePoints();var x=this.options,f=x.slicedOffset,m=f+(x.borderWidth||0),r=k(x.startAngle,x.endAngle),p=this.startAngleRad=r.start;r=(this.endAngleRad=r.end)-p;var a=this.points,n=x.dataLabels.distance;x=x.ignoreHiddenPoint;var l,h=a.length,w=0;for(D||(this.center=D=this.getCenter()),l=0;l<h;l++){var P=a[l],I=p+w*r;!P.isValid()||x&&!P.visible||(w+=P.percentage/100);var L=p+w*r,S={x:D[0],y:D[1],r:D[2]/2,innerR:D[3]/2,start:Math.round(1e3*I)/1e3,end:Math.round(1e3*L)/1e3};P.shapeType="arc",P.shapeArgs=S,P.labelDistance=T(P.options.dataLabels&&P.options.dataLabels.distance,n),P.labelDistance=y(P.labelDistance,S.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,P.labelDistance),(L=(L+I)/2)>1.5*Math.PI?L-=2*Math.PI:L<-Math.PI/2&&(L+=2*Math.PI),P.slicedTranslation={translateX:Math.round(Math.cos(L)*f),translateY:Math.round(Math.sin(L)*f)},S=Math.cos(L)*D[2]/2;var B=Math.sin(L)*D[2]/2;P.tooltipPos=[D[0]+.7*S,D[1]+.7*B],P.half=L<-Math.PI/2||L>Math.PI/2?1:0,P.angle=L,I=Math.min(m,P.labelDistance/5),P.labelPosition={natural:{x:D[0]+S+Math.cos(L)*P.labelDistance,y:D[1]+B+Math.sin(L)*P.labelDistance},final:{},alignment:0>P.labelDistance?"center":P.half?"right":"left",connectorPosition:{breakAt:{x:D[0]+S+Math.cos(L)*I,y:D[1]+B+Math.sin(L)*I},touchingSliceAt:{x:D[0]+S,y:D[1]+B}}}}v(this,"afterTranslate")},M.prototype.updateTotals=function(){var m,D=this.points,x=D.length,f=this.options.ignoreHiddenPoint,r=0;for(m=0;m<x;m++){var p=D[m];!p.isValid()||f&&!p.visible||(r+=p.y)}for(this.total=r,m=0;m<x;m++)(p=D[m]).percentage=0<r&&(p.visible||!f)?p.y/r*100:0,p.total=r},M.defaultOptions=_(K.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),M}(K),d(N.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:rt.drawRectangle,drawTracker:$.prototype.drawTracker,getCenter:Y.getCenter,getSymbol:q,isCartesian:!1,noSharedTooltip:!0,pointAttribs:$.prototype.pointAttribs,pointClass:J,requireSorting:!1,searchPoint:q,trackerGroups:["group","dataLabelsGroup"]}),X.registerSeriesType("pie",N),N}),wt(o,"Series/Pie/PieDataLabel.js",[o["Core/Series/DataLabel.js"],o["Core/Globals.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var _,K=$.noop,X=q.distribute,F=rt.series,N=J.arrayMax,O=J.clamp,k=J.defined,g=J.merge,d=J.pick,v=J.relativeLength;return function(T){function y(){var u,E,j,G,W,b,z,R,V,Z,nt,it,f=this,m=f.data,r=f.chart,p=f.options.dataLabels||{},a=p.connectorPadding,n=r.plotWidth,h=r.plotHeight,l=r.plotLeft,w=Math.round(r.chartWidth/3),P=f.center,I=P[2]/2,L=P[1],S=[[],[]],B=[0,0,0,0],c=f.dataLabelPositioners;f.visible&&(p.enabled||f._hasPointLabels)&&(m.forEach(function(ot){ot.dataLabel&&ot.visible&&ot.dataLabel.shortened&&(ot.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ot.dataLabel.shortened=!1)}),F.prototype.drawDataLabels.apply(f),m.forEach(function(ot){ot.dataLabel&&(ot.visible?(S[ot.half].push(ot),ot.dataLabel._pos=null,!k(p.style.width)&&!k(ot.options.dataLabels&&ot.options.dataLabels.style&&ot.options.dataLabels.style.width)&&ot.dataLabel.getBBox().width>w&&(ot.dataLabel.css({width:Math.round(.7*w)+"px"}),ot.dataLabel.shortened=!0)):(ot.dataLabel=ot.dataLabel.destroy(),ot.dataLabels&&1===ot.dataLabels.length&&delete ot.dataLabels))}),S.forEach(function(ot,at){var yt,mt=ot.length,_t=[];if(mt){if(f.sortByAngle(ot,at-.5),0<f.maxLabelDistance){var ut=Math.max(0,L-I-f.maxLabelDistance),ct=Math.min(L+I+f.maxLabelDistance,r.plotHeight);ot.forEach(function(H){0<H.labelDistance&&H.dataLabel&&(H.top=Math.max(0,L-I-H.labelDistance),H.bottom=Math.min(L+I+H.labelDistance,r.plotHeight),yt=H.dataLabel.getBBox().height||21,H.distributeBox={target:H.labelPosition.natural.y-H.top+yt/2,size:yt,rank:H.y},_t.push(H.distributeBox))}),X(_t,ut=ct+yt-ut,ut/5)}for(nt=0;nt<mt;nt++){if(G=(u=ot[nt]).dataLabel,Z=!1===u.visible?"hidden":"inherit",V=ut=(b=u.labelPosition).natural.y,_t&&k(u.distributeBox)&&(void 0===u.distributeBox.pos?Z="hidden":(z=u.distributeBox.size,V=c.radialDistributionY(u))),delete u.positionIndex,p.justify)R=c.justify(u,I,P);else switch(p.alignTo){case"connectors":R=c.alignToConnectors(ot,at,n,l);break;case"plotEdges":R=c.alignToPlotEdges(G,at,n,l);break;default:R=c.radialDistributionX(f,u,V,ut)}G._attr={visibility:Z,align:b.alignment},G._pos={x:R+d((it=u.options.dataLabels||{}).x,p.x)+({left:a,right:-a}[b.alignment]||0),y:V+d(it.y,p.y)-10},b.final.x=R,b.final.y=V,d(p.crop,!0)&&(W=G.getBBox().width,ut=null,R-W<a&&1===at?(ut=Math.round(W-R+a),B[3]=Math.max(ut,B[3])):R+W>n-a&&0===at&&(ut=Math.round(R+W-n+a),B[1]=Math.max(ut,B[1])),0>V-z/2?B[0]=Math.max(Math.round(z/2-V),B[0]):V+z/2>h&&(B[2]=Math.max(Math.round(V+z/2-h),B[2])),G.sideOverflow=ut)}}}),0===N(B)||this.verifyDataLabelOverflow(B))&&(this.placeDataLabels(),this.points.forEach(function(ot){var at;it=g(p,ot.options.dataLabels),(E=d(it.connectorWidth,1))&&(j=ot.connector,(G=ot.dataLabel)&&G._pos&&ot.visible&&0<ot.labelDistance?(Z=G._attr.visibility,(at=!j)&&(ot.connector=j=r.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ot.colorIndex+(ot.className?" "+ot.className:"")).add(f.dataLabelsGroup),r.styledMode||j.attr({"stroke-width":E,stroke:it.connectorColor||ot.color||"#666666"})),j[at?"attr":"animate"]({d:ot.getConnectorPath()}),j.attr("visibility",Z)):j&&(ot.connector=j.destroy()))}))}function C(){this.points.forEach(function(f){var r,m=f.dataLabel;m&&f.visible&&((r=m._pos)?(m.sideOverflow&&(m._attr.width=Math.max(m.getBBox().width-m.sideOverflow,0),m.css({width:m._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),m.shortened=!0),m.attr(m._attr),m[m.moved?"animate":"attr"](r),m.moved=!0):m&&m.attr({y:-9999})),delete f.distributeBox},this)}function M(f){var m=this.center,r=this.options,p=r.center,a=r.minSize||80,n=null!==r.size;if(!n){if(null!==p[0])var h=Math.max(m[2]-Math.max(f[1],f[3]),a);else h=Math.max(m[2]-f[1]-f[3],a),m[0]+=(f[3]-f[1])/2;null!==p[1]?h=O(h,a,m[2]-Math.max(f[0],f[2])):(h=O(h,a,m[2]-f[0]-f[2]),m[1]+=(f[0]-f[2])/2),h<m[2]?(m[2]=h,m[3]=Math.min(v(r.innerSize||0,h),h),this.translate(m),this.drawDataLabels&&this.drawDataLabels()):n=!0}return n}var D=[],x={radialDistributionY:function(f){return f.top+f.distributeBox.pos},radialDistributionX:function(f,m,r,p){return f.getX(r<m.top+2||r>m.bottom-2?p:r,m.half,m)},justify:function(f,m,r){return r[0]+(f.half?-1:1)*(m+f.labelDistance)},alignToPlotEdges:function(f,m,r,p){return f=f.getBBox().width,m?f+p:r-f-p},alignToConnectors:function(f,m,r,p){var n,a=0;return f.forEach(function(h){(n=h.dataLabel.getBBox().width)>a&&(a=n)}),m?a+p:r-a-p}};T.compose=function(f){Y.compose(F),-1===D.indexOf(f)&&(D.push(f),(f=f.prototype).dataLabelPositioners=x,f.alignDataLabel=K,f.drawDataLabels=y,f.placeDataLabels=C,f.verifyDataLabelOverflow=M)}}(_||(_={})),_}),wt(o,"Extensions/OverlappingDataLabels.js",[o["Core/Chart/Chart.js"],o["Core/Utilities.js"]],function(Y,$){function q(O,k){var g=!1;if(O){var d=O.newOpacity;O.oldOpacity!==d&&(O.alignAttr&&O.placed?(O[d?"removeClass":"addClass"]("highcharts-data-label-hidden"),g=!0,O.alignAttr.opacity=d,O[O.isOld?"animate":"attr"](O.alignAttr,null,function(){k.styledMode||O.css({pointerEvents:d?"auto":"none"})}),J(k,"afterHideOverlappingLabel")):O.attr({opacity:d})),O.isOld=!0}return g}var J=$.fireEvent,K=$.isArray,X=$.isNumber,F=$.objectEach,N=$.pick;(0,$.addEvent)(Y,"render",function(){var O=this,k=[];(this.labelCollectors||[]).forEach(function(g){k=k.concat(g())}),(this.yAxis||[]).forEach(function(g){g.stacking&&g.options.stackLabels&&!g.options.stackLabels.allowOverlap&&F(g.stacking.stacks,function(d){F(d,function(v){v.label&&"hidden"!==v.label.visibility&&k.push(v.label)})})}),(this.series||[]).forEach(function(g){var d=g.options.dataLabels;g.visible&&(!1!==d.enabled||g._hasPointLabels)&&((d=function(v){return v.forEach(function(_){_.visible&&(K(_.dataLabels)?_.dataLabels:_.dataLabel?[_.dataLabel]:[]).forEach(function(T){var y=T.options;T.labelrank=N(y.labelrank,_.labelrank,_.shapeArgs&&_.shapeArgs.height),y.allowOverlap?(T.oldOpacity=T.opacity,T.newOpacity=1,q(T,O)):k.push(T)})})})(g.nodes||[]),d(g.points))}),this.hideOverlappingLabels(k)}),Y.prototype.hideOverlappingLabels=function(O){var v,_,T,k=this,g=O.length,d=k.renderer,y=!1,C=function(x){var f,p,m=x.box?0:x.padding||0,r=f=0;if(x&&(!x.alignAttr||x.placed)){var a=x.alignAttr||{x:x.attr("x"),y:x.attr("y")},n=x.parentGroup;return x.width||(f=x.getBBox(),x.width=f.width,x.height=f.height,f=d.fontMetrics(null,x.element).h),(p={left:"0",center:"0.5",right:"1"}[x.alignValue])?r=+p*(x.width-2*m):X(x.x)&&Math.round(x.x)!==x.translateX&&(r=x.x-x.translateX),{x:a.x+(n.translateX||0)+m-(r||0),y:a.y+(n.translateY||0)+m-f,width:x.width-2*m,height:x.height-2*m}}};for(_=0;_<g;_++)(v=O[_])&&(v.oldOpacity=v.opacity,v.newOpacity=1,v.absoluteBox=C(v));for(O.sort(function(x,f){return(f.labelrank||0)-(x.labelrank||0)}),_=0;_<g;_++){var M=(C=O[_])&&C.absoluteBox;for(v=_+1;v<g;++v){var D=(T=O[v])&&T.absoluteBox;!M||!D||C===T||0===C.newOpacity||0===T.newOpacity||D.x>=M.x+M.width||D.x+D.width<=M.x||D.y>=M.y+M.height||D.y+D.height<=M.y||((C.labelrank<T.labelrank?C:T).newOpacity=0)}}O.forEach(function(x){q(x,k)&&(y=!0)}),y&&J(k,"afterHideAllOverlappingLabels")}}),wt(o,"Core/Responsive.js",[o["Core/Utilities.js"]],function(Y){var k,$=Y.extend,q=Y.find,rt=Y.isArray,J=Y.isObject,K=Y.merge,X=Y.objectEach,F=Y.pick,N=Y.splat,O=Y.uniqueKey;return function(g){var d=[];g.compose=function(_){return-1===d.indexOf(_)&&(d.push(_),$(_.prototype,v.prototype)),_};var v=function(){function _(){}return _.prototype.currentOptions=function(T){var C=this,M={};return function y(D,x,f,m){var r;X(D,function(p,a){if(!m&&-1<C.collectionsWithUpdate.indexOf(a)&&x[a])for(p=N(p),f[a]=[],r=0;r<Math.max(p.length,x[a].length);r++)x[a][r]&&(void 0===p[r]?f[a][r]=x[a][r]:(f[a][r]={},y(p[r],x[a][r],f[a][r],m+1)));else J(p)?(f[a]=rt(p)?[]:{},y(p,x[a]||{},f[a],m+1)):f[a]=void 0===x[a]?null:x[a]})}(T,this.options,M,0),M},_.prototype.matchResponsiveRule=function(T,y){var C=T.condition;(C.callback||function(){return this.chartWidth<=F(C.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=F(C.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=F(C.minWidth,0)&&this.chartHeight>=F(C.minHeight,0)}).call(this)&&y.push(T._id)},_.prototype.setResponsive=function(T,y){var C=this,M=this.options.responsive,D=this.currentResponsive,x=[];!y&&M&&M.rules&&M.rules.forEach(function(f){void 0===f._id&&(f._id=O()),C.matchResponsiveRule(f,x)},this),(y=K.apply(void 0,x.map(function(f){return q((M||{}).rules||[],function(m){return m._id===f})}).map(function(f){return f&&f.chartOptions}))).isResponsiveOptions=!0,(x=x.toString()||void 0)!==(D&&D.ruleIds)&&(D&&this.update(D.undoOptions,T,!0),x?((D=this.currentOptions(y)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:x,mergedOptions:y,undoOptions:D},this.update(y,T,!0)):this.currentResponsive=void 0)},_}()}(k||(k={})),k}),wt(o,"masters/highcharts.src.js",[o["Core/Globals.js"],o["Core/Utilities.js"],o["Core/DefaultOptions.js"],o["Core/Animation/Fx.js"],o["Core/Animation/AnimationUtilities.js"],o["Core/Renderer/HTML/AST.js"],o["Core/FormatUtilities.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Renderer/HTML/HTMLElement.js"],o["Core/Renderer/HTML/HTMLRenderer.js"],o["Core/Axis/Axis.js"],o["Core/Axis/DateTimeAxis.js"],o["Core/Axis/LogarithmicAxis.js"],o["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],o["Core/Axis/Tick.js"],o["Core/Tooltip.js"],o["Core/Series/Point.js"],o["Core/Pointer.js"],o["Core/MSPointer.js"],o["Core/Legend/Legend.js"],o["Core/Chart/Chart.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Series/Column/ColumnSeries.js"],o["Series/Column/ColumnDataLabel.js"],o["Series/Pie/PieSeries.js"],o["Series/Pie/PieDataLabel.js"],o["Core/Series/DataLabel.js"],o["Core/Responsive.js"],o["Core/Color/Color.js"],o["Core/Time.js"]],function(Y,$,q,rt,J,K,X,F,N,O,k,g,d,v,_,T,y,C,M,D,x,f,m,r,p,a,n,h,l,w,P,I,L){return Y.animate=J.animate,Y.animObject=J.animObject,Y.getDeferredAnimation=J.getDeferredAnimation,Y.setAnimation=J.setAnimation,Y.stop=J.stop,Y.timers=rt.timers,Y.AST=K,Y.Axis=d,Y.Chart=m,Y.chart=m.chart,Y.Fx=rt,Y.Legend=f,Y.PlotLineOrBand=T,Y.Point=M,Y.Pointer=x.isRequired()?x:D,Y.Series=r,Y.SVGElement=N,Y.SVGRenderer=O,Y.Tick=y,Y.Time=L,Y.Tooltip=C,Y.Color=I,Y.color=I.parse,g.compose(O),k.compose(N),Y.defaultOptions=q.defaultOptions,Y.getOptions=q.getOptions,Y.time=q.defaultTime,Y.setOptions=q.setOptions,Y.dateFormat=X.dateFormat,Y.format=X.format,Y.numberFormat=X.numberFormat,Y.addEvent=$.addEvent,Y.arrayMax=$.arrayMax,Y.arrayMin=$.arrayMin,Y.attr=$.attr,Y.clearTimeout=$.clearTimeout,Y.correctFloat=$.correctFloat,Y.createElement=$.createElement,Y.css=$.css,Y.defined=$.defined,Y.destroyObjectProperties=$.destroyObjectProperties,Y.discardElement=$.discardElement,Y.distribute=F.distribute,Y.erase=$.erase,Y.error=$.error,Y.extend=$.extend,Y.extendClass=$.extendClass,Y.find=$.find,Y.fireEvent=$.fireEvent,Y.getMagnitude=$.getMagnitude,Y.getStyle=$.getStyle,Y.inArray=$.inArray,Y.isArray=$.isArray,Y.isClass=$.isClass,Y.isDOMElement=$.isDOMElement,Y.isFunction=$.isFunction,Y.isNumber=$.isNumber,Y.isObject=$.isObject,Y.isString=$.isString,Y.keys=$.keys,Y.merge=$.merge,Y.normalizeTickInterval=$.normalizeTickInterval,Y.objectEach=$.objectEach,Y.offset=$.offset,Y.pad=$.pad,Y.pick=$.pick,Y.pInt=$.pInt,Y.relativeLength=$.relativeLength,Y.removeEvent=$.removeEvent,Y.seriesType=p.seriesType,Y.splat=$.splat,Y.stableSort=$.stableSort,Y.syncTimeout=$.syncTimeout,Y.timeUnits=$.timeUnits,Y.uniqueKey=$.uniqueKey,Y.useSerialIds=$.useSerialIds,Y.wrap=$.wrap,n.compose(a),w.compose(r),v.compose(d),_.compose(d),l.compose(h),T.compose(d),P.compose(m),Y}),wt(o,"Core/Axis/Color/ColorAxisComposition.js",[o["Core/Color/Color.js"],o["Core/Utilities.js"]],function(Y,$){var N,q=Y.parse,rt=$.addEvent,J=$.extend,K=$.merge,X=$.pick,F=$.splat;return function(O){function k(){var r=this,p=this.options;this.colorAxis=[],p.colorAxis&&(p.colorAxis=F(p.colorAxis),p.colorAxis.forEach(function(a,n){a.index=n,new m(r,a)}))}function g(r){var h,l,p=this,a=function(w){-1!==(w=r.allItems.indexOf(w))&&(p.destroyItem(r.allItems[w]),r.allItems.splice(w,1))},n=[];for((this.chart.colorAxis||[]).forEach(function(w){(h=w.options)&&h.showInLegend&&(h.dataClasses&&h.visible?n=n.concat(w.getDataClassLegendSymbols()):h.visible&&n.push(w),w.series.forEach(function(P){(!P.options.showInLegend||h.dataClasses)&&("point"===P.options.legendType?P.points.forEach(function(I){a(I)}):a(P))}))}),l=n.length;l--;)r.allItems.unshift(n[l])}function d(r){r.visible&&r.item.legendColor&&r.item.legendSymbol.attr({fill:r.item.legendColor})}function v(){var r=this.chart.colorAxis;r&&r.forEach(function(p,a,n){p.update({},n)})}function _(){(this.chart.colorAxis&&this.chart.colorAxis.length||this.colorAttribs)&&this.translateColors()}function T(){var r=this.axisTypes;r?-1===r.indexOf("colorAxis")&&r.push("colorAxis"):this.axisTypes=["colorAxis"]}function y(r){var p=this,a=r?"show":"hide";p.visible=p.options.visible=!!r,["graphic","dataLabel"].forEach(function(n){p[n]&&p[n][a]()}),this.series.buildKDTree()}function C(){var r=this,p=this.options.nullColor,a=this.colorAxis,n=this.colorKey;(this.data.length?this.data:this.points).forEach(function(h){var l=h.getNestedProperty(n);(l=h.options.color||(h.isNull||null===h.value?p:a&&void 0!==l?a.toColor(l,h):h.color||r.color))&&h.color!==l&&(h.color=l,"point"===r.options.legendType&&h.legendItem&&r.chart.legend.colorizeItem(h,h.visible))})}function D(){this.elem.attr("fill",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}function x(){this.elem.attr("stroke",q(this.start).tweenTo(q(this.end),this.pos),void 0,!0)}var m,f=[];O.compose=function(r,p,a,n,h){m||(m=r),-1===f.indexOf(p)&&(f.push(p),(r=p.prototype).collectionsWithUpdate.push("colorAxis"),r.collectionsWithInit.colorAxis=[r.addColorAxis],rt(p,"afterGetAxes",k),function(r){var p=r.prototype.createAxis;r.prototype.createAxis=function(a,n){if("colorAxis"!==a)return p.apply(this,arguments);var h=new m(this,K(n.axis,{index:this[a].length,isX:!1}));return this.isDirtyLegend=!0,this.axes.forEach(function(l){l.series=[]}),this.series.forEach(function(l){l.bindAxes(),l.isDirtyData=!0}),X(n.redraw,!0)&&this.redraw(n.animation),h}}(p)),-1===f.indexOf(a)&&(f.push(a),(p=a.prototype).fillSetter=D,p.strokeSetter=x),-1===f.indexOf(n)&&(f.push(n),rt(n,"afterGetAllItems",g),rt(n,"afterColorizeItem",d),rt(n,"afterUpdate",v)),-1===f.indexOf(h)&&(f.push(h),J(h.prototype,{optionalAxis:"colorAxis",translateColors:C}),J(h.prototype.pointClass.prototype,{setVisible:y}),rt(h,"afterTranslate",_),rt(h,"bindAxes",T))},O.pointSetVisible=y}(N||(N={})),N}),wt(o,"Core/Axis/Color/ColorAxisDefaults.js",[],function(){return{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify",rotation:0},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0}}),wt(o,"Core/Axis/Color/ColorAxis.js",[o["Core/Axis/Axis.js"],o["Core/Color/Color.js"],o["Core/Axis/Color/ColorAxisComposition.js"],o["Core/Axis/Color/ColorAxisDefaults.js"],o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F){var y,N=this&&this.__extends||(y=function(C,M){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,x){D.__proto__=x}||function(D,x){for(var f in x)x.hasOwnProperty(f)&&(D[f]=x[f])})(C,M)},function(C,M){function D(){this.constructor=C}y(C,M),C.prototype=null===M?Object.create(M):(D.prototype=M.prototype,new D)}),O=$.parse,k=J.noop,g=X.series,d=F.extend,v=F.isNumber,_=F.merge,T=F.pick;return $=function(y){function C(M,D){var x=y.call(this,M,D)||this;return x.beforePadding=!1,x.chart=void 0,x.coll="colorAxis",x.dataClasses=void 0,x.legendItem=void 0,x.legendItems=void 0,x.name="",x.options=void 0,x.stops=void 0,x.visible=!0,x.init(M,D),x}return N(C,y),C.compose=function(M,D,x,f){q.compose(C,M,D,x,f)},C.prototype.init=function(M,D){var x=M.options.legend||{},f=D.layout?"vertical"!==D.layout:"vertical"!==x.layout,m=D.visible;x=_(C.defaultColorAxisOptions,D,{showEmpty:!1,title:null,visible:x.enabled&&!1!==m}),this.coll="colorAxis",this.side=D.side||f?2:1,this.reversed=D.reversed||!f,this.opposite=!f,y.prototype.init.call(this,M,x),this.userOptions.visible=m,D.dataClasses&&this.initDataClasses(D),this.initStops(),this.horiz=f,this.zoomEnabled=!1},C.prototype.initDataClasses=function(M){var m,D=this.chart,x=this.options,f=M.dataClasses.length,r=0,p=D.options.chart.colorCount;this.dataClasses=m=[],this.legendItems=[],(M.dataClasses||[]).forEach(function(a,n){a=_(a),m.push(a),(D.styledMode||!a.color)&&("category"===x.dataClassColor?(D.styledMode||(p=(n=D.options.colors).length,a.color=n[r]),a.colorIndex=r,++r===p&&(r=0)):a.color=O(x.minColor).tweenTo(O(x.maxColor),2>f?.5:n/(f-1)))})},C.prototype.hasData=function(){return!!(this.tickPositions||[]).length},C.prototype.setTickPositions=function(){if(!this.dataClasses)return y.prototype.setTickPositions.call(this)},C.prototype.initStops=function(){this.stops=this.options.stops||[[0,this.options.minColor],[1,this.options.maxColor]],this.stops.forEach(function(M){M.color=O(M[1])})},C.prototype.setOptions=function(M){y.prototype.setOptions.call(this,M),this.options.crosshair=this.options.marker},C.prototype.setAxisSize=function(){var f,m,M=this.legendSymbol,D=this.chart,x=D.options.legend||{};M?(this.left=x=M.attr("x"),this.top=f=M.attr("y"),this.width=m=M.attr("width"),this.height=M=M.attr("height"),this.right=D.chartWidth-x-m,this.bottom=D.chartHeight-f-M,this.len=this.horiz?m:M,this.pos=this.horiz?x:f):this.len=(this.horiz?x.symbolWidth:x.symbolHeight)||C.defaultLegendLength},C.prototype.normalizedValue=function(M){return this.logarithmic&&(M=this.logarithmic.log2lin(M)),1-(this.max-M)/(this.max-this.min||1)},C.prototype.toColor=function(M,D){var m,x=this.dataClasses,f=this.stops;if(x)for(m=x.length;m--;){var r=x[m],p=r.from;if(f=r.to,(void 0===p||M>=p)&&(void 0===f||M<=f)){var a=r.color;D&&(D.dataClass=m,D.colorIndex=r.colorIndex);break}}else{for(M=this.normalizedValue(M),m=f.length;m--&&!(M>f[m][0]););a=(p=f[m]||f[m+1]).color.tweenTo((f=f[m+1]||p).color,M=1-(f[0]-M)/(f[0]-p[0]||1))}return a},C.prototype.getOffset=function(){var M=this.legendGroup,D=this.chart.axisOffset[this.side];M&&(this.axisParent=M,y.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=D)},C.prototype.setLegendColor=function(){var M=this.reversed,D=M?1:0;M=M?0:1,this.legendColor={linearGradient:{x1:(D=this.horiz?[D,0,M,0]:[0,M,0,D])[0],y1:D[1],x2:D[2],y2:D[3]},stops:this.stops}},C.prototype.drawLegendSymbol=function(M,D){var x=M.padding,f=M.options,m=this.horiz,r=T(f.symbolWidth,m?C.defaultLegendLength:12),p=T(f.symbolHeight,m?12:C.defaultLegendLength),a=T(f.labelPadding,m?16:30);f=T(f.itemDistance,10),this.setLegendColor(),D.legendSymbol=this.chart.renderer.rect(0,M.baseline-11,r,p).attr({zIndex:1}).add(D.legendGroup),this.legendItemWidth=r+x+(m?f:a),this.legendItemHeight=p+x+(m?a:0)},C.prototype.setState=function(M){this.series.forEach(function(D){D.setState(M)})},C.prototype.setVisible=function(){},C.prototype.getSeriesExtremes=function(){var x,M=this.series,D=M.length;for(this.dataMin=1/0,this.dataMax=-1/0;D--;){var f=M[D],m=f.colorKey=T(f.options.colorKey,f.colorKey,f.pointValKey,f.zoneAxis,"y"),r=f.pointArrayMap,p=f[m+"Min"]&&f[m+"Max"];if(f[m+"Data"])var a=f[m+"Data"];else if(r){a=[],r=r.indexOf(m);var n=f.yData;if(0<=r&&n)for(x=0;x<n.length;x++)a.push(T(n[x][r],n[x]))}else a=f.yData;p?(f.minColorValue=f[m+"Min"],f.maxColorValue=f[m+"Max"]):(a=g.prototype.getExtremes.call(f,a),f.minColorValue=a.dataMin,f.maxColorValue=a.dataMax),void 0!==f.minColorValue&&(this.dataMin=Math.min(this.dataMin,f.minColorValue),this.dataMax=Math.max(this.dataMax,f.maxColorValue)),p||g.prototype.applyExtremes.call(f)}},C.prototype.drawCrosshair=function(M,D){var x=D&&D.plotX,f=D&&D.plotY,m=this.pos,r=this.len;if(D){var p=this.toPixels(D.getNestedProperty(D.series.colorKey));p<m?p=m-2:p>m+r&&(p=m+r+2),D.plotX=p,D.plotY=this.len-p,y.prototype.drawCrosshair.call(this,M,D),D.plotX=x,D.plotY=f,this.cross&&!this.cross.addedToColorAxis&&this.legendGroup&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.addedToColorAxis=!0,this.chart.styledMode||"object"!=typeof this.crosshair||this.cross.attr({fill:this.crosshair.color}))}},C.prototype.getPlotLinePath=function(M){var D=this.left,x=M.translatedValue,f=this.top;return v(x)?this.horiz?[["M",x-4,f-6],["L",x+4,f-6],["L",x,f],["Z"]]:[["M",D,x],["L",D-6,x+6],["L",D-6,x-6],["Z"]]:y.prototype.getPlotLinePath.call(this,M)},C.prototype.update=function(M,D){var x=this.chart.legend;this.series.forEach(function(f){f.isDirtyData=!0}),(M.dataClasses&&x.allItems||this.dataClasses)&&this.destroyItems(),y.prototype.update.call(this,M,D),this.legendItem&&(this.setLegendColor(),x.colorizeItem(this,!0))},C.prototype.destroyItems=function(){var M=this.chart;this.legendItem?M.legend.destroyItem(this):this.legendItems&&this.legendItems.forEach(function(D){M.legend.destroyItem(D)}),M.isDirtyLegend=!0},C.prototype.destroy=function(){this.chart.isDirtyLegend=!0,this.destroyItems(),y.prototype.destroy.apply(this,[].slice.call(arguments))},C.prototype.remove=function(M){this.destroyItems(),y.prototype.remove.call(this,M)},C.prototype.getDataClassLegendSymbols=function(){var p,M=this,D=M.chart,x=M.legendItems,f=D.options.legend,m=f.valueDecimals,r=f.valueSuffix||"";return x.length||M.dataClasses.forEach(function(a,n){var h=a.from,l=a.to,w=D.numberFormatter,P=!0;p="",void 0===h?p="< ":void 0===l&&(p="> "),void 0!==h&&(p+=w(h,m)+r),void 0!==h&&void 0!==l&&(p+=" - "),void 0!==l&&(p+=w(l,m)+r),x.push(d({chart:D,name:p,options:{},drawLegendSymbol:K.drawRectangle,visible:!0,setState:k,isDataClass:!0,setVisible:function(){P=M.visible=!P,M.series.forEach(function(I){I.points.forEach(function(L){L.dataClass===n&&L.setVisible(P)})}),D.legend.colorizeItem(this,P)}},a))}),x},C.defaultColorAxisOptions=rt,C.defaultLegendLength=200,C.keepProps=["legendGroup","legendItemHeight","legendItemWidth","legendItem","legendSymbol"],C}(Y),Array.prototype.push.apply(Y.keepProps,$.keepProps),$}),wt(o,"Maps/MapNavigationOptionsDefault.js",[o["Core/DefaultOptions.js"],o["Core/Utilities.js"]],function(Y,$){return($=$.extend)(Y.defaultOptions.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),Y.defaultOptions.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1}}),wt(o,"Maps/MapNavigation.js",[o["Core/Chart/Chart.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q){function rt(d){d&&(d.preventDefault&&d.preventDefault(),d.stopPropagation&&d.stopPropagation(),d.cancelBubble=!0)}function J(d){this.init(d)}var K=$.doc,X=q.addEvent,F=q.extend,N=q.isNumber,O=q.merge,k=q.objectEach,g=q.pick;J.prototype.init=function(d){this.chart=d,d.mapNavButtons=[]},J.prototype.update=function(d){var T,y,C,M,v=this.chart,_=v.options.mapNavigation,D=function(f){this.handler.call(v,f),rt(f)},x=v.mapNavButtons;for(d&&(_=v.options.mapNavigation=O(v.options.mapNavigation,d));x.length;)x.pop().destroy();g(_.enableButtons,_.enabled)&&!v.renderer.forExport&&k(_.buttons,function(f,m){f=O(_.buttonOptions,f),!v.styledMode&&f.theme&&((T=f.theme).style=O(f.theme.style,f.style),C=(y=T.states)&&y.hover,M=y&&y.select,delete T.states);var r=v.renderer.button(f.text||"",0,0,D,T,C,M,void 0,"zoomIn"===m?"topbutton":"bottombutton").addClass("highcharts-map-navigation highcharts-"+{zoomIn:"zoom-in",zoomOut:"zoom-out"}[m]).attr({width:f.width,height:f.height,title:v.options.lang[m],padding:f.padding,zIndex:5}).add();if(r.handler=f.onclick,X(r.element,"dblclick",rt),x.push(r),F(f,{width:r.width,height:2*r.height}),v.hasLoaded)r.align(f,!1,f.alignTo);else var p=X(v,"load",function(){r.element&&r.align(f,!1,f.alignTo),p()})}),this.updateEvents(_)},J.prototype.updateEvents=function(d){var v=this.chart;g(d.enableDoubleClickZoom,d.enabled)||d.enableDoubleClickZoomTo?this.unbindDblClick=this.unbindDblClick||X(v.container,"dblclick",function(_){v.pointer.onContainerDblClick(_)}):this.unbindDblClick&&(this.unbindDblClick=this.unbindDblClick()),g(d.enableMouseWheelZoom,d.enabled)?this.unbindMouseWheel=this.unbindMouseWheel||X(v.container,void 0!==K.onwheel?"wheel":void 0!==K.onmousewheel?"mousewheel":"DOMMouseScroll",function(_){return v.pointer.inClass(_.target,"highcharts-no-mousewheel")||(v.pointer.onContainerMouseWheel(_),rt(_)),!1}):this.unbindMouseWheel&&(this.unbindMouseWheel=this.unbindMouseWheel())},F(Y.prototype,{fitToBox:function(d,v){return[["x","width"],["y","height"]].forEach(function(_){var T=_[0];d[T]+d[_=_[1]]>v[T]+v[_]&&(d[_]>v[_]?(d[_]=v[_],d[T]=v[T]):d[T]=v[T]+v[_]-d[_]),d[_]>v[_]&&(d[_]=v[_]),d[T]<v[T]&&(d[T]=v[T])}),d},mapZoom:function(d,v,_,T,y){this.mapView&&(N(d)&&(d=Math.log(d)/Math.log(.5)),this.mapView.zoomBy(d,N(v)&&N(_)?this.mapView.projection.inverse([v,_]):void 0,N(T)&&N(y)?[T,y]:void 0))}}),X(Y,"beforeRender",function(){this.mapNavigation=new J(this),this.mapNavigation.update()}),$.MapNavigation=J}),wt(o,"Maps/MapPointer.js",[o["Core/Pointer.js"],o["Core/Utilities.js"]],function(Y,$){var q=$.defined,rt=$.extend,J=$.pick;$=$.wrap;var X,K=0;rt(Y.prototype,{onContainerDblClick:function(F){var N=this.chart;F=this.normalize(F),N.options.mapNavigation.enableDoubleClickZoomTo?N.pointer.inClass(F.target,"highcharts-tracker")&&N.hoverPoint&&N.hoverPoint.zoomTo():N.isInsidePlot(F.chartX-N.plotLeft,F.chartY-N.plotTop)&&N.mapZoom(.5,void 0,void 0,F.chartX,F.chartY)},onContainerMouseWheel:function(F){var N=this.chart;F=this.normalize(F);var O=q(F.wheelDelta)&&-F.wheelDelta/120||F.deltaY||F.detail;1<=Math.abs(O)&&(K+=Math.abs(O),X&&clearTimeout(X),X=setTimeout(function(){K=0},50)),10>K&&N.isInsidePlot(F.chartX-N.plotLeft,F.chartY-N.plotTop)&&N.mapView&&N.mapView.zoomBy((N.options.mapNavigation.mouseWheelSensitivity-1)*-O,void 0,[F.chartX,F.chartY],!(1>Math.abs(O))&&void 0)}}),$(Y.prototype,"zoomOption",function(F){var N=this.chart.options.mapNavigation;J(N.enableTouchZoom,N.enabled)&&(this.chart.options.chart.pinchType="xy"),F.apply(this,[].slice.call(arguments,1))}),$(Y.prototype,"pinchTranslate",function(F,N,O,k,g,d,v){F.call(this,N,O,k,g,d,v),"map"===this.chart.options.chart.type&&this.hasZoom&&this.pinchTranslateDirection(!(F=k.scaleX>k.scaleY),N,O,k,g,d,v,F?k.scaleX:k.scaleY)})}),wt(o,"Series/ColorMapMixin.js",[o["Core/Globals.js"],o["Core/Series/Point.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=Y.noop;Y=Y.seriesTypes;var J=q.defined;return(q=q.addEvent)($,"afterSetState",function(K){this.moveToTopOnHover&&this.graphic&&this.graphic.attr({zIndex:K&&"hover"===K.state?1:0})}),{PointMixin:{dataLabelOnNull:!0,moveToTopOnHover:!0,isValid:function(){return null!==this.value&&this.value!==1/0&&this.value!==-1/0}},SeriesMixin:{pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:rt,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:Y.column.prototype.pointAttribs,colorAttribs:function(K){var X={};return!J(K.color)||K.state&&"normal"!==K.state||(X[this.colorProp||"fill"]=K.color),X}}}}),wt(o,"Maps/MapViewOptionsDefault.js",[],function(){return{center:[0,0],maxZoom:void 0,padding:0,projection:void 0,zoom:void 0}}),wt(o,"Maps/Projections/LambertConformalConic.js",[],function(){var Y=Math.sign||function(K){return 0===K?0:0<K?1:-1},$=Math.PI/180,q=Math.PI/2,rt=0,J=0;return{init:function(K){var X=(K.parallels||[]).map(function(N){return N*$});K=X[0]||0,X=X[1]||K;var F=Math.cos(K);rt=K===X?Math.sin(K):Math.log(F/Math.cos(X))/Math.log(Math.tan((q+X)/2)/Math.tan((q+K)/2)),1e-10>Math.abs(rt)&&(rt=1e-10*(Y(rt)||1)),J=F*Math.pow(Math.tan((q+K)/2),rt)/rt},forward:function(K){var X=K[0]*$;return K=K[1]*$,0<J?K<1e-6-q&&(K=1e-6-q):K>q-1e-6&&(K=q-1e-6),[(K=J/Math.pow(Math.tan((q+K)/2),rt))*Math.sin(rt*X)*63.78137,63.78137*(J-K*Math.cos(rt*X))]},inverse:function(K){var X=K[0]/63.78137;K=J-K[1]/63.78137;var F=Y(rt)*Math.sqrt(X*X+K*K),N=Math.atan2(X,Math.abs(K))*Y(K);return 0>K*rt&&(N-=Math.PI*Y(X)*Y(K)),[N/rt/$,(2*Math.atan(Math.pow(J/F,1/rt))-q)/$]}}}),wt(o,"Maps/Projections/EqualEarth.js",[],function(){var Y=Math.sqrt(3)/2;return{forward:function($){var q=Math.PI/180,rt=Math.asin(Y*Math.sin($[1]*q)),J=rt*rt,K=J*J*J;return[$[0]*q*Math.cos(rt)*74.03120656864502/(Y*(1.340264+3*-.081106*J+K*(7*893e-6+.034164*J))),74.03120656864502*rt*(1.340264+-.081106*J+K*(893e-6+.003796*J))]},inverse:function($){var q=$[0]/74.03120656864502;$=$[1]/74.03120656864502;var K,rt=180/Math.PI,J=$;for(K=0;12>K;++K){var X=J*J,F=X*X*X,N=J*(1.340264+-.081106*X+F*(893e-6+.003796*X))-$;if(J-=N/=X=1.340264+3*-.081106*X+F*(7*893e-6+.034164*X),1e-9>Math.abs(N))break}return[rt*Y*q*(1.340264+3*-.081106*(X=J*J)+X*X*X*(7*893e-6+.034164*X))/Math.cos(J),rt*Math.asin(Math.sin(J)/Y)]}}}),wt(o,"Maps/Projections/Miller.js",[],function(){var Y=Math.PI/4,$=Math.PI/180;return{forward:function(q){return[q[0]*$*63.78137,79.7267125*Math.log(Math.tan(Y+.4*q[1]*$))]},inverse:function(q){return[q[0]/63.78137/$,2.5*(Math.atan(Math.exp(q[1]/63.78137*.8))-Y)/$]}}}),wt(o,"Maps/Projections/Orthographic.js",[],function(){var Y=Math.PI/180;return{forward:function($){var q=$[0];return-90>q||90<q?[NaN,NaN]:($=$[1]*Y,[Math.cos($)*Math.sin(q*Y)*63.78460826781007,63.78460826781007*Math.sin($)])},inverse:function($){var q=$[0]/63.78460826781007;$=$[1]/63.78460826781007;var rt=Math.sqrt(q*q+$*$),J=Math.asin(rt),K=Math.sin(J);return[Math.atan2(q*K,rt*Math.cos(J))/Y,Math.asin(rt&&$*K/rt)/Y]}}}),wt(o,"Maps/Projections/WebMercator.js",[],function(){var Y=Math.PI/180;return{forward:function($){if(85.0511287798<Math.abs($[1]))return[NaN,NaN];var q=Math.sin($[1]*Y);return[63.78137*$[0]*Y,63.78137*Math.log((1+q)/(1-q))/2]},inverse:function($){return[$[0]/(63.78137*Y),(2*Math.atan(Math.exp($[1]/63.78137))-Math.PI/2)/Y]},maxLatitude:85.0511287798}}),wt(o,"Maps/Projections/ProjectionRegistry.js",[o["Maps/Projections/LambertConformalConic.js"],o["Maps/Projections/EqualEarth.js"],o["Maps/Projections/Miller.js"],o["Maps/Projections/Orthographic.js"],o["Maps/Projections/WebMercator.js"]],function(Y,$,q,rt,J){return{EqualEarth:$,LambertConformalConic:Y,Miller:q,Orthographic:rt,WebMercator:J}}),wt(o,"Maps/Projection.js",[o["Maps/Projections/ProjectionRegistry.js"],o["Core/Utilities.js"]],function(Y,$){var q=this&&this.__spreadArrays||function(){for(var X=0,F=0,N=arguments.length;F<N;F++)X+=arguments[F].length;X=Array(X);var O=0;for(F=0;F<N;F++)for(var k=arguments[F],g=0,d=k.length;g<d;g++,O++)X[O]=k[g];return X},rt=$.erase,J=2*Math.PI/360,K=function(X){return-180>X&&(X+=360),180<X&&(X-=360),X};return function(){function X(F){void 0===F&&(F={}),this.hasGeoProjection=this.hasCoordinates=!1,this.maxLatitude=90,this.options=F;var N=F.name,O=F.rotation;this.rotator=O?this.getRotator(O):void 0;var k=this.def=N?X.registry[N]:void 0,g=this.rotator;k&&(k.init&&k.init(F),this.maxLatitude=k.maxLatitude||90,this.hasGeoProjection=!0),g&&k?(this.forward=function(d){return d=g.forward(d),k.forward(d)},this.inverse=function(d){return d=k.inverse(d),g.inverse(d)}):k?(this.forward=k.forward,this.inverse=k.inverse):g&&(this.forward=g.forward,this.inverse=g.inverse)}return X.add=function(F,N){X.registry[F]=N},X.greatCircle=function(F,N,O){var k=Math.atan2,g=Math.cos,d=Math.sin,v=Math.sqrt,_=F[1]*J,T=F[0]*J,y=N[1]*J,C=N[0]*J,M=y-_,D=C-T;M=2*k(v(M=d(M/2)*d(M/2)+g(_)*g(y)*d(D/2)*d(D/2)),v(1-M));var x=Math.round(6371e3*M/5e5);if(D=[],O&&D.push(F),1<x)for(x=F=1/x;.999>x;x+=F){var f=d((1-x)*M)/d(M),m=d(x*M)/d(M),r=f*g(_)*g(T)+m*g(y)*g(C),p=f*g(_)*d(T)+m*g(y)*d(C);f=k(f=f*d(_)+m*d(y),v(r*r+p*p)),r=k(p,r),D.push([r/J,f/J])}return O&&D.push(N),D},X.insertGreatCircles=function(F){for(var N=F.length-1;N--;)if(10<Math.max(Math.abs(F[N][0]-F[N+1][0]),Math.abs(F[N][1]-F[N+1][1]))){var O=X.greatCircle(F[N],F[N+1]);O.length&&F.splice.apply(F,q([N+1,0],O))}},X.toString=function(F){var N=(F=F||{}).rotation;return[F.name,N&&N.join(",")].join(";")},X.prototype.getRotator=function(F){var N=F[0]*J,O=(F[1]||0)*J;F=(F[2]||0)*J;var k=Math.cos(O),g=Math.sin(O),d=Math.cos(F),v=Math.sin(F);if(0!==N||0!==O||0!==F)return{forward:function(_){var T=_[0]*J+N,y=_[1]*J,C=Math.cos(y);return _=Math.cos(T)*C,T=Math.sin(T)*C,C=(y=Math.sin(y))*k+_*g,[Math.atan2(T*d-C*v,_*k-y*g)/J,Math.asin(C*d+T*v)/J]},inverse:function(_){var T=_[0]*J,y=_[1]*J,C=Math.cos(y);return _=Math.cos(T)*C,T=Math.sin(T)*C,C=(y=Math.sin(y))*d-T*v,[(Math.atan2(T*d+y*v,_*k+C*g)-N)/J,Math.asin(C*k-_*g)/J]}}},X.prototype.forward=function(F){return F},X.prototype.inverse=function(F){return F},X.prototype.clipOnAntimeridian=function(F,N){var O=[],k=[F];if(F.forEach(function(C,M){var D=F[M-1];if(!M){if(!N)return;D=F[F.length-1]}var x=D[0],f=C[0];(-90>x||90<x)&&(-90>f||90<f)&&0<x!=0<f&&O.push({i:M,lat:D[1]+(180-D[0])/(C[0]-D[0])*(C[1]-D[1]),direction:0>x?1:-1,previousLonLat:D,lonLat:C})}),O.length)if(N){if(O.length%2==1){var g=O.slice().sort(function(C,M){return Math.abs(M.lat)-Math.abs(C.lat)})[0];rt(O,g)}for(var d=O.length-2;0<=d;){var v=O[d].i,_=K(180+1e-6*O[d].direction),T=K(180-1e-6*O[d].direction);(v=F.splice.apply(F,q([v,O[d+1].i-v],X.greatCircle([_,O[d].lat],[_,O[d+1].lat],!0)))).push.apply(v,X.greatCircle([T,O[d+1].lat],[T,O[d].lat],!0)),k.push(v),d-=2}if(g)for(v=0;v<k.length;v++)if(-1<(T=(d=k[v]).indexOf(g.lonLat))){v=(0>g.lat?-1:1)*this.maxLatitude,_=K(180+1e-6*g.direction);var y=K(180-1e-6*g.direction);g=X.greatCircle([_,g.lat],[_,v],!0).concat(X.greatCircle([y,v],[y,g.lat],!0)),d.splice.apply(d,q([T,0],g));break}}else for(d=O.length;d--;)(v=F.splice(v=O[d].i,F.length,[K(180+1e-6*O[d].direction),O[d].lat])).unshift([K(180-1e-6*O[d].direction),O[d].lat]),k.push(v);return k},X.prototype.path=function(F){var N=this,g=[],d="Polygon"===F.type||"MultiPolygon"===F.type,v=this.hasGeoProjection,_="Orthographic"!==this.options.name,T=_?this.rotator:void 0,y=_&&this.def||this,C=function(M){var D=[M=M.map(function(x){if(_){T&&(x=T.forward(x));var f=x[0];1e-6>Math.abs(f-180)&&(f=180>f?179.999999:180.000001),x=[f,x[1]]}return x})];v&&(X.insertGreatCircles(M),_&&(D=N.clipOnAntimeridian(M,d))),D.forEach(function(x){if(!(2>x.length))for(var m,r,f=!1,p=!1,a=function(w){f?g.push(["L",w[0],w[1]]):(g.push(["M",w[0],w[1]]),f=!0)},n=0;n<x.length;n++){var h=x[n],l=y.forward(h);isNaN(l[0])||isNaN(l[1])||v&&!(h[1]<=N.maxLatitude&&h[1]>=-N.maxLatitude)?p=!0:(d&&!m&&(m=h,x.push(h)),p&&r&&(d&&v?X.greatCircle(r,h).forEach(function(w){return a(y.forward(w))}):f=!1),a(l),r=h,p=!1)}})};return"LineString"===F.type?C(F.coordinates):"MultiLineString"===F.type?F.coordinates.forEach(function(M){return C(M)}):"Polygon"===F.type?(F.coordinates.forEach(function(M){return C(M)}),g.length&&g.push(["Z"])):"MultiPolygon"===F.type&&(F.coordinates.forEach(function(M){M.forEach(function(D){return C(D)})}),g.length&&g.push(["Z"])),g},X.registry=Y,X}()}),wt(o,"Maps/MapView.js",[o["Maps/MapViewOptionsDefault.js"],o["Maps/Projection.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=q.addEvent,J=q.clamp,K=q.fireEvent,X=q.isNumber,F=q.merge,N=q.pick,O=q.relativeLength;return function(){function k(g,d){var _,T,y,v=this;this.userOptions=d||{},d=F(Y,d),this.chart=g,this.center=d.center,this.options=d,this.projection=new $(d.projection),this.zoom=d.zoom||0,rt(g,"afterSetChartSize",function(){(void 0===v.minZoom||v.minZoom===v.zoom)&&(v.fitToBounds(void 0,void 0,!1),X(v.userOptions.zoom)&&(v.zoom=v.userOptions.zoom),v.userOptions.center&&F(!0,v.center,v.userOptions.center))}),rt(g,"pan",d=function(C){var M=g.pointer.pinchDown,D=g.mouseDownX,x=g.mouseDownY;if(1===M.length&&(D=M[0].chartX,x=M[0].chartY),"number"==typeof D&&"number"==typeof x){var f=D+","+x,m=C.originalEvent;M=m.chartX,m=m.chartY,f!==T&&(T=f,_=v.projection.forward(v.center),y=(v.projection.options.rotation||[0,0]).slice()),"Orthographic"===v.projection.options.name&&3>(v.minZoom||1/0)?(f=440/(v.getScale()*Math.min(g.plotWidth,g.plotHeight)),y&&(D=(D-M)*f-y[0],x=J(-y[1]-(x-m)*f,-80,80),v.update({projection:{rotation:[-D,-x]},center:[D,x],zoom:v.zoom},!0,!1))):(f=v.getScale(),x=v.projection.inverse([_[0]+(D-M)/f,_[1]-(x-m)/f]),v.setView(x,void 0,!0,!1)),C.preventDefault()}}),rt(g,"touchpan",d),rt(g,"selection",function(C){if(C.resetSelection)v.zoomBy();else{var M=C.x-g.plotLeft,D=C.y-g.plotTop,x=v.pixelsToProjectedUnits({x:M,y:D}),f=x.y;x=x.x,M=v.pixelsToProjectedUnits({x:M+C.width,y:D+C.height}),v.fitToBounds({x1:x,y1:f,x2:M.x,y2:M.y},void 0,!0,!C.originalEvent.touches&&void 0),/^touch/.test(C.originalEvent.type)||g.showResetZoom(),C.preventDefault()}})}return k.prototype.fitToBounds=function(g,d,v,_){void 0===v&&(v=!0);var T=g||this.getProjectedBounds();if(T){var y=this.chart,C=y.plotWidth;y=y.plotHeight;var M=N(d,g?0:this.options.padding);d=O(M,C),M=O(M,y),C=Math.log(400.979322/Math.max((T.x2-T.x1)/((C-d)/256),(T.y2-T.y1)/((y-M)/256)))/Math.log(2),g||(this.minZoom=C),g=this.projection.inverse([(T.x2+T.x1)/2,(T.y2+T.y1)/2]),this.setView(g,C,v,_)}},k.prototype.getProjectedBounds=function(){var g=this.chart.series.reduce(function(d,v){return(v=v.getProjectedBounds&&v.getProjectedBounds())&&d.push(v),d},[]);return k.compositeBounds(g)},k.prototype.getScale=function(){return 256/400.979322*Math.pow(2,this.zoom)},k.prototype.redraw=function(g){this.chart.series.forEach(function(d){d.useMapGeometry&&(d.isDirty=!0)}),this.chart.redraw(g)},k.prototype.setView=function(g,d,v,_){void 0===v&&(v=!0);var T=!1;g&&(this.center=g),"number"==typeof d&&("number"==typeof this.minZoom&&(d=Math.max(d,this.minZoom)),"number"==typeof this.options.maxZoom&&(d=Math.min(d,this.options.maxZoom)),T=d>this.zoom,this.zoom=d);var y=this.getProjectedBounds();if(y&&!T){T=this.projection.forward(this.center),g=(d=this.chart).plotWidth,d=d.plotHeight;var C=this.getScale(),M=this.projectedUnitsToPixels({x:y.x1,y:y.y1}),D=this.projectedUnitsToPixels({x:y.x2,y:y.y2});y=[(y.x1+y.x2)/2,(y.y1+y.y2)/2];var x=M.x,f=D.y;M=M.y,(D=D.x)-x<g?T[0]=y[0]:0>x&&D<g?T[0]+=Math.max(x,D-g)/C:D>g&&0<x&&(T[0]+=Math.min(D-g,x)/C),M-f<d?T[1]=y[1]:0>f&&M<d?T[1]-=Math.max(f,M-d)/C:M>d&&0<f&&(T[1]-=Math.min(M-d,f)/C),this.center=this.projection.inverse(T)}K(this,"afterSetView"),v&&this.redraw(_)},k.prototype.projectedUnitsToPixels=function(g){var d=this.getScale(),v=this.projection.forward(this.center);return{x:this.chart.plotWidth/2-d*(v[0]-g.x),y:this.chart.plotHeight/2+d*(v[1]-g.y)}},k.prototype.pixelsToProjectedUnits=function(g){var d=g.x;g=g.y;var v=this.getScale(),_=this.projection.forward(this.center);return{x:_[0]+(d-this.chart.plotWidth/2)/v,y:_[1]-(g-this.chart.plotHeight/2)/v}},k.prototype.update=function(g,d,v){void 0===d&&(d=!0);var _=g.projection;_=_&&$.toString(_)!==$.toString(this.options.projection),F(!0,this.userOptions,g),F(!0,this.options,g),_&&(this.chart.series.forEach(function(T){T.clearBounds&&T.clearBounds(),T.isDirty=!0,T.isDirtyData=!0}),this.projection=new $(this.options.projection),g.center||X(g.zoom)||this.fitToBounds(void 0,void 0,!1)),(g.center||X(g.zoom))&&this.setView(this.options.center,g.zoom,!1),d&&this.chart.redraw(v)},k.prototype.zoomBy=function(g,d,v,_){var T=this.chart,y=this.projection.forward(this.center),C=(d=d?this.projection.forward(d):[])[0],M=d[1];"number"==typeof g?(g=this.zoom+g,d=void 0,v&&(C=v[0],M=v[1],v=this.getScale(),C=y[0]+(C=C-T.plotLeft-T.plotWidth/2)/v,M=y[1]+(T=M-T.plotTop-T.plotHeight/2)/v),"number"==typeof C&&"number"==typeof M&&(v=1-Math.pow(2,this.zoom)/Math.pow(2,g),T=y[1]-M,y[0]-=(C=y[0]-C)*v,y[1]+=T*v,d=this.projection.inverse(y)),this.setView(d,g,void 0,_)):this.fitToBounds(void 0,void 0,void 0,_)},k.compositeBounds=function(g){if(g.length)return g.slice(1).reduce(function(d,v){return d.x1=Math.min(d.x1,v.x1),d.y1=Math.min(d.y1,v.y1),d.x2=Math.max(d.x2,v.x2),d.y2=Math.max(d.y2,v.y2),d},F(g[0]))},k}()}),wt(o,"Maps/MapSymbols.js",[o["Core/Renderer/SVG/SVGRenderer.js"]],function(Y){function $(q,rt,J,K,X,F,N,O){return[["M",q+X,rt],["L",q+J-F,rt],["C",q+J-F/2,rt,q+J,rt+F/2,q+J,rt+F],["L",q+J,rt+K-N],["C",q+J,rt+K-N/2,q+J-N/2,rt+K,q+J-N,rt+K],["L",q+O,rt+K],["C",q+O/2,rt+K,q,rt+K-O/2,q,rt+K-O],["L",q,rt+X],["C",q,rt+X/2,q+X/2,rt,q+X,rt],["Z"]]}return(Y=Y.prototype.symbols).bottombutton=function(q,rt,J,K,X){return $(q-1,rt-1,J,K,0,0,X=X&&X.r||0,X)},Y.topbutton=function(q,rt,J,K,X){return $(q-1,rt-1,J,K,X=X&&X.r||0,X,0,0)},Y}),wt(o,"Core/Chart/MapChart.js",[o["Core/Chart/Chart.js"],o["Core/DefaultOptions.js"],o["Maps/MapView.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var k,K=this&&this.__extends||(k=function(g,d){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var T in _)_.hasOwnProperty(T)&&(v[T]=_[T])})(g,d)},function(g,d){function v(){this.constructor=g}k(g,d),g.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)}),X=$.getOptions,F=J.addEvent,N=J.merge,O=J.pick;return Y=function(k){function g(){return null!==k&&k.apply(this,arguments)||this}return K(g,k),g.prototype.init=function(d,v){F(this,"afterInit",function(){this.mapView=new q(this,this.options.mapView)});var _=X().credits;d=N({chart:{panning:{enabled:!0,type:"xy"},type:"map"},credits:{mapText:O(_.mapText,' \xa9 <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:O(_.mapTextFull,"{geojson.copyright}")},mapView:{},tooltip:{followTouchMove:!1}},d),k.prototype.init.call(this,d,v)},g}(Y),function(k){k.maps={},k.mapChart=function(g,d,v){return new k(g,d,v)},k.splitPath=function(g){return"string"==typeof g&&(g=(g=g.replace(/([A-Za-z])/g," $1 ").replace(/^\s*/,"").replace(/\s*$/,"")).split(/[ ,;]+/).map(function(d){return/[A-za-z]/.test(d)?d:parseFloat(d)})),rt.prototype.pathToSegments(g)}}(Y||(Y={})),Y}),wt(o,"Series/Map/MapPoint.js",[o["Series/ColorMapMixin.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var K,rt=this&&this.__extends||(K=function(X,F){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,O){N.__proto__=O}||function(N,O){for(var k in O)O.hasOwnProperty(k)&&(N[k]=O[k])})(X,F)},function(X,F){function N(){this.constructor=X}K(X,F),X.prototype=null===F?Object.create(F):(N.prototype=F.prototype,new N)}),J=q.extend;return $=function(K){function X(){var F=null!==K&&K.apply(this,arguments)||this;return F.options=void 0,F.path=void 0,F.series=void 0,F}return rt(X,K),X.getProjectedPath=function(F,N){return F.projectedPath||(N&&F.geometry?(N.hasCoordinates=!0,F.projectedPath=N.path(F.geometry)):F.projectedPath=F.path),F.projectedPath||[]},X.prototype.applyOptions=function(F,N){var O=this.series;return F=K.prototype.applyOptions.call(this,F,N),N=O.joinBy,O.mapData&&O.mapMap&&((O=void 0!==(N=K.prototype.getNestedProperty.call(F,N[1]))&&O.mapMap[N])?J(F,O):F.value=F.value||null),F},X.prototype.onMouseOver=function(F){q.clearTimeout(this.colorInterval),null!==this.value||this.series.options.nullInteraction?K.prototype.onMouseOver.call(this,F):this.series.onMouseOut(F)},X.prototype.zoomTo=function(){var F=this.series.chart;F.mapView&&this.bounds&&(F.mapView.fitToBounds(this.bounds,void 0,!1),this.series.isDirty=!0,F.redraw())},X}($.seriesTypes.scatter.prototype.pointClass),J($.prototype,{dataLabelOnNull:Y.PointMixin.dataLabelOnNull,isValid:Y.PointMixin.isValid,moveToTopOnHover:Y.PointMixin.moveToTopOnHover}),$}),wt(o,"Series/Map/MapSeries.js",[o["Core/Animation/AnimationUtilities.js"],o["Series/ColorMapMixin.js"],o["Series/CenteredUtilities.js"],o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Chart/MapChart.js"],o["Series/Map/MapPoint.js"],o["Maps/MapView.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N,O,k,g){var n,d=this&&this.__extends||(n=function(h,l){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,P){w.__proto__=P}||function(w,P){for(var I in P)P.hasOwnProperty(I)&&(w[I]=P[I])})(h,l)},function(h,l){function w(){this.constructor=h}n(h,l),h.prototype=null===l?Object.create(l):(w.prototype=l.prototype,new w)}),v=Y.animObject;Y=rt.noop;var _=K.maps,T=K.splitPath,y=(K=O.seriesTypes).column,C=K.scatter;K=g.extend;var M=g.fireEvent,D=g.getNestedProperty,x=g.isArray,f=g.isNumber,m=g.merge,r=g.objectEach,p=g.pick,a=g.splat;return g=function(n){function h(){var l=null!==n&&n.apply(this,arguments)||this;return l.chart=void 0,l.data=void 0,l.group=void 0,l.joinBy=void 0,l.options=void 0,l.points=void 0,l.transformGroup=void 0,l}return d(h,n),h.prototype.animate=function(l){var w=this.chart,P=this.group,I=v(this.options.animation);w.renderer.isSVG&&(l?P.attr({translateX:w.plotLeft+w.plotWidth/2,translateY:w.plotTop+w.plotHeight/2,scaleX:.001,scaleY:.001}):P.animate({translateX:w.plotLeft,translateY:w.plotTop,scaleX:1,scaleY:1},I))},h.prototype.animateDrilldown=function(l){var w=this.chart,P=this.group;w.renderer.isSVG&&(l?P.attr({translateX:w.plotLeft+w.plotWidth/2,translateY:w.plotTop+w.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01}):P.animate({translateX:w.plotLeft,translateY:w.plotTop,scaleX:1,scaleY:1,opacity:1}))},h.prototype.animateDrillupFrom=function(){var l=this.chart;l.renderer.isSVG&&this.group.animate({translateX:l.plotLeft+l.plotWidth/2,translateY:l.plotTop+l.plotHeight/2,scaleX:.1,scaleY:.1,opacity:.01})},h.prototype.animateDrillupTo=function(l){y.prototype.animateDrillupTo.call(this,l)},h.prototype.clearBounds=function(){this.points.forEach(function(l){delete l.bounds,delete l.projectedPath}),delete this.bounds},h.prototype.doFullTranslate=function(){return!(!(this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML)&&this.hasRendered)},h.prototype.drawMapDataLabels=function(){N.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},h.prototype.drawPoints=function(){var l=this,w=this.chart,P=this.group,I=this.svgTransform,L=w.mapView,S=w.renderer;if(this.transformGroup||(this.transformGroup=S.g().add(P),this.transformGroup.survive=!0),this.doFullTranslate()&&(w.hasRendered&&!w.styledMode&&this.points.forEach(function(b){b.shapeArgs&&(b.shapeArgs.fill=l.pointAttribs(b,b.state).fill)}),this.group=this.transformGroup,y.prototype.drawPoints.apply(this),this.group=P,this.points.forEach(function(b){if(b.graphic){var z="";b.name&&(z+="highcharts-name-"+b.name.replace(/ /g,"-").toLowerCase()),b.properties&&b.properties["hc-key"]&&(z+=" highcharts-key-"+b.properties["hc-key"].toLowerCase()),z&&b.graphic.addClass(z),w.styledMode&&b.graphic.css(l.pointAttribs(b,b.selected?"select":void 0))}})),L&&I){var B=p(this.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"],1),c=I.scaleX,u=0<I.scaleY?1:-1,E=this.transformGroup;if(S.globalAnimation&&w.hasRendered){var j=Number(E.attr("translateX")),G=Number(E.attr("translateY")),W=Number(E.attr("scaleX"));E.attr({animator:0}).animate({animator:1},{step:function(b,z){E.attr({translateX:j+(I.translateX-j)*z.pos,translateY:G+(I.translateY-G)*z.pos,scaleX:b=W+(c-W)*z.pos,scaleY:b*u}),P.element.setAttribute("stroke-width",B/b)}})}else E.attr(I),P.element.setAttribute("stroke-width",B/c)}this.drawMapDataLabels()},h.prototype.getProjectedBounds=function(){if(!this.bounds){var l=Number.MAX_VALUE,w=this.chart.mapView&&this.chart.mapView.projection,P=[];(this.points||[]).forEach(function(I){if(I.path||I.geometry){if("string"==typeof I.path?I.path=T(I.path):x(I.path)&&"M"===I.path[0]&&(I.path=k.prototype.pathToSegments(I.path)),!I.bounds){var j,L=X.getProjectedPath(I,w),S=I.properties,B=-l,c=l,u=-l,E=l;L.forEach(function(G){var W=G[G.length-2];G=G[G.length-1],"number"==typeof W&&"number"==typeof G&&(c=Math.min(c,W),B=Math.max(B,W),E=Math.min(E,G),u=Math.max(u,G),j=!0)}),j&&(L=c+(B-c)*p(I.middleX,f(L=S&&S["hc-middle-x"])?L:.5),S=p(I.middleY,f(S=S&&S["hc-middle-y"])?S:.5),I.geometry||(S=1-S),I.bounds={midX:L,midY:u-(u-E)*S,x1:c,y1:E,x2:B,y2:u},I.labelrank=p(I.labelrank,(B-c)*(u-E)))}I.bounds&&P.push(I.bounds)}}),this.bounds=F.compositeBounds(P)}return this.bounds},h.prototype.hasData=function(){return!!this.processedXData.length},h.prototype.pointAttribs=function(l,w){var P=l.series.chart,I=P.mapView;return w=P.styledMode?this.colorAttribs(l):y.prototype.pointAttribs.call(this,l,w),(l=l.options[this.pointAttrToOptions&&this.pointAttrToOptions["stroke-width"]||"borderWidth"])&&I&&(l/=I.getScale()),w.dashstyle&&I&&this.options.borderWidth&&(l=this.options.borderWidth/I.getScale()),w["stroke-width"]=p(l,"inherit"),w},h.prototype.setData=function(l,w,P,I){var L=this.options,S=this.chart.options.chart,B=S&&S.map,c=L.mapData,u=this.joinBy,E=L.keys||this.pointArrayMap,j=[],G={},W=this.chart.mapTransforms;if(!c&&B&&(c="string"==typeof B?_[B]:B),l&&l.forEach(function(R,V){var Z=0;if(f(R))l[V]={value:R};else if(x(R)){l[V]={},!L.keys&&R.length>E.length&&"string"==typeof R[0]&&(l[V]["hc-key"]=R[0],++Z);for(var nt=0;nt<E.length;++nt,++Z)E[nt]&&void 0!==R[Z]&&(0<E[nt].indexOf(".")?X.prototype.setNestedProperty(l[V],R[Z],E[nt]):l[V][E[nt]]=R[Z])}u&&"_i"===u[0]&&(l[V]._i=V)}),(this.chart.mapTransforms=W=S.mapTransforms||c&&c["hc-transform"]||W)&&r(W,function(R){R.rotation&&(R.cosAngle=Math.cos(R.rotation),R.sinAngle=Math.sin(R.rotation))}),c){for("FeatureCollection"===c.type&&(this.mapTitle=c.title,c=rt.geojson(c,this.type,this)),this.mapData=c,this.mapMap={},W=0;W<c.length;W++)B=(S=c[W]).properties,S._i=W,u[0]&&B&&B[u[0]]&&(S[u[0]]=B[u[0]]),G[S[u[0]]]=S;if(this.mapMap=G,l&&u[1]){var b=u[1];l.forEach(function(R){R=D(b,R),G[R]&&j.push(G[R])})}if(L.allAreas){if(l=l||[],u[1]){var z=u[1];l.forEach(function(R){j.push(D(z,R))})}j="|"+j.map(function(R){return R&&R[u[0]]}).join("|")+"|",c.forEach(function(R){u[0]&&-1!==j.indexOf("|"+R[u[0]]+"|")||(l.push(m(R,{value:null})),I=!1)})}}N.prototype.setData.call(this,l,w,P,I),this.processData(),this.generatePoints()},h.prototype.setOptions=function(l){var w=(l=N.prototype.setOptions.call(this,l)).joinBy;return null===w&&(w="_i"),(w=this.joinBy=a(w))[1]||(w[1]=w[0]),l},h.prototype.translate=function(){var I,l=this.doFullTranslate(),w=this.chart.mapView,P=w&&w.projection;if(!this.chart.hasRendered||!this.isDirtyData&&this.hasRendered||(this.processData(),this.generatePoints(),delete this.bounds,this.getProjectedBounds()),w){var L=w.getScale(),S=w.projection.forward(w.center);this.svgTransform=I={scaleX:L,scaleY:L*(w=w.projection.hasCoordinates?-1:1),translateX:this.chart.plotWidth/2-S[0]*L,translateY:this.chart.plotHeight/2-S[1]*L*w}}this.points.forEach(function(B){I&&B.bounds&&f(B.bounds.midX)&&f(B.bounds.midY)&&(B.plotX=B.bounds.midX*I.scaleX+I.translateX,B.plotY=B.bounds.midY*I.scaleY+I.translateY),l&&(B.shapeType="path",B.shapeArgs={d:X.getProjectedPath(B,P)})}),M(this,"afterTranslate")},h.defaultOptions=m(C.defaultOptions,{animation:!1,dataLabels:{crop:!1,formatter:function(){var l=this.series.chart.numberFormatter,w=this.point.value;return f(w)?l(w,-1):""},inside:!0,overflow:!1,padding:0,verticalAlign:"middle"},marker:null,nullColor:"#f7f7f7",stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},turboThreshold:0,allAreas:!0,borderColor:"#cccccc",borderWidth:1,joinBy:"hc-key",states:{hover:{halo:null,brightness:.2},normal:{animation:!0},select:{color:"#cccccc"},inactive:{opacity:1}}}),h}(C),K(g.prototype,{type:"map",axisTypes:$.SeriesMixin.axisTypes,colorAttribs:$.SeriesMixin.colorAttribs,colorKey:$.SeriesMixin.colorKey,directTouch:!0,drawDataLabels:Y,drawGraph:Y,drawLegendSymbol:J.drawRectangle,forceDL:!0,getCenter:q.getCenter,getExtremesFromAll:!0,getSymbol:$.SeriesMixin.getSymbol,isCartesian:!1,parallelArrays:$.SeriesMixin.parallelArrays,pointArrayMap:$.SeriesMixin.pointArrayMap,pointClass:X,preserveAspectRatio:!0,searchPoint:Y,trackerGroups:$.SeriesMixin.trackerGroups,useMapGeometry:!0}),O.registerSeriesType("map",g),g}),wt(o,"Series/MapLine/MapLineSeries.js",[o["Series/Map/MapSeries.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var F,rt=this&&this.__extends||(F=function(N,O){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)g.hasOwnProperty(d)&&(k[d]=g[d])})(N,O)},function(N,O){function k(){this.constructor=N}F(N,O),N.prototype=null===O?Object.create(O):(k.prototype=O.prototype,new k)}),J=$.series,K=q.extend,X=q.merge;return q=function(F){function N(){var O=null!==F&&F.apply(this,arguments)||this;return O.data=void 0,O.options=void 0,O.points=void 0,O}return rt(N,F),N.prototype.pointAttribs=function(O,k){return(O=Y.prototype.pointAttribs.call(this,O,k)).fill=this.options.fillColor,O},N.defaultOptions=X(Y.defaultOptions,{lineWidth:1,fillColor:"none"}),N}(Y),K(q.prototype,{type:"mapline",colorProp:"stroke",drawLegendSymbol:J.prototype.drawLegendSymbol,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"}}),$.registerSeriesType("mapline",q),q}),wt(o,"Series/MapPoint/MapPointPoint.js",[o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$){var K,q=this&&this.__extends||(K=function(X,F){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,O){N.__proto__=O}||function(N,O){for(var k in O)O.hasOwnProperty(k)&&(N[k]=O[k])})(X,F)},function(X,F){function N(){this.constructor=X}K(X,F),X.prototype=null===F?Object.create(F):(N.prototype=F.prototype,new N)}),rt=$.isNumber,J=$.merge;return function(K){function X(){var F=null!==K&&K.apply(this,arguments)||this;return F.options=void 0,F.series=void 0,F}return q(X,K),X.prototype.applyOptions=function(F,N){return F=void 0!==F.lat&&void 0!==F.lon?J(F,this.series.chart.fromLatLonToPoint(F)):F,K.prototype.applyOptions.call(this,F,N)},X.prototype.isValid=function(){return!!(this.options.geometry||rt(this.x)&&rt(this.y))},X}(Y.seriesTypes.scatter.prototype.pointClass)}),wt(o,"Series/MapPoint/MapPointSeries.js",[o["Core/Globals.js"],o["Series/MapPoint/MapPointPoint.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var k,J=this&&this.__extends||(k=function(g,d){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var T in _)_.hasOwnProperty(T)&&(v[T]=_[T])})(g,d)},function(g,d){function v(){this.constructor=g}k(g,d),g.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)});Y=Y.noop;var K=q.seriesTypes.scatter,X=rt.extend,F=rt.fireEvent,N=rt.isNumber,O=rt.merge;return rt=function(k){function g(){var d=null!==k&&k.apply(this,arguments)||this;return d.data=void 0,d.options=void 0,d.points=void 0,d}return J(g,k),g.prototype.drawDataLabels=function(){k.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},g.prototype.translate=function(){var d=this,v=this.chart.mapView;if(this.processedXData||this.processData(),this.generatePoints(),v){var _=v.projection,T=_.forward,y=_.hasCoordinates;this.points.forEach(function(C){var M=C.x;M=void 0===M?void 0:M;var D=C.y;D=void 0===D?void 0:D;var x=C.options.geometry;(x=x&&"Point"===x.type&&x.coordinates)?(M=(D=T(x))[0],D=D[1]):C.bounds&&(M=C.bounds.midX,D=C.bounds.midY),N(M)&&N(D)?(M=v.projectedUnitsToPixels({x:M,y:D}),C.plotX=M.x,C.plotY=y?M.y:d.chart.plotHeight-M.y):(C.plotX=void 0,C.plotY=void 0),C.isInside=d.isPointInside(C),C.zone=d.zones.length?C.getZone():void 0})}F(this,"afterTranslate")},g.defaultOptions=O(K.defaultOptions,{dataLabels:{crop:!1,defer:!1,enabled:!0,formatter:function(){return this.point.name},overflow:!1,style:{color:"#000000"}}}),g}(K),X(rt.prototype,{type:"mappoint",axisTypes:["colorAxis"],forceDL:!0,isCartesian:!1,pointClass:$,searchPoint:Y,useMapGeometry:!0}),q.registerSeriesType("mappoint",rt),rt}),wt(o,"Series/Bubble/BubbleLegendDefaults.js",[],function(){return{borderColor:void 0,borderWidth:2,className:void 0,color:void 0,connectorClassName:void 0,connectorColor:void 0,connectorDistance:60,connectorWidth:1,enabled:!1,labels:{className:void 0,allowOverlap:!1,format:"",formatter:void 0,align:"right",style:{fontSize:"10px",color:"#000000"},x:0,y:0},maxSize:60,minSize:10,legendIndex:0,ranges:{value:void 0,borderColor:void 0,color:void 0,connectorColor:void 0},sizeBy:"area",sizeByAbsoluteValue:!1,zIndex:1,zThreshold:0}}),wt(o,"Series/Bubble/BubbleLegendItem.js",[o["Core/Color/Color.js"],o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var J=Y.parse,K=q.noop,X=rt.arrayMax,F=rt.arrayMin,N=rt.isNumber,O=rt.merge,k=rt.pick,g=rt.stableSort;return function(){function d(v,_){this.options=this.symbols=this.visible=this.selected=this.ranges=this.movementX=this.maxLabel=this.legendSymbol=this.legendItemWidth=this.legendItemHeight=this.legendItem=this.legendGroup=this.legend=this.fontMetrics=this.chart=void 0,this.setState=K,this.init(v,_)}return d.prototype.init=function(v,_){this.options=v,this.visible=!0,this.chart=_.chart,this.legend=_},d.prototype.addToLegend=function(v){v.splice(this.options.legendIndex,0,this)},d.prototype.drawLegendSymbol=function(v){var _=this.chart,T=this.options,y=k(v.options.itemDistance,20),C=T.ranges,M=T.connectorDistance;this.fontMetrics=_.renderer.fontMetrics(T.labels.style.fontSize),C&&C.length&&N(C[0].value)?(g(C,function(D,x){return x.value-D.value}),this.ranges=C,this.setOptions(),this.render(),v=this.getMaxLabelSize(),_=2*(C=this.ranges[0].radius),M=0<(M=M-C+v.width)?M:0,this.maxLabel=v,this.movementX="left"===T.labels.align?M:0,this.legendItemWidth=_+M+y,this.legendItemHeight=_+this.fontMetrics.h/2):v.options.bubbleLegend.autoRanges=!0},d.prototype.setOptions=function(){var v=this.ranges,_=this.options,T=this.chart.series[_.seriesIndex],y=this.legend.baseline,C={zIndex:_.zIndex,"stroke-width":_.borderWidth},M={zIndex:_.zIndex,"stroke-width":_.connectorWidth},D={align:this.legend.options.rtl||"left"===_.labels.align?"right":"left",zIndex:_.zIndex},x=T.options.marker.fillOpacity,f=this.chart.styledMode;v.forEach(function(m,r){f||(C.stroke=k(m.borderColor,_.borderColor,T.color),C.fill=k(m.color,_.color,1!==x?J(T.color).setOpacity(x).get("rgba"):T.color),M.stroke=k(m.connectorColor,_.connectorColor,T.color)),v[r].radius=this.getRangeRadius(m.value),v[r]=O(v[r],{center:v[0].radius-v[r].radius+y}),f||O(!0,v[r],{bubbleAttribs:O(C),connectorAttribs:O(M),labelAttribs:D})},this)},d.prototype.getRangeRadius=function(v){var _=this.options;return this.chart.series[this.options.seriesIndex].getRadius.call(this,_.ranges[_.ranges.length-1].value,_.ranges[0].value,_.minSize,_.maxSize,v)},d.prototype.render=function(){var v=this.chart.renderer,_=this.options.zThreshold;this.symbols||(this.symbols={connectors:[],bubbleItems:[],labels:[]}),this.legendSymbol=v.g("bubble-legend"),this.legendItem=v.g("bubble-legend-item"),this.legendSymbol.translateX=0,this.legendSymbol.translateY=0,this.ranges.forEach(function(T){T.value>=_&&this.renderRange(T)},this),this.legendSymbol.add(this.legendItem),this.legendItem.add(this.legendGroup),this.hideOverlappingLabels()},d.prototype.renderRange=function(v){var _=this.options,T=_.labels,y=this.chart,C=y.series[_.seriesIndex],M=y.renderer,D=this.symbols;y=D.labels;var x=v.center,f=Math.abs(v.radius),m=_.connectorDistance||0,r=T.align,p=_.connectorWidth,a=this.ranges[0].radius||0,n=x-f-_.borderWidth/2+p/2,h=this.fontMetrics;h=h.f/2-(h.h-h.f)/2;var l=M.styledMode;m=this.legend.options.rtl||"left"===r?-m:m,"center"===r&&(m=0,_.connectorDistance=0,v.labelAttribs.align="center"),r=n+_.labels.y;var w=a+m+_.labels.x;D.bubbleItems.push(M.circle(a,x+((n%1?1:.5)-(p%2?0:.5)),f).attr(l?{}:v.bubbleAttribs).addClass((l?"highcharts-color-"+C.colorIndex+" ":"")+"highcharts-bubble-legend-symbol "+(_.className||"")).add(this.legendSymbol)),D.connectors.push(M.path(M.crispLine([["M",a,n],["L",a+m,n]],_.connectorWidth)).attr(l?{}:v.connectorAttribs).addClass((l?"highcharts-color-"+this.options.seriesIndex+" ":"")+"highcharts-bubble-legend-connectors "+(_.connectorClassName||"")).add(this.legendSymbol)),v=M.text(this.formatLabel(v),w,r+h).attr(l?{}:v.labelAttribs).css(l?{}:T.style).addClass("highcharts-bubble-legend-labels "+(_.labels.className||"")).add(this.legendSymbol),y.push(v),v.placed=!0,v.alignAttr={x:w,y:r+h}},d.prototype.getMaxLabelSize=function(){var v,_;return this.symbols.labels.forEach(function(T){_=T.getBBox(!0),v=v?_.width>v.width?_:v:_}),v||{}},d.prototype.formatLabel=function(v){var _=this.options,T=_.labels.formatter,y=this.chart.numberFormatter;return(_=_.labels.format)?$.format(_,v):T?T.call(v):y(v.value,1)},d.prototype.hideOverlappingLabels=function(){var _=this.symbols;!this.options.labels.allowOverlap&&_&&(this.chart.hideOverlappingLabels(_.labels),_.labels.forEach(function(T,y){T.newOpacity?T.newOpacity!==T.oldOpacity&&_.connectors[y].show():_.connectors[y].hide()}))},d.prototype.getRanges=function(){var T,v=this.legend.bubbleLegend,_=v.options.ranges,y=Number.MAX_VALUE,C=-Number.MAX_VALUE;v.chart.series.forEach(function(D){D.isBubble&&!D.ignoreSeries&&(T=D.zData.filter(N)).length&&(y=k(D.options.zMin,Math.min(y,Math.max(F(T),!1===D.options.displayNegative?D.options.zThreshold:-Number.MAX_VALUE))),C=k(D.options.zMax,Math.max(C,X(T))))});var M=y===C?[{value:C}]:[{value:y},{value:(y+C)/2},{value:C,autoRanges:!0}];return _.length&&_[0].radius&&M.reverse(),M.forEach(function(D,x){_&&_[x]&&(M[x]=O(_[x],D))}),M},d.prototype.predictBubbleSizes=function(){var v=this.chart,_=this.fontMetrics,T=v.legend.options,y=T.floating,C=(T="horizontal"===T.layout)?v.legend.lastLineHeight:0,M=v.plotSizeX,D=v.plotSizeY,x=v.series[this.options.seriesIndex],f=x.getPxExtremes();v=Math.ceil(f.minPxSize),f=Math.ceil(f.maxPxSize);var m=Math.min(D,M);return x=x.options.maxSize,y||!/%$/.test(x)?_=f:(x=parseFloat(x),_=(m+C-_.h/2)*x/100/(x/100+1),(T&&D-_>=M||!T&&M-_>=D)&&(_=f)),[v,Math.ceil(_)]},d.prototype.updateRanges=function(v,_){var T=this.legend.options.bubbleLegend;T.minSize=v,T.maxSize=_,T.ranges=this.getRanges()},d.prototype.correctSizes=function(){var v=this.legend,_=this.chart.series[this.options.seriesIndex].getPxExtremes();1<Math.abs(Math.ceil(_.maxPxSize)-this.options.maxSize)&&(this.updateRanges(this.options.minSize,_.maxPxSize),v.render())},d}()}),wt(o,"Series/Bubble/BubbleLegendComposition.js",[o["Series/Bubble/BubbleLegendDefaults.js"],o["Series/Bubble/BubbleLegendItem.js"],o["Core/DefaultOptions.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var N,J=q.setOptions,K=rt.addEvent,X=rt.objectEach,F=rt.wrap;return function(O){function k(C,M,D){var x=this.legend,f=0<=g(this);if(x&&x.options.enabled&&x.bubbleLegend&&x.options.bubbleLegend.autoRanges&&f){var m=x.bubbleLegend.options;f=x.bubbleLegend.predictBubbleSizes(),x.bubbleLegend.updateRanges(f[0],f[1]),m.placed||(x.group.placed=!1,x.allItems.forEach(function(r){r.legendGroup.translateY=null})),x.render(),this.getMargins(),this.axes.forEach(function(r){r.visible&&r.render(),m.placed||(r.setScale(),r.updateNames(),X(r.ticks,function(p){p.isNew=!0,p.isNewLabel=!0}))}),m.placed=!0,this.getMargins(),C.call(this,M,D),x.bubbleLegend.correctSizes(),T(x,d(x))}else C.call(this,M,D),x&&x.options.enabled&&x.bubbleLegend&&(x.render(),T(x,d(x)))}function g(C){C=C.series;for(var M=0;M<C.length;){if(C[M]&&C[M].isBubble&&C[M].visible&&C[M].zData.length)return M;M++}return-1}function d(C){var x,M=[],D=(C=C.allItems).length,f=0;for(x=0;x<D;x++)if(C[x].legendItemHeight&&(C[x].itemHeight=C[x].legendItemHeight),C[x]===C[D-1]||C[x+1]&&C[x]._legendItemPos[1]!==C[x+1]._legendItemPos[1]){M.push({height:0});for(var m=M[M.length-1];f<=x;f++)C[f].itemHeight>m.height&&(m.height=C[f].itemHeight);m.step=x}return M}function v(C){var M=this.bubbleLegend,D=this.options,x=D.bubbleLegend,f=g(this.chart);M&&M.ranges&&M.ranges.length&&(x.ranges.length&&(x.autoRanges=!!x.ranges[0].autoRanges),this.destroyItem(M)),0<=f&&D.enabled&&x.enabled&&(x.seriesIndex=f,this.bubbleLegend=new $(x,this),this.bubbleLegend.addToLegend(C.allItems))}function _(){var C=this.chart,M=this.visible,D=this.chart.legend;D&&D.bubbleLegend&&(this.visible=!M,this.ignoreSeries=M,C=0<=g(C),D.bubbleLegend.visible!==C&&(D.update({bubbleLegend:{enabled:C}}),D.bubbleLegend.visible=C),this.visible=M)}function T(C,M){var x,f,m,D=C.options.rtl,r=0;C.allItems.forEach(function(p,a){x=p.legendGroup.translateX,f=p._legendItemPos[1],((m=p.movementX)||D&&p.ranges)&&p.legendGroup.attr({translateX:m=D?x-p.options.maxSize/2:x+m}),a>M[r].step&&r++,p.legendGroup.attr({translateY:Math.round(f+M[r].height/2)}),p._legendItemPos[1]=f+M[r].height/2})}var y=[];O.compose=function(C,M,D){-1===y.indexOf(C)&&(y.push(C),J({legend:{bubbleLegend:Y}}),F(C.prototype,"drawChartBox",k)),-1===y.indexOf(M)&&(y.push(M),K(M,"afterGetAllItems",v)),-1===y.indexOf(D)&&(y.push(D),K(D,"legendItemClick",_))}}(N||(N={})),N}),wt(o,"Series/Bubble/BubblePoint.js",[o["Core/Series/Point.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var J,rt=this&&this.__extends||(J=function(K,X){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,N){F.__proto__=N}||function(F,N){for(var O in N)N.hasOwnProperty(O)&&(F[O]=N[O])})(K,X)},function(K,X){function F(){this.constructor=K}J(K,X),K.prototype=null===X?Object.create(X):(F.prototype=X.prototype,new F)});return q=q.extend,$=function(J){function K(){var X=null!==J&&J.apply(this,arguments)||this;return X.options=void 0,X.series=void 0,X}return rt(K,J),K.prototype.haloPath=function(X){return Y.prototype.haloPath.call(this,0===X?0:(this.marker&&this.marker.radius||0)+X)},K}($.seriesTypes.scatter.prototype.pointClass),q($.prototype,{ttBelow:!1}),$}),wt(o,"Series/Bubble/BubbleSeries.js",[o["Core/Axis/Axis.js"],o["Series/Bubble/BubbleLegendComposition.js"],o["Series/Bubble/BubblePoint.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F){var D,N=this&&this.__extends||(D=function(x,f){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,r){m.__proto__=r}||function(m,r){for(var p in r)r.hasOwnProperty(p)&&(m[p]=r[p])})(x,f)},function(x,f){function m(){this.constructor=x}D(x,f),x.prototype=null===f?Object.create(f):(m.prototype=f.prototype,new m)}),O=rt.parse;rt=J.noop;var k=X.seriesTypes;J=k.column;var g=k.scatter;k=F.addEvent;var d=F.arrayMax,v=F.arrayMin,_=F.clamp,T=F.extend,y=F.isNumber,C=F.merge,M=F.pick;return F=function(D){function x(){var f=null!==D&&D.apply(this,arguments)||this;return f.data=void 0,f.maxPxSize=void 0,f.minPxSize=void 0,f.options=void 0,f.points=void 0,f.radii=void 0,f.yData=void 0,f.zData=void 0,f}return N(x,D),x.prototype.animate=function(f){!f&&this.points.length<this.options.animationLimit&&this.points.forEach(function(m){var r=m.graphic;r&&r.width&&(this.hasRendered||r.attr({x:m.plotX,y:m.plotY,width:1,height:1}),r.animate(this.markerAttribs(m),this.options.animation))},this)},x.prototype.getRadii=function(){var f=this,m=this.zData,r=this.yData,p=[],a=this.chart.bubbleZExtremes,n=this.getPxExtremes(),h=n.minPxSize,l=n.maxPxSize;if(!a){var I,w=Number.MAX_VALUE,P=-Number.MAX_VALUE;this.chart.series.forEach(function(B){B.bubblePadding&&(B.visible||!f.chart.options.chart.ignoreHiddenSeries)&&(B=B.getZExtremes())&&(w=Math.min(w||B.zMin,B.zMin),P=Math.max(P||B.zMax,B.zMax),I=!0)}),I?this.chart.bubbleZExtremes=a={zMin:w,zMax:P}:a={zMin:0,zMax:0}}var L=0;for(n=m.length;L<n;L++)p.push(this.getRadius(a.zMin,a.zMax,h,l,m[L],r[L]));this.radii=p},x.prototype.getRadius=function(f,m,r,p,a,n){var h=this.options,l="width"!==h.sizeBy,w=h.zThreshold,P=m-f,I=.5;if(null===n||null===a)return null;if(y(a)){if(h.sizeByAbsoluteValue&&(a=Math.abs(a-w),P=Math.max(m-w,Math.abs(f-w)),f=0),a<f)return r/2-1;0<P&&(I=(a-f)/P)}return l&&0<=I&&(I=Math.sqrt(I)),Math.ceil(r+I*(p-r))/2},x.prototype.hasData=function(){return!!this.processedXData.length},x.prototype.pointAttribs=function(f,m){var r=this.options.marker.fillOpacity;return f=K.prototype.pointAttribs.call(this,f,m),1!==r&&(f.fill=O(f.fill).setOpacity(r).get("rgba")),f},x.prototype.translate=function(){D.prototype.translate.call(this),this.getRadii(),this.translateBubble()},x.prototype.translateBubble=function(){for(var f=this.data,m=this.radii,r=this.getPxExtremes().minPxSize,p=f.length;p--;){var a=f[p],n=m?m[p]:0;y(n)&&n>=r/2?(a.marker=T(a.marker,{radius:n,width:2*n,height:2*n}),a.dlBox={x:a.plotX-n,y:a.plotY-n,width:2*n,height:2*n}):a.shapeArgs=a.plotY=a.dlBox=void 0}},x.prototype.getPxExtremes=function(){var f=Math.min(this.chart.plotWidth,this.chart.plotHeight),m=function(p){if("string"==typeof p){var a=/%$/.test(p);p=parseInt(p,10)}return a?f*p/100:p},r=m(M(this.options.minSize,8));return{minPxSize:r,maxPxSize:m=Math.max(m(M(this.options.maxSize,"20%")),r)}},x.prototype.getZExtremes=function(){var f=this.options,m=(this.zData||[]).filter(y);if(m.length){var r=M(f.zMin,_(v(m),!1===f.displayNegative?f.zThreshold||0:-Number.MAX_VALUE,Number.MAX_VALUE));if(f=M(f.zMax,d(m)),y(r)&&y(f))return{zMin:r,zMax:f}}},x.compose=$.compose,x.defaultOptions=C(g.defaultOptions,{dataLabels:{formatter:function(){var f=this.series.chart.numberFormatter,m=this.point.z;return y(m)?f(m,-1):""},inside:!0,verticalAlign:"middle"},animationLimit:250,marker:{lineColor:null,lineWidth:1,fillOpacity:.5,radius:null,states:{hover:{radiusPlus:0}},symbol:"circle"},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"}),x}(g),T(F.prototype,{alignDataLabel:J.prototype.alignDataLabel,applyZones:rt,bubblePadding:!0,buildKDTree:rt,directTouch:!0,isBubble:!0,pointArrayMap:["y","z"],pointClass:q,parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],specialGroup:"group",zoneAxis:"z"}),k(F,"updatedData",function(D){delete D.target.chart.bubbleZExtremes}),Y.prototype.beforePadding=function(){var w,D=this,x=this.len,f=this.chart,m=0,r=x,p=this.isXAxis,a=p?"xData":"yData",n=this.min,h=this.max-n,l=x/h;this.series.forEach(function(P){if(P.bubblePadding&&(P.visible||!f.options.chart.ignoreHiddenSeries)){w=D.allowZoomOutside=!0;var I=P[a];if(p&&P.getRadii(0,0,P),0<h)for(var L=I.length;L--;)if(y(I[L])&&D.dataMin<=I[L]&&I[L]<=D.max){var S=P.radii&&P.radii[L]||0;m=Math.min((I[L]-n)*l-S,m),r=Math.max((I[L]-n)*l+S,r)}}}),w&&0<h&&!this.logarithmic&&(r-=x,l*=(x+Math.max(0,m)-Math.min(r,x))/x,[["min","userMin",m],["max","userMax",r]].forEach(function(P){void 0===M(D.options[P[0]],D[P[1]])&&(D[P[0]]+=P[2]/l)}))},X.registerSeriesType("bubble",F),F}),wt(o,"Series/MapBubble/MapBubblePoint.js",[o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$){var K,q=this&&this.__extends||(K=function(X,F){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,O){N.__proto__=O}||function(N,O){for(var k in O)O.hasOwnProperty(k)&&(N[k]=O[k])})(X,F)},function(X,F){function N(){this.constructor=X}K(X,F),X.prototype=null===F?Object.create(F):(N.prototype=F.prototype,new N)}),rt=(Y=Y.seriesTypes).map,J=$.merge;return function(K){function X(){return null!==K&&K.apply(this,arguments)||this}return q(X,K),X.prototype.applyOptions=function(F,N){return F&&void 0!==F.lat&&void 0!==F.lon?K.prototype.applyOptions.call(this,J(F,this.series.chart.fromLatLonToPoint(F)),N):rt.prototype.pointClass.prototype.applyOptions.call(this,F,N)},X.prototype.isValid=function(){return"number"==typeof this.z},X}(Y.bubble.prototype.pointClass)}),wt(o,"Series/MapBubble/MapBubbleSeries.js",[o["Series/Bubble/BubbleSeries.js"],o["Series/MapBubble/MapBubblePoint.js"],o["Series/Map/MapSeries.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var O,K=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),X=rt.seriesTypes.mappoint,F=J.extend,N=J.merge;return J=function(O){function k(){var g=null!==O&&O.apply(this,arguments)||this;return g.data=void 0,g.options=void 0,g.points=void 0,g}return K(k,O),k.prototype.translate=function(){X.prototype.translate.call(this),this.getRadii(),this.translateBubble()},k.compose=Y.compose,k.defaultOptions=N(Y.defaultOptions,{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}}),k}(Y),F(J.prototype,{type:"mapbubble",axisTypes:["colorAxis"],getProjectedBounds:q.prototype.getProjectedBounds,isCartesian:!1,pointArrayMap:["z"],pointClass:$,setData:q.prototype.setData,setOptions:q.prototype.setOptions,useMapGeometry:!0,xyFromShape:!0}),rt.registerSeriesType("mapbubble",J),J}),wt(o,"Series/Heatmap/HeatmapPoint.js",[o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$){var F,q=this&&this.__extends||(F=function(N,O){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)g.hasOwnProperty(d)&&(k[d]=g[d])})(N,O)},function(N,O){function k(){this.constructor=N}F(N,O),N.prototype=null===O?Object.create(O):(k.prototype=O.prototype,new k)}),rt=$.clamp,J=$.defined,K=$.extend,X=$.pick;return Y=function(F){function N(){var O=null!==F&&F.apply(this,arguments)||this;return O.options=void 0,O.series=void 0,O.value=void 0,O.x=void 0,O.y=void 0,O}return q(N,F),N.prototype.applyOptions=function(O,k){return(O=F.prototype.applyOptions.call(this,O,k)).formatPrefix=O.isNull||null===O.value?"null":"point",O},N.prototype.getCellAttributes=function(){var O=this.series,k=O.options,g=(k.colsize||1)/2,d=(k.rowsize||1)/2,v=O.xAxis,_=O.yAxis,T=this.options.marker||O.options.marker;O=O.pointPlacementToXValue();var y=X(this.pointPadding,k.pointPadding,0),C={x1:rt(Math.round(v.len-(v.translate(this.x-g,!1,!0,!1,!0,-O)||0)),-v.len,2*v.len),x2:rt(Math.round(v.len-(v.translate(this.x+g,!1,!0,!1,!0,-O)||0)),-v.len,2*v.len),y1:rt(Math.round(_.translate(this.y-d,!1,!0,!1,!0)||0),-_.len,2*_.len),y2:rt(Math.round(_.translate(this.y+d,!1,!0,!1,!0)||0),-_.len,2*_.len)};return[["width","x"],["height","y"]].forEach(function(M){var D=M[0],x=(M=M[1])+"1",f=M+"2",m=Math.abs(C[x]-C[f]),r=T&&T.lineWidth||0,p=Math.abs(C[x]+C[f])/2;J(D=T&&T[D])&&D<m&&(C[x]=p-(D=D/2+r/2),C[f]=p+D),y&&("y"===M&&(x=f,f=M+"1"),C[x]+=y,C[f]-=y)}),C},N.prototype.haloPath=function(O){if(!O)return[];var k=this.shapeArgs;return["M",k.x-O,k.y-O,"L",k.x-O,k.y+k.height+O,k.x+k.width+O,k.y+k.height+O,k.x+k.width+O,k.y-O,"Z"]},N.prototype.isValid=function(){return this.value!==1/0&&this.value!==-1/0},N}(Y.seriesTypes.scatter.prototype.pointClass),K(Y.prototype,{dataLabelOnNull:!0,moveToTopOnHover:!0,ttBelow:!1}),Y}),wt(o,"Series/Heatmap/HeatmapSeries.js",[o["Core/Color/Color.js"],o["Series/ColorMapMixin.js"],o["Series/Heatmap/HeatmapPoint.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X){var M,F=this&&this.__extends||(M=function(D,x){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var r in m)m.hasOwnProperty(r)&&(f[r]=m[r])})(D,x)},function(D,x){function f(){this.constructor=D}M(D,x),D.prototype=null===x?Object.create(x):(f.prototype=x.prototype,new f)}),N=J.series,O=J.seriesTypes,k=O.column,g=O.scatter,d=K.prototype.symbols,v=X.extend,_=X.fireEvent,T=X.isNumber,y=X.merge,C=X.pick;return K=function(M){function D(){var x=null!==M&&M.apply(this,arguments)||this;return x.colorAxis=void 0,x.data=void 0,x.options=void 0,x.points=void 0,x.valueMax=NaN,x.valueMin=NaN,x}return F(D,M),D.prototype.drawPoints=function(){var x=this;((this.options.marker||{}).enabled||this._hasPointMarkers)&&(N.prototype.drawPoints.call(this),this.points.forEach(function(f){f.graphic&&(f.graphic[x.chart.styledMode?"css":"animate"](x.colorAttribs(f)),x.options.borderRadius&&f.graphic.attr({r:x.options.borderRadius}),(f.shapeArgs||{}).r=x.options.borderRadius,(f.shapeArgs||{}).d=f.graphic.pathArray,null===f.value&&f.graphic.addClass("highcharts-null-point"))}))},D.prototype.getExtremes=function(){var x=N.prototype.getExtremes.call(this,this.valueData),f=x.dataMin;return x=x.dataMax,T(f)&&(this.valueMin=f),T(x)&&(this.valueMax=x),N.prototype.getExtremes.call(this)},D.prototype.getValidPoints=function(x,f){return N.prototype.getValidPoints.call(this,x,f,!0)},D.prototype.hasData=function(){return!!this.processedXData.length},D.prototype.init=function(){N.prototype.init.apply(this,arguments);var x=this.options;x.pointRange=C(x.pointRange,x.colsize||1),this.yAxis.axisPointRange=x.rowsize||1,d.ellipse=d.circle},D.prototype.markerAttribs=function(x,f){var m=x.marker||{},p=x.shapeArgs||{},a={};if(x.hasImage)return{x:x.plotX,y:x.plotY};if(f){var n=(this.options.marker||{}).states[f]||{},h=m.states&&m.states[f]||{};[["width","x"],["height","y"]].forEach(function(l){a[l[0]]=(h[l[0]]||n[l[0]]||p[l[0]])+(h[l[0]+"Plus"]||n[l[0]+"Plus"]||0),a[l[1]]=p[l[1]]+(p[l[0]]-a[l[0]])/2})}return f?a:p},D.prototype.pointAttribs=function(x,f){var m=N.prototype.pointAttribs.call(this,x,f),r=this.options||{},p=this.chart.options.plotOptions||{},a=p.series||{},n=p.heatmap||{};return p=x&&x.options.borderColor||r.borderColor||n.borderColor||a.borderColor,a=x&&x.options.borderWidth||r.borderWidth||n.borderWidth||a.borderWidth||m["stroke-width"],m.stroke=x&&x.marker&&x.marker.lineColor||r.marker&&r.marker.lineColor||p||this.color,m["stroke-width"]=a,f&&(f=(x=y(r.states[f],r.marker&&r.marker.states[f],x&&x.options.states&&x.options.states[f]||{})).brightness,m.fill=x.color||Y.parse(m.fill).brighten(f||0).get(),m.stroke=x.lineColor),m},D.prototype.setClip=function(x){var f=this.chart;N.prototype.setClip.apply(this,arguments),(!1!==this.options.clip||x)&&this.markerGroup.clip((x||this.clipBox)&&this.sharedClipKey?f.sharedClips[this.sharedClipKey]:f.clipRect)},D.prototype.translate=function(){var x=this.options,f=x.marker&&x.marker.symbol||"rect",m=d[f]?f:"rect",r=-1!==["circle","square"].indexOf(m);this.generatePoints(),this.points.forEach(function(p){var a=p.getCellAttributes(),n={};n.x=Math.min(a.x1,a.x2),n.y=Math.min(a.y1,a.y2),n.width=Math.max(Math.abs(a.x2-a.x1),0),n.height=Math.max(Math.abs(a.y2-a.y1),0);var h=p.hasImage=0===(p.marker&&p.marker.symbol||f||"").indexOf("url");if(r){var l=Math.abs(n.width-n.height);n.x=Math.min(a.x1,a.x2)+(n.width<n.height?0:l/2),n.y=Math.min(a.y1,a.y2)+(n.width<n.height?l/2:0),n.width=n.height=Math.min(n.width,n.height)}l={plotX:(a.x1+a.x2)/2,plotY:(a.y1+a.y2)/2,clientX:(a.x1+a.x2)/2,shapeType:"path",shapeArgs:y(!0,n,{d:d[m](n.x,n.y,n.width,n.height)})},h&&(p.marker={width:n.width,height:n.height}),v(p,l)}),_(this,"afterTranslate")},D.defaultOptions=y(g.defaultOptions,{animation:!1,borderRadius:0,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){var x=this.series.chart.numberFormatter,f=this.point.value;return T(f)?x(f,-1):""},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:{symbol:"rect",radius:0,lineColor:void 0,states:{hover:{lineWidthPlus:0},select:{}}},clip:!0,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{hover:{halo:!1,brightness:.2}}}),D}(g),v(K.prototype,{alignDataLabel:k.prototype.alignDataLabel,axisTypes:$.SeriesMixin.axisTypes,colorAttribs:$.SeriesMixin.colorAttribs,colorKey:$.SeriesMixin.colorKey,directTouch:!0,drawLegendSymbol:rt.drawRectangle,getExtremesFromAll:!0,getSymbol:N.prototype.getSymbol,parallelArrays:$.SeriesMixin.parallelArrays,pointArrayMap:["y","value"],pointClass:q,trackerGroups:$.SeriesMixin.trackerGroups}),J.registerSeriesType("heatmap",K),K}),wt(o,"Extensions/GeoJSON.js",[o["Core/Chart/Chart.js"],o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){function J(k,g){var d,v=!1,_=k.x,T=k.y;for(k=0,d=g.length-1;k<g.length;d=k++)g[k][1]>T!=g[d][1]>T&&_<(g[d][0]-g[k][0])*(T-g[k][1])/(g[d][1]-g[k][1])+g[k][0]&&(v=!v);return v}var K=$.format,X=q.win,F=rt.error,N=rt.extend,O=rt.merge;$=rt.wrap,Y.prototype.transformFromLatLon=function(k,g){var d=this.options.chart.proj4||X.proj4;if(!d)return F(21,!1,this),{x:0,y:null};var v=g.jsonmarginX;v=void 0===v?0:v;var _=g.jsonmarginY;_=void 0===_?0:_;var T=g.jsonres;T=void 0===T?1:T;var y=g.scale;y=void 0===y?1:y;var C=g.xoffset;C=void 0===C?0:C;var M=g.xpan;M=void 0===M?0:M;var D=g.yoffset;D=void 0===D?0:D;var x=g.ypan;x=void 0===x?0:x,k=d(g.crs,[k.lon,k.lat]),d=g.cosAngle||g.rotation&&Math.cos(g.rotation);var f=g.sinAngle||g.rotation&&Math.sin(g.rotation);return{x:(((g=g.rotation?[k[0]*d+k[1]*f,-k[0]*f+k[1]*d]:k)[0]-C)*y+M)*T+v,y:-(((D-g[1])*y+x)*T-_)}},Y.prototype.transformToLatLon=function(k,g){if(this.options.chart.proj4||X.proj4){if(null!==k.y){var d=g.jsonmarginX,v=g.jsonmarginY,_=g.jsonres,T=g.scale,y=g.xoffset,C=g.xpan,M=g.yoffset,D=g.ypan;return k={x:((k.x-(void 0===d?0:d))/(_=void 0===_?1:_)-(void 0===C?0:C))/(T=void 0===T?1:T)+(void 0===y?0:y),y:((k.y-(void 0===v?0:v))/_+(void 0===D?0:D))/T+(void 0===M?0:M)},d=g.cosAngle||g.rotation&&Math.cos(g.rotation),v=g.sinAngle||g.rotation&&Math.sin(g.rotation),{lat:(g=X.proj4(g.crs,"WGS84",g.rotation?{x:k.x*d+k.y*-v,y:k.x*v+k.y*d}:k)).y,lon:g.x}}}else F(21,!1,this)},Y.prototype.fromPointToLatLon=function(k){var g=this.mapTransforms;if(g){for(var d in g)if(Object.hasOwnProperty.call(g,d)&&g[d].hitZone&&J(k,g[d].hitZone.coordinates[0]))return this.transformToLatLon(k,g[d]);return this.transformToLatLon(k,g.default)}F(22,!1,this)},Y.prototype.fromLatLonToPoint=function(k){var d,g=this.mapTransforms;if(!g)return F(22,!1,this),{x:0,y:null};for(d in g)if(Object.hasOwnProperty.call(g,d)&&g[d].hitZone){var v=this.transformFromLatLon(k,g[d]);if(J(v,g[d].hitZone.coordinates[0]))return v}return this.transformFromLatLon(k,g.default)},q.geojson=function(k,g,d){void 0===g&&(g="map");var v=[];return k.features.forEach(function(_){var C,T=_.geometry||{},y=T.type;T=T.coordinates,_=_.properties,("map"!==g&&"mapbubble"!==g||"Polygon"!==y&&"MultiPolygon"!==y)&&("mapline"!==g||"LineString"!==y&&"MultiLineString"!==y)?"mappoint"===g&&"Point"===y&&T.length&&(C={geometry:{coordinates:T,type:y}}):T.length&&(C={geometry:{coordinates:T,type:y}}),C&&v.push(N(C,{name:_.name||_.NAME,properties:_}))}),d&&k.copyrightShort&&(d.chart.mapCredits=K(d.chart.options.credits.mapText,{geojson:k}),d.chart.mapCreditsFull=K(d.chart.options.credits.mapTextFull,{geojson:k})),v},$(Y.prototype,"addCredits",function(k,g){g=O(!0,this.options.credits,g),this.mapCredits&&(g.href=null),k.call(this,g),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})}),wt(o,"masters/modules/map.src.js",[o["Core/Globals.js"],o["Core/Axis/Color/ColorAxis.js"],o["Series/MapBubble/MapBubbleSeries.js"],o["Core/Chart/MapChart.js"]],function(Y,$,q,rt){Y.ColorAxis=$,Y.MapChart=rt,Y.mapChart=Y.Map=rt.mapChart,Y.maps=rt.maps,$.compose(Y.Chart,Y.Fx,Y.Legend,Y.Series),q.compose(Y.Chart,Y.Legend,Y.Series)}),wt(o,"masters/highmaps.src.js",[o["masters/highcharts.src.js"]],function(Y){return Y.product="Highmaps",Y}),o["masters/highmaps.src.js"]._modules=o,o["masters/highmaps.src.js"]},we.exports?(wt.default=wt,we.exports=qt.document?wt(qt):wt):void 0!==(Nt=function(){return wt(qt)}.call(_e,Xt,_e,we))&&(we.exports=Nt)},4435:function(we,_e,Xt){"use strict";var Nt,qt,wt;qt="undefined"!=typeof window?window:this,wt=function(qt){function wt(Y,$,q,rt){Y.hasOwnProperty($)||(Y[$]=rt.apply(null,q))}var o={};return wt(o,"Core/Globals.js",[],function(){var $,q,Y=void 0!==qt?qt:"undefined"!=typeof window?window:{};return(q=$||($={})).SVG_NS="http://www.w3.org/2000/svg",q.product="Highcharts",q.version="9.3.3",q.win=Y,q.doc=q.win.document,q.svg=q.doc&&q.doc.createElementNS&&!!q.doc.createElementNS(q.SVG_NS,"svg").createSVGRect,q.userAgent=q.win.navigator&&q.win.navigator.userAgent||"",q.isChrome=-1!==q.userAgent.indexOf("Chrome"),q.isFirefox=-1!==q.userAgent.indexOf("Firefox"),q.isMS=/(edge|msie|trident)/i.test(q.userAgent)&&!q.win.opera,q.isSafari=!q.isChrome&&-1!==q.userAgent.indexOf("Safari"),q.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(q.userAgent),q.isWebKit=-1!==q.userAgent.indexOf("AppleWebKit"),q.deg2rad=2*Math.PI/360,q.hasBidiBug=q.isFirefox&&4>parseInt(q.userAgent.split("Firefox/")[1],10),q.hasTouch=!!q.win.TouchEvent,q.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],q.noop=function(){},q.supportsPassiveEvents=function(){var rt=!1;if(!q.isMS){var J=Object.defineProperty({},"passive",{get:function(){rt=!0}});q.win.addEventListener&&q.win.removeEventListener&&(q.win.addEventListener("testPassive",q.noop,J),q.win.removeEventListener("testPassive",q.noop,J))}return rt}(),q.charts=[],q.dateFormats={},q.seriesTypes={},q.symbolSizes={},q.chartCount=0,$}),wt(o,"Core/Utilities.js",[o["Core/Globals.js"]],function(Y){function $(n,h,l,w){var P=h?"Highcharts error":"Highcharts warning";32===n&&(n=P+": Deprecated member");var I=O(n),L=I?P+" #"+n+": www.highcharts.com/errors/"+n+"/":n.toString();if(void 0!==w){var S="";I&&(L+="?"),C(w,function(B,c){S+="\n - "+c+": "+B,I&&(L+=encodeURI(c)+"="+encodeURI(B))}),L+=S}D(Y,"displayError",{chart:l,code:n,message:L,params:w},function(){if(h)throw Error(L);m.console&&-1===$.messages.indexOf(L)&&console.warn(L)}),$.messages.push(L)}function rt(n,h){return parseInt(n,h||10)}function J(n){return"string"==typeof n}function K(n){return"[object Array]"===(n=Object.prototype.toString.call(n))||"[object Array Iterator]"===n}function X(n,h){return!(!n||"object"!=typeof n||h&&K(n))}function F(n){return X(n)&&"number"==typeof n.nodeType}function N(n){var h=n&&n.constructor;return!(!X(n,!0)||F(n)||!h||!h.name||"Object"===h.name)}function O(n){return"number"==typeof n&&!isNaN(n)&&1/0>n&&-1/0<n}function k(n){return null!=n}function g(n,h,l){var w;return J(h)?k(l)?n.setAttribute(h,l):n&&n.getAttribute&&((w=n.getAttribute(h))||"class"!==h||(w=n.getAttribute(h+"Name"))):C(h,function(P,I){k(P)?n.setAttribute(I,P):n.removeAttribute(I)}),w}function d(n,h){var l;for(l in n||(n={}),h)n[l]=h[l];return n}function v(){for(var n=arguments,h=n.length,l=0;l<h;l++){var w=n[l];if(null!=w)return w}}function _(n,h){Y.isMS&&!Y.svg&&h&&void 0!==h.opacity&&(h.filter="alpha(opacity="+100*h.opacity+")"),d(n.style,h)}function T(n,h){return 1e14<n?n:parseFloat(n.toPrecision(h||14))}function C(n,h,l){for(var w in n)Object.hasOwnProperty.call(n,w)&&h.call(l||n[w],n[w],w,n)}function M(n,h,l){function w(S,B){var c=n.removeEventListener||Y.removeEventListenerPolyfill;c&&c.call(n,S,B,!1)}function P(S){var B;if(n.nodeName){if(h){var c={};c[h]=!0}else c=S;C(c,function(u,E){if(S[E])for(B=S[E].length;B--;)w(E,S[E][B].fn)})}}var I="function"==typeof n&&n.prototype||n;if(Object.hasOwnProperty.call(I,"hcEvents")){var L=I.hcEvents;h?(I=L[h]||[],l?(L[h]=I.filter(function(S){return l!==S.fn}),w(h,l)):(P(L),L[h]=[])):(P(L),delete I.hcEvents)}}function D(n,h,l,w){if(l=l||{},f.createEvent&&(n.dispatchEvent||n.fireEvent&&n!==Y)){var P=f.createEvent("Events");P.initEvent(h,!0,!0),l=d(P,l),n.dispatchEvent?n.dispatchEvent(l):n.fireEvent(h,l)}else if(n.hcEvents){l.target||d(l,{preventDefault:function(){l.defaultPrevented=!0},target:n,type:h}),P=[];for(var I=n,L=!1;I.hcEvents;)Object.hasOwnProperty.call(I,"hcEvents")&&I.hcEvents[h]&&(P.length&&(L=!0),P.unshift.apply(P,I.hcEvents[h])),I=Object.getPrototypeOf(I);L&&P.sort(function(S,B){return S.order-B.order}),P.forEach(function(S){!1===S.fn.call(n,l)&&l.preventDefault()})}w&&!l.defaultPrevented&&w.call(n,l)}var x=Y.charts,f=Y.doc,m=Y.win;($||($={})).messages=[],Math.easeInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)};var r=Array.prototype.find?function(n,h){return n.find(h)}:function(n,h){var l,w=n.length;for(l=0;l<w;l++)if(h(n[l],l))return n[l]};C({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(n,h){Y[h]=function(l){var w;return $(32,!1,void 0,((w={})["Highcharts."+h]="use Array."+n,w)),Array.prototype[n].apply(l,[].slice.call(arguments,1))}});var p,n,h,a=(n=Math.random().toString(36).substring(2,9)+"-",h=0,function(){return"highcharts-"+(p?"":n)+h++});return m.jQuery&&(m.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(Y[J(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):x[g(this[0],"data-highcharts-chart")]}),r={addEvent:function(n,h,l,w){void 0===w&&(w={});var P="function"==typeof n&&n.prototype||n;Object.hasOwnProperty.call(P,"hcEvents")||(P.hcEvents={}),P=P.hcEvents,Y.Point&&n instanceof Y.Point&&n.series&&n.series.chart&&(n.series.chart.runTrackerClick=!0);var I=n.addEventListener||Y.addEventListenerPolyfill;return I&&I.call(n,h,l,!!Y.supportsPassiveEvents&&{passive:void 0===w.passive?-1!==h.indexOf("touch"):w.passive,capture:!1}),P[h]||(P[h]=[]),P[h].push({fn:l,order:"number"==typeof w.order?w.order:1/0}),P[h].sort(function(L,S){return L.order-S.order}),function(){M(n,h,l)}},arrayMax:function(n){for(var h=n.length,l=n[0];h--;)n[h]>l&&(l=n[h]);return l},arrayMin:function(n){for(var h=n.length,l=n[0];h--;)n[h]<l&&(l=n[h]);return l},attr:g,clamp:function(n,h,l){return n>h?n<l?n:l:h},cleanRecursively:function q(n,h){var l={};return C(n,function(w,P){X(n[P],!0)&&!n.nodeType&&h[P]?(w=q(n[P],h[P]),Object.keys(w).length&&(l[P]=w)):(X(n[P])||n[P]!==h[P])&&(l[P]=n[P])}),l},clearTimeout:function(n){k(n)&&clearTimeout(n)},correctFloat:T,createElement:function(n,h,l,w,P){return n=f.createElement(n),h&&d(n,h),P&&_(n,{padding:"0",border:"none",margin:"0"}),l&&_(n,l),w&&w.appendChild(n),n},css:_,defined:k,destroyObjectProperties:function(n,h){C(n,function(l,w){l&&l!==h&&l.destroy&&l.destroy(),delete n[w]})},discardElement:function(n){n&&n.parentElement&&n.parentElement.removeChild(n)},erase:function(n,h){for(var l=n.length;l--;)if(n[l]===h){n.splice(l,1);break}},error:$,extend:d,extendClass:function(n,h){var l=function(){};return d(l.prototype=new n,h),l},find:r,fireEvent:D,getMagnitude:function(n){return Math.pow(10,Math.floor(Math.log(n)/Math.LN10))},getNestedProperty:function(n,h){for(n=n.split(".");n.length&&k(h);){var l=n.shift();if(void 0===l||"__proto__"===l||!k(h=h[l])||"function"==typeof h||"number"==typeof h.nodeType||h===m)return}return h},getStyle:function y(n,h,l){var w=Y.getStyle||y;if("width"===h)return h=Math.min(n.offsetWidth,n.scrollWidth),(l=n.getBoundingClientRect&&n.getBoundingClientRect().width)<h&&l>=h-1&&(h=Math.floor(l)),Math.max(0,h-(w(n,"padding-left",!0)||0)-(w(n,"padding-right",!0)||0));if("height"===h)return Math.max(0,Math.min(n.offsetHeight,n.scrollHeight)-(w(n,"padding-top",!0)||0)-(w(n,"padding-bottom",!0)||0));if(m.getComputedStyle||$(27,!0),n=m.getComputedStyle(n,void 0)){var P=n.getPropertyValue(h);v(l,"opacity"!==h)&&(P=rt(P))}return P},inArray:function(n,h,l){return $(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),h.indexOf(n,l)},isArray:K,isClass:N,isDOMElement:F,isFunction:function(n){return"function"==typeof n},isNumber:O,isObject:X,isString:J,keys:function(n){return $(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(n)},merge:function(){var n,h=arguments,l={},w=function(I,L){return"object"!=typeof I&&(I={}),C(L,function(S,B){"__proto__"!==B&&"constructor"!==B&&(I[B]=!X(S,!0)||N(S)||F(S)?L[B]:w(I[B]||{},S))}),I};!0===h[0]&&(l=h[1],h=Array.prototype.slice.call(h,2));var P=h.length;for(n=0;n<P;n++)l=w(l,h[n]);return l},normalizeTickInterval:function(n,h,l,w,P){var I=n,L=n/(l=v(l,1));for(h||(h=P?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===w&&(1===l?h=h.filter(function(S){return S%1==0}):.1>=l&&(h=[1/l]))),w=0;w<h.length&&(I=h[w],!(P&&I*l>=n||!P&&L<=(h[w]+(h[w+1]||h[w]))/2));w++);return T(I*l,-Math.round(Math.log(.001)/Math.LN10))},objectEach:C,offset:function(n){var h=f.documentElement;return{top:(n=n.parentElement||n.parentNode?n.getBoundingClientRect():{top:0,left:0,width:0,height:0}).top+(m.pageYOffset||h.scrollTop)-(h.clientTop||0),left:n.left+(m.pageXOffset||h.scrollLeft)-(h.clientLeft||0),width:n.width,height:n.height}},pad:function(n,h,l){return Array((h||2)+1-String(n).replace("-","").length).join(l||"0")+n},pick:v,pInt:rt,relativeLength:function(n,h,l){return/%$/.test(n)?h*parseFloat(n)/100+(l||0):parseFloat(n)},removeEvent:M,splat:function(n){return K(n)?n:[n]},stableSort:function(n,h){var w,P,l=n.length;for(P=0;P<l;P++)n[P].safeI=P;for(n.sort(function(I,L){return 0===(w=h(I,L))?I.safeI-L.safeI:w}),P=0;P<l;P++)delete n[P].safeI},syncTimeout:function(n,h,l){return 0<h?setTimeout(n,h,l):(n.call(0,l),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:a,useSerialIds:function(n){return p=v(n,p)},wrap:function(n,h,l){var w=n[h];n[h]=function(){var P=Array.prototype.slice.call(arguments),I=arguments,L=this;return L.proceed=function(){w.apply(L,arguments.length?arguments:I)},P.unshift(w),P=l.apply(this,P),L.proceed=null,P}}},r}),wt(o,"Core/Chart/ChartDefaults.js",[],function(){return{panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}}),wt(o,"Core/Color/Color.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$){var q=$.isNumber,rt=$.merge,J=$.pInt;return function(){function K(X){this.rgba=[NaN,NaN,NaN,NaN],this.input=X;var F=Y.Color;return F&&F!==K?new F(X):this instanceof K?void this.init(X):new K(X)}return K.parse=function(X){return X?new K(X):K.None},K.prototype.init=function(X){var F;if("object"==typeof X&&void 0!==X.stops)this.stops=X.stops.map(function(g){return new K(g[1])});else if("string"==typeof X){if(this.input=X=K.names[X.toLowerCase()]||X,"#"===X.charAt(0)){var N=X.length,O=parseInt(X.substr(1),16);7===N?F=[(16711680&O)>>16,(65280&O)>>8,255&O,1]:4===N&&(F=[(3840&O)>>4|(3840&O)>>8,(240&O)>>4|240&O,(15&O)<<4|15&O,1])}if(!F)for(O=K.parsers.length;O--&&!F;){var k=K.parsers[O];(N=k.regex.exec(X))&&(F=k.parse(N))}}F&&(this.rgba=F)},K.prototype.get=function(X){var F=this.input,N=this.rgba;if("object"==typeof F&&void 0!==this.stops){var O=rt(F);return O.stops=[].slice.call(O.stops),this.stops.forEach(function(k,g){O.stops[g]=[O.stops[g][0],k.get(X)]}),O}return N&&q(N[0])?"rgb"===X||!X&&1===N[3]?"rgb("+N[0]+","+N[1]+","+N[2]+")":"a"===X?""+N[3]:"rgba("+N.join(",")+")":F},K.prototype.brighten=function(X){var F=this.rgba;if(this.stops)this.stops.forEach(function(O){O.brighten(X)});else if(q(X)&&0!==X)for(var N=0;3>N;N++)F[N]+=J(255*X),0>F[N]&&(F[N]=0),255<F[N]&&(F[N]=255);return this},K.prototype.setOpacity=function(X){return this.rgba[3]=X,this},K.prototype.tweenTo=function(X,F){var N=this.rgba,O=X.rgba;return q(N[0])&&q(O[0])?((X=1!==O[3]||1!==N[3])?"rgba(":"rgb(")+Math.round(O[0]+(N[0]-O[0])*(1-F))+","+Math.round(O[1]+(N[1]-O[1])*(1-F))+","+Math.round(O[2]+(N[2]-O[2])*(1-F))+(X?","+(O[3]+(N[3]-O[3])*(1-F)):"")+")":X.input||"none"},K.names={white:"#ffffff",black:"#000000"},K.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(X){return[J(X[1]),J(X[2]),J(X[3]),parseFloat(X[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(X){return[J(X[1]),J(X[2]),J(X[3]),1]}}],K.None=new K(""),K}()}),wt(o,"Core/Color/Palettes.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" ")}}),wt(o,"Core/Time.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$){var q=Y.win,rt=$.defined,J=$.error,K=$.extend,X=$.isObject,F=$.merge,N=$.objectEach,O=$.pad,k=$.pick,g=$.splat,d=$.timeUnits,v=Y.isSafari&&q.Intl&&q.Intl.DateTimeFormat.prototype.formatRange,_=Y.isSafari&&q.Intl&&!q.Intl.DateTimeFormat.prototype.formatRange;return $=function(){function T(y){this.options={},this.variableTimezone=this.useUTC=!1,this.Date=q.Date,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.update(y)}return T.prototype.get=function(y,C){if(this.variableTimezone||this.timezoneOffset){var M=C.getTime(),D=M-this.getTimezoneOffset(C);return C.setTime(D),y=C["getUTC"+y](),C.setTime(M),y}return this.useUTC?C["getUTC"+y]():C["get"+y]()},T.prototype.set=function(y,C,M){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===y||"Seconds"===y||"Minutes"===y&&this.getTimezoneOffset(C)%36e5==0)return C["setUTC"+y](M);var D=this.getTimezoneOffset(C);return D=C.getTime()-D,C.setTime(D),C["setUTC"+y](M),y=this.getTimezoneOffset(C),D=C.getTime()+y,C.setTime(D)}return this.useUTC||v&&"FullYear"===y?C["setUTC"+y](M):C["set"+y](M)},T.prototype.update=function(y){var C=k(y&&y.useUTC,!0);this.options=y=F(!0,this.options||{},y),this.Date=y.Date||q.Date||Date,this.timezoneOffset=(this.useUTC=C)&&y.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),this.variableTimezone=C&&!(!y.getTimezoneOffset&&!y.timezone)},T.prototype.makeTime=function(y,C,M,D,x,f){if(this.useUTC){var m=this.Date.UTC.apply(0,arguments),r=this.getTimezoneOffset(m),p=this.getTimezoneOffset(m+=r);r!==p?m+=p-r:r-36e5!==this.getTimezoneOffset(m-36e5)||_||(m-=36e5)}else m=new this.Date(y,C,k(M,1),k(D,0),k(x,0),k(f,0)).getTime();return m},T.prototype.timezoneOffsetFunction=function(){var y=this,C=this.options,M=C.getTimezoneOffset,D=C.moment||q.moment;if(!this.useUTC)return function(x){return 6e4*new Date(x.toString()).getTimezoneOffset()};if(C.timezone){if(D)return function(x){return 6e4*-D.tz(x,C.timezone).utcOffset()};J(25)}return this.useUTC&&M?function(x){return 6e4*M(x.valueOf())}:function(){return 6e4*(y.timezoneOffset||0)}},T.prototype.dateFormat=function(y,C,M){if(!rt(C)||isNaN(C))return Y.defaultOptions.lang&&Y.defaultOptions.lang.invalidDate||"";y=k(y,"%Y-%m-%d %H:%M:%S");var D=this,x=new this.Date(C),f=this.get("Hours",x),m=this.get("Day",x),r=this.get("Date",x),p=this.get("Month",x),a=this.get("FullYear",x),n=Y.defaultOptions.lang,h=n&&n.weekdays,l=n&&n.shortWeekdays;return x=K({a:l?l[m]:h[m].substr(0,3),A:h[m],d:O(r),e:O(r,2," "),w:m,b:n.shortMonths[p],B:n.months[p],m:O(p+1),o:p+1,y:a.toString().substr(2,2),Y:a,H:O(f),k:f,I:O(f%12||12),l:f%12||12,M:O(this.get("Minutes",x)),p:12>f?"AM":"PM",P:12>f?"am":"pm",S:O(x.getSeconds()),L:O(Math.floor(C%1e3),3)},Y.dateFormats),N(x,function(w,P){for(;-1!==y.indexOf("%"+P);)y=y.replace("%"+P,"function"==typeof w?w.call(D,C):w)}),M?y.substr(0,1).toUpperCase()+y.substr(1):y},T.prototype.resolveDTLFormat=function(y){return X(y,!0)?y:{main:(y=g(y))[0],from:y[1],to:y[2]}},T.prototype.getTimeTicks=function(y,C,M,D){var n,x=this,f=[],m={},r=new x.Date(C),p=y.unitRange,a=y.count||1;if(D=k(D,1),rt(C)){if(x.set("Milliseconds",r,p>=d.second?0:a*Math.floor(x.get("Milliseconds",r)/a)),p>=d.second&&x.set("Seconds",r,p>=d.minute?0:a*Math.floor(x.get("Seconds",r)/a)),p>=d.minute&&x.set("Minutes",r,p>=d.hour?0:a*Math.floor(x.get("Minutes",r)/a)),p>=d.hour&&x.set("Hours",r,p>=d.day?0:a*Math.floor(x.get("Hours",r)/a)),p>=d.day&&x.set("Date",r,p>=d.month?1:Math.max(1,a*Math.floor(x.get("Date",r)/a))),p>=d.month){x.set("Month",r,p>=d.year?0:a*Math.floor(x.get("Month",r)/a));var h=x.get("FullYear",r)}p>=d.year&&x.set("FullYear",r,h-h%a),p===d.week&&(h=x.get("Day",r),x.set("Date",r,x.get("Date",r)-h+D+(h<D?-7:0))),h=x.get("FullYear",r),D=x.get("Month",r);var l=x.get("Date",r),w=x.get("Hours",r);for(C=r.getTime(),!x.variableTimezone&&x.useUTC||!rt(M)||(n=M-C>4*d.month||x.getTimezoneOffset(C)!==x.getTimezoneOffset(M)),C=r.getTime(),r=1;C<M;)f.push(C),C=p===d.year?x.makeTime(h+r*a,0):p===d.month?x.makeTime(h,D+r*a):!n||p!==d.day&&p!==d.week?n&&p===d.hour&&1<a?x.makeTime(h,D,l,w+r*a):C+p*a:x.makeTime(h,D,l+r*a*(p===d.day?1:7)),r++;f.push(C),p<=d.hour&&1e4>f.length&&f.forEach(function(P){P%18e5==0&&"000000000"===x.dateFormat("%H%M%S%L",P)&&(m[P]="day")})}return f.info=K(y,{higherRanks:m,totalRange:p*a}),f},T.prototype.getDateFormat=function(y,C,M,D){var x=this.dateFormat("%m-%d %H:%M:%S.%L",C),f={millisecond:15,second:12,minute:9,hour:6,day:3},m="millisecond";for(r in d){if(y===d.week&&+this.dateFormat("%w",C)===M&&"00:00:00.000"===x.substr(6)){var r="week";break}if(d[r]>y){r=m;break}if(f[r]&&x.substr(f[r])!=="01-01 00:00:00.000".substr(f[r]))break;"week"!==r&&(m=r)}if(r)var p=this.resolveDTLFormat(D[r]).main;return p},T}(),$}),wt(o,"Core/DefaultOptions.js",[o["Core/Chart/ChartDefaults.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Color/Palettes.js"],o["Core/Time.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){$=$.parse;var X=K.merge,F={colors:rt.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:Y,title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:q.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:q.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:$("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"12px",whiteSpace:"nowrap"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}};F.chart.styledMode=!1;var N=new J(X(F.global,F.time));return{defaultOptions:F,defaultTime:N,getOptions:function(){return F},setOptions:function(O){return X(!0,F,O),(O.time||O.global)&&(q.time?q.time.update(X(F.global,F.time,O.global,O.time)):q.time=N),F}}}),wt(o,"Core/Animation/Fx.js",[o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=Y.parse,J=$.win,K=q.isNumber,X=q.objectEach;return function(){function F(N,O,k){this.pos=NaN,this.options=O,this.elem=N,this.prop=k}return F.prototype.dSetter=function(){var N=this.paths,O=N&&N[0];N=N&&N[1];var k=this.now||0,g=[];if(1!==k&&O&&N)if(O.length===N.length&&1>k)for(var d=0;d<N.length;d++){for(var v=O[d],_=N[d],T=[],y=0;y<_.length;y++){var C=v[y],M=_[y];T[y]=K(C)&&K(M)&&("A"!==_[0]||4!==y&&5!==y)?C+k*(M-C):M}g.push(T)}else g=N;else g=this.toD||[];this.elem.attr("d",g,void 0,!0)},F.prototype.update=function(){var N=this.elem,O=this.prop,k=this.now,g=this.options.step;this[O+"Setter"]?this[O+"Setter"]():N.attr?N.element&&N.attr(O,k,null,!0):N.style[O]=k+this.unit,g&&g.call(N,k,this)},F.prototype.run=function(N,O,k){var g=this,d=g.options,v=function(y){return!v.stopped&&g.step(y)},_=J.requestAnimationFrame||function(y){setTimeout(y,13)},T=function(){for(var y=0;y<F.timers.length;y++)F.timers[y]()||F.timers.splice(y--,1);F.timers.length&&_(T)};N!==O||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=N,this.end=O,this.unit=k,this.now=this.start,this.pos=0,v.elem=this.elem,v.prop=this.prop,v()&&1===F.timers.push(v)&&_(T)):(delete d.curAnim[this.prop],d.complete&&0===Object.keys(d.curAnim).length&&d.complete.call(this.elem))},F.prototype.step=function(N){var O=+new Date,k=this.options,g=this.elem,d=k.complete,v=k.duration,_=k.curAnim;if(g.attr&&!g.element)N=!1;else if(N||O>=v+this.startTime){this.now=this.end,this.pos=1,this.update();var T=_[this.prop]=!0;X(_,function(y){!0!==y&&(T=!1)}),T&&d&&d.call(g),N=!1}else this.pos=k.easing((O-this.startTime)/v),this.now=this.start+(this.end-this.start)*this.pos,this.update(),N=!0;return N},F.prototype.initPath=function(N,O,k){function g(x,f){for(;x.length<D;){var m=x[0],r=f[D-x.length];r&&"M"===m[0]&&(x[0]="C"===r[0]?["C",m[1],m[2],m[1],m[2],m[1],m[2]]:["L",m[1],m[2]]),x.unshift(m),T&&(m=x.pop(),x.push(x[x.length-1],m))}}function d(x,f){for(;x.length<D;)if("C"===(f=x[Math.floor(x.length/y)-1].slice())[0]&&(f[1]=f[5],f[2]=f[6]),T){var m=x[Math.floor(x.length/y)].slice();x.splice(x.length/2,0,f,m)}else x.push(f)}var v=N.startX,_=N.endX;k=k.slice();var T=N.isArea,y=T?2:1;if(!(O=O&&O.slice()))return[k,k];if(v&&_&&_.length){for(N=0;N<v.length;N++){if(v[N]===_[0]){var C=N;break}if(v[0]===_[_.length-v.length+N]){C=N;var M=!0;break}if(v[v.length-1]===_[_.length-v.length+N]){C=v.length-N;break}}void 0===C&&(O=[])}if(O.length&&K(C)){var D=k.length+C*y;M?(g(O,k),d(k,O)):(g(k,O),d(O,k))}return[O,k]},F.prototype.fillSetter=function(){F.prototype.strokeSetter.apply(this,arguments)},F.prototype.strokeSetter=function(){this.elem.attr(this.prop,rt(this.start).tweenTo(rt(this.end),this.pos),void 0,!0)},F.timers=[],F}()}),wt(o,"Core/Animation/AnimationUtilities.js",[o["Core/Animation/Fx.js"],o["Core/Utilities.js"]],function(Y,$){function q(d){return N(d)?O({duration:500,defer:0},d):{duration:d?500:0,defer:0}}function rt(d,v){for(var _=Y.timers.length;_--;)Y.timers[_].elem!==d||v&&v!==Y.timers[_].prop||(Y.timers[_].stopped=!0)}var J=$.defined,K=$.getStyle,X=$.isArray,F=$.isNumber,N=$.isObject,O=$.merge,k=$.objectEach,g=$.pick;return{animate:function(d,v,_){var T,C,M,y="";if(!N(_)){var D=arguments;_={duration:D[2],easing:D[3],complete:D[4]}}F(_.duration)||(_.duration=400),_.easing="function"==typeof _.easing?_.easing:Math[_.easing]||Math.easeInOutSine,_.curAnim=O(v),k(v,function(x,f){rt(d,f),M=new Y(d,_,f),C=void 0,"d"===f&&X(v.d)?(M.paths=M.initPath(d,d.pathArray,v.d),M.toD=v.d,T=0,C=1):d.attr?T=d.attr(f):(T=parseFloat(K(d,f))||0,"opacity"!==f&&(y="px")),C||(C=x),"string"==typeof C&&C.match("px")&&(C=C.replace(/px/g,"")),M.run(T,C,y)})},animObject:q,getDeferredAnimation:function(d,v,_){var T=q(v),y=0,C=0;return(_?[_]:d.series).forEach(function(M){M=q(M.options.animation),y=v&&J(v.defer)?T.defer:Math.max(y,M.duration+M.defer),C=Math.min(T.duration,M.duration)}),d.renderer.forExport&&(y=0),{defer:Math.max(0,y-C),duration:Math.min(y,C)}},setAnimation:function(d,v){v.renderer.globalAnimation=g(d,v.options.chart.animation,!0)},stop:rt}}),wt(o,"Core/Renderer/HTML/AST.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$){var q=Y.SVG_NS,rt=$.attr,J=$.createElement,K=$.error,X=$.isFunction,F=$.isString,N=$.objectEach,O=$.splat,k=($=Y.win.trustedTypes)&&X($.createPolicy)&&$.createPolicy("highcharts",{createHTML:function(v){return v}}),g=k?k.createHTML(""):"";try{var d=!!(new DOMParser).parseFromString(g,"text/html")}catch(v){d=!1}return function(){function v(_){this.nodes="string"==typeof _?this.parseMarkup(_):_}return v.filterUserAttributes=function(_){return N(_,function(T,y){var C=!0;-1===v.allowedAttributes.indexOf(y)&&(C=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(y)&&(C=F(T)&&v.allowedReferences.some(function(M){return 0===T.indexOf(M)})),C||(K("Highcharts warning: Invalid attribute '"+y+"' in config"),delete _[y])}),_},v.setElementHTML=function(_,T){_.innerHTML=v.emptyHTML,T&&new v(T).addToDOM(_)},v.prototype.addToDOM=function(_){return function T(y,C){var M;return O(y).forEach(function(D){var x=D.tagName,f=D.textContent?Y.doc.createTextNode(D.textContent):void 0;if(x)if("#text"===x)var m=f;else if(-1!==v.allowedTags.indexOf(x)){x=Y.doc.createElementNS("svg"===x?q:C.namespaceURI||q,x);var r=D.attributes||{};N(D,function(p,a){"tagName"!==a&&"attributes"!==a&&"children"!==a&&"textContent"!==a&&(r[a]=p)}),rt(x,v.filterUserAttributes(r)),f&&x.appendChild(f),T(D.children||[],x),m=x}else K("Highcharts warning: Invalid tagName "+x+" in config");m&&C.appendChild(m),M=m}),M}(this.nodes,_)},v.prototype.parseMarkup=function(_){var T=[];if(_=_.trim(),d)_=(new DOMParser).parseFromString(k?k.createHTML(_):_,"text/html");else{var y=J("div");y.innerHTML=_,_={body:y}}var C=function(M,D){var x=M.nodeName.toLowerCase(),f={tagName:x};if("#text"===x&&(f.textContent=M.textContent||""),x=M.attributes){var m={};[].forEach.call(x,function(p){m[p.name]=p.value}),f.attributes=m}if(M.childNodes.length){var r=[];[].forEach.call(M.childNodes,function(p){C(p,r)}),r.length&&(f.children=r)}D.push(f)};return[].forEach.call(_.body.childNodes,function(M){return C(M,T)}),T},v.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align textAnchor textLength title type valign width x x1 x2 y y1 y2 zIndex".split(" "),v.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" "),v.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr u ul #text".split(" "),v.emptyHTML=g,v}()}),wt(o,"Core/FormatUtilities.js",[o["Core/DefaultOptions.js"],o["Core/Utilities.js"]],function(Y,$){function q(O,k,g,d){k=+k;var v=rt.lang,_=((O=+O||0).toString().split(".")[1]||"").split("e")[0].length,T=O.toString().split("e"),y=k;if(-1===k)k=Math.min(_,20);else if(X(k)){if(k&&T[1]&&0>T[1]){var C=k+ +T[1];0<=C?(T[0]=(+T[0]).toExponential(C).split("e")[0],k=C):(T[0]=T[0].split(".")[0]||0,O=20>k?(T[0]*Math.pow(10,T[1])).toFixed(k):0,T[1]=0)}}else k=2;C=(Math.abs(T[1]?T[0]:O)+Math.pow(10,-Math.max(k,_)-1)).toFixed(k);var M=3<(_=String(N(C))).length?_.length%3:0;return g=F(g,v.decimalPoint),d=F(d,v.thousandsSep),O=(0>O?"-":"")+(M?_.substr(0,M)+d:""),O=0>+T[1]&&!y?"0":O+_.substr(M).replace(/(\d{3})(?=\d)/g,"$1"+d),k&&(O+=g+C.slice(-k)),T[1]&&0!=+O&&(O+="e"+T[1]),O}var rt=Y.defaultOptions,J=Y.defaultTime,K=$.getNestedProperty,X=$.isNumber,F=$.pick,N=$.pInt;return{dateFormat:function(O,k,g){return J.dateFormat(O,k,g)},format:function(O,k,g){var d="{",v=!1,_=/f$/,T=/\.([0-9])/,y=rt.lang,C=g&&g.time||J;g=g&&g.numberFormatter||q;for(var M=[];O;){var D=O.indexOf(d);if(-1===D)break;var x=O.slice(0,D);if(v){if(x=x.split(":"),d=K(x.shift()||"",k),x.length&&"number"==typeof d)if(x=x.join(":"),_.test(x)){var f=parseInt((x.match(T)||["","-1"])[1],10);null!==d&&(d=g(d,f,y.decimalPoint,-1<x.indexOf(",")?y.thousandsSep:""))}else d=C.dateFormat(x,d);M.push(d)}else M.push(x);O=O.slice(D+1),d=(v=!v)?"}":"{"}return M.push(O),M.join("")},numberFormat:q}}),wt(o,"Core/Renderer/RendererUtilities.js",[o["Core/Utilities.js"]],function(Y){var J,$=Y.clamp,q=Y.pick,rt=Y.stableSort;return(J||(J={})).distribute=function X(F,N,O){var _,k=F,g=k.reducedLen||N,d=function(M,D){return(D.rank||0)-(M.rank||0)},v=function(M,D){return M.target-D.target},T=!0,y=[],C=0;for(_=F.length;_--;)C+=F[_].size;if(C>g){for(rt(F,d),C=_=0;C<=g;)C+=F[_].size,_++;y=F.splice(_-1,F.length)}for(rt(F,v),F=F.map(function(M){return{size:M.size,targets:[M.target],align:q(M.align,.5)}});T;){for(_=F.length;_--;)g=F[_],d=(Math.min.apply(0,g.targets)+Math.max.apply(0,g.targets))/2,g.pos=$(d-g.size*g.align,0,N-g.size);for(_=F.length,T=!1;_--;)0<_&&F[_-1].pos+F[_-1].size>F[_].pos&&(F[_-1].size+=F[_].size,F[_-1].targets=F[_-1].targets.concat(F[_].targets),F[_-1].align=.5,F[_-1].pos+F[_-1].size>N&&(F[_-1].pos=N-F[_-1].size),F.splice(_,1),T=!0)}return k.push.apply(k,y),_=0,F.some(function(M){var D=0;return(M.targets||[]).some(function(){return k[_].pos=M.pos+D,void 0!==O&&Math.abs(k[_].pos-k[_].target)>O?(k.slice(0,_+1).forEach(function(x){return delete x.pos}),k.reducedLen=(k.reducedLen||N)-.1*N,k.reducedLen>.1*N&&X(k,N,O),!0):(D+=k[_].size,_++,!1)})}),rt(k,v),k},J}),wt(o,"Core/Renderer/SVG/SVGElement.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Renderer/HTML/AST.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var K=Y.animate,X=Y.animObject,F=Y.stop,N=rt.deg2rad,O=rt.doc,k=rt.noop,g=rt.svg,d=rt.SVG_NS,v=rt.win,_=J.addEvent,T=J.attr,y=J.createElement,C=J.css,M=J.defined,D=J.erase,x=J.extend,f=J.fireEvent,m=J.isArray,r=J.isFunction,p=J.isNumber,a=J.isString,n=J.merge,h=J.objectEach,l=J.pick,w=J.pInt,P=J.syncTimeout,I=J.uniqueKey;return Y=function(){function L(){this.element=void 0,this.onEvents={},this.opacity=1,this.renderer=void 0,this.SVG_NS=d,this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ")}return L.prototype._defaultGetter=function(S){return S=l(this[S+"Value"],this[S],this.element?this.element.getAttribute(S):null,0),/^[\-0-9\.]+$/.test(S)&&(S=parseFloat(S)),S},L.prototype._defaultSetter=function(S,B,c){c.setAttribute(B,S)},L.prototype.add=function(S){var B=this.renderer,c=this.element;if(S&&(this.parentGroup=S),this.parentInverted=S&&S.inverted,void 0!==this.textStr&&"text"===this.element.nodeName&&B.buildText(this),this.added=!0,!S||S.handleZ||this.zIndex)var u=this.zIndexSetter();return u||(S?S.element:B.box).appendChild(c),this.onAdd&&this.onAdd(),this},L.prototype.addClass=function(S,B){var c=B?"":this.attr("class")||"";return(S=(S||"").split(/ /g).reduce(function(u,E){return-1===c.indexOf(E)&&u.push(E),u},c?[c]:[]).join(" "))!==c&&this.attr("class",S),this},L.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},L.prototype.align=function(S,B,c){var G,W,b,u={},E=this.renderer,j=E.alignedObjects;S?(this.alignOptions=S,this.alignByTranslate=B,(!c||a(c))&&(this.alignTo=G=c||"renderer",D(j,this),j.push(this),c=void 0)):(S=this.alignOptions,B=this.alignByTranslate,G=this.alignTo),c=l(c,E[G],"scrollablePlotBox"===G?E.plotBox:void 0,E);var z=S.verticalAlign;return E=(c.x||0)+(S.x||0),j=(c.y||0)+(S.y||0),"right"===(G=S.align)?W=1:"center"===G&&(W=2),W&&(E+=(c.width-(S.width||0))/W),u[B?"translateX":"x"]=Math.round(E),"bottom"===z?b=1:"middle"===z&&(b=2),b&&(j+=(c.height-(S.height||0))/b),u[B?"translateY":"y"]=Math.round(j),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},L.prototype.alignSetter=function(S){var B={left:"start",center:"middle",right:"end"};B[S]&&(this.alignValue=S,this.element.setAttribute("text-anchor",B[S]))},L.prototype.animate=function(S,B,c){var u=this,E=X(l(B,this.renderer.globalAnimation,!0));return B=E.defer,l(O.hidden,O.msHidden,O.webkitHidden,!1)&&(E.duration=0),0!==E.duration?(c&&(E.complete=c),P(function(){u.element&&K(u,S,E)},B)):(this.attr(S,void 0,c),h(S,function(j,G){E.step&&E.step.call(this,j,{prop:G,pos:1,elem:this})},this)),this},L.prototype.applyTextOutline=function(S){var B=this.element;-1!==S.indexOf("contrast")&&(S=S.replace(/contrast/g,this.renderer.getContrast(B.style.fill)));var c=S.split(" ");if(S=c[c.length-1],(c=c[0])&&"none"!==c&&rt.svg){this.fakeTS=!0,this.ySetter=this.xSetter,c=c.replace(/(^[\d\.]+)(.*?)$/g,function(j,G,W){return 2*Number(G)+W}),this.removeTextOutline();var u=O.createElementNS(d,"tspan");T(u,{class:"highcharts-text-outline",fill:S,stroke:S,"stroke-width":c,"stroke-linejoin":"round"}),[].forEach.call(B.childNodes,function(j){var G=j.cloneNode(!0);G.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(W){return G.removeAttribute(W)}),u.appendChild(G)});var E=O.createElementNS(d,"tspan");E.textContent="\u200b",["x","y"].forEach(function(j){var G=B.getAttribute(j);G&&E.setAttribute(j,G)}),u.appendChild(E),B.insertBefore(u,B.firstChild)}},L.prototype.attr=function(S,B,c,u){var G,b,z,E=this.element,j=this.symbolCustomAttribs,W=this;if("string"==typeof S&&void 0!==B){var R=S;(S={})[R]=B}return"string"==typeof S?W=(this[S+"Getter"]||this._defaultGetter).call(this,S,E):(h(S,function(V,Z){b=!1,u||F(this,Z),this.symbolName&&-1!==j.indexOf(Z)&&(G||(this.symbolAttr(S),G=!0),b=!0),!this.rotation||"x"!==Z&&"y"!==Z||(this.doTransform=!0),b||((z=this[Z+"Setter"]||this._defaultSetter).call(this,V,Z,E),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(Z)&&this.updateShadows(Z,V,z))},this),this.afterSetters()),c&&c.call(this),W},L.prototype.clip=function(S){return this.attr("clip-path",S?"url("+this.renderer.url+"#"+S.id+")":"none")},L.prototype.crisp=function(S,B){B=B||S.strokeWidth||0;var c=Math.round(B)%2/2;return S.x=Math.floor(S.x||this.x||0)+c,S.y=Math.floor(S.y||this.y||0)+c,S.width=Math.floor((S.width||this.width||0)-2*c),S.height=Math.floor((S.height||this.height||0)-2*c),M(S.strokeWidth)&&(S.strokeWidth=B),S},L.prototype.complexColor=function(S,B,c){var E,j,G,W,b,z,R,V,Z,nt,ot,u=this.renderer,it=[];f(this.renderer,"complexColor",{args:arguments},function(){if(S.radialGradient?j="radialGradient":S.linearGradient&&(j="linearGradient"),j){if(b=u.gradients,z=S.stops,Z=c.radialReference,m(G=S[j])&&(S[j]=G={x1:G[0],y1:G[1],x2:G[2],y2:G[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===j&&Z&&!M(G.gradientUnits)&&(G=n(G,u.getRadialAttr(Z,W=G),{gradientUnits:"userSpaceOnUse"})),h(G,function(mt,_t){"id"!==_t&&it.push(_t,mt)}),h(z,function(mt){it.push(mt)}),it=it.join(","),b[it])nt=b[it].attr("id");else{G.id=nt=I();var at=b[it]=u.createElement(j).attr(G).add(u.defs);at.radAttr=W,at.stops=[],z.forEach(function(mt){0===mt[1].indexOf("rgba")?(E=q.parse(mt[1]),R=E.get("rgb"),V=E.get("a")):(R=mt[1],V=1),mt=u.createElement("stop").attr({offset:mt[0],"stop-color":R,"stop-opacity":V}).add(at),at.stops.push(mt)})}c.setAttribute(B,ot="url("+u.url+"#"+nt+")"),c.gradient=it,S.toString=function(){return ot}}})},L.prototype.css=function(S){var B=this.styles,c={},u=this.element,E=["textOutline","textOverflow","width"],j="",G=!B;if(S&&S.color&&(S.fill=S.color),B&&h(S,function(z,R){B&&B[R]!==z&&(c[R]=z,G=!0)}),G){if(B&&(S=x(B,c)),S)if(null===S.width||"auto"===S.width)delete this.textWidth;else if("text"===u.nodeName.toLowerCase()&&S.width)var W=this.textWidth=w(S.width);if(this.styles=S,W&&!g&&this.renderer.forExport&&delete S.width,u.namespaceURI===this.SVG_NS){var b=function(z,R){return"-"+R.toLowerCase()};h(S,function(z,R){-1===E.indexOf(R)&&(j+=R.replace(/([A-Z])/g,b)+":"+z+";")}),j&&T(u,"style",j)}else C(u,S);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),S&&S.textOutline&&this.applyTextOutline(S.textOutline))}return this},L.prototype.dashstyleSetter=function(S){var B=this["stroke-width"];if("inherit"===B&&(B=1),S=S&&S.toLowerCase()){var c=S.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(S=c.length;S--;)c[S]=""+w(c[S])*l(B,NaN);S=c.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",S)}},L.prototype.destroy=function(){var S=this,B=S.element||{},c=S.renderer,u=B.ownerSVGElement,E=c.isSVG&&"SPAN"===B.nodeName&&S.parentGroup||void 0;if(B.onclick=B.onmouseout=B.onmouseover=B.onmousemove=B.point=null,F(S),S.clipPath&&u){var j=S.clipPath;[].forEach.call(u.querySelectorAll("[clip-path],[CLIP-PATH]"),function(G){-1<G.getAttribute("clip-path").indexOf(j.element.id)&&G.removeAttribute("clip-path")}),S.clipPath=j.destroy()}if(S.stops){for(u=0;u<S.stops.length;u++)S.stops[u].destroy();S.stops.length=0,S.stops=void 0}for(S.safeRemoveChild(B),c.styledMode||S.destroyShadows();E&&E.div&&0===E.div.childNodes.length;)B=E.parentGroup,S.safeRemoveChild(E.div),delete E.div,E=B;S.alignTo&&D(c.alignedObjects,S),h(S,function(G,W){S[W]&&S[W].parentGroup===S&&S[W].destroy&&S[W].destroy(),delete S[W]})},L.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(S){this.safeRemoveChild(S)},this),this.shadows=void 0},L.prototype.destroyTextPath=function(S,B){var c=S.getElementsByTagName("text")[0];if(c){if(c.removeAttribute("dx"),c.removeAttribute("dy"),B.element.setAttribute("id",""),this.textPathWrapper&&c.getElementsByTagName("textPath").length){for(S=this.textPathWrapper.element.childNodes;S.length;)c.appendChild(S[0]);c.removeChild(this.textPathWrapper.element)}}else(S.getAttribute("dx")||S.getAttribute("dy"))&&(S.removeAttribute("dx"),S.removeAttribute("dy"));this.textPathWrapper&&(this.textPathWrapper=this.textPathWrapper.destroy())},L.prototype.dSetter=function(S,B,c){m(S)&&("string"==typeof S[0]&&(S=this.renderer.pathToSegments(S)),this.pathArray=S,S=S.reduce(function(u,E,j){return E&&E.join?(j?u+" ":"")+E.join(" "):(E||"").toString()},"")),/(NaN| {2}|^$)/.test(S)&&(S="M 0 0"),this[B]!==S&&(c.setAttribute(B,S),this[B]=S)},L.prototype.fadeOut=function(S){var B=this;B.animate({opacity:0},{duration:l(S,150),complete:function(){B.attr({y:-9999}).hide()}})},L.prototype.fillSetter=function(S,B,c){"string"==typeof S?c.setAttribute(B,S):S&&this.complexColor(S,B,c)},L.prototype.getBBox=function(S,B){var c=this.renderer,u=this.element,E=this.styles,j=this.textStr,G=c.cache,W=c.cacheKeys,b=u.namespaceURI===this.SVG_NS;B=l(B,this.rotation,0);var R,z=c.styledMode?u&&L.prototype.getStyle.call(u,"font-size"):E&&E.fontSize;if(M(j)){var V=j.toString();-1===V.indexOf("<")&&(V=V.replace(/[0-9]/g,"0")),V+=["",B,z,this.textWidth,E&&E.textOverflow,E&&E.fontWeight].join()}if(V&&!S&&(R=G[V]),!R){if(b||c.forExport){try{var Z=this.fakeTS&&function(nt){var it=u.querySelector(".highcharts-text-outline");it&&C(it,{display:nt})};r(Z)&&Z("none"),R=u.getBBox?x({},u.getBBox()):{width:u.offsetWidth,height:u.offsetHeight},r(Z)&&Z("")}catch(nt){}(!R||0>R.width)&&(R={width:0,height:0})}else R=this.htmlGetBBox();if(c.isSVG&&(S=R.width,c=R.height,b&&(R.height=c={"11px,17":14,"13px,20":16}[(z||"")+","+Math.round(c)]||c),B&&(b=B*N,R.width=Math.abs(c*Math.sin(b))+Math.abs(S*Math.cos(b)),R.height=Math.abs(c*Math.cos(b))+Math.abs(S*Math.sin(b)))),V&&(""===j||0<R.height)){for(;250<W.length;)delete G[W.shift()];G[V]||W.push(V),G[V]=R}}return R},L.prototype.getStyle=function(S){return v.getComputedStyle(this.element||this,"").getPropertyValue(S)},L.prototype.hasClass=function(S){return-1!==(""+this.attr("class")).split(" ").indexOf(S)},L.prototype.hide=function(S){return this.attr(S?{y:-9999}:{visibility:"hidden"}),this},L.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}},L.prototype.init=function(S,B){this.element="span"===B?y(B):O.createElementNS(this.SVG_NS,B),this.renderer=S,f(this,"afterInit")},L.prototype.invert=function(S){return this.inverted=S,this.updateTransform(),this},L.prototype.on=function(S,B){var c=this.onEvents;return c[S]&&c[S](),c[S]=_(this.element,S,B),this},L.prototype.opacitySetter=function(S,B,c){this.opacity=S=Number(Number(S).toFixed(3)),c.setAttribute(B,S)},L.prototype.removeClass=function(S){return this.attr("class",(""+this.attr("class")).replace(a(S)?new RegExp("(^| )"+S+"( |$)"):S," ").replace(/ +/g," ").trim())},L.prototype.removeTextOutline=function(){var S=this.element.querySelector("tspan.highcharts-text-outline");S&&this.safeRemoveChild(S)},L.prototype.safeRemoveChild=function(S){var B=S.parentNode;B&&B.removeChild(S)},L.prototype.setRadialReference=function(S){var B=this.element.gradient&&this.renderer.gradients[this.element.gradient];return this.element.radialReference=S,B&&B.radAttr&&B.animate(this.renderer.getRadialAttr(S,B.radAttr)),this},L.prototype.setTextPath=function(S,B){var c=this.element,u=this.text?this.text.element:c,E={textAnchor:"text-anchor"},j=!1,G=this.textPathWrapper,W=!G;B=n(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},B);var b=$.filterUserAttributes(B.attributes);if(S&&B&&B.enabled){G&&null===G.element.parentNode?(W=!0,G=G.destroy()):G&&this.removeTextOutline.call(G.parentGroup),this.options&&this.options.padding&&(b.dx=-this.options.padding),G||(this.textPathWrapper=G=this.renderer.createElement("textPath"),j=!0);var z=G.element;if((B=S.element.getAttribute("id"))||S.element.setAttribute("id",B=I()),W)for(u.setAttribute("y",0),p(b.dx)&&u.setAttribute("x",-b.dx),S=[].slice.call(u.childNodes),W=0;W<S.length;W++){var R=S[W];R.nodeType!==v.Node.TEXT_NODE&&"tspan"!==R.nodeName||z.appendChild(R)}j&&G&&G.add({element:u}),z.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+B),M(b.dy)&&(z.parentNode.setAttribute("dy",b.dy),delete b.dy),M(b.dx)&&(z.parentNode.setAttribute("dx",b.dx),delete b.dx),h(b,function(V,Z){z.setAttribute(E[Z]||Z,V)}),c.removeAttribute("transform"),this.removeTextOutline.call(G),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=k}else G&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(c,S),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this},L.prototype.shadow=function(S,B,c){var b,u=[],E=this.element,j=this.oldShadowOptions,G={color:"#000000",offsetX:this.parentInverted?-1:1,offsetY:this.parentInverted?-1:1,opacity:.15,width:3},W=!1;if(!0===S?b=G:"object"==typeof S&&(b=x(G,S)),b&&(b&&j&&h(b,function(nt,it){nt!==j[it]&&(W=!0)}),W&&this.destroyShadows(),this.oldShadowOptions=b),b){if(!this.shadows){var z=b.opacity/b.width,R=this.parentInverted?"translate("+b.offsetY+", "+b.offsetX+")":"translate("+b.offsetX+", "+b.offsetY+")";for(G=1;G<=b.width;G++){var V=E.cloneNode(!1),Z=2*b.width+1-2*G;T(V,{stroke:S.color||"#000000","stroke-opacity":z*G,"stroke-width":Z,transform:R,fill:"none"}),V.setAttribute("class",(V.getAttribute("class")||"")+" highcharts-shadow"),c&&(T(V,"height",Math.max(T(V,"height")-Z,0)),V.cutHeight=Z),B?B.element.appendChild(V):E.parentNode&&E.parentNode.insertBefore(V,E),u.push(V)}this.shadows=u}}else this.destroyShadows();return this},L.prototype.show=function(S){return this.attr({visibility:S?"inherit":"visible"})},L.prototype.strokeSetter=function(S,B,c){this[B]=S,this.stroke&&this["stroke-width"]?(L.prototype.fillSetter.call(this,this.stroke,"stroke",c),c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===B&&0===S&&this.hasStroke?(c.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(c.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},L.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var S=this.getStyle("stroke-width"),B=0;if(S.indexOf("px")===S.length-2)B=w(S);else if(""!==S){var c=O.createElementNS(d,"rect");T(c,{width:S,"stroke-width":0}),this.element.parentNode.appendChild(c),B=c.getBBox().width,c.parentNode.removeChild(c)}return B},L.prototype.symbolAttr=function(S){var B=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(c){B[c]=l(S[c],B[c])}),B.attr({d:B.renderer.symbols[B.symbolName](B.x,B.y,B.width,B.height,B)})},L.prototype.textSetter=function(S){S!==this.textStr&&(delete this.textPxLength,this.textStr=S,this.added&&this.renderer.buildText(this))},L.prototype.titleSetter=function(S){var B=this.element,c=B.getElementsByTagName("title")[0]||O.createElementNS(this.SVG_NS,"title");B.insertBefore?B.insertBefore(c,B.firstChild):B.appendChild(c),c.textContent=String(l(S,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")},L.prototype.toFront=function(){var S=this.element;return S.parentNode.appendChild(S),this},L.prototype.translate=function(S,B){return this.attr({translateX:S,translateY:B})},L.prototype.updateShadows=function(S,B,c){var u=this.shadows;if(u)for(var E=u.length;E--;)c.call(u[E],"height"===S?Math.max(B-(u[E].cutHeight||0),0):"d"===S?this.d:B,S,u[E])},L.prototype.updateTransform=function(){var S=this.scaleX,B=this.scaleY,c=this.inverted,u=this.rotation,E=this.matrix,j=this.element,G=this.translateX||0,W=this.translateY||0;c&&(G+=this.width,W+=this.height),G=["translate("+G+","+W+")"],M(E)&&G.push("matrix("+E.join(",")+")"),c?G.push("rotate(90) scale(-1,1)"):u&&G.push("rotate("+u+" "+l(this.rotationOriginX,j.getAttribute("x"),0)+" "+l(this.rotationOriginY,j.getAttribute("y")||0)+")"),(M(S)||M(B))&&G.push("scale("+l(S,1)+" "+l(B,1)+")"),G.length&&j.setAttribute("transform",G.join(" "))},L.prototype.visibilitySetter=function(S,B,c){"inherit"===S?c.removeAttribute(B):this[B]!==S&&c.setAttribute(B,S),this[B]=S},L.prototype.xGetter=function(S){return"circle"===this.element.nodeName&&("x"===S?S="cx":"y"===S&&(S="cy")),this._defaultGetter(S)},L.prototype.zIndexSetter=function(S,B){var c=this.renderer,u=this.parentGroup,E=(u||c).element||c.box,j=this.element;c=E===c.box;var b,G=!1,W=this.added;if(M(S)?(j.setAttribute("data-z-index",S),this[B]===(S=+S)&&(W=!1)):M(this[B])&&j.removeAttribute("data-z-index"),this[B]=S,W){for((S=this.zIndex)&&u&&(u.handleZ=!0),b=(B=E.childNodes).length-1;0<=b&&!G;b--){W=(u=B[b]).getAttribute("data-z-index");var z=!M(W);u!==j&&(0>S&&z&&!c&&!b?(E.insertBefore(j,B[b]),G=!0):(w(W)<=S||z&&(!M(S)||0<=S))&&(E.insertBefore(j,B[b+1]||null),G=!0))}G||(E.insertBefore(j,B[c?3:0]||null),G=!0)}return G},L}(),Y.prototype["stroke-widthSetter"]=Y.prototype.strokeSetter,Y.prototype.yGetter=Y.prototype.xGetter,Y.prototype.matrixSetter=Y.prototype.rotationOriginXSetter=Y.prototype.rotationOriginYSetter=Y.prototype.rotationSetter=Y.prototype.scaleXSetter=Y.prototype.scaleYSetter=Y.prototype.translateXSetter=Y.prototype.translateYSetter=Y.prototype.verticalAlignSetter=function(L,S){this[S]=L,this.doTransform=!0},Y}),wt(o,"Core/Renderer/RendererRegistry.js",[o["Core/Globals.js"]],function(Y){var $,q,rt;return(q=$||($={})).rendererTypes={},q.getRendererType=function(J){return void 0===J&&(J=rt),q.rendererTypes[J]||q.rendererTypes[rt]},q.registerRendererType=function(J,K,X){q.rendererTypes[J]=K,(!rt||X)&&(rt=J,Y.Renderer=K)},$}),wt(o,"Core/Renderer/SVG/SVGLabel.js",[o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$){var O,q=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),rt=$.defined,J=$.extend,K=$.isNumber,X=$.merge,F=$.pick,N=$.removeEvent;return function(O){function k(g,d,v,_,T,y,C,M,D,x){var m,f=O.call(this)||this;return f.paddingLeftSetter=f.paddingSetter,f.paddingRightSetter=f.paddingSetter,f.init(g,"g"),f.textStr=d,f.x=v,f.y=_,f.anchorX=y,f.anchorY=C,f.baseline=D,f.className=x,f.addClass("button"===x?"highcharts-no-tooltip":"highcharts-label"),x&&f.addClass("highcharts-"+x),f.text=g.text(void 0,0,0,M).attr({zIndex:1}),"string"==typeof T&&((m=/^url\((.*?)\)$/.test(T))||f.renderer.symbols[T])&&(f.symbolKey=T),f.bBox=k.emptyBBox,f.padding=3,f.baselineOffset=0,f.needsBox=g.styledMode||m,f.deferredAttr={},f.alignFactor=0,f}return q(k,O),k.prototype.alignSetter=function(g){(g={left:0,center:.5,right:1}[g])!==this.alignFactor&&(this.alignFactor=g,this.bBox&&K(this.xSetting)&&this.attr({x:this.xSetting}))},k.prototype.anchorXSetter=function(g,d){this.anchorX=g,this.boxAttr(d,Math.round(g)-this.getCrispAdjust()-this.xSetting)},k.prototype.anchorYSetter=function(g,d){this.anchorY=g,this.boxAttr(d,g-this.ySetting)},k.prototype.boxAttr=function(g,d){this.box?this.box.attr(g,d):this.deferredAttr[g]=d},k.prototype.css=function(g){if(g){var d={};g=X(g),k.textProps.forEach(function(_){void 0!==g[_]&&(d[_]=g[_],delete g[_])}),this.text.css(d);var v="width"in d;"fontSize"in d||"fontWeight"in d?this.updateTextPadding():v&&this.updateBoxSize()}return Y.prototype.css.call(this,g)},k.prototype.destroy=function(){N(this.element,"mouseenter"),N(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),Y.prototype.destroy.call(this)},k.prototype.fillSetter=function(g,d){g&&(this.needsBox=!0),this.fill=g,this.boxAttr(d,g)},k.prototype.getBBox=function(){this.textStr&&0===this.bBox.width&&0===this.bBox.height&&this.updateBoxSize();var g=this.padding,d=F(this.paddingLeft,g);return{width:this.width,height:this.height,x:this.bBox.x-d,y:this.bBox.y-g}},k.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2},k.prototype.heightSetter=function(g){this.heightSetting=g},k.prototype.onAdd=function(){var g=this.textStr;this.text.add(this),this.attr({text:rt(g)?g:"",x:this.x,y:this.y}),this.box&&rt(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})},k.prototype.paddingSetter=function(g,d){K(g)?g!==this[d]&&(this[d]=g,this.updateTextPadding()):this[d]=void 0},k.prototype.rSetter=function(g,d){this.boxAttr(d,g)},k.prototype.shadow=function(g){return g&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(g)),this},k.prototype.strokeSetter=function(g,d){this.stroke=g,this.boxAttr(d,g)},k.prototype["stroke-widthSetter"]=function(g,d){g&&(this.needsBox=!0),this["stroke-width"]=g,this.boxAttr(d,g)},k.prototype["text-alignSetter"]=function(g){this.textAlign=g},k.prototype.textSetter=function(g){void 0!==g&&this.text.attr({text:g}),this.updateTextPadding()},k.prototype.updateBoxSize=function(){var g=this.text.element.style,d={},v=this.padding,_=this.bBox=K(this.widthSetting)&&K(this.heightSetting)&&!this.textAlign||!rt(this.text.textStr)?k.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth(),this.height=(this.heightSetting||_.height||0)+2*v,g=this.renderer.fontMetrics(g&&g.fontSize,this.text),this.baselineOffset=v+Math.min((this.text.firstLineMetrics||g).b,_.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-g.h)/2),this.needsBox&&(this.box||((v=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect()).addClass(("button"===this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),v.add(this)),v=this.getCrispAdjust(),d.x=v,d.y=(this.baseline?-this.baselineOffset:0)+v,d.width=Math.round(this.width),d.height=Math.round(this.height),this.box.attr(J(d,this.deferredAttr)),this.deferredAttr={})},k.prototype.updateTextPadding=function(){var g=this.text;this.updateBoxSize();var d=this.baseline?0:this.baselineOffset,v=F(this.paddingLeft,this.padding);rt(this.widthSetting)&&this.bBox&&("center"===this.textAlign||"right"===this.textAlign)&&(v+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width)),(v!==g.x||d!==g.y)&&(g.attr("x",v),g.hasBoxWidthChanged&&(this.bBox=g.getBBox(!0)),void 0!==d&&g.attr("y",d)),g.x=v,g.y=d},k.prototype.widthSetter=function(g){this.widthSetting=K(g)?g:void 0},k.prototype.getPaddedWidth=function(){var g=this.padding,d=F(this.paddingLeft,g);return g=F(this.paddingRight,g),(this.widthSetting||this.bBox.width||0)+d+g},k.prototype.xSetter=function(g){this.x=g,this.alignFactor&&(g-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.xSetting=Math.round(g),this.attr("translateX",this.xSetting)},k.prototype.ySetter=function(g){this.ySetting=this.y=Math.round(g),this.attr("translateY",this.ySetting)},k.emptyBBox={width:0,height:0,x:0,y:0},k.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" "),k}(Y)}),wt(o,"Core/Renderer/SVG/Symbols.js",[o["Core/Utilities.js"]],function(Y){function $(F,N,O,k,g){var d=[];if(g){var v=g.start||0,_=X(g.r,O);O=X(g.r,k||O);var T=(g.end||0)-.001;k=g.innerR;var y=X(g.open,.001>Math.abs((g.end||0)-v-2*Math.PI)),C=Math.cos(v),M=Math.sin(v),D=Math.cos(T),x=Math.sin(T);v=X(g.longArc,.001>T-v-Math.PI?0:1),d.push(["M",F+_*C,N+O*M],["A",_,O,0,v,X(g.clockwise,1),F+_*D,N+O*x]),J(k)&&d.push(y?["M",F+k*D,N+k*x]:["L",F+k*D,N+k*x],["A",k,k,0,v,J(g.clockwise)?1-g.clockwise:0,F+k*C,N+k*M]),y||d.push(["Z"])}return d}function q(F,N,O,k,g){return g&&g.r?rt(F,N,O,k,g):[["M",F,N],["L",F+O,N],["L",F+O,N+k],["L",F,N+k],["Z"]]}function rt(F,N,O,k,g){return[["M",F+(g=g&&g.r||0),N],["L",F+O-g,N],["C",F+O,N,F+O,N,F+O,N+g],["L",F+O,N+k-g],["C",F+O,N+k,F+O,N+k,F+O-g,N+k],["L",F+g,N+k],["C",F,N+k,F,N+k,F,N+k-g],["L",F,N+g],["C",F,N,F,N,F+g,N]]}var J=Y.defined,K=Y.isNumber,X=Y.pick;return{arc:$,callout:function(F,N,O,k,g){var d=Math.min(g&&g.r||0,O,k),v=d+6,_=g&&g.anchorX;g=g&&g.anchorY||0;var T=rt(F,N,O,k,{r:d});return K(_)&&(F+_>=O?g>N+v&&g<N+k-v?T.splice(3,1,["L",F+O,g-6],["L",F+O+6,g],["L",F+O,g+6],["L",F+O,N+k-d]):T.splice(3,1,["L",F+O,k/2],["L",_,g],["L",F+O,k/2],["L",F+O,N+k-d]):0>=F+_?g>N+v&&g<N+k-v?T.splice(7,1,["L",F,g+6],["L",F-6,g],["L",F,g-6],["L",F,N+d]):T.splice(7,1,["L",F,k/2],["L",_,g],["L",F,k/2],["L",F,N+d]):g&&g>k&&_>F+v&&_<F+O-v?T.splice(5,1,["L",_+6,N+k],["L",_,N+k+6],["L",_-6,N+k],["L",F+d,N+k]):g&&0>g&&_>F+v&&_<F+O-v&&T.splice(1,1,["L",_-6,N],["L",_,N-6],["L",_+6,N],["L",O-d,N])),T},circle:function(F,N,O,k){return $(F+O/2,N+k/2,O/2,k/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(F,N,O,k){return[["M",F+O/2,N],["L",F+O,N+k/2],["L",F+O/2,N+k],["L",F,N+k/2],["Z"]]},rect:q,roundedRect:rt,square:q,triangle:function(F,N,O,k){return[["M",F+O/2,N],["L",F+O,N+k],["L",F,N+k],["Z"]]},"triangle-down":function(F,N,O,k){return[["M",F,N],["L",F+O,N],["L",F+O/2,N+k],["Z"]]}}}),wt(o,"Core/Renderer/SVG/TextBuilder.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=$.doc,J=$.SVG_NS,K=$.win,X=q.attr,F=q.isString,N=q.objectEach,O=q.pick;return function(){function k(g){var d=g.styles;this.renderer=g.renderer,this.svgElement=g,this.width=g.textWidth,this.textLineHeight=d&&d.lineHeight,this.textOutline=d&&d.textOutline,this.ellipsis=!(!d||"ellipsis"!==d.textOverflow),this.noWrap=!(!d||"nowrap"!==d.whiteSpace),this.fontSize=d&&d.fontSize}return k.prototype.buildSVG=function(){var g=this.svgElement,d=g.element,v=g.renderer,_=O(g.textStr,"").toString(),T=-1!==_.indexOf("<"),y=d.childNodes;v=this.width&&!g.added&&v.box;var M=[_,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(M!==g.textCache){for(g.textCache=M,delete g.actualWidth,M=y.length;M--;)d.removeChild(y[M]);T||this.ellipsis||this.width||-1!==_.indexOf(" ")&&(!this.noWrap||/<br.*?>/g.test(_))?""!==_&&(v&&v.appendChild(d),_=new Y(_),this.modifyTree(_.nodes),_.addToDOM(g.element),this.modifyDOM(),this.ellipsis&&-1!==(d.textContent||"").indexOf("\u2026")&&g.attr("title",this.unescapeEntities(g.textStr||"",["&lt;","&gt;"])),v&&v.removeChild(d)):d.appendChild(rt.createTextNode(this.unescapeEntities(_))),F(this.textOutline)&&g.applyTextOutline&&g.applyTextOutline(this.textOutline)}},k.prototype.modifyDOM=function(){var _,g=this,d=this.svgElement,v=X(d.element,"x");for(d.firstLineMetrics=void 0;(_=d.element.firstChild)&&/^[\s\u200B]*$/.test(_.textContent||" ");)d.element.removeChild(_);[].forEach.call(d.element.querySelectorAll("tspan.highcharts-br"),function(M,D){M.nextSibling&&M.previousSibling&&(0===D&&1===M.previousSibling.nodeType&&(d.firstLineMetrics=d.renderer.fontMetrics(void 0,M.previousSibling)),X(M,{dy:g.getLineHeight(M.nextSibling),x:v}))});var T=this.width||0;if(T){var C=function(M){[].slice.call(M.childNodes).forEach(function(D){D.nodeType===K.Node.TEXT_NODE?function(M,D){var x=M.textContent||"",f=x.replace(/([^\^])-/g,"$1- ").split(" "),m=!g.noWrap&&(1<f.length||1<d.element.childNodes.length),r=g.getLineHeight(D),p=0,a=d.actualWidth;if(g.ellipsis)x&&g.truncate(M,x,void 0,0,Math.max(0,T-parseInt(g.fontSize||12,10)),function(n,h){return n.substring(0,h)+"\u2026"});else if(m){for(x=[],m=[];D.firstChild&&D.firstChild!==M;)m.push(D.firstChild),D.removeChild(D.firstChild);for(;f.length;)f.length&&!g.noWrap&&0<p&&(x.push(M.textContent||""),M.textContent=f.join(" ").replace(/- /g,"-")),g.truncate(M,void 0,f,0===p&&a||0,T,function(n,h){return f.slice(0,h).join(" ").replace(/- /g,"-")}),a=d.actualWidth,p++;m.forEach(function(n){D.insertBefore(n,M)}),x.forEach(function(n){D.insertBefore(rt.createTextNode(n),M),(n=rt.createElementNS(J,"tspan")).textContent="\u200b",X(n,{dy:r,x:v}),D.insertBefore(n,M)})}}(D,M):(-1!==D.className.baseVal.indexOf("highcharts-br")&&(d.actualWidth=0),C(D))})};C(d.element)}},k.prototype.getLineHeight=function(g){var d;return g=g.nodeType===K.Node.TEXT_NODE?g.parentElement:g,this.renderer.styledMode||(d=g&&/(px|em)$/.test(g.style.fontSize)?g.style.fontSize:this.fontSize||this.renderer.style.fontSize||12),this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(d,g||this.svgElement.element).h},k.prototype.modifyTree=function(g){var d=this,v=function(_,T){var y=_.attributes;y=void 0===y?{}:y;var C=_.children,M=_.tagName,D=d.renderer.styledMode;"b"===M||"strong"===M?D?y.class="highcharts-strong":y.style="font-weight:bold;"+(y.style||""):("i"===M||"em"===M)&&(D?y.class="highcharts-emphasized":y.style="font-style:italic;"+(y.style||"")),F(y.style)&&(y.style=y.style.replace(/(;| |^)color([ :])/,"$1fill$2")),"br"===M?(y.class="highcharts-br",_.textContent="\u200b",(T=g[T+1])&&T.textContent&&(T.textContent=T.textContent.replace(/^ +/gm,""))):"a"===M&&C&&C.some(function(x){return"#text"===x.tagName})&&(_.children=[{children:C,tagName:"tspan"}]),"#text"!==M&&"a"!==M&&(_.tagName="tspan"),_.attributes=y,C&&C.filter(function(x){return"#text"!==x.tagName}).forEach(v)};g.forEach(v)},k.prototype.truncate=function(g,d,v,_,T,y){var p,C=this.svgElement,M=C.renderer,D=C.rotation,x=[],f=v?1:0,m=(d||v||"").length,r=m,a=function(h,l){l=l||h;var w=g.parentNode;if(w&&void 0===x[l])if(w.getSubStringLength)try{x[l]=_+w.getSubStringLength(0,v?l+1:l)}catch(P){}else M.getSpanWidth&&(g.textContent=y(d||v,h),x[l]=_+M.getSpanWidth(C,g));return x[l]};C.rotation=0;var n=a(g.textContent.length);if(_+n>T){for(;f<=m;)r=Math.ceil((f+m)/2),v&&(p=y(v,r)),n=a(r,p&&p.length-1),f===m?f=m+1:n>T?m=r-1:f=r;0===m?g.textContent="":d&&m===d.length-1||(g.textContent=p||y(d||v,r))}v&&v.splice(0,r),C.actualWidth=n,C.rotation=D},k.prototype.unescapeEntities=function(g,d){return N(this.renderer.escapes,function(v,_){d&&-1!==d.indexOf(v)||(g=g.toString().replace(new RegExp(v,"g"),_))}),g},k}()}),wt(o,"Core/Renderer/SVG/SVGRenderer.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Renderer/SVG/SVGLabel.js"],o["Core/Renderer/SVG/Symbols.js"],o["Core/Renderer/SVG/TextBuilder.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N){var B,O=q.charts,k=q.deg2rad,g=q.doc,d=q.isFirefox,v=q.isMS,_=q.isWebKit,T=q.noop,y=q.SVG_NS,C=q.symbolSizes,M=q.win,D=N.addEvent,x=N.attr,f=N.createElement,m=N.css,r=N.defined,p=N.destroyObjectProperties,a=N.extend,n=N.isArray,h=N.isNumber,l=N.isObject,w=N.isString,P=N.merge,I=N.pick,L=N.pInt,S=N.uniqueKey;return q=function(){function c(u,E,j,G,W,b,z){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0,this.init(u,E,j,G,W,b,z)}return c.prototype.init=function(u,E,j,G,W,b,z){var Z,R=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),V=R.element;z||R.css(this.getStyle(G)),u.appendChild(V),x(u,"dir","ltr"),-1===u.innerHTML.indexOf("xmlns")&&x(V,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=V,this.boxWrapper=R,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(g.createTextNode("Created with Highcharts 9.3.3")),this.defs=this.createElement("defs").add(),this.allowHTML=b,this.forExport=W,this.styledMode=z,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(E,j,!1),d&&u.getBoundingClientRect&&((E=function(){m(u,{left:0,top:0}),Z=u.getBoundingClientRect(),m(u,{left:Math.ceil(Z.left)-Z.left+"px",top:Math.ceil(Z.top)-Z.top+"px"})})(),this.unSubPixelFix=D(M,"resize",E))},c.prototype.definition=function(u){return new Y([u]).addToDOM(this.defs.element)},c.prototype.getReferenceURL=function(){if((d||_)&&g.getElementsByTagName("base").length){if(!r(B)){var u=S();u=new Y([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:u},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+u+")",fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(g.body),m(u,{position:"fixed",top:0,left:0,zIndex:9e5});var E=g.elementFromPoint(6,6);B="hitme"===(E&&E.id),g.body.removeChild(u)}if(B)return M.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""},c.prototype.getStyle=function(u){return this.style=a({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},u)},c.prototype.setStyle=function(u){this.boxWrapper.css(this.getStyle(u))},c.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width},c.prototype.destroy=function(){var u=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),p(this.gradients||{}),this.gradients=null,u&&(this.defs=u.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},c.prototype.createElement=function(u){var E=new this.Element;return E.init(this,u),E},c.prototype.getRadialAttr=function(u,E){return{cx:u[0]-u[2]/2+(E.cx||0)*u[2],cy:u[1]-u[2]/2+(E.cy||0)*u[2],r:(E.r||0)*u[2]}},c.prototype.buildText=function(u){new F(u).buildSVG()},c.prototype.getContrast=function(u){return(u=$.parse(u).rgba)[0]*=1,u[1]*=1.2,u[2]*=.5,459<u[0]+u[1]+u[2]?"#000000":"#FFFFFF"},c.prototype.button=function(u,E,j,G,W,b,z,R,V,Z){var nt=this.label(u,E,j,V,void 0,void 0,Z,void 0,"button"),it=this.styledMode,ot=0,at=W?P(W):{};if(u=at&&at.style||{},at=Y.filterUserAttributes(at),nt.attr(P({padding:8,r:2},at)),!it){var mt=(at=P({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},{style:u},at)).style;delete at.style;var _t=(b=P(at,{fill:"#e6e6e6"},Y.filterUserAttributes(b||{}))).style;delete b.style;var yt=(z=P(at,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},Y.filterUserAttributes(z||{}))).style;delete z.style;var ut=(R=P(at,{style:{color:"#cccccc"}},Y.filterUserAttributes(R||{}))).style;delete R.style}return D(nt.element,v?"mouseover":"mouseenter",function(){3!==ot&&nt.setState(1)}),D(nt.element,v?"mouseout":"mouseleave",function(){3!==ot&&nt.setState(ot)}),nt.setState=function(ct){1!==ct&&(nt.state=ot=ct),nt.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][ct||0]),it||nt.attr([at,b,z,R][ct||0]).css([mt,_t,yt,ut][ct||0])},it||nt.attr(at).css(a({cursor:"default"},mt)),nt.on("touchstart",function(ct){return ct.stopPropagation()}).on("click",function(ct){3!==ot&&G.call(nt,ct)})},c.prototype.crispLine=function(u,E,j){void 0===j&&(j="round");var G=u[0],W=u[1];return r(G[1])&&G[1]===W[1]&&(G[1]=W[1]=Math[j](G[1])-E%2/2),r(G[2])&&G[2]===W[2]&&(G[2]=W[2]=Math[j](G[2])+E%2/2),u},c.prototype.path=function(u){var E=this.styledMode?{}:{fill:"none"};return n(u)?E.d=u:l(u)&&a(E,u),this.createElement("path").attr(E)},c.prototype.circle=function(u,E,j){return u=l(u)?u:void 0===u?{}:{x:u,y:E,r:j},(E=this.createElement("circle")).xSetter=E.ySetter=function(G,W,b){b.setAttribute("c"+W,G)},E.attr(u)},c.prototype.arc=function(u,E,j,G,W,b){return l(u)?(E=(G=u).y,j=G.r,u=G.x):G={innerR:G,start:W,end:b},(u=this.symbol("arc",u,E,j,j,G)).r=j,u},c.prototype.rect=function(u,E,j,G,W,b){W=l(u)?u.r:W;var z=this.createElement("rect");return u=l(u)?u:void 0===u?{}:{x:u,y:E,width:Math.max(j,0),height:Math.max(G,0)},this.styledMode||(void 0!==b&&(u["stroke-width"]=b,u=z.crisp(u)),u.fill="none"),W&&(u.r=W),z.rSetter=function(R,V,Z){z.r=R,x(Z,{rx:R,ry:R})},z.rGetter=function(){return z.r||0},z.attr(u)},c.prototype.setSize=function(u,E,j){this.width=u,this.height=E,this.boxWrapper.animate({width:u,height:E},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:I(j,!0)?void 0:0}),this.alignElements()},c.prototype.g=function(u){var E=this.createElement("g");return u?E.attr({class:"highcharts-"+u}):E},c.prototype.image=function(u,E,j,G,W,b){var z={preserveAspectRatio:"none"},R=function(Z,nt){Z.setAttributeNS?Z.setAttributeNS("http://www.w3.org/1999/xlink","href",nt):Z.setAttribute("hc-svg-href",nt)};h(E)&&(z.x=E),h(j)&&(z.y=j),h(G)&&(z.width=G),h(W)&&(z.height=W);var V=this.createElement("image").attr(z);return E=function(Z){R(V.element,u),b.call(V,Z)},b?(R(V.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),j=new M.Image,D(j,"load",E),j.src=u,j.complete&&E({})):R(V.element,u),V},c.prototype.symbol=function(u,E,j,G,W,b){var it,z=this,R=/^url\((.*?)\)$/,V=R.test(u),Z=!V&&(this.symbols[u]?u:"circle"),nt=Z&&this.symbols[Z];if(nt){"number"==typeof E&&(it=nt.call(this.symbols,Math.round(E||0),Math.round(j||0),G||0,W||0,b));var ot=this.path(it);z.styledMode||ot.attr("fill","none"),a(ot,{symbolName:Z||void 0,x:E,y:j,width:G,height:W}),b&&a(ot,b)}else if(V){var at=u.match(R)[1],mt=ot=this.image(at);mt.imgwidth=I(C[at]&&C[at].width,b&&b.width),mt.imgheight=I(C[at]&&C[at].height,b&&b.height);var _t=function(yt){return yt.attr({width:yt.width,height:yt.height})};["width","height"].forEach(function(yt){mt[yt+"Setter"]=function(ut,ct){var H=this["img"+ct];this[ct]=ut,r(H)&&(b&&"within"===b.backgroundSize&&this.width&&this.height&&(H=Math.round(H*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(ct,H),this.alignByTranslate||(ut=((this[ct]||0)-H)/2,this.attr("width"===ct?{translateX:ut}:{translateY:ut})))}}),r(E)&&mt.attr({x:E,y:j}),mt.isImg=!0,r(mt.imgwidth)&&r(mt.imgheight)?_t(mt):(mt.attr({width:0,height:0}),f("img",{onload:function(){var yt=O[z.chartIndex];0===this.width&&(m(this,{position:"absolute",top:"-999em"}),g.body.appendChild(this)),C[at]={width:this.width,height:this.height},mt.imgwidth=this.width,mt.imgheight=this.height,mt.element&&_t(mt),this.parentNode&&this.parentNode.removeChild(this),z.imgCount--,!z.imgCount&&yt&&!yt.hasLoaded&&yt.onload()},src:at}),this.imgCount++)}return ot},c.prototype.clipRect=function(u,E,j,G){var W=S()+"-",b=this.createElement("clipPath").attr({id:W}).add(this.defs);return(u=this.rect(u,E,j,G,0).add(b)).id=W,u.clipPath=b,u.count=0,u},c.prototype.text=function(u,E,j,G){var W={};return!G||!this.allowHTML&&this.forExport?(W.x=Math.round(E||0),j&&(W.y=Math.round(j)),r(u)&&(W.text=u),u=this.createElement("text").attr(W),(!G||this.forExport&&!this.allowHTML)&&(u.xSetter=function(b,z,R){for(var it,V=R.getElementsByTagName("tspan"),Z=R.getAttribute(z),nt=0;nt<V.length;nt++)(it=V[nt]).getAttribute(z)===Z&&it.setAttribute(z,b);R.setAttribute(z,b)}),u):this.html(u,E,j)},c.prototype.fontMetrics=function(u,E){return u=!this.styledMode&&/px/.test(u)||!M.getComputedStyle?u||E&&E.style&&E.style.fontSize||this.style&&this.style.fontSize:E&&J.prototype.getStyle.call(E,"font-size"),{h:E=24>(u=/px/.test(u)?L(u):12)?u+3:Math.round(1.2*u),b:Math.round(.8*E),f:u}},c.prototype.rotCorr=function(u,E,j){var G=u;return E&&j&&(G=Math.max(G*Math.cos(E*k),4)),{x:-u/3*Math.sin(E*k),y:G}},c.prototype.pathToSegments=function(u){for(var E=[],j=[],G={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},W=0;W<u.length;W++)w(j[0])&&h(u[W])&&j.length===G[j[0].toUpperCase()]&&u.splice(W,0,j[0].replace("M","L").replace("m","l")),"string"==typeof u[W]&&(j.length&&E.push(j.slice(0)),j.length=0),j.push(u[W]);return E.push(j.slice(0)),E},c.prototype.label=function(u,E,j,G,W,b,z,R,V){return new K(this,u,E,j,G,W,b,z,R,V)},c.prototype.alignElements=function(){this.alignedObjects.forEach(function(u){return u.align()})},c}(),a(q.prototype,{Element:J,SVG_NS:y,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:X,draw:T}),rt.registerRendererType("svg",q,!0),q}),wt(o,"Core/Renderer/HTML/HTMLElement.js",[o["Core/Globals.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$,q){var v,rt=this&&this.__extends||(v=function(_,T){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,C){y.__proto__=C}||function(y,C){for(var M in C)C.hasOwnProperty(M)&&(y[M]=C[M])})(_,T)},function(_,T){function y(){this.constructor=_}v(_,T),_.prototype=null===T?Object.create(T):(y.prototype=T.prototype,new y)}),J=Y.isFirefox,K=Y.isMS,X=Y.isWebKit,F=Y.win,N=q.css,O=q.defined,k=q.extend,g=q.pick,d=q.pInt;return function(v){function _(){return null!==v&&v.apply(this,arguments)||this}return rt(_,v),_.compose=function(T){if(-1===_.composedClasses.indexOf(T)){_.composedClasses.push(T);var y=_.prototype,C=T.prototype;C.getSpanCorrection=y.getSpanCorrection,C.htmlCss=y.htmlCss,C.htmlGetBBox=y.htmlGetBBox,C.htmlUpdateTransform=y.htmlUpdateTransform,C.setSpanRotation=y.setSpanRotation}return T},_.prototype.getSpanCorrection=function(T,y,C){this.xCorr=-T*C,this.yCorr=-y},_.prototype.htmlCss=function(T){var y="SPAN"===this.element.tagName&&T&&"width"in T,C=g(y&&T.width,void 0);if(y){delete T.width,this.textWidth=C;var M=!0}return T&&"ellipsis"===T.textOverflow&&(T.whiteSpace="nowrap",T.overflow="hidden"),this.styles=k(this.styles,T),N(this.element,T),M&&this.htmlUpdateTransform(),this},_.prototype.htmlGetBBox=function(){var T=this.element;return{x:T.offsetLeft,y:T.offsetTop,width:T.offsetWidth,height:T.offsetHeight}},_.prototype.htmlUpdateTransform=function(){if(this.added){var T=this.renderer,y=this.element,C=this.translateX||0,M=this.translateY||0,D=this.x||0,x=this.y||0,f=this.textAlign||"left",m={left:0,center:.5,right:1}[f],r=this.styles;if(r=r&&r.whiteSpace,N(y,{marginLeft:C,marginTop:M}),!T.styledMode&&this.shadows&&this.shadows.forEach(function(w){N(w,{marginLeft:C+1,marginTop:M+1})}),this.inverted&&[].forEach.call(y.childNodes,function(w){T.invertChild(w,y)}),"SPAN"===y.tagName){var p=this.rotation,a=this.textWidth&&d(this.textWidth),n=[p,f,y.innerHTML,this.textWidth,this.textAlign].join(),h=void 0;if(h=!1,a!==this.oldTextWidth){if(this.textPxLength)var l=this.textPxLength;else N(y,{width:"",whiteSpace:r||"nowrap"}),l=y.offsetWidth;(a>this.oldTextWidth||l>a)&&(/[ \-]/.test(y.textContent||y.innerText)||"ellipsis"===y.style.textOverflow)&&(N(y,{width:l>a||p?a+"px":"auto",display:"block",whiteSpace:r||"normal"}),this.oldTextWidth=a,h=!0)}this.hasBoxWidthChanged=h,n!==this.cTT&&(h=T.fontMetrics(y.style.fontSize,y).b,!O(p)||p===(this.oldRotation||0)&&f===this.oldAlign||this.setSpanRotation(p,m,h),this.getSpanCorrection(!O(p)&&this.textPxLength||y.offsetWidth,h,m,p,f)),N(y,{left:D+(this.xCorr||0)+"px",top:x+(this.yCorr||0)+"px"}),this.cTT=n,this.oldRotation=p,this.oldAlign=f}}else this.alignOnAdd=!0},_.prototype.setSpanRotation=function(T,y,C){var M={},D=K&&!/Edge/.test(F.navigator.userAgent)?"-ms-transform":X?"-webkit-transform":J?"MozTransform":F.opera?"-o-transform":void 0;D&&(M[D]=M.transform="rotate("+T+"deg)",M[D+(J?"Origin":"-origin")]=M.transformOrigin=100*y+"% "+C+"px",N(this.element,M))},_.composedClasses=[],_}($)}),wt(o,"Core/Renderer/HTML/HTMLRenderer.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var O,J=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),K=rt.attr,X=rt.createElement,F=rt.extend,N=rt.pick;return function(O){function k(){return null!==O&&O.apply(this,arguments)||this}return J(k,O),k.compose=function(g){return-1===k.composedClasses.indexOf(g)&&(k.composedClasses.push(g),g.prototype.html=k.prototype.html),g},k.prototype.html=function(g,d,v){var _=this.createElement("span"),T=_.element,y=_.renderer,C=y.isSVG,M=function(D,x){["opacity","visibility"].forEach(function(f){D[f+"Setter"]=function(m,r,p){var a=D.div?D.div.style:x;$.prototype[f+"Setter"].call(this,m,r,p),a&&(a[r]=m)}}),D.addedSetters=!0};return _.textSetter=function(D){D!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Y.setElementHTML(this.element,N(D,"")),this.textStr=D,_.doTransform=!0)},C&&M(_,_.element.style),_.xSetter=_.ySetter=_.alignSetter=_.rotationSetter=function(D,x){"align"===x?_.alignValue=_.textAlign=D:_[x]=D,_.doTransform=!0},_.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},_.attr({text:g,x:Math.round(d),y:Math.round(v)}).css({position:"absolute"}),y.styledMode||_.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),T.style.whiteSpace="nowrap",_.css=_.htmlCss,C&&(_.add=function(D){var x=y.box.parentNode,f=[];if(this.parentGroup=D){var m=D.div;if(!m){for(;D;)f.push(D),D=D.parentGroup;f.reverse().forEach(function(r){function p(l,w){r[w]=l,"translateX"===w?h.left=l+"px":h.top=l+"px",r.doTransform=!0}var l,a=K(r.element,"class"),n=r.styles||{},h=(m=r.div=r.div||X("div",a?{className:a}:void 0,{position:"absolute",left:(r.translateX||0)+"px",top:(r.translateY||0)+"px",display:r.display,opacity:r.opacity,cursor:n.cursor,pointerEvents:n.pointerEvents,visibility:r.visibility},m||x)).style;F(r,{classSetter:(l=m,function(w){this.element.setAttribute("class",w),l.className=w}),on:function(){return f[0].div&&_.on.apply({element:f[0].div,onEvents:r.onEvents},arguments),r},translateXSetter:p,translateYSetter:p}),r.addedSetters||M(r)})}}else m=x;return m.appendChild(T),_.added=!0,_.alignOnAdd&&_.htmlUpdateTransform(),_}),_},k.composedClasses=[],k}(q)}),wt(o,"Core/Axis/AxisDefaults.js",[],function(){var Y=(()=>{return($=Y||(Y={})).defaultXAxisOptions={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotation:void 0,autoRotationLimit:80,distance:void 0,enabled:!0,indentation:10,overflow:"justify",padding:5,reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,x:0,zIndex:7,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minPadding:.01,offset:void 0,opposite:!1,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",rotation:0,useHTML:!1,x:0,y:0,style:{color:"#666666"}},type:"linear",uniqueNames:!0,visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#ccd6eb"},$.defaultYAxisOptions={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return(0,this.axis.chart.numberFormatter)(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},$.defaultLeftAxisOptions={labels:{x:-15},title:{rotation:270}},$.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}},$.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},$.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},Y;var $})();return Y}),wt(o,"Core/Foundation.js",[o["Core/Utilities.js"]],function(Y){var K,$=Y.addEvent,q=Y.isFunction,rt=Y.objectEach,J=Y.removeEvent;return(K||(K={})).registerEventOptions=function(F,N){F.eventOptions=F.eventOptions||{},rt(N.events,function(O,k){F.eventOptions[k]!==O&&(F.eventOptions[k]&&(J(F,k,F.eventOptions[k]),delete F.eventOptions[k]),q(O)&&(F.eventOptions[k]=O,$(F,k,O)))})},K}),wt(o,"Core/Axis/Tick.js",[o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$,q){var rt=$.deg2rad,J=q.clamp,K=q.correctFloat,X=q.defined,F=q.destroyObjectProperties,N=q.extend,O=q.fireEvent,k=q.isNumber,g=q.merge,d=q.objectEach,v=q.pick;return function(){function _(T,y,C,M,D){this.isNewLabel=this.isNew=!0,this.axis=T,this.pos=y,this.type=C||"",this.parameters=D||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,O(this,"init"),C||M||this.addLabel()}return _.prototype.addLabel=function(){var T=this,y=T.axis,C=y.options,M=y.chart,D=y.categories,x=y.logarithmic,f=y.names,m=T.pos,r=v(T.options&&T.options.labels,C.labels),p=y.tickPositions,a=m===p[0],n=m===p[p.length-1],h=(!r.step||1===r.step)&&1===y.tickInterval;p=p.info;var w,l=T.label;if(D=this.parameters.category||(D?v(D[m],f[m],m):m),x&&k(D)&&(D=K(x.lin2log(D))),y.dateTime)if(p)var P=M.time.resolveDTLFormat(C.dateTimeLabelFormats[!C.grid&&p.higherRanks[m]||p.unitName]),I=P.main;else k(D)&&(I=y.dateTime.getXDateFormat(D,C.dateTimeLabelFormats||{}));T.isFirst=a,T.isLast=n;var L={axis:y,chart:M,dateTimeLabelFormat:I,isFirst:a,isLast:n,pos:m,tick:T,tickPositionInfo:p,value:D};O(this,"labelFormat",L);var S=function(c){return r.formatter?r.formatter.call(c,c):r.format?(c.text=y.defaultLabelFormatter.call(c),Y.format(r.format,c,M)):y.defaultLabelFormatter.call(c,c)};C=S.call(L,L);var B=P&&P.list;T.shortenLabel=B?function(){for(w=0;w<B.length;w++)if(N(L,{dateTimeLabelFormat:B[w]}),l.attr({text:S.call(L,L)}),l.getBBox().width<y.getSlotWidth(T)-2*r.padding)return;l.attr({text:""})}:void 0,h&&y._addedPlotLB&&T.moveLabel(C,r),X(l)||T.movedLabel?l&&l.textStr!==C&&!h&&(!l.textWidth||r.style.width||l.styles.width||l.css({width:null}),l.attr({text:C}),l.textPxLength=l.getBBox().width):(T.label=l=T.createLabel({x:0,y:0},C,r),T.rotation=0)},_.prototype.createLabel=function(T,y,C){var M=this.axis,D=M.chart;return(T=X(y)&&C.enabled?D.renderer.text(y,T.x,T.y,C.useHTML).add(M.labelGroup):null)&&(D.styledMode||T.css(g(C.style)),T.textPxLength=T.getBBox().width),T},_.prototype.destroy=function(){F(this,this.axis)},_.prototype.getPosition=function(T,y,C,M){var D=this.axis,x=D.chart,f=M&&x.oldChartHeight||x.chartHeight;return(T={x:T?K(D.translate(y+C,null,null,M)+D.transB):D.left+D.offset+(D.opposite?(M&&x.oldChartWidth||x.chartWidth)-D.right-D.left:0),y:T?f-D.bottom+D.offset-(D.opposite?D.height:0):K(f-D.translate(y+C,null,null,M)-D.transB)}).y=J(T.y,-1e5,1e5),O(this,"afterGetPosition",{pos:T}),T},_.prototype.getLabelPosition=function(T,y,C,M,D,x,f,m){var r=this.axis,p=r.transA,a=r.isLinked&&r.linkedParent?r.linkedParent.reversed:r.reversed,n=r.staggerLines,h=r.tickRotCorr||{x:0,y:0},l=M||r.reserveSpaceDefault?0:-r.labelOffset*("center"===r.labelAlign?.5:1),w={},P=D.y;return X(P)||(P=0===r.side?C.rotation?-8:-C.getBBox().height:2===r.side?h.y+8:Math.cos(C.rotation*rt)*(h.y-C.getBBox(!1,0).height/2)),y=y+P-(x&&!M?x*p*(a?1:-1):0),n&&(C=f/(m||1)%n,r.opposite&&(C=n-C-1),y+=r.labelOffset/n*C),w.x=T=T+D.x+l+h.x-(x&&M?x*p*(a?-1:1):0),w.y=Math.round(y),O(this,"afterGetLabelPosition",{pos:w,tickmarkOffset:x,index:f}),w},_.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},_.prototype.getMarkPath=function(T,y,C,M,D,x){return x.crispLine([["M",T,y],["L",T+(D?0:-C),y+(D?C:0)]],M)},_.prototype.handleOverflow=function(T){var y=this.axis,C=y.options.labels,M=T.x,D=y.chart.chartWidth,x=y.chart.spacing,f=v(y.labelLeft,Math.min(y.pos,x[3]));x=v(y.labelRight,Math.max(y.isRadial?0:y.pos+y.len,D-x[1]));var P,m=this.label,r=this.rotation,p={left:0,center:.5,right:1}[y.labelAlign||m.attr("align")],a=m.getBBox().width,n=y.getSlotWidth(this),h={},l=n,w=1;r||"justify"!==C.overflow?0>r&&M-p*a<f?P=Math.round(M/Math.cos(r*rt)-f):0<r&&M+p*a>x&&(P=Math.round((D-M)/Math.cos(r*rt))):(D=M+(1-p)*a,M-p*a<f?l=T.x+l*(1-p)-f:D>x&&(l=x-T.x+l*p,w=-1),(l=Math.min(n,l))<n&&"center"===y.labelAlign&&(T.x+=w*(n-l-p*(n-Math.min(a,l)))),(a>l||y.autoRotation&&(m.styles||{}).width)&&(P=l)),P&&(this.shortenLabel?this.shortenLabel():(h.width=Math.floor(P)+"px",(C.style||{}).textOverflow||(h.textOverflow="ellipsis"),m.css(h)))},_.prototype.moveLabel=function(T,y){var C=this,M=C.label,D=C.axis,x=D.reversed,f=!1;if(M&&M.textStr===T?(C.movedLabel=M,f=!0,delete C.label):d(D.ticks,function(r){f||r.isNew||r===C||!r.label||r.label.textStr!==T||(C.movedLabel=r.label,f=!0,r.labelPos=C.movedLabel.xy,delete r.label)}),!f&&(C.labelPos||M)){var m=C.labelPos||M.xy;C.movedLabel=C.createLabel({x:M=D.horiz?x?0:D.width+D.left:m.x,y:D=D.horiz?m.y:x?D.width+D.left:0},T,y),C.movedLabel&&C.movedLabel.attr({opacity:0})}},_.prototype.render=function(T,y,C){var M=this.axis,D=M.horiz,x=this.pos,f=v(this.tickmarkOffset,M.tickmarkOffset);f=(x=this.getPosition(D,x,f,y)).x,M=D&&f===M.pos+M.len||!D&&x.y===M.pos?-1:1,D=v(C,this.label&&this.label.newOpacity,1),C=v(C,1),this.isActive=!0,this.renderGridLine(y,C,M),this.renderMark(x,C,M),this.renderLabel(x,y,D,T),this.isNew=!1,O(this,"afterRender")},_.prototype.renderGridLine=function(T,y,C){var M=this.axis,D=M.options,x={},f=this.pos,m=this.type,r=v(this.tickmarkOffset,M.tickmarkOffset),p=M.chart.renderer,a=this.gridLine,n=D.gridLineWidth,h=D.gridLineColor,l=D.gridLineDashStyle;"minor"===this.type&&(n=D.minorGridLineWidth,h=D.minorGridLineColor,l=D.minorGridLineDashStyle),a||(M.chart.styledMode||(x.stroke=h,x["stroke-width"]=n||0,x.dashstyle=l),m||(x.zIndex=1),T&&(y=0),this.gridLine=a=p.path().attr(x).addClass("highcharts-"+(m?m+"-":"")+"grid-line").add(M.gridGroup)),a&&(C=M.getPlotLinePath({value:f+r,lineWidth:a.strokeWidth()*C,force:"pass",old:T}))&&a[T||this.isNew?"attr":"animate"]({d:C,opacity:y})},_.prototype.renderMark=function(T,y,C){var M=this.axis,D=M.options,x=M.chart.renderer,f=this.type,m=M.tickSize(f?f+"Tick":"tick"),r=T.x;T=T.y;var p=v(D["minor"!==f?"tickWidth":"minorTickWidth"],!f&&M.isXAxis?1:0);D=D["minor"!==f?"tickColor":"minorTickColor"];var a=this.mark,n=!a;m&&(M.opposite&&(m[0]=-m[0]),a||(this.mark=a=x.path().addClass("highcharts-"+(f?f+"-":"")+"tick").add(M.axisGroup),M.chart.styledMode||a.attr({stroke:D,"stroke-width":p})),a[n?"attr":"animate"]({d:this.getMarkPath(r,T,m[0],a.strokeWidth()*C,M.horiz,x),opacity:y}))},_.prototype.renderLabel=function(T,y,C,M){var D=this.axis,x=D.horiz,f=D.options,m=this.label,r=f.labels,p=r.step;D=v(this.tickmarkOffset,D.tickmarkOffset);var a=T.x;T=T.y;var n=!0;m&&k(a)&&(m.xy=T=this.getLabelPosition(a,T,m,x,r,D,M,p),this.isFirst&&!this.isLast&&!f.showFirstLabel||this.isLast&&!this.isFirst&&!f.showLastLabel?n=!1:!x||r.step||r.rotation||y||0===C||this.handleOverflow(T),p&&M%p&&(n=!1),n&&k(T.y)?(T.opacity=C,m[this.isNewLabel?"attr":"animate"](T),this.isNewLabel=!1):(m.attr("y",-9999),this.isNewLabel=!0))},_.prototype.replaceMovedLabel=function(){var T=this.label,y=this.axis,C=y.reversed;T&&!this.isNew&&(T.animate({x:y.horiz?C?y.left:y.width+y.left:T.xy.x,y:C=y.horiz?T.xy.y:C?y.width+y.top:y.top,opacity:0},void 0,T.destroy),delete this.label),y.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel},_}()}),wt(o,"Core/Axis/Axis.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/AxisDefaults.js"],o["Core/Color/Color.js"],o["Core/DefaultOptions.js"],o["Core/Foundation.js"],o["Core/Globals.js"],o["Core/Axis/Tick.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F){var N=Y.animObject,O=rt.defaultOptions,k=J.registerEventOptions,g=K.deg2rad,d=F.arrayMax,v=F.arrayMin,_=F.clamp,T=F.correctFloat,y=F.defined,C=F.destroyObjectProperties,M=F.erase,D=F.error,x=F.extend,f=F.fireEvent,m=F.getMagnitude,r=F.isArray,p=F.isNumber,a=F.isString,n=F.merge,h=F.normalizeTickInterval,l=F.objectEach,w=F.pick,P=F.relativeLength,I=F.removeEvent,L=F.splat,S=F.syncTimeout;return function(){function B(c,u){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.eventOptions=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0,this.init(c,u)}return B.prototype.init=function(c,u){var E=u.isX;this.chart=c,this.horiz=c.inverted&&!this.isZAxis?!E:E,this.isXAxis=E,this.coll=this.coll||(E?"xAxis":"yAxis"),f(this,"init",{userOptions:u}),this.opposite=w(u.opposite,this.opposite),this.side=w(u.side,this.side,this.horiz?this.opposite?0:2:this.opposite?1:3),this.setOptions(u);var j=this.options,G=j.labels,W=j.type;this.userOptions=u,this.minPixelPadding=0,this.reversed=w(j.reversed,this.reversed),this.visible=j.visible,this.zoomEnabled=j.zoomEnabled,this.hasNames="category"===W||!0===j.categories,this.categories=j.categories||this.hasNames,this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=y(j.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len=0,this.minRange=this.userMinRange=j.minRange||j.maxZoom,this.range=j.range,this.offset=j.offset||0,this.min=this.max=null,u=w(j.crosshair,L(c.options.tooltip.crosshairs)[E?0:1]),this.crosshair=!0===u?{}:u,-1===c.axes.indexOf(this)&&(E?c.axes.splice(c.xAxis.length,0,this):c.axes.push(this),c[this.coll].push(this)),this.series=this.series||[],c.inverted&&!this.isZAxis&&E&&void 0===this.reversed&&(this.reversed=!0),this.labelRotation=p(G.rotation)?G.rotation:void 0,k(this,j),f(this,"afterInit")},B.prototype.setOptions=function(c){this.options=n($.defaultXAxisOptions,"yAxis"===this.coll&&$.defaultYAxisOptions,[$.defaultTopAxisOptions,$.defaultRightAxisOptions,$.defaultBottomAxisOptions,$.defaultLeftAxisOptions][this.side],n(O[this.coll],c)),f(this,"afterSetOptions",{userOptions:c})},B.prototype.defaultLabelFormatter=function(c){var u=this.axis;c=this.chart.numberFormatter;var E=p(this.value)?this.value:NaN,j=u.chart.time,G=this.dateTimeLabelFormat,W=O.lang,b=W.numericSymbols;W=W.numericSymbolMagnitude||1e3;var z=u.logarithmic?Math.abs(E):u.tickInterval,R=b&&b.length;if(u.categories)var V=""+this.value;else if(G)V=j.dateFormat(G,E);else if(R&&1e3<=z)for(;R--&&void 0===V;)z>=(u=Math.pow(W,R+1))&&10*E%u==0&&null!==b[R]&&0!==E&&(V=c(E/u,-1)+b[R]);return void 0===V&&(V=1e4<=Math.abs(E)?c(E,-1):c(E,-1,void 0,"")),V},B.prototype.getSeriesExtremes=function(){var E,c=this,u=c.chart;f(this,"getSeriesExtremes",null,function(){c.hasVisibleSeries=!1,c.dataMin=c.dataMax=c.threshold=null,c.softThreshold=!c.isXAxis,c.stacking&&c.stacking.buildStacks(),c.series.forEach(function(j){if(j.visible||!u.options.chart.ignoreHiddenSeries){var G=j.options,W=G.threshold;if(c.hasVisibleSeries=!0,c.positiveValuesOnly&&0>=W&&(W=null),c.isXAxis){if((G=j.xData).length){G=c.logarithmic?G.filter(c.validatePositiveValue):G;var b=(E=j.getXExtremes(G)).min,z=E.max;p(b)||b instanceof Date||(G=G.filter(p),b=(E=j.getXExtremes(G)).min,z=E.max),G.length&&(c.dataMin=Math.min(w(c.dataMin,b),b),c.dataMax=Math.max(w(c.dataMax,z),z))}}else j=j.applyExtremes(),p(j.dataMin)&&(b=j.dataMin,c.dataMin=Math.min(w(c.dataMin,b),b)),p(j.dataMax)&&(z=j.dataMax,c.dataMax=Math.max(w(c.dataMax,z),z)),y(W)&&(c.threshold=W),(!G.softThreshold||c.positiveValuesOnly)&&(c.softThreshold=!1)}})}),f(this,"afterGetSeriesExtremes")},B.prototype.translate=function(c,u,E,j,G,W){var b=this.linkedParent||this,z=j&&b.old?b.old.min:b.min,R=b.minPixelPadding;G=(b.isOrdinal||b.brokenAxis&&b.brokenAxis.hasBreaks||b.logarithmic&&G)&&b.lin2val;var V=1,Z=0;return(j=j&&b.old?b.old.transA:b.transA)||(j=b.transA),E&&(V*=-1,Z=b.len),b.reversed&&(Z-=(V*=-1)*(b.sector||b.len)),u?(c=(c*V+Z-R)/j+z,G&&(c=b.lin2val(c))):(G&&(c=b.val2lin(c)),c=p(z)?V*(c-z)*j+Z+V*R+(p(W)?j*W:0):void 0),c},B.prototype.toPixels=function(c,u){return this.translate(c,!1,!this.horiz,null,!0)+(u?0:this.pos)},B.prototype.toValue=function(c,u){return this.translate(c-(u?0:this.pos),!0,!this.horiz,null,!0)},B.prototype.getPlotLinePath=function(c){function u(ct,H,tt){return("pass"!==ot&&ct<H||ct>tt)&&(ot?ct=_(ct,H,tt):ut=!0),ct}var at,mt,_t,yt,ut,E=this,j=E.chart,G=E.left,W=E.top,b=c.old,z=c.value,R=c.lineWidth,V=b&&j.oldChartHeight||j.chartHeight,Z=b&&j.oldChartWidth||j.chartWidth,nt=E.transB,it=c.translatedValue,ot=c.force;return f(this,"getPlotLinePath",c={value:z,lineWidth:R,old:b,force:ot,acrossPanes:c.acrossPanes,translatedValue:it},function(ct){it=w(it,E.translate(z,null,null,b)),it=_(it,-1e5,1e5),at=_t=Math.round(it+nt),mt=yt=Math.round(V-it-nt),p(it)?E.horiz?(mt=W,yt=V-E.bottom,at=_t=u(at,G,G+E.width)):(at=G,_t=Z-E.right,mt=yt=u(mt,W,W+E.height)):(ut=!0,ot=!1),ct.path=ut&&!ot?null:j.renderer.crispLine([["M",at,mt],["L",_t,yt]],R||1)}),c.path},B.prototype.getLinearTickPositions=function(c,u,E){var j=T(Math.floor(u/c)*c);E=T(Math.ceil(E/c)*c);var W,G=[];if(T(j+c)===j&&(W=20),this.single)return[u];for(u=j;u<=E&&(G.push(u),(u=T(u+c,W))!==b);)var b=u;return G},B.prototype.getMinorTickInterval=function(){var c=this.options;return!0===c.minorTicks?w(c.minorTickInterval,"auto"):!1===c.minorTicks?null:c.minorTickInterval},B.prototype.getMinorTickPositions=function(){var c=this.options,u=this.tickPositions,E=this.minorTickInterval,j=this.pointRangePadding||0,G=this.min-j,W=(j=this.max+j)-G,b=[];if(W&&W/E<this.len/3){var z=this.logarithmic;if(z)this.paddedTicks.forEach(function(R,V,Z){V&&b.push.apply(b,z.getLogTickPositions(E,Z[V-1],Z[V],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())b=b.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(E),G,j,c.startOfWeek));else for(c=G+(u[0]-G)%E;c<=j&&c!==b[0];c+=E)b.push(c)}return 0!==b.length&&this.trimTicks(b),b},B.prototype.adjustForMinRange=function(){var W,b,z,R,c=this.options,u=this.logarithmic,E=this.min,j=this.max,G=0;if(this.isXAxis&&void 0===this.minRange&&!u&&(y(c.min)||y(c.max)||y(c.floor)||y(c.ceiling)?this.minRange=null:(this.series.forEach(function(it){if(z=it.xData,R=it.xIncrement?1:z.length-1,1<z.length)for(W=R;0<W;W--)b=z[W]-z[W-1],(!G||b<G)&&(G=b)}),this.minRange=Math.min(5*G,this.dataMax-this.dataMin))),j-E<this.minRange){var V=this.dataMax-this.dataMin>=this.minRange,Z=this.minRange,nt=(Z-j+E)/2;nt=[E-nt,w(c.min,E-nt)],V&&(nt[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin),j=[(E=d(nt))+Z,w(c.max,E+Z)],V&&(j[2]=u?u.log2lin(this.dataMax):this.dataMax),(j=v(j))-E<Z&&(nt[0]=j-Z,nt[1]=w(c.min,j-Z),E=d(nt))}this.min=E,this.max=j},B.prototype.getClosest=function(){var c;return this.categories?c=1:this.series.forEach(function(u){var E=u.closestPointRange,j=u.visible||!u.chart.options.chart.ignoreHiddenSeries;!u.noSharedTooltip&&y(E)&&j&&(c=y(c)?Math.min(c,E):E)}),c},B.prototype.nameToX=function(c){var u=r(this.categories),E=u?this.categories:this.names,j=c.options.x;if(c.series.requireSorting=!1,y(j)||(j=this.options.uniqueNames?u?E.indexOf(c.name):w(E.keys[c.name],-1):c.series.autoIncrement()),-1===j){if(!u)var G=E.length}else G=j;return void 0!==G&&(this.names[G]=c.name,this.names.keys[c.name]=G),G},B.prototype.updateNames=function(){var c=this,u=this.names;0<u.length&&(Object.keys(u.keys).forEach(function(E){delete u.keys[E]}),u.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(E){E.xIncrement=null,(!E.points||E.isDirtyData)&&(c.max=Math.max(c.max,E.xData.length-1),E.processData(),E.generatePoints()),E.data.forEach(function(j,G){if(j&&j.options&&void 0!==j.name){var W=c.nameToX(j);void 0!==W&&W!==j.x&&(j.x=W,E.xData[G]=W)}})}))},B.prototype.setAxisTranslation=function(){var R,c=this,u=c.max-c.min,E=c.linkedParent,j=!!c.categories,G=c.isXAxis,W=c.axisPointRange||0,b=0,z=0;if(G||j||W){var V=c.getClosest();E?(b=E.minPointOffset,z=E.pointRangePadding):c.series.forEach(function(Z){var nt=j?1:G?w(Z.options.pointRange,V,0):c.axisPointRange||0,it=Z.options.pointPlacement;W=Math.max(W,nt),(!c.single||j)&&(Z=Z.is("xrange")?!G:G,b=Math.max(b,Z&&a(it)?0:nt/2),z=Math.max(z,Z&&"on"===it?0:nt))}),c.minPointOffset=b*=E=c.ordinal&&c.ordinal.slope&&V?c.ordinal.slope/V:1,c.pointRangePadding=z*=E,c.pointRange=Math.min(W,c.single&&j?1:u),G&&(c.closestPointRange=V)}c.translationSlope=c.transA=R=c.staticScale||c.len/(u+z||1),c.transB=c.horiz?c.left:c.bottom,c.minPixelPadding=R*b,f(this,"afterSetAxisTranslation")},B.prototype.minFromRange=function(){return this.max-this.range},B.prototype.setTickInterval=function(c){var u=this.chart,E=this.logarithmic,j=this.options,G=this.isXAxis,W=this.isLinked,b=j.tickPixelInterval,z=this.categories,R=this.softThreshold,V=j.maxPadding,Z=j.minPadding,nt=p(j.tickInterval)&&0<=j.tickInterval?j.tickInterval:void 0,it=p(this.threshold)?this.threshold:null;this.dateTime||z||W||this.getTickAmount();var ot=w(this.userMin,j.min),at=w(this.userMax,j.max);if(W){this.linkedParent=u[this.coll][j.linkedTo];var mt=this.linkedParent.getExtremes();this.min=w(mt.min,mt.dataMin),this.max=w(mt.max,mt.dataMax),j.type!==this.linkedParent.options.type&&D(11,1,u)}else{if(R&&y(it))if(this.dataMin>=it)mt=it,Z=0;else if(this.dataMax<=it){var _t=it;V=0}this.min=w(ot,mt,this.dataMin),this.max=w(at,_t,this.dataMax)}if(E&&(this.positiveValuesOnly&&!c&&0>=Math.min(this.min,w(this.dataMin,this.min))&&D(10,1,u),this.min=T(E.log2lin(this.min),16),this.max=T(E.log2lin(this.max),16)),this.range&&y(this.max)&&(this.userMin=this.min=ot=Math.max(this.dataMin,this.minFromRange()),this.userMax=at=this.max,this.range=null),f(this,"foundExtremes"),this.beforePadding&&this.beforePadding(),this.adjustForMinRange(),!(z||this.axisPointRange||this.stacking&&this.stacking.usePercentage||W)&&y(this.min)&&y(this.max)&&(u=this.max-this.min)&&(!y(ot)&&Z&&(this.min-=u*Z),!y(at)&&V&&(this.max+=u*V)),p(this.userMin)||(p(j.softMin)&&j.softMin<this.min&&(this.min=ot=j.softMin),p(j.floor)&&(this.min=Math.max(this.min,j.floor))),p(this.userMax)||(p(j.softMax)&&j.softMax>this.max&&(this.max=at=j.softMax),p(j.ceiling)&&(this.max=Math.min(this.max,j.ceiling))),R&&y(this.dataMin)&&(it=it||0,!y(ot)&&this.min<it&&this.dataMin>=it?this.min=this.options.minRange?Math.min(it,this.max-this.minRange):it:!y(at)&&this.max>it&&this.dataMax<=it&&(this.max=this.options.minRange?Math.max(it,this.min+this.minRange):it)),p(this.min)&&p(this.max)&&!this.chart.polar&&this.min>this.max&&(y(this.options.min)?this.max=this.min:y(this.options.max)&&(this.min=this.max)),this.tickInterval=this.min===this.max||void 0===this.min||void 0===this.max?1:W&&this.linkedParent&&!nt&&b===this.linkedParent.options.tickPixelInterval?nt=this.linkedParent.tickInterval:w(nt,this.tickAmount?(this.max-this.min)/Math.max(this.tickAmount-1,1):void 0,z?1:(this.max-this.min)*b/Math.max(this.len,b)),G&&!c){var yt=this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max);this.series.forEach(function(ut){ut.forceCrop=ut.forceCropping&&ut.forceCropping(),ut.processData(yt)}),f(this,"postProcessData",{hasExtemesChanged:yt})}this.setAxisTranslation(),f(this,"initialAxisTranslation"),this.pointRange&&!nt&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval)),c=w(j.minTickInterval,this.dateTime&&!this.series.some(function(ut){return ut.noSharedTooltip})?this.closestPointRange:0),!nt&&this.tickInterval<c&&(this.tickInterval=c),this.dateTime||this.logarithmic||nt||(this.tickInterval=h(this.tickInterval,void 0,m(this.tickInterval),w(j.allowDecimals,.5>this.tickInterval||void 0!==this.tickAmount),!!this.tickAmount)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()},B.prototype.setTickPositions=function(){var c=this.options,u=c.tickPositions,E=this.getMinorTickInterval(),j=this.hasVerticalPanning(),G="colorAxis"===this.coll,W=(G||!j)&&c.startOnTick;j=(G||!j)&&c.endOnTick,G=c.tickPositioner,this.tickmarkOffset=this.categories&&"between"===c.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===E&&this.tickInterval?this.tickInterval/5:E,this.single=this.min===this.max&&y(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==c.allowDecimals),this.tickPositions=E=u&&u.slice(),!E&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?E=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,c.units),this.min,this.max,c.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max):(E=[this.min,this.max],D(19,!1,this.chart)),E.length>this.len&&(E=[E[0],E.pop()])[0]===E[1]&&(E.length=1),this.tickPositions=E,G&&(G=G.apply(this,[this.min,this.max])))&&(this.tickPositions=E=G),this.paddedTicks=E.slice(0),this.trimTicks(E,W,j),this.isLinked||(this.single&&2>E.length&&!this.categories&&!this.series.some(function(b){return b.is("heatmap")&&"between"===b.options.pointPlacement})&&(this.min-=.5,this.max+=.5),u||G||this.adjustTickAmount()),f(this,"afterSetTickPositions")},B.prototype.trimTicks=function(c,u,E){var j=c[0],G=c[c.length-1],W=!this.isOrdinal&&this.minPointOffset||0;if(f(this,"trimTicks"),!this.isLinked){if(u&&j!==-1/0)this.min=j;else for(;this.min-W>c[0];)c.shift();if(E)this.max=G;else for(;this.max+W<c[c.length-1];)c.pop();0===c.length&&y(j)&&!this.options.tickPositions&&c.push((G+j)/2)}},B.prototype.alignToOthers=function(){var E,c={},u=this.options;return!1!==this.chart.options.chart.alignTicks&&u.alignTicks&&!1!==u.startOnTick&&!1!==u.endOnTick&&!this.logarithmic&&this.chart[this.coll].forEach(function(j){var G=j.options;G=[j.horiz?G.left:G.top,G.width,G.height,G.pane].join(),j.series.length&&(c[G]?E=!0:c[G]=1)}),E},B.prototype.getTickAmount=function(){var c=this.options,u=c.tickPixelInterval,E=c.tickAmount;!y(c.tickInterval)&&!E&&this.len<u&&!this.isRadial&&!this.logarithmic&&c.startOnTick&&c.endOnTick&&(E=2),!E&&this.alignToOthers()&&(E=Math.ceil(this.len/u)+1),4>E&&(this.finalTickAmt=E,E=5),this.tickAmount=E},B.prototype.adjustTickAmount=function(){var c=this.options,u=this.tickInterval,E=this.tickPositions,j=this.tickAmount,G=this.finalTickAmt,W=E&&E.length,b=w(this.threshold,this.softThreshold?0:null);if(this.hasData()&&p(this.min)&&p(this.max)){if(W<j){for(;E.length<j;)E.length%2||this.min===b?E.push(T(E[E.length-1]+u)):E.unshift(T(E[0]-u));this.transA*=(W-1)/(j-1),this.min=c.startOnTick?E[0]:Math.min(this.min,E[0]),this.max=c.endOnTick?E[E.length-1]:Math.max(this.max,E[E.length-1])}else W>j&&(this.tickInterval*=2,this.setTickPositions());if(y(G)){for(u=c=E.length;u--;)(3===G&&u%2==1||2>=G&&0<u&&u<c-1)&&E.splice(u,1);this.finalTickAmt=void 0}}},B.prototype.setScale=function(){var c=!1,u=!1;this.series.forEach(function(j){c=c||j.isDirtyData||j.isDirty,u=u||j.xAxis&&j.xAxis.isDirty||!1}),this.setAxisSize();var E=this.len!==(this.old&&this.old.len);E||c||u||this.isLinked||this.forceRedraw||this.userMin!==(this.old&&this.old.userMin)||this.userMax!==(this.old&&this.old.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=E||this.min!==(this.old&&this.old.min)||this.max!==(this.old&&this.old.max))):this.stacking&&this.stacking.cleanStacks(),c&&this.panningState&&(this.panningState.isDirty=!0),f(this,"afterSetScale")},B.prototype.setExtremes=function(c,u,E,j,G){var W=this,b=W.chart;E=w(E,!0),W.series.forEach(function(z){delete z.kdTree}),G=x(G,{min:c,max:u}),f(W,"setExtremes",G,function(){W.userMin=c,W.userMax=u,W.eventArgs=G,E&&b.redraw(j)})},B.prototype.zoom=function(c,u){var E=this,j=this.dataMin,G=this.dataMax,W=this.options,b=Math.min(j,w(W.min,j)),z=Math.max(G,w(W.max,G));return f(this,"zoom",c={newMin:c,newMax:u},function(R){var V=R.newMin,Z=R.newMax;(V!==E.min||Z!==E.max)&&(E.allowZoomOutside||(y(j)&&(V<b&&(V=b),V>z&&(V=z)),y(G)&&(Z<b&&(Z=b),Z>z&&(Z=z))),E.displayBtn=void 0!==V||void 0!==Z,E.setExtremes(V,Z,!1,void 0,{trigger:"zoom"})),R.zoomed=!0}),c.zoomed},B.prototype.setAxisSize=function(){var c=this.chart,u=this.options,E=u.offsets||[0,0,0,0],j=this.horiz,G=this.width=Math.round(P(w(u.width,c.plotWidth-E[3]+E[1]),c.plotWidth)),W=this.height=Math.round(P(w(u.height,c.plotHeight-E[0]+E[2]),c.plotHeight)),b=this.top=Math.round(P(w(u.top,c.plotTop+E[0]),c.plotHeight,c.plotTop));u=this.left=Math.round(P(w(u.left,c.plotLeft+E[3]),c.plotWidth,c.plotLeft)),this.bottom=c.chartHeight-W-b,this.right=c.chartWidth-G-u,this.len=Math.max(j?G:W,0),this.pos=j?u:b},B.prototype.getExtremes=function(){var c=this.logarithmic;return{min:c?T(c.lin2log(this.min)):this.min,max:c?T(c.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},B.prototype.getThreshold=function(c){var u=this.logarithmic,E=u?u.lin2log(this.min):this.min;return u=u?u.lin2log(this.max):this.max,null===c||c===-1/0?c=E:c===1/0?c=u:E>c?c=E:u<c&&(c=u),this.translate(c,0,1,0,1)},B.prototype.autoLabelAlign=function(c){var u=(w(c,0)-90*this.side+720)%360;return f(this,"autoLabelAlign",c={align:"center"},function(E){15<u&&165>u?E.align="right":195<u&&345>u&&(E.align="left")}),c.align},B.prototype.tickSize=function(c){var u=this.options,E=w(u["tick"===c?"tickWidth":"minorTickWidth"],"tick"===c&&this.isXAxis&&!this.categories?1:0),j=u["tick"===c?"tickLength":"minorTickLength"];if(E&&j){"inside"===u[c+"Position"]&&(j=-j);var G=[j,E]}return f(this,"afterTickSize",c={tickSize:G}),c.tickSize},B.prototype.labelMetrics=function(){var c=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[c]&&this.ticks[c].label)},B.prototype.unsquish=function(){var V,Z,c=this.options.labels,u=this.horiz,E=this.tickInterval,j=this.len/(((this.categories?1:0)+this.max-this.min)/E),G=c.rotation,W=this.labelMetrics(),b=Math.max(this.max-this.min,0),z=function(ot){var at=ot/(j||1);return(at=1<at?Math.ceil(at):1)*E>b&&ot!==1/0&&j!==1/0&&b&&(at=Math.ceil(b/E)),T(at*E)},R=E,nt=Number.MAX_VALUE;if(u){if(!c.staggerLines&&!c.step)if(p(G))var it=[G];else j<c.autoRotationLimit&&(it=c.autoRotation);it&&it.forEach(function(ot){if(ot===G||ot&&-90<=ot&&90>=ot){var at=(Z=z(Math.abs(W.h/Math.sin(g*ot))))+Math.abs(ot/360);at<nt&&(nt=at,V=ot,R=Z)}})}else c.step||(R=z(W.h));return this.autoRotation=it,this.labelRotation=w(V,p(G)?G:0),R},B.prototype.getSlotWidth=function(c){var u=this.chart,E=this.horiz,j=this.options.labels,G=Math.max(this.tickPositions.length-(this.categories?0:1),1),W=u.margin[3];if(c&&p(c.slotWidth))return c.slotWidth;if(E&&2>j.step)return j.rotation?0:(this.staggerLines||1)*this.len/G;if(!E){if(void 0!==(c=j.style.width))return parseInt(String(c),10);if(W)return W-u.spacing[3]}return.33*u.chartWidth},B.prototype.renderUnsquish=function(){var c=this.chart,u=c.renderer,E=this.tickPositions,j=this.ticks,G=this.options.labels,W=G.style,b=this.horiz,z=this.getSlotWidth(),R=Math.max(1,Math.round(z-2*G.padding)),V={},Z=this.labelMetrics(),nt=W.textOverflow,it=0;if(a(G.rotation)||(V.rotation=G.rotation||0),E.forEach(function(_t){(_t=j[_t]).movedLabel&&_t.replaceMovedLabel(),_t&&_t.label&&_t.label.textPxLength>it&&(it=_t.label.textPxLength)}),this.maxLabelLength=it,this.autoRotation)it>R&&it>Z.h?V.rotation=this.labelRotation:this.labelRotation=0;else if(z){var ot=R;if(!nt){var at="clip";for(R=E.length;!b&&R--;){var mt=E[R];(mt=j[mt].label)&&(mt.styles&&"ellipsis"===mt.styles.textOverflow?mt.css({textOverflow:"clip"}):mt.textPxLength>z&&mt.css({width:z+"px"}),mt.getBBox().height>this.len/E.length-(Z.h-Z.f)&&(mt.specificTextOverflow="ellipsis"))}}}V.rotation&&(ot=it>.5*c.chartHeight?.33*c.chartHeight:it,nt||(at="ellipsis")),(this.labelAlign=G.align||this.autoLabelAlign(this.labelRotation))&&(V.align=this.labelAlign),E.forEach(function(_t){var yt=(_t=j[_t])&&_t.label,ut=W.width,ct={};yt&&(yt.attr(V),_t.shortenLabel?_t.shortenLabel():ot&&!ut&&"nowrap"!==W.whiteSpace&&(ot<yt.textPxLength||"SPAN"===yt.element.tagName)?(ct.width=ot+"px",nt||(ct.textOverflow=yt.specificTextOverflow||at),yt.css(ct)):yt.styles&&yt.styles.width&&!ct.width&&!ut&&yt.css({width:null}),delete yt.specificTextOverflow,_t.rotation=V.rotation)},this),this.tickRotCorr=u.rotCorr(Z.b,this.labelRotation||0,0!==this.side)},B.prototype.hasData=function(){return this.series.some(function(c){return c.hasData()})||this.options.showEmpty&&y(this.min)&&y(this.max)},B.prototype.addTitle=function(c){var b,j=this.opposite,G=this.options.title,W=this.chart.styledMode;this.axisTitle||((b=G.textAlign)||(b=(this.horiz?{low:"left",middle:"center",high:"right"}:{low:j?"right":"left",middle:"center",high:j?"left":"right"})[G.align]),this.axisTitle=this.chart.renderer.text(G.text||"",0,0,G.useHTML).attr({zIndex:7,rotation:G.rotation,align:b}).addClass("highcharts-axis-title"),W||this.axisTitle.css(n(G.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),W||G.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[c?"show":"hide"](c)},B.prototype.generateTick=function(c){var u=this.ticks;u[c]?u[c].addLabel():u[c]=new X(this,c)},B.prototype.getOffset=function(){var c=this,u=this,E=u.chart,j=u.horiz,G=u.options,W=u.side,b=u.ticks,z=u.tickPositions,R=u.coll,V=u.axisParent,Z=E.renderer,nt=E.inverted&&!u.isZAxis?[1,0,3,2][W]:W,it=u.hasData(),ot=G.title,at=G.labels,mt=E.axisOffset;E=E.clipOffset;var ut,_t=[-1,1,1,-1][W],yt=G.className,ct=0,H=0,tt=0;if(u.showAxis=ut=it||G.showEmpty,u.staggerLines=u.horiz&&at.staggerLines||void 0,!u.axisGroup){var lt=function(ft,bt,Tt){return Z.g(ft).attr({zIndex:Tt}).addClass("highcharts-"+R.toLowerCase()+bt+" "+(c.isRadial?"highcharts-radial-axis"+bt+" ":"")+(yt||"")).add(V)};u.gridGroup=lt("grid","-grid",G.gridZIndex),u.axisGroup=lt("axis","",G.zIndex),u.labelGroup=lt("axis-labels","-labels",at.zIndex)}if(it||u.isLinked?(z.forEach(function(ft){u.generateTick(ft)}),u.renderUnsquish(),u.reserveSpaceDefault=0===W||2===W||{1:"left",3:"right"}[W]===u.labelAlign,w(at.reserveSpace,"center"===u.labelAlign||null,u.reserveSpaceDefault)&&z.forEach(function(ft){tt=Math.max(b[ft].getLabelSize(),tt)}),u.staggerLines&&(tt*=u.staggerLines),u.labelOffset=tt*(u.opposite?-1:1)):l(b,function(ft,bt){ft.destroy(),delete b[bt]}),ot&&ot.text&&!1!==ot.enabled&&(u.addTitle(ut),ut&&!1!==ot.reserveSpace)){u.titleOffset=ct=u.axisTitle.getBBox()[j?"height":"width"];var dt=ot.offset;H=y(dt)?0:w(ot.margin,j?5:10)}u.renderLine(),u.offset=_t*w(G.offset,mt[W]?mt[W]+(G.margin||0):0),u.tickRotCorr=u.tickRotCorr||{x:0,y:0},ot=0===W?-u.labelMetrics().h:2===W?u.tickRotCorr.y:0,it=Math.abs(tt)+H,tt&&(it=it-ot+_t*(j?w(at.y,u.tickRotCorr.y+8*_t):at.x)),u.axisTitleMargin=w(dt,it),u.getMaxLabelDimensions&&(u.maxLabelDimensions=u.getMaxLabelDimensions(b,z)),"colorAxis"!==R&&(j=this.tickSize("tick"),mt[W]=Math.max(mt[W],(u.axisTitleMargin||0)+ct+_t*u.offset,it,z&&z.length&&j?j[0]+_t*u.offset:0),G=!u.axisLine||G.offset?0:2*Math.floor(u.axisLine.strokeWidth()/2),E[nt]=Math.max(E[nt],G)),f(this,"afterGetOffset")},B.prototype.getLinePath=function(c){var u=this.chart,E=this.opposite,j=this.offset,G=this.horiz,W=this.left+(E?this.width:0)+j;return j=u.chartHeight-this.bottom-(E?this.height:0)+j,E&&(c*=-1),u.renderer.crispLine([["M",G?this.left:W,G?j:this.top],["L",G?u.chartWidth-this.right:W,G?j:u.chartHeight-this.bottom]],c)},B.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},B.prototype.getTitlePosition=function(){var c=this.horiz,u=this.left,E=this.top,j=this.len,G=this.options.title,W=c?u:E,b=this.opposite,z=this.offset,R=G.x,V=G.y,Z=this.axisTitle,nt=this.chart.renderer.fontMetrics(G.style.fontSize,Z);return Z=Math.max(Z.getBBox(null,0).height-nt.h-1,0),j={low:W+(c?0:j),middle:W+j/2,high:W+(c?j:0)}[G.align],u=(c?E+this.height:u)+(c?1:-1)*(b?-1:1)*this.axisTitleMargin+[-Z,Z,nt.f,-Z][this.side],f(this,"afterGetTitlePosition",{titlePosition:c={x:c?j+R:u+(b?this.width:0)+z+R,y:c?u+V-(b?this.height:0)+z:j+V}}),c},B.prototype.renderMinorTick=function(c,u){var E=this.minorTicks;E[c]||(E[c]=new X(this,c,"minor")),u&&E[c].isNew&&E[c].render(null,!0),E[c].render(null,!1,1)},B.prototype.renderTick=function(c,u,E){var j=this.ticks;(!this.isLinked||c>=this.min&&c<=this.max||this.grid&&this.grid.isColumn)&&(j[c]||(j[c]=new X(this,c)),E&&j[c].isNew&&j[c].render(u,!0,-1),j[c].render(u))},B.prototype.render=function(){var _t,yt,c=this,u=c.chart,E=c.logarithmic,j=c.options,G=c.isLinked,W=c.tickPositions,b=c.axisTitle,z=c.ticks,R=c.minorTicks,V=c.alternateBands,Z=j.stackLabels,nt=j.alternateGridColor,it=c.tickmarkOffset,ot=c.axisLine,at=c.showAxis,mt=N(u.renderer.globalAnimation);if(c.labelEdge.length=0,c.overlap=!1,[z,R,V].forEach(function(ct){l(ct,function(H){H.isActive=!1})}),c.hasData()||G){var ut=c.chart.hasRendered&&c.old&&p(c.old.min);c.minorTickInterval&&!c.categories&&c.getMinorTickPositions().forEach(function(ct){c.renderMinorTick(ct,ut)}),W.length&&(W.forEach(function(ct,H){c.renderTick(ct,H,ut)}),it&&(0===c.min||c.single)&&(z[-1]||(z[-1]=new X(c,-1,null,!0)),z[-1].render(-1))),nt&&W.forEach(function(ct,H){yt=void 0!==W[H+1]?W[H+1]+it:c.max-it,H%2==0&&ct<c.max&&yt<=c.max+(u.polar?-it:it)&&(V[ct]||(V[ct]=new K.PlotLineOrBand(c)),_t=ct+it,V[ct].options={from:E?E.lin2log(_t):_t,to:E?E.lin2log(yt):yt,color:nt,className:"highcharts-alternate-grid"},V[ct].render(),V[ct].isActive=!0)}),c._addedPlotLB||(c._addedPlotLB=!0,(j.plotLines||[]).concat(j.plotBands||[]).forEach(function(ct){c.addPlotBandOrLine(ct)}))}[z,R,V].forEach(function(ct){var H=[],tt=mt.duration;l(ct,function(lt,dt){lt.isActive||(lt.render(dt,!1,0),lt.isActive=!1,H.push(dt))}),S(function(){for(var lt=H.length;lt--;)ct[H[lt]]&&!ct[H[lt]].isActive&&(ct[H[lt]].destroy(),delete ct[H[lt]])},ct!==V&&u.hasRendered&&tt?tt:0)}),ot&&(ot[ot.isPlaced?"animate":"attr"]({d:this.getLinePath(ot.strokeWidth())}),ot.isPlaced=!0,ot[at?"show":"hide"](at)),b&&at&&(j=c.getTitlePosition(),p(j.y)?(b[b.isNew?"attr":"animate"](j),b.isNew=!1):(b.attr("y",-9999),b.isNew=!0)),Z&&Z.enabled&&c.stacking&&c.stacking.renderStackTotals(),c.old={len:c.len,max:c.max,min:c.min,transA:c.transA,userMax:c.userMax,userMin:c.userMin},c.isDirty=!1,f(this,"afterRender")},B.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(c){c.render()})),this.series.forEach(function(c){c.isDirty=!0})},B.prototype.getKeepProps=function(){return this.keepProps||B.keepProps},B.prototype.destroy=function(c){var u=this,E=u.plotLinesAndBands,j=this.eventOptions;if(f(this,"destroy",{keepEvents:c}),c||I(u),[u.ticks,u.minorTicks,u.alternateBands].forEach(function(W){C(W)}),E)for(c=E.length;c--;)E[c].destroy();for(var G in"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(W){u[W]&&(u[W]=u[W].destroy())}),u.plotLinesAndBandsGroups)u.plotLinesAndBandsGroups[G]=u.plotLinesAndBandsGroups[G].destroy();l(u,function(W,b){-1===u.getKeepProps().indexOf(b)&&delete u[b]}),this.eventOptions=j},B.prototype.drawCrosshair=function(c,u){var W,E=this.crosshair,j=w(E&&E.snap,!0),G=this.chart,b=this.cross;if(f(this,"drawCrosshair",{e:c,point:u}),c||(c=this.cross&&this.cross.e),E&&!1!==(y(u)||!j)){if(j?y(u)&&(W=w("colorAxis"!==this.coll?u.crosshairPos:null,this.isXAxis?u.plotX:this.len-u.plotY)):W=c&&(this.horiz?c.chartX-this.pos:this.len-c.chartY+this.pos),y(W)){var z={value:u&&(this.isXAxis?u.x:w(u.stackY,u.y)),translatedValue:W};G.polar&&x(z,{isCrosshair:!0,chartX:c&&c.chartX,chartY:c&&c.chartY,point:u}),z=this.getPlotLinePath(z)||null}if(!y(z))return void this.hideCrosshair();j=this.categories&&!this.isRadial,b||(this.cross=b=G.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(j?"category ":"thin ")+(E.className||"")).attr({zIndex:w(E.zIndex,2)}).add(),G.styledMode||(b.attr({stroke:E.color||(j?q.parse("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":w(E.width,1)}).css({"pointer-events":"none"}),E.dashStyle&&b.attr({dashstyle:E.dashStyle}))),b.show().attr({d:z}),j&&!E.width&&b.attr({"stroke-width":this.transA}),this.cross.e=c}else this.hideCrosshair();f(this,"afterDrawCrosshair",{e:c,point:u})},B.prototype.hideCrosshair=function(){this.cross&&this.cross.hide(),f(this,"afterHideCrosshair")},B.prototype.hasVerticalPanning=function(){var c=this.chart.options.chart.panning;return!!(c&&c.enabled&&/y/.test(c.type))},B.prototype.validatePositiveValue=function(c){return p(c)&&0<c},B.prototype.update=function(c,u){var E=this.chart;c=n(this.userOptions,c),this.destroy(!0),this.init(E,c),E.isDirtyBox=!0,w(u,!0)&&E.redraw()},B.prototype.remove=function(c){for(var u=this.chart,E=this.coll,j=this.series,G=j.length;G--;)j[G]&&j[G].remove(!1);M(u.axes,this),M(u[E],this),u[E].forEach(function(W,b){W.options.index=W.userOptions.index=b}),this.destroy(),u.isDirtyBox=!0,w(c,!0)&&u.redraw()},B.prototype.setTitle=function(c,u){this.update({title:c},u)},B.prototype.setCategories=function(c,u){this.update({categories:c},u)},B.defaultOptions=$.defaultXAxisOptions,B.keepProps="extKey hcEvents names series userMax userMin".split(" "),B}()}),wt(o,"Core/Axis/DateTimeAxis.js",[o["Core/Utilities.js"]],function(Y){var K,$=Y.addEvent,q=Y.getMagnitude,rt=Y.normalizeTickInterval,J=Y.timeUnits;return function(X){function F(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function N(g){"datetime"!==g.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new k(this))}var O=[];X.compose=function(g){return-1===O.indexOf(g)&&(O.push(g),g.keepProps.push("dateTime"),g.prototype.getTimeTicks=F,$(g,"init",N)),g};var k=function(){function g(d){this.axis=d}return g.prototype.normalizeTimeTickInterval=function(d,v){var C,_=v||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],T=J[(v=_[_.length-1])[0]],y=v[1];for(C=0;C<_.length&&(T=J[(v=_[C])[0]],y=v[1],!(_[C+1]&&d<=(T*y[y.length-1]+J[_[C+1][0]])/2));C++);return T===J.year&&d<5*T&&(y=[1,2,5]),{unitRange:T,count:d=rt(d/T,y,"year"===v[0]?Math.max(q(d/T),1):1),unitName:v[0]}},g.prototype.getXDateFormat=function(d,v){var _=this.axis;return _.closestPointRange?_.chart.time.getDateFormat(_.closestPointRange,d,_.options.startOfWeek,v)||v.year:v.day},g}();X.Additions=k}(K||(K={})),K}),wt(o,"Core/Axis/LogarithmicAxis.js",[o["Core/Utilities.js"]],function(Y){var K,$=Y.addEvent,q=Y.getMagnitude,rt=Y.normalizeTickInterval,J=Y.pick;return function(X){function F(g){var d=this.logarithmic;"logarithmic"!==g.userOptions.type?this.logarithmic=void 0:d||(this.logarithmic=new k(this))}function N(){var g=this.logarithmic;g&&(this.lin2val=function(d){return g.lin2log(d)},this.val2lin=function(d){return g.log2lin(d)})}var O=[];X.compose=function(g){return-1===O.indexOf(g)&&(O.push(g),g.keepProps.push("logarithmic"),$(g,"init",F),$(g,"afterInit",N)),g};var k=function(){function g(d){this.axis=d}return g.prototype.getLogTickPositions=function(d,v,_,T){var y=this.axis,C=y.len,M=y.options,D=[];if(T||(this.minorAutoInterval=void 0),.5<=d)d=Math.round(d),D=y.getLinearTickPositions(d,v,_);else if(.08<=d){var f,x=Math.floor(v),m=M=void 0;for(C=.3<d?[1,2,4]:.15<d?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];x<_+1&&!m;x++){var r=C.length;for(f=0;f<r&&!m;f++){var p=this.log2lin(this.lin2log(x)*C[f]);p>v&&(!T||M<=_)&&void 0!==M&&D.push(M),M>_&&(m=!0),M=p}}}else v=this.lin2log(v),_=this.lin2log(_),d=T?y.getMinorTickInterval():M.tickInterval,d=J("auto"===d?null:d,this.minorAutoInterval,M.tickPixelInterval/(T?5:1)*(_-v)/((T?C/y.tickPositions.length:C)||1)),d=rt(d,void 0,q(d)),D=y.getLinearTickPositions(d,v,_).map(this.log2lin),T||(this.minorAutoInterval=d/5);return T||(y.tickInterval=d),D},g.prototype.lin2log=function(d){return Math.pow(10,d)},g.prototype.log2lin=function(d){return Math.log(d)/Math.LN10},g}();X.Additions=k}(K||(K={})),K}),wt(o,"Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js",[o["Core/Utilities.js"]],function(Y){var J,$=Y.erase,q=Y.extend,rt=Y.isNumber;return function(K){var F,X=[];K.compose=function(O,k){return F||(F=O),-1===X.indexOf(k)&&(X.push(k),q(k.prototype,N.prototype)),k};var N=function(){function O(){}return O.prototype.getPlotBandPath=function(k,g,d){void 0===d&&(d=this.options);var v=this.getPlotLinePath({value:g,force:!0,acrossPanes:d.acrossPanes}),_=[],T=this.horiz;if(g=!rt(this.min)||!rt(this.max)||k<this.min&&g<this.min||k>this.max&&g>this.max,k=this.getPlotLinePath({value:k,force:!0,acrossPanes:d.acrossPanes}),d=1,k&&v){if(g){var y=k.toString()===v.toString();d=0}for(g=0;g<k.length;g+=2){var C=k[g],M=k[g+1],D=v[g],x=v[g+1];"M"!==C[0]&&"L"!==C[0]||"M"!==M[0]&&"L"!==M[0]||"M"!==D[0]&&"L"!==D[0]||"M"!==x[0]&&"L"!==x[0]||(T&&D[1]===C[1]?(D[1]+=d,x[1]+=d):T||D[2]!==C[2]||(D[2]+=d,x[2]+=d),_.push(["M",C[1],C[2]],["L",M[1],M[2]],["L",x[1],x[2]],["L",D[1],D[2]],["Z"])),_.isFlat=y}}return _},O.prototype.addPlotBand=function(k){return this.addPlotBandOrLine(k,"plotBands")},O.prototype.addPlotLine=function(k){return this.addPlotBandOrLine(k,"plotLines")},O.prototype.addPlotBandOrLine=function(k,g){var d=this,v=this.userOptions,_=new F(this,k);if(this.visible&&(_=_.render()),_){if(this._addedPlotLB||(this._addedPlotLB=!0,(v.plotLines||[]).concat(v.plotBands||[]).forEach(function(y){d.addPlotBandOrLine(y)})),g){var T=v[g]||[];T.push(k),v[g]=T}this.plotLinesAndBands.push(_)}return _},O.prototype.removePlotBandOrLine=function(k){var g=this.plotLinesAndBands,d=this.options,v=this.userOptions;if(g){for(var _=g.length;_--;)g[_].id===k&&g[_].destroy();[d.plotLines||[],v.plotLines||[],d.plotBands||[],v.plotBands||[]].forEach(function(T){for(_=T.length;_--;)(T[_]||{}).id===k&&$(T,T[_])})}},O.prototype.removePlotBand=function(k){this.removePlotBandOrLine(k)},O.prototype.removePlotLine=function(k){this.removePlotBandOrLine(k)},O}()}(J||(J={})),J}),wt(o,"Core/Axis/PlotLineOrBand/PlotLineOrBand.js",[o["Core/Axis/PlotLineOrBand/PlotLineOrBandAxis.js"],o["Core/Utilities.js"]],function(Y,$){var q=$.arrayMax,rt=$.arrayMin,J=$.defined,K=$.destroyObjectProperties,X=$.erase,F=$.fireEvent,N=$.merge,O=$.objectEach,k=$.pick;return function(){function g(d,v){this.axis=d,v&&(this.options=v,this.id=v.id)}return g.compose=function(d){return Y.compose(g,d)},g.prototype.render=function(){F(this,"render");var d=this,v=d.axis,_=v.horiz,T=v.logarithmic,y=d.options,C=y.color,M=k(y.zIndex,0),D=y.events,x={},f=v.chart.renderer,m=y.label,r=d.label,p=y.to,a=y.from,n=y.value,h=d.svgElem,l=[],w=J(a)&&J(p);l=J(n);var P=!h,I={class:"highcharts-plot-"+(w?"band ":"line ")+(y.className||"")},L=w?"bands":"lines";if(T&&(a=T.log2lin(a),p=T.log2lin(p),n=T.log2lin(n)),v.chart.styledMode||(l?(I.stroke=C||"#999999",I["stroke-width"]=k(y.width,1),y.dashStyle&&(I.dashstyle=y.dashStyle)):w&&(I.fill=C||"#e6ebf5",y.borderWidth&&(I.stroke=y.borderColor,I["stroke-width"]=y.borderWidth))),x.zIndex=M,(T=v.plotLinesAndBandsGroups[L+="-"+M])||(v.plotLinesAndBandsGroups[L]=T=f.g("plot-"+L).attr(x).add()),P&&(d.svgElem=h=f.path().attr(I).add(T)),l)l=v.getPlotLinePath({value:n,lineWidth:h.strokeWidth(),acrossPanes:y.acrossPanes});else{if(!w)return;l=v.getPlotBandPath(a,p,y)}return!d.eventsAdded&&D&&(O(D,function(S,B){h.on(B,function(c){D[B].apply(d,[c])})}),d.eventsAdded=!0),(P||!h.d)&&l&&l.length?h.attr({d:l}):h&&(l?(h.show(!0),h.animate({d:l})):h.d&&(h.hide(),r&&(d.label=r=r.destroy()))),m&&(J(m.text)||J(m.formatter))&&l&&l.length&&0<v.width&&0<v.height&&!l.isFlat?(m=N({align:_&&w&&"center",x:_?!w&&4:10,verticalAlign:!_&&w&&"middle",y:_?w?16:10:w?6:-4,rotation:_&&!w&&90},m),this.renderLabel(m,l,w,M)):r&&r.hide(),d},g.prototype.renderLabel=function(d,v,_,T){var y=this.axis,C=y.chart.renderer,M=this.label;M||(this.label=M=C.text(this.getLabelText(d),0,0,d.useHTML).attr({align:d.textAlign||d.align,rotation:d.rotation,class:"highcharts-plot-"+(_?"band":"line")+"-label "+(d.className||""),zIndex:T}).add(),y.chart.styledMode||M.css(N({textOverflow:"ellipsis"},d.style))),T=v.xBounds||[v[0][1],v[1][1],_?v[2][1]:v[0][1]],v=v.yBounds||[v[0][2],v[1][2],_?v[2][2]:v[0][2]],_=rt(T),C=rt(v),M.align(d,!1,{x:_,y:C,width:q(T)-_,height:q(v)-C}),M.alignValue&&"left"!==M.alignValue||M.css({width:(90===M.rotation?y.height-(M.alignAttr.y-y.top):y.width-(M.alignAttr.x-y.left))+"px"}),M.show(!0)},g.prototype.getLabelText=function(d){return J(d.formatter)?d.formatter.call(this):d.text},g.prototype.destroy=function(){X(this.axis.plotLinesAndBands,this),delete this.axis,K(this)},g}()}),wt(o,"Core/Tooltip.js",[o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var K=Y.format,X=$.doc,F=q.distribute,N=J.addEvent,O=J.clamp,k=J.css,g=J.defined,d=J.discardElement,v=J.extend,_=J.fireEvent,T=J.isArray,y=J.isNumber,C=J.isString,M=J.merge,D=J.pick,x=J.splat,f=J.syncTimeout;return function(){function m(r,p){this.allowShared=!0,this.container=void 0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.now={},this.options={},this.outside=!1,this.chart=r,this.init(r,p)}return m.prototype.applyFilter=function(){var r=this.chart;r.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+r.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{in:"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{in:"SourceGraphic"}}]}]})},m.prototype.bodyFormatter=function(r){return r.map(function(p){var a=p.series.tooltipOptions;return(a[(p.point.formatPrefix||"point")+"Formatter"]||p.point.tooltipFormatter).call(p.point,a[(p.point.formatPrefix||"point")+"Format"]||"")})},m.prototype.cleanSplit=function(r){this.chart.series.forEach(function(p){var a=p&&p.tt;a&&(!a.isActive||r?p.tt=a.destroy():a.isActive=!1)})},m.prototype.defaultFormatter=function(r){var p=this.points||x(this),a=[r.tooltipFooterHeaderFormatter(p[0])];return(a=a.concat(r.bodyFormatter(p))).push(r.tooltipFooterHeaderFormatter(p[0],!0)),a},m.prototype.destroy=function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),d(this.container)),J.clearTimeout(this.hideTimer),J.clearTimeout(this.tooltipTimeout)},m.prototype.getAnchor=function(r,p){var P,I,a=this.chart,n=a.pointer,h=a.inverted,l=a.plotTop,w=a.plotLeft,L=0,S=0;return r=x(r),this.followPointer&&p?(void 0===p.chartX&&(p=n.normalize(p)),n=[p.chartX-w,p.chartY-l]):r[0].tooltipPos?n=r[0].tooltipPos:(r.forEach(function(B){P=B.series.yAxis,L+=B.plotX||0,S+=B.plotLow?(B.plotLow+(B.plotHigh||0))/2:B.plotY||0,(I=B.series.xAxis)&&P&&(h?(L+=l+a.plotHeight-I.len-I.pos,S+=w+a.plotWidth-P.len-P.pos):(L+=I.pos-w,S+=P.pos-l))}),L/=r.length,S/=r.length,n=[h?a.plotWidth-S:L,h?a.plotHeight-L:S],this.shared&&1<r.length&&p&&(h?n[0]=p.chartX-w:n[1]=p.chartY-l)),n.map(Math.round)},m.prototype.getLabel=function(){var I,r=this,p=this.chart.styledMode,a=this.options,n=this.split&&this.allowShared,h="tooltip"+(g(a.className)?" "+a.className:""),l=a.style.pointerEvents||(!this.followPointer&&a.stickOnContact?"auto":"none"),w=function(){r.inContact=!0},P=function(j){var G=r.chart.hoverSeries;r.inContact=r.shouldStickOnContact()&&r.chart.pointer.inClass(j.relatedTarget,"highcharts-tooltip"),!r.inContact&&G&&G.onMouseOut&&G.onMouseOut()},L=this.chart.renderer;if(r.label){var S=!r.label.hasClass("highcharts-label");(n&&!S||!n&&S)&&r.destroy()}if(!this.label){if(this.outside){S=this.chart.options.chart.style;var B=rt.getRendererType();this.container=I=$.doc.createElement("div"),I.className="highcharts-tooltip-container",k(I,{position:"absolute",top:"1px",pointerEvents:l,zIndex:Math.max(this.options.style.zIndex||0,(S&&S.zIndex||0)+3)}),N(I,"mouseenter",w),N(I,"mouseleave",P),$.doc.body.appendChild(I),this.renderer=L=new B(I,0,0,S,void 0,void 0,L.styledMode)}if(n?this.label=L.g(h):(this.label=L.label("",0,0,a.shape,void 0,void 0,a.useHTML,void 0,h).attr({padding:a.padding,r:a.borderRadius}),p||this.label.attr({fill:a.backgroundColor,"stroke-width":a.borderWidth}).css(a.style).css({pointerEvents:l}).shadow(a.shadow)),p&&a.shadow&&(this.applyFilter(),this.label.attr({filter:"url(#drop-shadow-"+this.chart.index+")"})),r.outside&&!r.split){var c=this.label,u=c.xSetter,E=c.ySetter;c.xSetter=function(j){u.call(c,r.distance),I.style.left=j+"px"},c.ySetter=function(j){E.call(c,r.distance),I.style.top=j+"px"}}this.label.on("mouseenter",w).on("mouseleave",P).attr({zIndex:8}).add()}return this.label},m.prototype.getPosition=function(r,p,a){var E,n=this.chart,h=this.distance,l={},w=n.inverted&&a.h||0,P=this.outside,I=P?X.documentElement.clientWidth-2*h:n.chartWidth,L=P?Math.max(X.body.scrollHeight,X.documentElement.scrollHeight,X.body.offsetHeight,X.documentElement.offsetHeight,X.documentElement.clientHeight):n.chartHeight,S=n.pointer.getChartPosition(),B=function(R){var V="x"===R;return[R,V?I:L,V?r:p].concat(P?[V?r*S.scaleX:p*S.scaleY,V?S.left-h+(a.plotX+n.plotLeft)*S.scaleX:S.top-h+(a.plotY+n.plotTop)*S.scaleY,0,V?I:L]:[V?r:p,V?a.plotX+n.plotLeft:a.plotY+n.plotTop,V?n.plotLeft:n.plotTop,V?n.plotLeft+n.plotWidth:n.plotTop+n.plotHeight])},c=B("y"),u=B("x");B=!!a.negative,!n.polar&&n.hoverSeries&&n.hoverSeries.yAxis&&n.hoverSeries.yAxis.reversed&&(B=!B);var j=!this.followPointer&&D(a.ttBelow,!n.inverted===B),G=function(R,V,Z,nt,it,ot,at){var mt=P?"y"===R?h*S.scaleY:h*S.scaleX:h,_t=(Z-nt)/2,yt=nt<it-h,ut=it+h+nt<V,ct=it-mt-Z+_t;if(it=it+mt-_t,j&&ut)l[R]=it;else if(!j&&yt)l[R]=ct;else if(yt)l[R]=Math.min(at-nt,0>ct-w?ct:ct-w);else{if(!ut)return!1;l[R]=Math.max(ot,it+w+Z>V?it:it+w)}},W=function(R,V,Z,nt,it){var ot;return it<h||it>V-h?ot=!1:l[R]=it<Z/2?1:it>V-nt/2?V-nt-2:it-Z/2,ot},b=function(R){var V=c;c=u,u=V,E=R},z=function(){!1!==G.apply(0,c)?!1!==W.apply(0,u)||E||(b(!0),z()):E?l.x=l.y=0:(b(!0),z())};return(n.inverted||1<this.len)&&b(),z(),l},m.prototype.hide=function(r){var p=this;J.clearTimeout(this.hideTimer),r=D(r,this.options.hideDelay),this.isHidden||(this.hideTimer=f(function(){p.getLabel().fadeOut(r&&void 0),p.isHidden=!0},r))},m.prototype.init=function(r,p){this.chart=r,this.options=p,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=p.split&&!r.inverted&&!r.polar,this.shared=p.shared||this.split,this.outside=D(p.outside,!(!r.scrollablePixelsX&&!r.scrollablePixelsY))},m.prototype.shouldStickOnContact=function(){return!(this.followPointer||!this.options.stickOnContact)},m.prototype.isStickyOnContact=function(){return!(!this.shouldStickOnContact()||!this.inContact)},m.prototype.move=function(r,p,a,n){var h=this,l=h.now,w=!1!==h.options.animation&&!h.isHidden&&(1<Math.abs(r-l.x)||1<Math.abs(p-l.y)),P=h.followPointer||1<h.len;v(l,{x:w?(2*l.x+r)/3:r,y:w?(l.y+p)/2:p,anchorX:P?void 0:w?(2*l.anchorX+a)/3:a,anchorY:P?void 0:w?(l.anchorY+n)/2:n}),h.getLabel().attr(l),h.drawTracker(),w&&(J.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){h&&h.move(r,p,a,n)},32))},m.prototype.refresh=function(r,p){var a=this.chart,n=this.options,h=x(r),l=h[0],w=[],P=n.formatter||this.defaultFormatter,I=this.shared,L=a.styledMode,S={};if(n.enabled){J.clearTimeout(this.hideTimer),this.allowShared=!(!T(r)&&r.series&&r.series.noSharedTooltip),this.followPointer=!this.split&&l.series.tooltipOptions.followPointer;var B=(r=this.getAnchor(r,p))[0],c=r[1];if(I&&this.allowShared?(a.pointer.applyInactiveState(h),h.forEach(function(j){j.setState("hover"),w.push(j.getLabelConfig())}),(S={x:l.category,y:l.y}).points=w):S=l.getLabelConfig(),this.len=w.length,P=P.call(S,this),this.distance=D((I=l.series).tooltipOptions.distance,16),!1===P)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(P,h);else{var u=B,E=c;if(p&&a.pointer.isDirectTouch&&(u=p.chartX-a.plotLeft,E=p.chartY-a.plotTop),!a.polar&&!1!==I.options.clip&&!h.some(function(j){return j.series.shouldShowTooltip(u,E)}))return void this.hide();p=this.getLabel(),n.style.width&&!L||p.css({width:this.chart.spacingBox.width+"px"}),p.attr({text:P&&P.join?P.join(""):P}),p.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+D(l.colorIndex,I.colorIndex)),L||p.attr({stroke:n.borderColor||l.color||I.color||"#666666"}),this.updatePosition({plotX:B,plotY:c,negative:l.negative,ttBelow:l.ttBelow,h:r[2]||0})}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}_(this,"refresh")}},m.prototype.renderSplit=function(r,p){function a(ut,ct,H,tt,lt){return void 0===lt&&(lt=!0),H?(ct=nt?0:mt,ut=O(ut-tt/2,R.left,R.right-tt-(n.outside?it:0))):(ct-=ot,ut=O(ut=lt?ut-tt-W:ut+W,lt?ut:R.left,R.right)),{x:ut,y:ct}}var n=this,h=n.chart,l=n.chart,w=l.chartWidth,P=l.chartHeight,I=l.plotHeight,L=l.plotLeft,S=l.plotTop,B=l.pointer,c=l.scrollablePixelsY;c=void 0===c?0:c;var E=l.scrollingContainer,j=(E=void 0===E?{scrollLeft:0,scrollTop:0}:E).scrollLeft;E=E.scrollTop;var G=l.styledMode,W=n.distance,b=n.options,z=n.options.positioner,R=n.outside&&"number"!=typeof l.scrollablePixelsX?X.documentElement.getBoundingClientRect():{left:j,right:j+w,top:E,bottom:E+P},V=n.getLabel(),Z=this.renderer||h.renderer,nt=!(!h.xAxis[0]||!h.xAxis[0].opposite),it=(h=B.getChartPosition()).left;h=h.top;var ot=S+E,at=0,mt=I-c;C(r)&&(r=[!1,r]),r=r.slice(0,p.length+1).reduce(function(ut,ct,H){if(!1!==ct&&""!==ct){var tt=(H=p[H-1]||{isHeader:!0,plotX:p[0].plotX,plotY:I,series:{}}).isHeader,lt=tt?n:H.series;ct=ct.toString();var dt=lt.tt,ft=H.isHeader,bt=H.series,Tt="highcharts-color-"+D(H.colorIndex,bt.colorIndex,"none");if(dt||(dt={padding:b.padding,r:b.borderRadius},G||(dt.fill=b.backgroundColor,dt["stroke-width"]=b.borderWidth),dt=Z.label("",0,0,b[ft?"headerShape":"shape"],void 0,void 0,b.useHTML).addClass((ft?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+Tt).attr(dt).add(V)),dt.isActive=!0,dt.attr({text:ct}),G||dt.css(b.style).shadow(b.shadow).attr({stroke:b.borderColor||H.color||bt.color||"#333333"}),ct=(ft=(lt=lt.tt=dt).getBBox()).width+lt.strokeWidth(),tt&&(mt+=at=ft.height,nt&&(ot-=at)),bt=void 0===(bt=H.plotX)?0:bt,Tt=void 0===(Tt=H.plotY)?0:Tt,dt=H.series,H.isHeader){bt=L+bt;var Lt=S+I/2}else{var jt=dt.xAxis,Rt=dt.yAxis;bt=jt.pos+O(bt,-W,jt.len+W),dt.shouldShowTooltip(0,Rt.pos-S+Tt,{ignoreX:!0})&&(Lt=Rt.pos+Tt)}bt=O(bt,R.left-W,R.right+W),"number"==typeof Lt?(ft=ft.height+1,Tt=z?z.call(n,ct,ft,H):a(bt,Lt,tt,ct),ut.push({align:z?0:void 0,anchorX:bt,anchorY:Lt,boxWidth:ct,point:H,rank:D(Tt.rank,tt?1:0),size:ft,target:Tt.y,tt:lt,x:Tt.x})):lt.isActive=!1}return ut},[]),!z&&r.some(function(ut){var ct=(n.outside?it:0)+ut.anchorX;return ct<R.left&&ct+ut.boxWidth<R.right||ct<it-R.left+ut.boxWidth&&R.right-ct>ct})&&(r=r.map(function(ut){var ct=a(ut.anchorX,ut.anchorY,ut.point.isHeader,ut.boxWidth,!1);return v(ut,{target:ct.y,x:ct.x})})),n.cleanSplit(),F(r,mt);var _t=it,yt=it;r.forEach(function(ut){var ct=ut.x,H=ut.boxWidth;(ut=ut.isHeader)||(n.outside&&it+ct<_t&&(_t=it+ct),!ut&&n.outside&&_t+H>yt&&(yt=it+ct))}),r.forEach(function(ut){var ct=ut.x,H=ut.anchorX,tt=ut.pos,lt=ut.point.isHeader;if(tt={visibility:void 0===tt?"hidden":"inherit",x:ct,y:tt+ot,anchorX:H,anchorY:ut.anchorY},n.outside&&ct<H){var dt=it-_t;0<dt&&(lt||(tt.x=ct+dt,tt.anchorX=H+dt),lt&&(tt.x=(yt-_t)/2,tt.anchorX=H+dt))}ut.tt.attr(tt)}),r=n.container,c=n.renderer,n.outside&&r&&c&&(l=V.getBBox(),c.setSize(l.width+l.x,l.height+l.y,!1),r.style.left=_t+"px",r.style.top=h+"px")},m.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var r=this.chart,p=this.label,a=this.shared?r.hoverPoints:r.hoverPoint;if(p&&a){var n={x:0,y:0,width:0,height:0};a=this.getAnchor(a);var h=p.getBBox();a[0]+=r.plotLeft-p.translateX,a[1]+=r.plotTop-p.translateY,n.x=Math.min(0,a[0]),n.y=Math.min(0,a[1]),n.width=0>a[0]?Math.max(Math.abs(a[0]),h.width-a[0]):Math.max(Math.abs(a[0]),h.width),n.height=0>a[1]?Math.max(Math.abs(a[1]),h.height-Math.abs(a[1])):Math.max(Math.abs(a[1]),h.height),this.tracker?this.tracker.attr(n):(this.tracker=p.renderer.rect(n).addClass("highcharts-tracker").add(p),r.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}},m.prototype.styledModeFormat=function(r){return r.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')},m.prototype.tooltipFooterHeaderFormatter=function(r,p){var a=r.series,n=a.tooltipOptions,h=a.xAxis,l=h&&h.dateTime,w=n.xDateFormat,P=n[p?"footerFormat":"headerFormat"];return _(this,"headerFormatter",h={isFooter:p,labelConfig:r},function(I){l&&!w&&y(r.key)&&(w=l.getXDateFormat(r.key,n.dateTimeLabelFormats)),l&&w&&(r.point&&r.point.tooltipDateKeys||["key"]).forEach(function(L){P=P.replace("{point."+L+"}","{point."+L+":"+w+"}")}),a.chart.styledMode&&(P=this.styledModeFormat(P)),I.text=K(P,{point:r,series:a},this.chart)}),h.text},m.prototype.update=function(r){this.destroy(),M(!0,this.chart.options.tooltip.userOptions,r),this.init(this.chart,M(!0,this.options,r))},m.prototype.updatePosition=function(r){var p=this.chart,a=this.options,n=p.pointer,h=this.getLabel();n=n.getChartPosition();var l=(a.positioner||this.getPosition).call(this,h.width,h.height,r),w=r.plotX+p.plotLeft;r=r.plotY+p.plotTop,this.outside&&(this.renderer.setSize(h.width+(a=a.borderWidth+2*this.distance),h.height+a,!1),(1!==n.scaleX||1!==n.scaleY)&&(k(this.container,{transform:"scale("+n.scaleX+", "+n.scaleY+")"}),w*=n.scaleX,r*=n.scaleY),w+=n.left-l.x,r+=n.top-l.y),this.move(Math.round(l.x),Math.round(l.y||0),w,r)},m}()}),wt(o,"Core/Series/Point.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Animation/AnimationUtilities.js"],o["Core/DefaultOptions.js"],o["Core/FormatUtilities.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var K=$.animObject,X=q.defaultOptions,F=rt.format,N=J.addEvent,O=J.defined,k=J.erase,g=J.extend,d=J.fireEvent,v=J.getNestedProperty,_=J.isArray,T=J.isFunction,y=J.isNumber,C=J.isObject,M=J.merge,D=J.objectEach,x=J.pick,f=J.syncTimeout,m=J.removeEvent,r=J.uniqueKey;return function(){function p(){this.colorIndex=this.category=void 0,this.formatPrefix="point",this.id=void 0,this.isNull=!1,this.percentage=this.options=this.name=void 0,this.selected=!1,this.total=this.series=void 0,this.visible=!0,this.x=void 0}return p.prototype.animateBeforeDestroy=function(){var a=this,n={x:a.startXPos,opacity:0},h=a.getGraphicalProps();h.singular.forEach(function(l){a[l]=a[l].animate("dataLabel"===l?{x:a[l].startXPos,y:a[l].startYPos,opacity:0}:n)}),h.plural.forEach(function(l){a[l].forEach(function(w){w.element&&w.animate(g({x:a.startXPos},w.startYPos?{x:w.startXPos,y:w.startYPos}:{}))})})},p.prototype.applyOptions=function(a,n){var h=this.series,l=h.options.pointValKey||h.pointValKey;return a=p.prototype.optionsToObject.call(this,a),g(this,a),this.options=this.options?g(this.options,a):a,a.group&&delete this.group,a.dataLabels&&delete this.dataLabels,l&&(this.y=p.prototype.getNestedProperty.call(this,l)),this.formatPrefix=(this.isNull=x(this.isValid&&!this.isValid(),null===this.x||!y(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===n&&h.xAxis&&h.xAxis.hasNames&&(this.x=h.xAxis.nameToX(this)),void 0===this.x&&h?this.x=void 0===n?h.autoIncrement():n:y(a.x)&&h.options.relativeXValue&&(this.x=h.autoIncrement(a.x)),this},p.prototype.destroy=function(){function a(){for(I in(n.graphic||n.dataLabel||n.dataLabels)&&(m(n),n.destroyElements()),n)n[I]=null}var n=this,h=n.series,l=h.chart;h=h.options.dataSorting;var I,w=l.hoverPoints,P=K(n.series.chart.renderer.globalAnimation);n.legendItem&&l.legend.destroyItem(n),w&&(n.setState(),k(w,n),w.length||(l.hoverPoints=null)),n===l.hoverPoint&&n.onMouseOut(),h&&h.enabled?(this.animateBeforeDestroy(),f(a,P.duration)):a(),l.pointCount--},p.prototype.destroyElements=function(a){var n=this;(a=n.getGraphicalProps(a)).singular.forEach(function(h){n[h]=n[h].destroy()}),a.plural.forEach(function(h){n[h].forEach(function(l){l.element&&l.destroy()}),delete n[h]})},p.prototype.firePointEvent=function(a,n,h){var l=this,w=this.series.options;(w.point.events[a]||l.options&&l.options.events&&l.options.events[a])&&l.importEvents(),"click"===a&&w.allowPointSelect&&(h=function(P){l.select&&l.select(null,P.ctrlKey||P.metaKey||P.shiftKey)}),d(l,a,n,h)},p.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},p.prototype.getGraphicalProps=function(a){var w,n=this,h=[],l={singular:[],plural:[]};for((a=a||{graphic:1,dataLabel:1}).graphic&&h.push("graphic","upperGraphic","shadowGroup"),a.dataLabel&&h.push("dataLabel","dataLabelUpper","connector"),w=h.length;w--;){var P=h[w];n[P]&&l.singular.push(P)}return["dataLabel","connector"].forEach(function(I){var L=I+"s";a[I]&&n[L]&&l.plural.push(L)}),l},p.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},p.prototype.getNestedProperty=function(a){if(a)return 0===a.indexOf("custom.")?v(a,this.options):this[a]},p.prototype.getZone=function(){var a=this.series,n=a.zones;a=a.zoneAxis||"y";var h,l=0;for(h=n[l];this[a]>=h.value;)h=n[++l];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=h&&h.color&&!this.options.color?h.color:this.nonZonedColor,h},p.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType},p.prototype.init=function(a,n,h){return this.series=a,this.applyOptions(n,h),this.id=O(this.id)?this.id:r(),this.resolveColor(),a.chart.pointCount++,d(this,"afterInit"),this},p.prototype.optionsToObject=function(a){var n=this.series,h=n.options.keys,l=h||n.pointArrayMap||["y"],w=l.length,P={},I=0,L=0;if(y(a)||null===a)P[l[0]]=a;else if(_(a))for(!h&&a.length>w&&("string"==(n=typeof a[0])?P.name=a[0]:"number"===n&&(P.x=a[0]),I++);L<w;)h&&void 0===a[I]||(0<l[L].indexOf(".")?p.prototype.setNestedProperty(P,a[I],l[L]):P[l[L]]=a[I]),I++,L++;else"object"==typeof a&&(P=a,a.dataLabels&&(n._hasPointLabels=!0),a.marker&&(n._hasPointMarkers=!0));return P},p.prototype.resolveColor=function(){var a=this.series,n=a.chart.styledMode,h=a.chart.options.chart.colorCount;if(delete this.nonZonedColor,a.options.colorByPoint){if(!n){var l=(h=a.options.colors||a.chart.options.colors)[a.colorCounter];h=h.length}n=a.colorCounter,a.colorCounter++,a.colorCounter===h&&(a.colorCounter=0)}else n||(l=a.color),n=a.colorIndex;this.colorIndex=x(this.options.colorIndex,n),this.color=x(this.options.color,l)},p.prototype.setNestedProperty=function(a,n,h){return h.split(".").reduce(function(l,w,P,I){return l[w]=I.length-1===P?n:C(l[w],!0)?l[w]:{},l[w]},a),a},p.prototype.tooltipFormatter=function(a){var n=this.series,h=n.tooltipOptions,l=x(h.valueDecimals,""),w=h.valuePrefix||"",P=h.valueSuffix||"";return n.chart.styledMode&&(a=n.chart.tooltip.styledModeFormat(a)),(n.pointArrayMap||["y"]).forEach(function(I){I="{point."+I,(w||P)&&(a=a.replace(RegExp(I+"}","g"),w+I+"}"+P)),a=a.replace(RegExp(I+"}","g"),I+":,."+l+"f}")}),F(a,{point:this,series:this.series},n.chart)},p.prototype.update=function(a,n,h,l){function w(){P.applyOptions(a);var u=L&&P.hasDummyGraphic;u=null===P.y?!u:u,L&&u&&(P.graphic=L.destroy(),delete P.hasDummyGraphic),C(a,!0)&&(L&&L.element&&a&&a.marker&&void 0!==a.marker.symbol&&(P.graphic=L.destroy()),a&&a.dataLabels&&P.dataLabel&&(P.dataLabel=P.dataLabel.destroy()),P.connector&&(P.connector=P.connector.destroy())),I.updateParallelArrays(P,c=P.index),B.data[c]=C(B.data[c],!0)||C(a,!0)?P.options:x(a,B.data[c]),I.isDirty=I.isDirtyData=!0,!I.fixedBox&&I.hasCartesianSeries&&(S.isDirtyBox=!0),"point"===B.legendType&&(S.isDirtyLegend=!0),n&&S.redraw(h)}var c,P=this,I=P.series,L=P.graphic,S=I.chart,B=I.options;n=x(n,!0),!1===l?w():P.firePointEvent("update",{options:a},w)},p.prototype.remove=function(a,n){this.series.removePoint(this.series.data.indexOf(this),a,n)},p.prototype.select=function(a,n){var h=this,l=h.series,w=l.chart;this.selectedStaging=a=x(a,!h.selected),h.firePointEvent(a?"select":"unselect",{accumulate:n},function(){h.selected=h.options.selected=a,l.options.data[l.data.indexOf(h)]=h.options,h.setState(a&&"select"),n||w.getSelectedPoints().forEach(function(P){var I=P.series;P.selected&&P!==h&&(P.selected=P.options.selected=!1,I.options.data[I.data.indexOf(P)]=P.options,P.setState(w.hoverPoints&&I.options.inactiveOtherPoints?"inactive":""),P.firePointEvent("unselect"))})}),delete this.selectedStaging},p.prototype.onMouseOver=function(a){var n=this.series.chart,h=n.pointer;a=a?h.normalize(a):h.getChartCoordinatesFromPoint(this,n.inverted),h.runPointActions(a,this)},p.prototype.onMouseOut=function(){var a=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(a.hoverPoints||[]).forEach(function(n){n.setState()}),a.hoverPoints=a.hoverPoint=null},p.prototype.importEvents=function(){if(!this.hasImportedEvents){var a=this,n=M(a.series.options.point,a.options).events;a.events=n,D(n,function(h,l){T(h)&&N(a,l,h)}),this.hasImportedEvents=!0}},p.prototype.setState=function(a,n){var j,h=this.series,l=this.state,w=h.options.states[a||"normal"]||{},P=X.plotOptions[h.type].marker&&h.options.marker,L=P&&P.states&&P.states[a||"normal"]||{},B=this.marker||{},c=h.chart,u=P&&h.markerAttribs,E=h.halo,G=h.stateMarkerGraphic;if(!((a=a||"")===this.state&&!n||this.selected&&"select"!==a||!1===w.enabled||a&&(!1===L.enabled||P&&!1===P.enabled&&!1===L.enabled)||a&&B.states&&B.states[a]&&!1===B.states[a].enabled)){if(this.state=a,u&&(j=h.markerAttribs(this,a)),this.graphic&&!this.hasDummyGraphic){if(l&&this.graphic.removeClass("highcharts-point-"+l),a&&this.graphic.addClass("highcharts-point-"+a),!c.styledMode){var W=h.pointAttribs(this,a),b=x(c.options.chart.animation,w.animation);h.options.inactiveOtherPoints&&y(W.opacity)&&((this.dataLabels||[]).forEach(function(z){z&&z.animate({opacity:W.opacity},b)}),this.connector&&this.connector.animate({opacity:W.opacity},b)),this.graphic.animate(W,b)}j&&this.graphic.animate(j,x(c.options.chart.animation,L.animation,P.animation)),G&&G.hide()}else a&&L&&(l=B.symbol||h.symbol,G&&G.currentSymbol!==l&&(G=G.destroy()),j&&(G?G[n?"animate":"attr"]({x:j.x,y:j.y}):l&&(h.stateMarkerGraphic=G=c.renderer.symbol(l,j.x,j.y,j.width,j.height).add(h.markerGroup),G.currentSymbol=l)),!c.styledMode&&G&&"inactive"!==this.state&&G.attr(h.pointAttribs(this,a))),G&&(G[a&&this.isInside?"show":"hide"](),G.element.point=this,G.addClass(this.getClassName(),!0));j=(G=this.graphic||G)&&G.visibility||"inherit",(w=w.halo)&&w.size&&G&&"hidden"!==j&&!this.isCluster?(E||(h.halo=E=c.renderer.path().add(G.parentGroup)),E.show()[n?"animate":"attr"]({d:this.haloPath(w.size)}),E.attr({class:"highcharts-halo highcharts-color-"+x(this.colorIndex,h.colorIndex)+(this.className?" "+this.className:""),visibility:j,zIndex:-1}),E.point=this,c.styledMode||E.attr(g({fill:this.color||h.color,"fill-opacity":w.opacity},Y.filterUserAttributes(w.attributes||{})))):E&&E.point&&E.point.haloPath&&E.animate({d:E.point.haloPath(0)},null,E.hide),d(this,"afterSetState",{state:a})}},p.prototype.haloPath=function(a){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-a,this.plotY-a,2*a,2*a)},p}()}),wt(o,"Core/Pointer.js",[o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Tooltip.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var J=Y.parse,K=$.charts,X=$.noop,F=rt.addEvent,N=rt.attr,O=rt.css,k=rt.defined,g=rt.extend,d=rt.find,v=rt.fireEvent,_=rt.isNumber,T=rt.isObject,y=rt.objectEach,C=rt.offset,M=rt.pick,D=rt.splat;return function(){function x(f,m){this.lastValidTouch={},this.pinchDown=[],this.runChartClick=!1,this.eventsToUnbind=[],this.chart=f,this.hasDragged=!1,this.options=m,this.init(f,m)}return x.prototype.applyInactiveState=function(f){var r,m=[];(f||[]).forEach(function(p){m.push(r=p.series),r.linkedParent&&m.push(r.linkedParent),r.linkedSeries&&(m=m.concat(r.linkedSeries)),r.navigatorSeries&&m.push(r.navigatorSeries)}),this.chart.series.forEach(function(p){-1===m.indexOf(p)?p.setState("inactive",!0):p.options.inactiveOtherPoints&&p.setAllPointsToState("inactive")})},x.prototype.destroy=function(){var f=this;this.eventsToUnbind.forEach(function(m){return m()}),this.eventsToUnbind=[],$.chartCount||(x.unbindDocumentMouseUp&&(x.unbindDocumentMouseUp=x.unbindDocumentMouseUp()),x.unbindDocumentTouchEnd&&(x.unbindDocumentTouchEnd=x.unbindDocumentTouchEnd())),clearInterval(f.tooltipTimeout),y(f,function(m,r){f[r]=void 0})},x.prototype.drag=function(f){var m=this.chart,r=m.options.chart,p=this.zoomHor,a=this.zoomVert,n=m.plotLeft,h=m.plotTop,l=m.plotWidth,w=m.plotHeight,P=this.mouseDownX||0,I=this.mouseDownY||0,L=T(r.panning)?r.panning&&r.panning.enabled:r.panning,S=r.panKey&&f[r.panKey+"Key"],B=f.chartX,c=f.chartY,u=this.selectionMarker;if((!u||!u.touch)&&(B<n?B=n:B>n+l&&(B=n+l),c<h?c=h:c>h+w&&(c=h+w),this.hasDragged=Math.sqrt(Math.pow(P-B,2)+Math.pow(I-c,2)),10<this.hasDragged)){var E=m.isInsidePlot(P-n,I-h,{visiblePlotOnly:!0});!m.hasCartesianSeries&&!m.mapView||!this.zoomX&&!this.zoomY||!E||S||u||(this.selectionMarker=u=m.renderer.rect(n,h,p?1:l,a?1:w,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),m.styledMode||u.attr({fill:r.selectionMarkerFill||J("#335cad").setOpacity(.25).get()})),u&&p&&(p=B-P,u.attr({width:Math.abs(p),x:(0<p?0:p)+P})),u&&a&&(p=c-I,u.attr({height:Math.abs(p),y:(0<p?0:p)+I})),E&&!u&&L&&m.pan(f,r.panning)}},x.prototype.dragStart=function(f){var m=this.chart;m.mouseIsDown=f.type,m.cancelClick=!1,m.mouseDownX=this.mouseDownX=f.chartX,m.mouseDownY=this.mouseDownY=f.chartY},x.prototype.drop=function(f){var m=this,r=this.chart,p=this.hasPinched;if(this.selectionMarker){var a=this.selectionMarker,n=a.attr?a.attr("x"):a.x,h=a.attr?a.attr("y"):a.y,l=a.attr?a.attr("width"):a.width,w=a.attr?a.attr("height"):a.height,P={originalEvent:f,xAxis:[],yAxis:[],x:n,y:h,width:l,height:w},I=!!r.mapView;(this.hasDragged||p)&&(r.axes.forEach(function(L){if(L.zoomEnabled&&k(L.min)&&(p||m[{xAxis:"zoomX",yAxis:"zoomY"}[L.coll]])&&_(n)&&_(h)){var S=L.horiz,B="touchend"===f.type?L.minPixelPadding:0,c=L.toValue((S?n:h)+B);S=L.toValue((S?n+l:h+w)-B),P[L.coll].push({axis:L,min:Math.min(c,S),max:Math.max(c,S)}),I=!0}}),I&&v(r,"selection",P,function(L){r.zoom(g(L,p?{animation:!1}:null))})),_(r.index)&&(this.selectionMarker=this.selectionMarker.destroy()),p&&this.scaleGroups()}r&&_(r.index)&&(O(r.container,{cursor:r._cursor}),r.cancelClick=10<this.hasDragged,r.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},x.prototype.findNearestKDPoint=function(f,m,r){var n,p=this.chart,a=p.hoverPoint;return p=p.tooltip,a&&p&&p.isStickyOnContact()?a:(f.forEach(function(h){var l=!(h.noSharedTooltip&&m)&&0>h.options.findNearestPointBy.indexOf("y");if(h=h.searchPoint(r,l),(l=T(h,!0)&&h.series)&&!(l=!T(n,!0))){var w=n.dist-h.dist,P=(h.series.group&&h.series.group.zIndex)-(n.series.group&&n.series.group.zIndex);l=0<(0!=(l=n.distX-h.distX)&&m?l:0!==w?w:0!==P?P:n.series.index>h.series.index?-1:1)}l&&(n=h)}),n)},x.prototype.getChartCoordinatesFromPoint=function(f,m){var r=f.series,p=r.xAxis;r=r.yAxis;var a=f.shapeArgs;if(p&&r){var n=M(f.clientX,f.plotX),h=f.plotY||0;return f.isNode&&a&&_(a.x)&&_(a.y)&&(n=a.x,h=a.y),m?{chartX:r.len+r.pos-h,chartY:p.len+p.pos-n}:{chartX:n+p.pos,chartY:h+r.pos}}if(a&&a.x&&a.y)return{chartX:a.x,chartY:a.y}},x.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var f=this.chart.container,m=C(f);this.chartPosition={left:m.left,top:m.top,scaleX:1,scaleY:1};var r=f.offsetWidth;return f=f.offsetHeight,2<r&&2<f&&(this.chartPosition.scaleX=m.width/r,this.chartPosition.scaleY=m.height/f),this.chartPosition},x.prototype.getCoordinates=function(f){var m={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(r){m[r.isXAxis?"xAxis":"yAxis"].push({axis:r,value:r.toValue(f[r.horiz?"chartX":"chartY"])})}),m},x.prototype.getHoverData=function(f,m,r,p,a,n){var h=[];p=!(!p||!f);var l={chartX:n?n.chartX:void 0,chartY:n?n.chartY:void 0,shared:a};v(this,"beforeGetHoverData",l);var w=m&&!m.stickyTracking?[m]:r.filter(function(I){return l.filter?l.filter(I):I.visible&&!(!a&&I.directTouch)&&M(I.options.enableMouseTracking,!0)&&I.stickyTracking}),P=p||!n?f:this.findNearestKDPoint(w,a,n);return m=P&&P.series,P&&(a&&!m.noSharedTooltip?(w=r.filter(function(I){return l.filter?l.filter(I):I.visible&&!(!a&&I.directTouch)&&M(I.options.enableMouseTracking,!0)&&!I.noSharedTooltip})).forEach(function(I){var L=d(I.points,function(S){return S.x===P.x&&!S.isNull});T(L)&&(I.chart.isBoosting&&(L=I.getPoint(L)),h.push(L))}):h.push(P)),v(this,"afterGetHoverData",l={hoverPoint:P}),{hoverPoint:l.hoverPoint,hoverSeries:m,hoverPoints:h}},x.prototype.getPointFromEvent=function(f){f=f.target;for(var m;f&&!m;)m=f.point,f=f.parentNode;return m},x.prototype.onTrackerMouseOut=function(f){f=f.relatedTarget||f.toElement;var m=this.chart.hoverSeries;this.isDirectTouch=!1,!m||!f||m.stickyTracking||this.inClass(f,"highcharts-tooltip")||this.inClass(f,"highcharts-series-"+m.index)&&this.inClass(f,"highcharts-tracker")||m.onMouseOut()},x.prototype.inClass=function(f,m){for(var r;f;){if(r=N(f,"class")){if(-1!==r.indexOf(m))return!0;if(-1!==r.indexOf("highcharts-container"))return!1}f=f.parentNode}},x.prototype.init=function(f,m){this.options=m,this.chart=f,this.runChartClick=!(!m.chart.events||!m.chart.events.click),this.pinchDown=[],this.lastValidTouch={},q&&(f.tooltip=new q(f,m.tooltip),this.followTouchMove=M(m.tooltip.followTouchMove,!0)),this.setDOMEvents()},x.prototype.normalize=function(f,m){var r=f.touches,p=r?r.length?r.item(0):M(r.changedTouches,f.changedTouches)[0]:f;return m||(m=this.getChartPosition()),r=p.pageX-m.left,p=p.pageY-m.top,r/=m.scaleX,p/=m.scaleY,g(f,{chartX:Math.round(r),chartY:Math.round(p)})},x.prototype.onContainerClick=function(f){var m=this.chart,r=m.hoverPoint;f=this.normalize(f);var p=m.plotLeft,a=m.plotTop;m.cancelClick||(r&&this.inClass(f.target,"highcharts-tracker")?(v(r.series,"click",g(f,{point:r})),m.hoverPoint&&r.firePointEvent("click",f)):(g(f,this.getCoordinates(f)),m.isInsidePlot(f.chartX-p,f.chartY-a,{visiblePlotOnly:!0})&&v(m,"click",f)))},x.prototype.onContainerMouseDown=function(f){var m=1==(1&(f.buttons||f.button));f=this.normalize(f),$.isFirefox&&0!==f.button&&this.onContainerMouseMove(f),(void 0===f.button||m)&&(this.zoomOption(f),m&&f.preventDefault&&f.preventDefault(),this.dragStart(f))},x.prototype.onContainerMouseLeave=function(f){var m=K[M(x.hoverChartIndex,-1)],r=this.chart.tooltip;r&&r.shouldStickOnContact()&&this.inClass(f.relatedTarget,"highcharts-tooltip-container")||(f=this.normalize(f),m&&(f.relatedTarget||f.toElement)&&(m.pointer.reset(),m.pointer.chartPosition=void 0),r&&!r.isHidden&&this.reset())},x.prototype.onContainerMouseEnter=function(f){delete this.chartPosition},x.prototype.onContainerMouseMove=function(f){var m=this.chart;f=this.normalize(f),this.setHoverChartIndex(),f.preventDefault||(f.returnValue=!1),("mousedown"===m.mouseIsDown||this.touchSelect(f))&&this.drag(f),m.openMenu||!this.inClass(f.target,"highcharts-tracker")&&!m.isInsidePlot(f.chartX-m.plotLeft,f.chartY-m.plotTop,{visiblePlotOnly:!0})||(this.inClass(f.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(f))},x.prototype.onDocumentTouchEnd=function(f){var m=K[M(x.hoverChartIndex,-1)];m&&m.pointer.drop(f)},x.prototype.onContainerTouchMove=function(f){this.touchSelect(f)?this.onContainerMouseMove(f):this.touch(f)},x.prototype.onContainerTouchStart=function(f){this.touchSelect(f)?this.onContainerMouseDown(f):(this.zoomOption(f),this.touch(f,!0))},x.prototype.onDocumentMouseMove=function(f){var m=this.chart,r=this.chartPosition;f=this.normalize(f,r);var p=m.tooltip;!r||p&&p.isStickyOnContact()||m.isInsidePlot(f.chartX-m.plotLeft,f.chartY-m.plotTop,{visiblePlotOnly:!0})||this.inClass(f.target,"highcharts-tracker")||this.reset()},x.prototype.onDocumentMouseUp=function(f){var m=K[M(x.hoverChartIndex,-1)];m&&m.pointer.drop(f)},x.prototype.pinch=function(f){var m=this,r=m.chart,p=m.pinchDown,a=f.touches||[],n=a.length,h=m.lastValidTouch,l=m.hasZoom,w={},P=1===n&&(m.inClass(f.target,"highcharts-tracker")&&r.runTrackerClick||m.runChartClick),I={},L=m.selectionMarker;1<n?m.initiated=!0:1===n&&this.followTouchMove&&(m.initiated=!1),l&&m.initiated&&!P&&!1!==f.cancelable&&f.preventDefault(),[].map.call(a,function(S){return m.normalize(S)}),"touchstart"===f.type?([].forEach.call(a,function(S,B){p[B]={chartX:S.chartX,chartY:S.chartY}}),h.x=[p[0].chartX,p[1]&&p[1].chartX],h.y=[p[0].chartY,p[1]&&p[1].chartY],r.axes.forEach(function(S){if(S.zoomEnabled){var B=r.bounds[S.horiz?"h":"v"],c=S.minPixelPadding,u=S.toPixels(Math.min(M(S.options.min,S.dataMin),S.dataMin)),E=S.toPixels(Math.max(M(S.options.max,S.dataMax),S.dataMax)),j=Math.max(u,E);B.min=Math.min(S.pos,Math.min(u,E)-c),B.max=Math.max(S.pos+S.len,j+c)}}),m.res=!0):m.followTouchMove&&1===n?this.runPointActions(m.normalize(f)):p.length&&(v(r,"touchpan",{originalEvent:f},function(){L||(m.selectionMarker=L=g({destroy:X,touch:!0},r.plotBox)),m.pinchTranslate(p,a,w,L,I,h),m.hasPinched=l,m.scaleGroups(w,I)}),m.res&&(m.res=!1,this.reset(!1,0)))},x.prototype.pinchTranslate=function(f,m,r,p,a,n){this.zoomHor&&this.pinchTranslateDirection(!0,f,m,r,p,a,n),this.zoomVert&&this.pinchTranslateDirection(!1,f,m,r,p,a,n)},x.prototype.pinchTranslateDirection=function(f,m,r,p,a,n,h,l){var w=this.chart,P=f?"x":"y",I=f?"X":"Y",L="chart"+I,S=f?"width":"height",B=w["plot"+(f?"Left":"Top")],c=w.inverted,u=w.bounds[f?"h":"v"],E=1===m.length,j=m[0][L],G=!E&&m[1][L];m=function(){"number"==typeof V&&20<Math.abs(j-G)&&(z=l||Math.abs(R-V)/Math.abs(j-G)),b=(B-R)/z+j,W=w["plot"+(f?"Width":"Height")]/z};var W,b,z=l||1,R=r[0][L],V=!E&&r[1][L];if(m(),(r=b)<u.min){r=u.min;var Z=!0}else r+W>u.max&&(r=u.max-W,Z=!0);Z?(R-=.8*(R-h[P][0]),"number"==typeof V&&(V-=.8*(V-h[P][1])),m()):h[P]=[R,V],c||(n[P]=b-B,n[S]=W),n=c?1/z:z,a[S]=W,a[P]=r,p[c?f?"scaleY":"scaleX":"scale"+I]=z,p["translate"+I]=n*B+(R-n*j)},x.prototype.reset=function(f,m){var r=this.chart,p=r.hoverSeries,a=r.hoverPoint,n=r.hoverPoints,h=r.tooltip,l=h&&h.shared?n:a;f&&l&&D(l).forEach(function(w){w.series.isCartesian&&void 0===w.plotX&&(f=!1)}),f?h&&l&&D(l).length&&(h.refresh(l),h.shared&&n?n.forEach(function(w){w.setState(w.state,!0),w.series.isCartesian&&(w.series.xAxis.crosshair&&w.series.xAxis.drawCrosshair(null,w),w.series.yAxis.crosshair&&w.series.yAxis.drawCrosshair(null,w))}):a&&(a.setState(a.state,!0),r.axes.forEach(function(w){w.crosshair&&a.series[w.coll]===w&&w.drawCrosshair(null,a)}))):(a&&a.onMouseOut(),n&&n.forEach(function(w){w.setState()}),p&&p.onMouseOut(),h&&h.hide(m),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),r.axes.forEach(function(w){w.hideCrosshair()}),this.hoverX=r.hoverPoints=r.hoverPoint=null)},x.prototype.runPointActions=function(f,m){var r=this.chart,p=r.tooltip&&r.tooltip.options.enabled?r.tooltip:void 0,a=!!p&&p.shared,n=m||r.hoverPoint,h=n&&n.series||r.hoverSeries;n=(m=this.getHoverData(n,h,r.series,(!f||"touchmove"!==f.type)&&(!!m||h&&h.directTouch&&this.isDirectTouch),a,f)).hoverPoint;var l=m.hoverPoints;if(m=(h=m.hoverSeries)&&h.tooltipOptions.followPointer&&!h.tooltipOptions.split,a=a&&h&&!h.noSharedTooltip,n&&(n!==r.hoverPoint||p&&p.isHidden)){if((r.hoverPoints||[]).forEach(function(w){-1===l.indexOf(w)&&w.setState()}),r.hoverSeries!==h&&h.onMouseOver(),this.applyInactiveState(l),(l||[]).forEach(function(w){w.setState("hover")}),r.hoverPoint&&r.hoverPoint.firePointEvent("mouseOut"),!n.series)return;r.hoverPoints=l,r.hoverPoint=n,n.firePointEvent("mouseOver"),p&&p.refresh(a?l:n,f)}else m&&p&&!p.isHidden&&(n=p.getAnchor([{}],f),r.isInsidePlot(n[0],n[1],{visiblePlotOnly:!0})&&p.updatePosition({plotX:n[0],plotY:n[1]}));this.unDocMouseMove||(this.unDocMouseMove=F(r.container.ownerDocument,"mousemove",function(w){var P=K[x.hoverChartIndex];P&&P.pointer.onDocumentMouseMove(w)}),this.eventsToUnbind.push(this.unDocMouseMove)),r.axes.forEach(function(w){var I,P=M((w.crosshair||{}).snap,!0);P&&((I=r.hoverPoint)&&I.series[w.coll]===w||(I=d(l,function(L){return L.series[w.coll]===w}))),I||!P?w.drawCrosshair(f,I):w.hideCrosshair()})},x.prototype.scaleGroups=function(f,m){var r=this.chart;r.series.forEach(function(p){var a=f||p.getPlotBox();p.group&&(p.xAxis&&p.xAxis.zoomEnabled||r.mapView)&&(p.group.attr(a),p.markerGroup&&(p.markerGroup.attr(a),p.markerGroup.clip(m?r.clipRect:null)),p.dataLabelsGroup&&p.dataLabelsGroup.attr(a))}),r.clipRect.attr(m||r.clipBox)},x.prototype.setDOMEvents=function(){var f=this,m=this.chart.container,r=m.ownerDocument;m.onmousedown=this.onContainerMouseDown.bind(this),m.onmousemove=this.onContainerMouseMove.bind(this),m.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(F(m,"mouseenter",this.onContainerMouseEnter.bind(this))),this.eventsToUnbind.push(F(m,"mouseleave",this.onContainerMouseLeave.bind(this))),x.unbindDocumentMouseUp||(x.unbindDocumentMouseUp=F(r,"mouseup",this.onDocumentMouseUp.bind(this)));for(var p=this.chart.renderTo.parentElement;p&&"BODY"!==p.tagName;)this.eventsToUnbind.push(F(p,"scroll",function(){delete f.chartPosition})),p=p.parentElement;$.hasTouch&&(this.eventsToUnbind.push(F(m,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1})),this.eventsToUnbind.push(F(m,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),x.unbindDocumentTouchEnd||(x.unbindDocumentTouchEnd=F(r,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))},x.prototype.setHoverChartIndex=function(){var f=this.chart,m=$.charts[M(x.hoverChartIndex,-1)];m&&m!==f&&m.pointer.onContainerMouseLeave({relatedTarget:!0}),m&&m.mouseIsDown||(x.hoverChartIndex=f.index)},x.prototype.touch=function(f,m){var r=this.chart;if(this.setHoverChartIndex(),1===f.touches.length)if(f=this.normalize(f),r.isInsidePlot(f.chartX-r.plotLeft,f.chartY-r.plotTop,{visiblePlotOnly:!0})&&!r.openMenu){if(m&&this.runPointActions(f),"touchmove"===f.type)var a=!!(m=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(m[0].chartX-f.chartX,2)+Math.pow(m[0].chartY-f.chartY,2));M(a,!0)&&this.pinch(f)}else m&&this.reset();else 2===f.touches.length&&this.pinch(f)},x.prototype.touchSelect=function(f){return!(!this.chart.options.chart.zoomBySingleTouch||!f.touches||1!==f.touches.length)},x.prototype.zoomOption=function(f){var m=this.chart,r=m.options.chart;m=m.inverted;var p=r.zoomType||"";/touch/.test(f.type)&&(p=M(r.pinchType,p)),this.zoomX=f=/x/.test(p),this.zoomY=r=/y/.test(p),this.zoomHor=f&&!m||r&&m,this.zoomVert=r&&!m||f&&m,this.hasZoom=f||r},x}()}),wt(o,"Core/MSPointer.js",[o["Core/Globals.js"],o["Core/Pointer.js"],o["Core/Utilities.js"]],function(Y,$,q){function rt(){var y=[];return y.item=function(C){return this[C]},d(_,function(C){y.push({pageX:C.pageX,pageY:C.pageY,target:C.target})}),y}function J(y,C,M,D){var x=X[$.hoverChartIndex||NaN];"touch"!==y.pointerType&&y.pointerType!==y.MSPOINTER_TYPE_TOUCH||!x||(x=x.pointer,D(y),x[C]({type:M,target:y.currentTarget,preventDefault:N,touches:rt()}))}var y,K=this&&this.__extends||(y=function(C,M){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,x){D.__proto__=x}||function(D,x){for(var f in x)x.hasOwnProperty(f)&&(D[f]=x[f])})(C,M)},function(C,M){function D(){this.constructor=C}y(C,M),C.prototype=null===M?Object.create(M):(D.prototype=M.prototype,new D)}),X=Y.charts,F=Y.doc,N=Y.noop,O=Y.win,k=q.addEvent,g=q.css,d=q.objectEach,v=q.removeEvent,_={},T=!!O.PointerEvent;return function(y){function C(){return null!==y&&y.apply(this,arguments)||this}return K(C,y),C.isRequired=function(){return!(Y.hasTouch||!O.PointerEvent&&!O.MSPointerEvent)},C.prototype.batchMSEvents=function(M){M(this.chart.container,T?"pointerdown":"MSPointerDown",this.onContainerPointerDown),M(this.chart.container,T?"pointermove":"MSPointerMove",this.onContainerPointerMove),M(F,T?"pointerup":"MSPointerUp",this.onDocumentPointerUp)},C.prototype.destroy=function(){this.batchMSEvents(v),y.prototype.destroy.call(this)},C.prototype.init=function(M,D){y.prototype.init.call(this,M,D),this.hasZoom&&g(M.container,{"-ms-touch-action":"none","touch-action":"none"})},C.prototype.onContainerPointerDown=function(M){J(M,"onContainerTouchStart","touchstart",function(D){_[D.pointerId]={pageX:D.pageX,pageY:D.pageY,target:D.currentTarget}})},C.prototype.onContainerPointerMove=function(M){J(M,"onContainerTouchMove","touchmove",function(D){_[D.pointerId]={pageX:D.pageX,pageY:D.pageY},_[D.pointerId].target||(_[D.pointerId].target=D.currentTarget)})},C.prototype.onDocumentPointerUp=function(M){J(M,"onDocumentTouchEnd","touchend",function(D){delete _[D.pointerId]})},C.prototype.setDOMEvents=function(){y.prototype.setDOMEvents.call(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(k)},C}($)}),wt(o,"Core/Legend/Legend.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Series/Point.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){var X=Y.animObject,F=Y.setAnimation,N=$.format;Y=q.isFirefox;var O=q.marginNames;q=q.win;var k=J.distribute,g=K.addEvent,d=K.createElement,v=K.css,_=K.defined,T=K.discardElement,y=K.find,C=K.fireEvent,M=K.isNumber,D=K.merge,x=K.pick,f=K.relativeLength,m=K.stableSort,r=K.syncTimeout;return J=K.wrap,K=function(){function p(a,n){this.allItems=[],this.contentGroup=this.box=void 0,this.display=!1,this.group=void 0,this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0,this.options={},this.padding=0,this.pages=[],this.proximate=!1,this.scrollGroup=void 0,this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0,this.chart=a,this.init(a,n)}return p.prototype.init=function(a,n){this.chart=a,this.setOptions(n),n.enabled&&(this.render(),g(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=g(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},p.prototype.setOptions=function(a){var n=x(a.padding,8);this.options=a,this.chart.styledMode||(this.itemStyle=a.itemStyle,this.itemHiddenStyle=D(this.itemStyle,a.itemHiddenStyle)),this.itemMarginTop=a.itemMarginTop||0,this.itemMarginBottom=a.itemMarginBottom||0,this.padding=n,this.initialItemY=n-5,this.symbolWidth=x(a.symbolWidth,16),this.pages=[],this.proximate="proximate"===a.layout&&!this.chart.inverted,this.baseline=void 0},p.prototype.update=function(a,n){var h=this.chart;this.setOptions(D(!0,this.options,a)),this.destroy(),h.isDirtyLegend=h.isDirtyBox=!0,x(n,!0)&&h.redraw(),C(this,"afterUpdate")},p.prototype.colorizeItem=function(a,n){if(a.legendGroup[n?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var h=this.options,l=a.legendItem,w=a.legendLine,P=a.legendSymbol,I=this.itemHiddenStyle.color;h=n?h.itemStyle.color:I;var L=n&&a.color||I,S=a.options&&a.options.marker,B={fill:L};l&&l.css({fill:h,color:h}),w&&w.attr({stroke:L}),P&&(S&&P.isMarker&&(B=a.pointAttribs(),n||(B.stroke=B.fill=I)),P.attr(B))}C(this,"afterColorizeItem",{item:a,visible:n})},p.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},p.prototype.positionItem=function(a){var n=this,h=this.options,l=h.symbolPadding,w=!h.rtl,P=a._legendItemPos;h=P[0],P=P[1];var I=a.checkbox,L=a.legendGroup;L&&L.element&&(l={translateX:w?h:this.legendWidth-h-2*l-4,translateY:P},w=function(){C(n,"afterPositionItem",{item:a})},_(L.translateY)?L.animate(l,void 0,w):(L.attr(l),w())),I&&(I.x=h,I.y=P)},p.prototype.destroyItem=function(a){var n=a.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(h){a[h]&&(a[h]=a[h].destroy())}),n&&T(a.checkbox)},p.prototype.destroy=function(){function a(n){this[n]&&(this[n]=this[n].destroy())}this.getAllItems().forEach(function(n){["legendItem","legendGroup"].forEach(a,n)}),"clipRect up down pager nav box title group".split(" ").forEach(a,this),this.display=null},p.prototype.positionCheckboxes=function(){var a=this.group&&this.group.alignAttr,n=this.clipHeight||this.legendHeight,h=this.titleHeight;if(a){var l=a.translateY;this.allItems.forEach(function(w){var P=w.checkbox;if(P){var I=l+h+P.y+(this.scrollOffset||0)+3;v(P,{left:a.translateX+w.checkboxOffset+P.x-20+"px",top:I+"px",display:this.proximate||I>l-6&&I<l+n-6?"":"none"})}},this)}},p.prototype.renderTitle=function(){var a=this.options,n=this.padding,h=a.title,l=0;h.text&&(this.title||(this.title=this.chart.renderer.label(h.text,n-3,n-4,null,null,null,a.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(h.style),this.title.add(this.group)),h.width||this.title.css({width:this.maxLegendWidth+"px"}),l=(a=this.title.getBBox()).height,this.offsetWidth=a.width,this.contentGroup.attr({translateY:l})),this.titleHeight=l},p.prototype.setText=function(a){var n=this.options;a.legendItem.attr({text:n.labelFormat?N(n.labelFormat,a,this.chart):n.labelFormatter.call(a)})},p.prototype.renderItem=function(a){var n=this.chart,h=n.renderer,l=this.options,w=this.symbolWidth,P=l.symbolPadding||0,I=this.itemStyle,L=this.itemHiddenStyle,S="horizontal"===l.layout?x(l.itemDistance,20):0,B=!l.rtl,c=!a.series,u=!c&&a.series.drawLegendSymbol?a.series:a,E=u.options,j=this.createCheckboxForItem&&E&&E.showCheckbox,G=l.useHTML,W=a.options.className,b=a.legendItem;E=w+P+S+(j?20:0),b||(a.legendGroup=h.g("legend-item").addClass("highcharts-"+u.type+"-series highcharts-color-"+a.colorIndex+(W?" "+W:"")+(c?" highcharts-series-"+a.index:"")).attr({zIndex:1}).add(this.scrollGroup),a.legendItem=b=h.text("",B?w+P:-P,this.baseline||0,G),n.styledMode||b.css(D(a.visible?I:L)),b.attr({align:B?"left":"right",zIndex:2}).add(a.legendGroup),this.baseline||(this.fontMetrics=h.fontMetrics(n.styledMode?12:I.fontSize,b),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,b.attr("y",this.baseline),this.symbolHeight=l.symbolHeight||this.fontMetrics.f,l.squareSymbol&&(this.symbolWidth=x(l.symbolWidth,Math.max(this.symbolHeight,16)),E=this.symbolWidth+P+S+(j?20:0),B&&b.attr("x",this.symbolWidth+P))),u.drawLegendSymbol(this,a),this.setItemEvents&&this.setItemEvents(a,b,G)),j&&!a.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(a),this.colorizeItem(a,a.visible),!n.styledMode&&I.width||b.css({width:(l.itemWidth||this.widthOption||n.spacingBox.width)-E+"px"}),this.setText(a),n=b.getBBox(),h=this.fontMetrics&&this.fontMetrics.h||0,a.itemWidth=a.checkboxOffset=l.itemWidth||a.legendItemWidth||n.width+E,this.maxItemWidth=Math.max(this.maxItemWidth,a.itemWidth),this.totalItemWidth+=a.itemWidth,this.itemHeight=a.itemHeight=Math.round(a.legendItemHeight||(n.height>1.5*h?n.height:h))},p.prototype.layoutItem=function(a){var n=this.options,h=this.padding,l="horizontal"===n.layout,w=a.itemHeight,P=this.itemMarginBottom,I=this.itemMarginTop,L=l?x(n.itemDistance,20):0,S=this.maxLegendWidth;n=n.alignColumns&&this.totalItemWidth>S?this.maxItemWidth:a.itemWidth,l&&this.itemX-h+n>S&&(this.itemX=h,this.lastLineHeight&&(this.itemY+=I+this.lastLineHeight+P),this.lastLineHeight=0),this.lastItemY=I+this.itemY+P,this.lastLineHeight=Math.max(w,this.lastLineHeight),a._legendItemPos=[this.itemX,this.itemY],l?this.itemX+=n:(this.itemY+=I+w+P,this.lastLineHeight=w),this.offsetWidth=this.widthOption||Math.max((l?this.itemX-h-(a.checkbox?0:L):n)+h,this.offsetWidth)},p.prototype.getAllItems=function(){var a=[];return this.chart.series.forEach(function(n){var h=n&&n.options;n&&x(h.showInLegend,!_(h.linkedTo)&&void 0,!0)&&(a=a.concat(n.legendItems||("point"===h.legendType?n.data:n)))}),C(this,"afterGetAllItems",{allItems:a}),a},p.prototype.getAlignment=function(){var a=this.options;return this.proximate?a.align.charAt(0)+"tv":a.floating?"":a.align.charAt(0)+a.verticalAlign.charAt(0)+a.layout.charAt(0)},p.prototype.adjustMargins=function(a,n){var h=this.chart,l=this.options,w=this.getAlignment();w&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(P,I){P.test(w)&&!_(a[I])&&(h[O[I]]=Math.max(h[O[I]],h.legend[(I+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][I]*l[I%2?"x":"y"]+x(l.margin,12)+n[I]+(h.titleOffset[I]||0)))})},p.prototype.proximatePositions=function(){var a=this.chart,n=[],h="left"===this.options.align;this.allItems.forEach(function(l){var w,P=h;if(l.yAxis){l.xAxis.options.reversed&&(P=!P),l.points&&(w=y(P?l.points:l.points.slice(0).reverse(),function(L){return M(L.plotY)})),P=this.itemMarginTop+l.legendItem.getBBox().height+this.itemMarginBottom;var I=l.yAxis.top-a.plotTop;l.visible?(w=w?w.plotY:l.yAxis.height,w+=I-.3*P):w=I+l.yAxis.height,n.push({target:w,size:P,item:l})}},this),k(n,a.plotHeight).forEach(function(l){l.item._legendItemPos&&(l.item._legendItemPos[1]=a.plotTop-a.spacing[0]+l.pos)})},p.prototype.render=function(){var a=this.chart,n=a.renderer,h=this.options,l=this.padding,w=this.getAllItems(),P=this.group,I=this.box;this.itemX=l,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=f(h.width,a.spacingBox.width-l);var L=a.spacingBox.width-2*l-h.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(L/=2),this.maxLegendWidth=this.widthOption||L,P||(this.group=P=n.g("legend").addClass(h.className||"").attr({zIndex:7}).add(),this.contentGroup=n.g().attr({zIndex:1}).add(P),this.scrollGroup=n.g().add(this.contentGroup)),this.renderTitle(),m(w,function(B,c){return(B.options&&B.options.legendIndex||0)-(c.options&&c.options.legendIndex||0)}),h.reversed&&w.reverse(),this.allItems=w,this.display=L=!!w.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,w.forEach(this.renderItem,this),w.forEach(this.layoutItem,this),w=(this.widthOption||this.offsetWidth)+l;var S=this.lastItemY+this.lastLineHeight+this.titleHeight;S=this.handleOverflow(S),S+=l,I||(this.box=I=n.rect().addClass("highcharts-legend-box").attr({r:h.borderRadius}).add(P),I.isNew=!0),a.styledMode||I.attr({stroke:h.borderColor,"stroke-width":h.borderWidth||0,fill:h.backgroundColor||"none"}).shadow(h.shadow),0<w&&0<S&&(I[I.isNew?"attr":"animate"](I.crisp.call({},{x:0,y:0,width:w,height:S},I.strokeWidth())),I.isNew=!1),I[L?"show":"hide"](),a.styledMode&&"none"===P.getStyle("display")&&(w=S=0),this.legendWidth=w,this.legendHeight=S,L&&this.align(),this.proximate||this.positionItems(),C(this,"afterRender")},p.prototype.align=function(a){void 0===a&&(a=this.chart.spacingBox);var n=this.chart,h=this.options,l=a.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<n.titleOffset[0]?l+=n.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<n.titleOffset[2]&&(l-=n.titleOffset[2]),l!==a.y&&(a=D(a,{y:l})),this.group.align(D(h,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":h.verticalAlign}),!0,a)},p.prototype.handleOverflow=function(a){var b,z,n=this,h=this.chart,l=h.renderer,w=this.options,P=w.y,I="top"===w.verticalAlign,L=this.padding,S=w.maxHeight,B=w.navigation,c=x(B.animation,!0),u=B.arrowSize||12,E=this.pages,j=this.allItems,G=function(Z){"number"==typeof Z?V.attr({height:Z}):V&&(n.clipRect=V.destroy(),n.contentGroup.clip()),n.contentGroup.div&&(n.contentGroup.div.style.clip=Z?"rect("+L+"px,9999px,"+(L+Z)+"px,0)":"auto")},W=function(Z){return n[Z]=l.circle(0,0,1.3*u).translate(u/2,u/2).add(R),h.styledMode||n[Z].attr("fill","rgba(0,0,0,0.0001)"),n[Z]};P=h.spacingBox.height+(I?-P:P)-L;var R=this.nav,V=this.clipRect;return"horizontal"!==w.layout||"middle"===w.verticalAlign||w.floating||(P/=2),S&&(P=Math.min(P,S)),E.length=0,a&&0<P&&a>P&&!1!==B.enabled?(this.clipHeight=b=Math.max(P-20-this.titleHeight-L,0),this.currentPage=x(this.currentPage,1),this.fullHeight=a,j.forEach(function(Z,nt){var it=Z._legendItemPos[1],ot=Math.round(Z.legendItem.getBBox().height),at=E.length;(!at||it-E[at-1]>b&&(z||it)!==E[at-1])&&(E.push(z||it),at++),Z.pageIx=at-1,z&&(j[nt-1].pageIx=at-1),nt===j.length-1&&it+ot-E[at-1]>b&&ot<=b&&(E.push(it),Z.pageIx=at),it!==z&&(z=it)}),V||(V=n.clipRect=l.clipRect(0,L,9999,0),n.contentGroup.clip(V)),G(b),R||(this.nav=R=l.g().attr({zIndex:1}).add(this.group),this.up=l.symbol("triangle",0,0,u,u).add(R),W("upTracker").on("click",function(){n.scroll(-1,c)}),this.pager=l.text("",15,10).addClass("highcharts-legend-navigation"),h.styledMode||this.pager.css(B.style),this.pager.add(R),this.down=l.symbol("triangle-down",0,0,u,u).add(R),W("downTracker").on("click",function(){n.scroll(1,c)})),n.scroll(0),a=P):R&&(G(),this.nav=R.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),a},p.prototype.scroll=function(a,n){var h=this,l=this.chart,w=this.pages,P=w.length,I=this.clipHeight,L=this.options.navigation,S=this.pager,B=this.padding,c=this.currentPage+a;c>P&&(c=P),0<c&&(void 0!==n&&F(n,l),this.nav.attr({translateX:B,translateY:I+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(u){u.attr({class:1===c?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),S.attr({text:c+"/"+P}),[this.down,this.downTracker].forEach(function(u){u.attr({x:18+this.pager.getBBox().width,class:c===P?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),l.styledMode||(this.up.attr({fill:1===c?L.inactiveColor:L.activeColor}),this.upTracker.css({cursor:1===c?"default":"pointer"}),this.down.attr({fill:c===P?L.inactiveColor:L.activeColor}),this.downTracker.css({cursor:c===P?"default":"pointer"})),this.scrollOffset=-w[c-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=c,this.positionCheckboxes(),a=X(x(n,l.renderer.globalAnimation,!0)),r(function(){C(h,"afterScroll",{currentPage:c})},a.duration))},p.prototype.setItemEvents=function(a,n,h){var l=this,w=l.chart.renderer.boxWrapper,P=a instanceof rt,I="highcharts-legend-"+(P?"point":"series")+"-active",L=l.chart.styledMode,S=function(B){l.allItems.forEach(function(c){a!==c&&[c].concat(c.linkedSeries||[]).forEach(function(u){u.setState(B,!P)})})};(h?[n,a.legendSymbol]:[a.legendGroup]).forEach(function(B){B&&B.on("mouseover",function(){a.visible&&S("inactive"),a.setState("hover"),a.visible&&w.addClass(I),L||n.css(l.options.itemHoverStyle)}).on("mouseout",function(){l.chart.styledMode||n.css(D(a.visible?l.itemStyle:l.itemHiddenStyle)),S(""),w.removeClass(I),a.setState()}).on("click",function(c){var u=function(){a.setVisible&&a.setVisible(),S(a.visible?"inactive":"")};w.removeClass(I),c={browserEvent:c},a.firePointEvent?a.firePointEvent("legendItemClick",c,u):C(a,"legendItemClick",c,u)})})},p.prototype.createCheckboxForItem=function(a){a.checkbox=d("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container),g(a.checkbox,"click",function(n){C(a.series||a,"checkboxClick",{checked:n.target.checked,item:a},function(){a.select()})})},p}(),(/Trident\/7\.0/.test(q.navigator&&q.navigator.userAgent)||Y)&&J(K.prototype,"positionItem",function(p,a){var n=this,h=function(){a._legendItemPos&&p.call(n,a)};h(),n.bubbleLegend||setTimeout(h)}),K}),wt(o,"Core/Series/SeriesRegistry.js",[o["Core/Globals.js"],o["Core/DefaultOptions.js"],o["Core/Series/Point.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var N,J=$.defaultOptions,K=rt.error,X=rt.extendClass,F=rt.merge;return function(O){function k(g,d){var v=J.plotOptions||{},_=d.defaultOptions;d.prototype.pointClass||(d.prototype.pointClass=q),d.prototype.type=g,_&&(v[g]=_),O.seriesTypes[g]=d}O.seriesTypes=Y.seriesTypes,O.getSeries=function(g,d){void 0===d&&(d={});var v=g.options.chart,_=O.seriesTypes[v=d.type||v.type||v.defaultSeriesType||""];return O||K(17,!0,g,{missingModuleFor:v}),"function"==typeof(v=new _).init&&v.init(g,d),v},O.registerSeriesType=k,O.seriesType=function(g,d,v,_,T){var y=J.plotOptions||{};return y[g]=F(y[d=d||""],v),k(g,X(O.seriesTypes[d]||function(){},_)),O.seriesTypes[g].prototype.type=g,T&&(O.seriesTypes[g].prototype.pointClass=X(q,T)),O.seriesTypes[g]}}(N||(N={})),N}),wt(o,"Core/Chart/Chart.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/Axis.js"],o["Core/FormatUtilities.js"],o["Core/Foundation.js"],o["Core/Globals.js"],o["Core/Legend/Legend.js"],o["Core/MSPointer.js"],o["Core/DefaultOptions.js"],o["Core/Pointer.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Time.js"],o["Core/Utilities.js"],o["Core/Renderer/HTML/AST.js"]],function(Y,$,q,rt,J,K,X,F,N,O,k,g,d,v,_){var T=Y.animate,y=Y.animObject,C=Y.setAnimation,M=q.numberFormat,D=rt.registerEventOptions,x=J.charts,f=J.doc,m=J.marginNames,r=J.svg,p=J.win,a=F.defaultOptions,n=F.defaultTime,h=k.seriesTypes,l=v.addEvent,w=v.attr,P=v.cleanRecursively,I=v.createElement,L=v.css,S=v.defined,B=v.discardElement,c=v.erase,u=v.error,E=v.extend,j=v.find,G=v.fireEvent,W=v.getStyle,b=v.isArray,z=v.isNumber,R=v.isObject,V=v.isString,Z=v.merge,nt=v.objectEach,it=v.pick,ot=v.pInt,at=v.relativeLength,mt=v.removeEvent,_t=v.splat,yt=v.syncTimeout,ut=v.uniqueKey;return Y=function(){function ct(H,tt,lt){this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.eventOptions=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0,this.sharedClips={},this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=this.spacing=void 0,this.getArgs(H,tt,lt)}return ct.chart=function(H,tt,lt){return new ct(H,tt,lt)},ct.prototype.getArgs=function(H,tt,lt){V(H)||H.nodeName?(this.renderTo=H,this.init(tt,lt)):this.init(H,tt)},ct.prototype.init=function(H,tt){var lt=H.plotOptions||{};G(this,"init",{args:arguments},function(){var dt=Z(a,H),ft=dt.chart;nt(dt.plotOptions,function(bt,Tt){R(bt)&&(bt.tooltip=lt[Tt]&&Z(lt[Tt].tooltip)||void 0)}),dt.tooltip.userOptions=H.chart&&H.chart.forExport&&H.tooltip.userOptions||H.tooltip,this.userOptions=H,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=tt,this.isResizing=0,this.options=dt,this.axes=[],this.series=[],this.time=H.time&&Object.keys(H.time).length?new d(H.time):J.time,this.numberFormatter=ft.numberFormatter||M,this.styledMode=ft.styledMode,this.hasCartesianSeries=ft.showAxes,this.index=x.length,x.push(this),J.chartCount++,D(this,ft),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,G(this,"afterInit"),this.firstRender()})},ct.prototype.initSeries=function(H){var tt=this.options.chart,lt=h[tt=H.type||tt.type||tt.defaultSeriesType];return lt||u(17,!0,this,{missingModuleFor:tt}),"function"==typeof(tt=new lt).init&&tt.init(this,H),tt},ct.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(H){H.points||H.data||!H.enabledDataSorting||H.setData(H.options.data,!1)})},ct.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(H,tt){return H.linkedSeries.length||tt.linkedSeries.length?tt.linkedSeries.length-H.linkedSeries.length:0})},ct.prototype.orderSeries=function(H){var tt=this.series;H=H||0;for(var lt=tt.length;H<lt;++H)tt[H]&&(tt[H].index=H,tt[H].name=tt[H].getName())},ct.prototype.isInsidePlot=function(H,tt,lt){void 0===lt&&(lt={});var dt=this.inverted,ft=this.plotBox,bt=this.plotLeft,Tt=this.plotTop,Lt=this.scrollablePlotBox,jt=0,Rt=0;lt.visiblePlotOnly&&this.scrollingContainer&&(jt=(Rt=this.scrollingContainer).scrollLeft,Rt=Rt.scrollTop);var Et=lt.series;if(ft=lt.visiblePlotOnly&&Lt||ft,H={x:Lt=lt.inverted?tt:H,y:tt=lt.inverted?H:tt,isInsidePlot:!0},!lt.ignoreX){var Ht=Et&&(dt?Et.yAxis:Et.xAxis)||{pos:bt,len:1/0};(Lt=lt.paneCoordinates?Ht.pos+Lt:bt+Lt)>=Math.max(jt+bt,Ht.pos)&&Lt<=Math.min(jt+bt+ft.width,Ht.pos+Ht.len)||(H.isInsidePlot=!1)}return!lt.ignoreY&&H.isInsidePlot&&(dt=Et&&(dt?Et.xAxis:Et.yAxis)||{pos:Tt,len:1/0},(lt=lt.paneCoordinates?dt.pos+tt:Tt+tt)>=Math.max(Rt+Tt,dt.pos)&&lt<=Math.min(Rt+Tt+ft.height,dt.pos+dt.len)||(H.isInsidePlot=!1)),G(this,"afterIsInsidePlot",H),H.isInsidePlot},ct.prototype.redraw=function(H){G(this,"beforeRedraw");var tt=this.hasCartesianSeries?this.axes:this.colorAxis||[],lt=this.series,dt=this.pointer,ft=this.legend,bt=this.userOptions.legend,Tt=this.renderer,Lt=Tt.isHidden(),jt=[],Rt=this.isDirtyBox,Et=this.isDirtyLegend;for(this.setResponsive&&this.setResponsive(!1),C(!!this.hasRendered&&H,this),Lt&&this.temporaryDisplay(),this.layOutTitles(),H=lt.length;H--;){var Ht=lt[H];if(Ht.options.stacking||Ht.options.centerInCategory){var It=!0;if(Ht.isDirty){var Pt=!0;break}}}if(Pt)for(H=lt.length;H--;)(Ht=lt[H]).options.stacking&&(Ht.isDirty=!0);lt.forEach(function(kt){kt.isDirty&&("point"===kt.options.legendType?("function"==typeof kt.updateTotals&&kt.updateTotals(),Et=!0):bt&&(bt.labelFormatter||bt.labelFormat)&&(Et=!0)),kt.isDirtyData&&G(kt,"updatedData")}),Et&&ft&&ft.options.enabled&&(ft.render(),this.isDirtyLegend=!1),It&&this.getStacks(),tt.forEach(function(kt){kt.updateNames(),kt.setScale()}),this.getMargins(),tt.forEach(function(kt){kt.isDirty&&(Rt=!0)}),tt.forEach(function(kt){var Ut=kt.min+","+kt.max;kt.extKey!==Ut&&(kt.extKey=Ut,jt.push(function(){G(kt,"afterSetExtremes",E(kt.eventArgs,kt.getExtremes())),delete kt.eventArgs})),(Rt||It)&&kt.redraw()}),Rt&&this.drawChartBox(),G(this,"predraw"),lt.forEach(function(kt){(Rt||kt.isDirty)&&kt.visible&&kt.redraw(),kt.isDirtyData=!1}),dt&&dt.reset(!0),Tt.draw(),G(this,"redraw"),G(this,"render"),Lt&&this.temporaryDisplay(!0),jt.forEach(function(kt){kt.call()})},ct.prototype.get=function(H){function tt(bt){return bt.id===H||bt.options&&bt.options.id===H}for(var lt=this.series,dt=j(this.axes,tt)||j(this.series,tt),ft=0;!dt&&ft<lt.length;ft++)dt=j(lt[ft].points||[],tt);return dt},ct.prototype.getAxes=function(){var H=this,tt=this.options,lt=tt.xAxis=_t(tt.xAxis||{});tt=tt.yAxis=_t(tt.yAxis||{}),G(this,"getAxes"),lt.forEach(function(dt,ft){dt.index=ft,dt.isX=!0}),tt.forEach(function(dt,ft){dt.index=ft}),lt.concat(tt).forEach(function(dt){new $(H,dt)}),G(this,"afterGetAxes")},ct.prototype.getSelectedPoints=function(){return this.series.reduce(function(H,tt){return tt.getPointsCollection().forEach(function(lt){it(lt.selectedStaging,lt.selected)&&H.push(lt)}),H},[])},ct.prototype.getSelectedSeries=function(){return this.series.filter(function(H){return H.selected})},ct.prototype.setTitle=function(H,tt,lt){this.applyDescription("title",H),this.applyDescription("subtitle",tt),this.applyDescription("caption",void 0),this.layOutTitles(lt)},ct.prototype.applyDescription=function(H,tt){var lt=this,dt="title"===H?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};dt=this.options[H]=Z(!this.styledMode&&{style:dt},this.options[H],tt);var ft=this[H];ft&&tt&&(this[H]=ft=ft.destroy()),dt&&!ft&&((ft=this.renderer.text(dt.text,0,0,dt.useHTML).attr({align:dt.align,class:"highcharts-"+H,zIndex:dt.zIndex||4}).add()).update=function(bt){lt[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[H]](bt)},this.styledMode||ft.css(dt.style),this[H]=ft)},ct.prototype.layOutTitles=function(H){var tt=[0,0,0],lt=this.renderer,dt=this.spacingBox;["title","subtitle","caption"].forEach(function(bt){var Rt,Tt=this[bt],Lt=this.options[bt],jt=Lt.verticalAlign||"top";if(bt="title"===bt?"top"===jt?-3:0:"top"===jt?tt[0]+2:0,Tt){this.styledMode||(Rt=Lt.style&&Lt.style.fontSize),Rt=lt.fontMetrics(Rt,Tt).b,Tt.css({width:(Lt.width||dt.width+(Lt.widthAdjust||0))+"px"});var Et=Math.round(Tt.getBBox(Lt.useHTML).height);Tt.align(E({y:"bottom"===jt?Rt:bt+Rt,height:Et},Lt),!1,"spacingBox"),Lt.floating||("top"===jt?tt[0]=Math.ceil(tt[0]+Et):"bottom"===jt&&(tt[2]=Math.ceil(tt[2]+Et)))}},this),tt[0]&&"top"===(this.options.title.verticalAlign||"top")&&(tt[0]+=this.options.title.margin),tt[2]&&"bottom"===this.options.caption.verticalAlign&&(tt[2]+=this.options.caption.margin);var ft=!this.titleOffset||this.titleOffset.join(",")!==tt.join(",");this.titleOffset=tt,G(this,"afterLayOutTitles"),!this.isDirtyBox&&ft&&(this.isDirtyBox=this.isDirtyLegend=ft,this.hasRendered&&it(H,!0)&&this.isDirtyBox&&this.redraw())},ct.prototype.getChartSize=function(){var H=this.options.chart,tt=H.width;H=H.height;var lt=this.renderTo;S(tt)||(this.containerWidth=W(lt,"width")),S(H)||(this.containerHeight=W(lt,"height")),this.chartWidth=Math.max(0,tt||this.containerWidth||600),this.chartHeight=Math.max(0,at(H,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},ct.prototype.temporaryDisplay=function(H){var tt=this.renderTo;if(H)for(;tt&&tt.style;)tt.hcOrigStyle&&(L(tt,tt.hcOrigStyle),delete tt.hcOrigStyle),tt.hcOrigDetached&&(f.body.removeChild(tt),tt.hcOrigDetached=!1),tt=tt.parentNode;else for(;tt&&tt.style&&(f.body.contains(tt)||tt.parentNode||(tt.hcOrigDetached=!0,f.body.appendChild(tt)),("none"===W(tt,"display",!1)||tt.hcOricDetached)&&(tt.hcOrigStyle={display:tt.style.display,height:tt.style.height,overflow:tt.style.overflow},H={display:"block",overflow:"hidden"},tt!==this.renderTo&&(H.height=0),L(tt,H),tt.offsetWidth||tt.style.setProperty("display","block","important")),(tt=tt.parentNode)!==f.body););},ct.prototype.setClassName=function(H){this.container.className="highcharts-container "+(H||"")},ct.prototype.getContainer=function(){var dt,H=this.options,tt=H.chart,lt=ut(),ft=this.renderTo;ft||(this.renderTo=ft=tt.renderTo),V(ft)&&(this.renderTo=ft=f.getElementById(ft)),ft||u(13,!0,this);var bt=ot(w(ft,"data-highcharts-chart"));z(bt)&&x[bt]&&x[bt].hasRendered&&x[bt].destroy(),w(ft,"data-highcharts-chart",this.index),ft.innerHTML=_.emptyHTML,tt.skipClone||ft.offsetWidth||this.temporaryDisplay(),this.getChartSize(),bt=this.chartWidth;var Tt=this.chartHeight;if(L(ft,{overflow:"hidden"}),this.styledMode||(dt=E({position:"relative",overflow:"hidden",width:bt+"px",height:Tt+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none"},tt.style||{})),this.container=lt=I("div",{id:lt},dt,ft),this._cursor=lt.style.cursor,this.renderer=new(tt.renderer||!r?O.getRendererType(tt.renderer):g)(lt,bt,Tt,void 0,tt.forExport,H.exporting&&H.exporting.allowHTML,this.styledMode),C(void 0,this),this.setClassName(tt.className),this.styledMode)for(var Lt in H.defs)this.renderer.definition(H.defs[Lt]);else this.renderer.setStyle(tt.style);this.renderer.chartIndex=this.index,G(this,"afterGetContainer")},ct.prototype.getMargins=function(H){var tt=this.spacing,lt=this.margin,dt=this.titleOffset;this.resetMargins(),dt[0]&&!S(lt[0])&&(this.plotTop=Math.max(this.plotTop,dt[0]+tt[0])),dt[2]&&!S(lt[2])&&(this.marginBottom=Math.max(this.marginBottom,dt[2]+tt[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(lt,tt),G(this,"getMargins"),H||this.getAxisMargins()},ct.prototype.getAxisMargins=function(){var H=this,tt=H.axisOffset=[0,0,0,0],lt=H.colorAxis,dt=H.margin,ft=function(bt){bt.forEach(function(Tt){Tt.visible&&Tt.getOffset()})};H.hasCartesianSeries?ft(H.axes):lt&&lt.length&&ft(lt),m.forEach(function(bt,Tt){S(dt[Tt])||(H[bt]+=tt[Tt])}),H.setChartSize()},ct.prototype.reflow=function(H){var tt=this,lt=tt.options.chart,dt=tt.renderTo,ft=S(lt.width)&&S(lt.height),bt=lt.width||W(dt,"width");lt=lt.height||W(dt,"height"),dt=H?H.target:p,delete tt.pointer.chartPosition,!ft&&!tt.isPrinting&&bt&&lt&&(dt===p||dt===f)&&((bt!==tt.containerWidth||lt!==tt.containerHeight)&&(v.clearTimeout(tt.reflowTimeout),tt.reflowTimeout=yt(function(){tt.container&&tt.setSize(void 0,void 0,!1)},H?100:0)),tt.containerWidth=bt,tt.containerHeight=lt)},ct.prototype.setReflow=function(H){var tt=this;!1===H||this.unbindReflow?!1===H&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=l(p,"resize",function(lt){tt.options&&tt.reflow(lt)}),l(this,"destroy",this.unbindReflow))},ct.prototype.setSize=function(H,tt,lt){var dt=this,ft=dt.renderer;dt.isResizing+=1,C(lt,dt),lt=ft.globalAnimation,dt.oldChartHeight=dt.chartHeight,dt.oldChartWidth=dt.chartWidth,void 0!==H&&(dt.options.chart.width=H),void 0!==tt&&(dt.options.chart.height=tt),dt.getChartSize(),dt.styledMode||(lt?T:L)(dt.container,{width:dt.chartWidth+"px",height:dt.chartHeight+"px"},lt),dt.setChartSize(!0),ft.setSize(dt.chartWidth,dt.chartHeight,lt),dt.axes.forEach(function(bt){bt.isDirty=!0,bt.setScale()}),dt.isDirtyLegend=!0,dt.isDirtyBox=!0,dt.layOutTitles(),dt.getMargins(),dt.redraw(lt),dt.oldChartHeight=null,G(dt,"resize"),yt(function(){dt&&G(dt,"endResize",null,function(){--dt.isResizing})},y(lt).duration)},ct.prototype.setChartSize=function(H){var jt,Rt,Et,Ht,tt=this.inverted,lt=this.renderer,dt=this.chartWidth,ft=this.chartHeight,bt=this.options.chart,Tt=this.spacing,Lt=this.clipOffset;this.plotLeft=jt=Math.round(this.plotLeft),this.plotTop=Rt=Math.round(this.plotTop),this.plotWidth=Et=Math.max(0,Math.round(dt-jt-this.marginRight)),this.plotHeight=Ht=Math.max(0,Math.round(ft-Rt-this.marginBottom)),this.plotSizeX=tt?Ht:Et,this.plotSizeY=tt?Et:Ht,this.plotBorderWidth=bt.plotBorderWidth||0,this.spacingBox=lt.spacingBox={x:Tt[3],y:Tt[0],width:dt-Tt[3]-Tt[1],height:ft-Tt[0]-Tt[2]},this.plotBox=lt.plotBox={x:jt,y:Rt,width:Et,height:Ht},tt=2*Math.floor(this.plotBorderWidth/2),dt=Math.ceil(Math.max(tt,Lt[3])/2),ft=Math.ceil(Math.max(tt,Lt[0])/2),this.clipBox={x:dt,y:ft,width:Math.floor(this.plotSizeX-Math.max(tt,Lt[1])/2-dt),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(tt,Lt[2])/2-ft))},H||(this.axes.forEach(function(It){It.setAxisSize(),It.setAxisTranslation()}),lt.alignElements()),G(this,"afterSetChartSize",{skipAxes:H})},ct.prototype.resetMargins=function(){G(this,"resetMargins");var H=this,tt=H.options.chart;["margin","spacing"].forEach(function(lt){var dt=tt[lt],ft=R(dt)?dt:[dt,dt,dt,dt];["Top","Right","Bottom","Left"].forEach(function(bt,Tt){H[lt][Tt]=it(tt[lt+bt],ft[Tt])})}),m.forEach(function(lt,dt){H[lt]=it(H.margin[dt],H.spacing[dt])}),H.axisOffset=[0,0,0,0],H.clipOffset=[0,0,0,0]},ct.prototype.drawChartBox=function(){var pe,H=this.options.chart,tt=this.renderer,lt=this.chartWidth,dt=this.chartHeight,ft=this.styledMode,bt=this.plotBGImage,Tt=H.backgroundColor,Lt=H.plotBackgroundColor,jt=H.plotBackgroundImage,Rt=this.plotLeft,Et=this.plotTop,Ht=this.plotWidth,It=this.plotHeight,Pt=this.plotBox,kt=this.clipRect,Ut=this.clipBox,zt=this.chartBackground,Vt=this.plotBackground,ie=this.plotBorder,ne="animate";if(zt||(this.chartBackground=zt=tt.rect().addClass("highcharts-background").add(),ne="attr"),ft)var de=pe=zt.strokeWidth();else pe=(de=H.borderWidth||0)+(H.shadow?8:0),Tt={fill:Tt||"none"},(de||zt["stroke-width"])&&(Tt.stroke=H.borderColor,Tt["stroke-width"]=de),zt.attr(Tt).shadow(H.shadow);zt[ne]({x:pe/2,y:pe/2,width:lt-pe-de%2,height:dt-pe-de%2,r:H.borderRadius}),ne="animate",Vt||(ne="attr",this.plotBackground=Vt=tt.rect().addClass("highcharts-plot-background").add()),Vt[ne](Pt),ft||(Vt.attr({fill:Lt||"none"}).shadow(H.plotShadow),jt&&(bt?(jt!==bt.attr("href")&&bt.attr("href",jt),bt.animate(Pt)):this.plotBGImage=tt.image(jt,Rt,Et,Ht,It).add())),kt?kt.animate({width:Ut.width,height:Ut.height}):this.clipRect=tt.clipRect(Ut),ne="animate",ie||(ne="attr",this.plotBorder=ie=tt.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),ft||ie.attr({stroke:H.plotBorderColor,"stroke-width":H.plotBorderWidth||0,fill:"none"}),ie[ne](ie.crisp({x:Rt,y:Et,width:Ht,height:It},-ie.strokeWidth())),this.isDirtyBox=!1,G(this,"afterDrawChartBox")},ct.prototype.propFromSeries=function(){var dt,ft,bt,H=this,tt=H.options.chart,lt=H.options.series;["inverted","angular","polar"].forEach(function(Tt){for(ft=h[tt.type||tt.defaultSeriesType],bt=tt[Tt]||ft&&ft.prototype[Tt],dt=lt&&lt.length;!bt&&dt--;)(ft=h[lt[dt].type])&&ft.prototype[Tt]&&(bt=!0);H[Tt]=bt})},ct.prototype.linkSeries=function(){var H=this,tt=H.series;tt.forEach(function(lt){lt.linkedSeries.length=0}),tt.forEach(function(lt){var dt=lt.options.linkedTo;V(dt)&&(dt=":previous"===dt?H.series[lt.index-1]:H.get(dt))&&dt.linkedParent!==lt&&(dt.linkedSeries.push(lt),lt.linkedParent=dt,dt.enabledDataSorting&&lt.setDataSortingOptions(),lt.visible=it(lt.options.visible,dt.options.visible,lt.visible))}),G(this,"afterLinkSeries")},ct.prototype.renderSeries=function(){this.series.forEach(function(H){H.translate(),H.render()})},ct.prototype.renderLabels=function(){var H=this,tt=H.options.labels;tt.items&&tt.items.forEach(function(lt){var dt=E(tt.style,lt.style),ft=ot(dt.left)+H.plotLeft,bt=ot(dt.top)+H.plotTop+12;delete dt.left,delete dt.top,H.renderer.text(lt.html,ft,bt).attr({zIndex:2}).css(dt).add()})},ct.prototype.render=function(){var H=this.axes,tt=this.colorAxis,lt=this.renderer,dt=this.options,ft=function(Rt){Rt.forEach(function(Et){Et.visible&&Et.render()})},bt=0;this.setTitle(),this.legend=new K(this,dt.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),dt=this.plotWidth,H.some(function(Rt){if(Rt.horiz&&Rt.visible&&Rt.options.labels.enabled&&Rt.series.length)return bt=21,!0});var Tt=this.plotHeight=Math.max(this.plotHeight-bt,0);H.forEach(function(Rt){Rt.setScale()}),this.getAxisMargins();var Lt=1.1<dt/this.plotWidth,jt=1.05<Tt/this.plotHeight;(Lt||jt)&&(H.forEach(function(Rt){(Rt.horiz&&Lt||!Rt.horiz&&jt)&&Rt.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?ft(H):tt&&tt.length&&ft(tt),this.seriesGroup||(this.seriesGroup=lt.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},ct.prototype.addCredits=function(H){var tt=this,lt=Z(!0,this.options.credits,H);lt.enabled&&!this.credits&&(this.credits=this.renderer.text(lt.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){lt.href&&(p.location.href=lt.href)}).attr({align:lt.position.align,zIndex:8}),tt.styledMode||this.credits.css(lt.style),this.credits.add().align(lt.position),this.credits.update=function(dt){tt.credits=tt.credits.destroy(),tt.addCredits(dt)})},ct.prototype.destroy=function(){var bt,H=this,tt=H.axes,lt=H.series,dt=H.container,ft=dt&&dt.parentNode;for(G(H,"destroy"),H.renderer.forExport?c(x,H):x[H.index]=void 0,J.chartCount--,H.renderTo.removeAttribute("data-highcharts-chart"),mt(H),bt=tt.length;bt--;)tt[bt]=tt[bt].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),bt=lt.length;bt--;)lt[bt]=lt[bt].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(Tt){var Lt=H[Tt];Lt&&Lt.destroy&&(H[Tt]=Lt.destroy())}),dt&&(dt.innerHTML=_.emptyHTML,mt(dt),ft&&B(dt)),nt(H,function(Tt,Lt){delete H[Lt]})},ct.prototype.firstRender=function(){var H=this,tt=H.options;(!H.isReadyToRender||H.isReadyToRender())&&(H.getContainer(),H.resetMargins(),H.setChartSize(),H.propFromSeries(),H.getAxes(),(b(tt.series)?tt.series:[]).forEach(function(lt){H.initSeries(lt)}),H.linkSeries(),H.setSeriesData(),G(H,"beforeRender"),N&&(H.pointer=X.isRequired()?new X(H,tt):new N(H,tt)),H.render(),H.pointer.getChartPosition(),!H.renderer.imgCount&&!H.hasLoaded&&H.onload(),H.temporaryDisplay(!0))},ct.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(H){H&&void 0!==this.index&&H.apply(this,[this])},this),G(this,"load"),G(this,"render"),S(this.index)&&this.setReflow(this.options.chart.reflow),this.hasLoaded=!0},ct.prototype.addSeries=function(H,tt,lt){var ft,dt=this;return H&&(tt=it(tt,!0),G(dt,"addSeries",{options:H},function(){ft=dt.initSeries(H),dt.isDirtyLegend=!0,dt.linkSeries(),ft.enabledDataSorting&&ft.setData(H.data,!1),G(dt,"afterAddSeries",{series:ft}),tt&&dt.redraw(lt)})),ft},ct.prototype.addAxis=function(H,tt,lt,dt){return this.createAxis(tt?"xAxis":"yAxis",{axis:H,redraw:lt,animation:dt})},ct.prototype.addColorAxis=function(H,tt,lt){return this.createAxis("colorAxis",{axis:H,redraw:tt,animation:lt})},ct.prototype.createAxis=function(H,tt){return H=new $(this,Z(tt.axis,{index:this[H].length,isX:"xAxis"===H})),it(tt.redraw,!0)&&this.redraw(tt.animation),H},ct.prototype.showLoading=function(H){var tt=this,lt=tt.options,dt=lt.loading,ft=function(){bt&&L(bt,{left:tt.plotLeft+"px",top:tt.plotTop+"px",width:tt.plotWidth+"px",height:tt.plotHeight+"px"})},bt=tt.loadingDiv,Tt=tt.loadingSpan;bt||(tt.loadingDiv=bt=I("div",{className:"highcharts-loading highcharts-loading-hidden"},null,tt.container)),Tt||(tt.loadingSpan=Tt=I("span",{className:"highcharts-loading-inner"},null,bt),l(tt,"redraw",ft)),bt.className="highcharts-loading",_.setElementHTML(Tt,it(H,lt.lang.loading,"")),tt.styledMode||(L(bt,E(dt.style,{zIndex:10})),L(Tt,dt.labelStyle),tt.loadingShown||(L(bt,{opacity:0,display:""}),T(bt,{opacity:dt.style.opacity||.5},{duration:dt.showDuration||0}))),tt.loadingShown=!0,ft()},ct.prototype.hideLoading=function(){var H=this.options,tt=this.loadingDiv;tt&&(tt.className="highcharts-loading highcharts-loading-hidden",this.styledMode||T(tt,{opacity:0},{duration:H.loading.hideDuration||100,complete:function(){L(tt,{display:"none"})}})),this.loadingShown=!1},ct.prototype.update=function(H,tt,lt,dt){var jt,Rt,ft=this,bt={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},Tt=H.isResponsiveOptions,Lt=[];G(ft,"update",{options:H}),Tt||ft.setResponsive(!1,!0),H=P(H,ft.options),ft.userOptions=Z(ft.userOptions,H);var Et=H.chart;if(Et){if(Z(!0,ft.options.chart,Et),"className"in Et&&ft.setClassName(Et.className),"reflow"in Et&&ft.setReflow(Et.reflow),"inverted"in Et||"polar"in Et||"type"in Et){ft.propFromSeries();var Ht=!0}"alignTicks"in Et&&(Ht=!0),"events"in Et&&D(this,Et),nt(Et,function(It,Pt){-1!==ft.propsRequireUpdateSeries.indexOf("chart."+Pt)&&(jt=!0),-1!==ft.propsRequireDirtyBox.indexOf(Pt)&&(ft.isDirtyBox=!0),-1!==ft.propsRequireReflow.indexOf(Pt)&&(Tt?ft.isDirtyBox=!0:Rt=!0)}),!ft.styledMode&&Et.style&&ft.renderer.setStyle(ft.options.chart.style||{})}!ft.styledMode&&H.colors&&(this.options.colors=H.colors),H.time&&(this.time===n&&(this.time=new d(H.time)),Z(!0,ft.options.time,H.time)),nt(H,function(It,Pt){ft[Pt]&&"function"==typeof ft[Pt].update?ft[Pt].update(It,!1):"function"==typeof ft[bt[Pt]]?ft[bt[Pt]](It):"colors"!==Pt&&-1===ft.collectionsWithUpdate.indexOf(Pt)&&Z(!0,ft.options[Pt],H[Pt]),"chart"!==Pt&&-1!==ft.propsRequireUpdateSeries.indexOf(Pt)&&(jt=!0)}),this.collectionsWithUpdate.forEach(function(It){if(H[It]){var Pt=[];ft[It].forEach(function(kt,Ut){kt.options.isInternal||Pt.push(it(kt.options.index,Ut))}),_t(H[It]).forEach(function(kt,Ut){var Vt,zt=S(kt.id);zt&&(Vt=ft.get(kt.id)),!Vt&&ft[It]&&(Vt=ft[It][Pt?Pt[Ut]:Ut])&&zt&&S(Vt.options.id)&&(Vt=void 0),Vt&&Vt.coll===It&&(Vt.update(kt,!1),lt&&(Vt.touched=!0)),!Vt&&lt&&ft.collectionsWithInit[It]&&(ft.collectionsWithInit[It][0].apply(ft,[kt].concat(ft.collectionsWithInit[It][1]||[]).concat([!1])).touched=!0)}),lt&&ft[It].forEach(function(kt){kt.touched||kt.options.isInternal?delete kt.touched:Lt.push(kt)})}}),Lt.forEach(function(It){It.chart&&It.remove&&It.remove(!1)}),Ht&&ft.axes.forEach(function(It){It.update({},!1)}),jt&&ft.getSeriesOrderByLinks().forEach(function(It){It.chart&&It.update({},!1)},this),Ht=Et&&Et.width,Et=Et&&(V(Et.height)?at(Et.height,Ht||ft.chartWidth):Et.height),Rt||z(Ht)&&Ht!==ft.chartWidth||z(Et)&&Et!==ft.chartHeight?ft.setSize(Ht,Et,dt):it(tt,!0)&&ft.redraw(dt),G(ft,"afterUpdate",{options:H,redraw:tt,animation:dt})},ct.prototype.setSubtitle=function(H,tt){this.applyDescription("subtitle",H),this.layOutTitles(tt)},ct.prototype.setCaption=function(H,tt){this.applyDescription("caption",H),this.layOutTitles(tt)},ct.prototype.showResetZoom=function(){function H(){tt.zoomOut()}var tt=this,lt=a.lang,dt=tt.options.chart.resetZoomButton,ft=dt.theme,bt=ft.states,Tt="chart"===dt.relativeTo||"spacingBox"===dt.relativeTo?null:"scrollablePlotBox";G(this,"beforeShowResetZoom",null,function(){tt.resetZoomButton=tt.renderer.button(lt.resetZoom,null,null,H,ft,bt&&bt.hover).attr({align:dt.position.align,title:lt.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(dt.position,!1,Tt)}),G(this,"afterShowResetZoom")},ct.prototype.zoomOut=function(){G(this,"selection",{resetSelection:!0},this.zoom)},ct.prototype.zoom=function(H){var bt,tt=this,lt=tt.pointer,dt=tt.inverted?lt.mouseDownX:lt.mouseDownY,ft=!1;!H||H.resetSelection?(tt.axes.forEach(function(Lt){bt=Lt.zoom()}),lt.initiated=!1):H.xAxis.concat(H.yAxis).forEach(function(Lt){var jt=Lt.axis,Rt=tt.inverted?jt.left:jt.top,Ht=jt.isXAxis,It=!1;(!Ht&&dt>=Rt&&dt<=(tt.inverted?Rt+jt.width:Rt+jt.height)||Ht||!S(dt))&&(It=!0),lt[Ht?"zoomX":"zoomY"]&&It&&(bt=jt.zoom(Lt.min,Lt.max),jt.displayBtn&&(ft=!0))});var Tt=tt.resetZoomButton;ft&&!Tt?tt.showResetZoom():!ft&&R(Tt)&&(tt.resetZoomButton=Tt.destroy()),bt&&tt.redraw(it(tt.options.chart.animation,H&&H.animation,100>tt.pointCount))},ct.prototype.pan=function(H,tt){var lt=this,dt=lt.hoverPoints;tt="object"==typeof tt?tt:{enabled:tt,type:"x"};var ft=lt.options.chart,bt=lt.options.mapNavigation&&lt.options.mapNavigation.enabled;ft&&ft.panning&&(ft.panning=tt);var Lt,Tt=tt.type;G(this,"pan",{originalEvent:H},function(){dt&&dt.forEach(function(Et){Et.setState()});var jt=lt.xAxis;"xy"===Tt?jt=jt.concat(lt.yAxis):"y"===Tt&&(jt=lt.yAxis);var Rt={};jt.forEach(function(Et){if(Et.options.panningEnabled&&!Et.options.isInternal){var Ht=Et.horiz,It=H[Ht?"chartX":"chartY"],Pt=lt[Ht=Ht?"mouseDownX":"mouseDownY"],kt=Et.minPointOffset||0,Ut=Et.reversed&&!lt.inverted||!Et.reversed&&lt.inverted?-1:1,zt=Et.getExtremes(),Vt=Et.toValue(Pt-It,!0)+kt*Ut,ie=Et.toValue(Pt+Et.len-It,!0)-(kt*Ut||Et.isXAxis&&Et.pointRangePadding||0),pe=ie<Vt;Ut=Et.hasVerticalPanning(),Pt=pe?ie:Vt,Vt=pe?Vt:ie;var ne=Et.panningState;!Ut||Et.isXAxis||ne&&!ne.isDirty||Et.series.forEach(function(de){var Ae=de.getProcessedData(!0);Ae=de.getExtremes(Ae.yData,!0),ne||(ne={startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE}),z(Ae.dataMin)&&z(Ae.dataMax)&&(ne.startMin=Math.min(it(de.options.threshold,1/0),Ae.dataMin,ne.startMin),ne.startMax=Math.max(it(de.options.threshold,-1/0),Ae.dataMax,ne.startMax))}),Ut=Math.min(it(ne&&ne.startMin,zt.dataMin),kt?zt.min:Et.toValue(Et.toPixels(zt.min)-Et.minPixelPadding)),ie=Math.max(it(ne&&ne.startMax,zt.dataMax),kt?zt.max:Et.toValue(Et.toPixels(zt.max)+Et.minPixelPadding)),Et.panningState=ne,Et.isOrdinal||(0<(kt=Ut-Pt)&&(Vt+=kt,Pt=Ut),0<(kt=Vt-ie)&&(Vt=ie,Pt-=kt),Et.series.length&&Pt!==zt.min&&Vt!==zt.max&&Pt>=Ut&&Vt<=ie&&(Et.setExtremes(Pt,Vt,!1,!1,{trigger:"pan"}),lt.resetZoomButton||bt||Pt===Ut||Vt===ie||!Tt.match("y")||(lt.showResetZoom(),Et.displayBtn=!1),Lt=!0),Rt[Ht]=It)}}),nt(Rt,function(Et,Ht){lt[Ht]=Et}),Lt&&lt.redraw(!1),L(lt.container,{cursor:"move"})})},ct}(),E(Y.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Y.prototype.addAxis,[!0]],yAxis:[Y.prototype.addAxis,[!1]],series:[Y.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")}),Y}),wt(o,"Core/Legend/LegendSymbol.js",[o["Core/Utilities.js"]],function(Y){var rt,J,$=Y.merge,q=Y.pick;return(J=rt||(rt={})).drawLineMarker=function(K){var X=this.options,F=K.symbolWidth,N=K.symbolHeight,O=N/2,k=this.chart.renderer,g=this.legendGroup;K=K.baseline-Math.round(.3*K.fontMetrics.b);var d={},v=X.marker;this.chart.styledMode||(d={"stroke-width":X.lineWidth||0},X.dashStyle&&(d.dashstyle=X.dashStyle)),this.legendLine=k.path([["M",0,K],["L",F,K]]).addClass("highcharts-graph").attr(d).add(g),v&&!1!==v.enabled&&F&&(X=Math.min(q(v.radius,O),O),0===this.symbol.indexOf("url")&&(v=$(v,{width:N,height:N}),X=0),this.legendSymbol=F=k.symbol(this.symbol,F/2-X,K-X,2*X,2*X,v).addClass("highcharts-point").add(g),F.isMarker=!0)},J.drawRectangle=function(K,X){var F=K.symbolHeight,N=K.options.squareSymbol;X.legendSymbol=this.chart.renderer.rect(N?(K.symbolWidth-F)/2:0,K.baseline-F+1,N?F:K.symbolWidth,F,q(K.options.symbolRadius,F/2)).addClass("highcharts-point").attr({zIndex:3}).add(X.legendGroup)},rt}),wt(o,"Core/Series/SeriesDefaults.js",[],function(){return{lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",defer:!0,formatter:function(){return"number"!=typeof this.y?"":(0,this.series.chart.numberFormatter)(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"}}),wt(o,"Core/Series/Series.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/DefaultOptions.js"],o["Core/Foundation.js"],o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/Point.js"],o["Core/Series/SeriesDefaults.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N,O){var k=Y.animObject,g=Y.setAnimation,d=$.defaultOptions,v=q.registerEventOptions,_=rt.hasTouch,T=rt.svg,y=rt.win,C=F.seriesTypes,M=O.addEvent,D=O.arrayMax,x=O.arrayMin,f=O.clamp,m=O.cleanRecursively,r=O.correctFloat,p=O.defined,a=O.erase,n=O.error,h=O.extend,l=O.find,w=O.fireEvent,P=O.getNestedProperty,I=O.isArray,L=O.isNumber,S=O.isString,B=O.merge,c=O.objectEach,u=O.pick,E=O.removeEvent,j=O.splat,G=O.syncTimeout;return Y=function(){function W(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}return W.prototype.init=function(b,z){w(this,"init",{options:z});var R=this,V=b.series;this.eventsToUnbind=[],R.chart=b,R.options=R.setOptions(z),z=R.options,R.linkedSeries=[],R.bindAxes(),h(R,{name:z.name,state:"",visible:!1!==z.visible,selected:!0===z.selected}),v(this,z);var nt,Z=z.events;(Z&&Z.click||z.point&&z.point.events&&z.point.events.click||z.allowPointSelect)&&(b.runTrackerClick=!0),R.getColor(),R.getSymbol(),R.parallelArrays.forEach(function(it){R[it+"Data"]||(R[it+"Data"]=[])}),R.isCartesian&&(b.hasCartesianSeries=!0),V.length&&(nt=V[V.length-1]),R._i=u(nt&&nt._i,-1)+1,R.opacity=R.options.opacity,b.orderSeries(this.insert(V)),z.dataSorting&&z.dataSorting.enabled?R.setDataSortingOptions():R.points||R.data||R.setData(z.data,!1),w(this,"afterInit")},W.prototype.is=function(b){return C[b]&&this instanceof C[b]},W.prototype.insert=function(b){var R,z=this.options.index;if(L(z)){for(R=b.length;R--;)if(z>=u(b[R].options.index,b[R]._i)){b.splice(R+1,0,this);break}-1===R&&b.unshift(this),R+=1}else b.push(this);return u(R,b.length-1)},W.prototype.bindAxes=function(){var V,b=this,z=b.options,R=b.chart;w(this,"bindAxes",null,function(){(b.axisTypes||[]).forEach(function(Z){var nt=0;R[Z].forEach(function(it){V=it.options,(z[Z]===nt&&!V.isInternal||void 0!==z[Z]&&z[Z]===V.id||void 0===z[Z]&&0===V.index)&&(b.insert(it.series),b[Z]=it,it.isDirty=!0),V.isInternal||nt++}),b[Z]||b.optionalAxis===Z||n(18,!0,R)})}),w(this,"afterBindAxes")},W.prototype.updateParallelArrays=function(b,z){var R=b.series,V=arguments,Z=L(z)?function(nt){var it="y"===nt&&R.toYData?R.toYData(b):b[nt];R[nt+"Data"][z]=it}:function(nt){Array.prototype[z].apply(R[nt+"Data"],Array.prototype.slice.call(V,2))};R.parallelArrays.forEach(Z)},W.prototype.hasData=function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},W.prototype.autoIncrement=function(b){var it,z=this.options,R=z.pointIntervalUnit,V=z.relativeXValue,Z=this.chart.time,nt=this.xIncrement;return nt=u(nt,z.pointStart,0),this.pointInterval=it=u(this.pointInterval,z.pointInterval,1),V&&L(b)&&(it*=b),R&&(z=new Z.Date(nt),"day"===R?Z.set("Date",z,Z.get("Date",z)+it):"month"===R?Z.set("Month",z,Z.get("Month",z)+it):"year"===R&&Z.set("FullYear",z,Z.get("FullYear",z)+it),it=z.getTime()-nt),V&&L(b)?nt+it:(this.xIncrement=nt+it,nt)},W.prototype.setDataSortingOptions=function(){var b=this.options;h(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),p(b.pointRange)||(b.pointRange=1)},W.prototype.setOptions=function(b){var z=this.chart,R=z.options,V=R.plotOptions,Z=z.userOptions||{};b=B(b),z=z.styledMode;var nt={plotOptions:V,userOptions:b};w(this,"setOptions",nt);var it=nt.plotOptions[this.type],ot=Z.plotOptions||{};return this.userOptions=nt.userOptions,Z=B(it,V.series,Z.plotOptions&&Z.plotOptions[this.type],b),this.tooltipOptions=B(d.tooltip,d.plotOptions.series&&d.plotOptions.series.tooltip,d.plotOptions[this.type].tooltip,R.tooltip.userOptions,V.series&&V.series.tooltip,V[this.type].tooltip,b.tooltip),this.stickyTracking=u(b.stickyTracking,ot[this.type]&&ot[this.type].stickyTracking,ot.series&&ot.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||Z.stickyTracking),null===it.marker&&delete Z.marker,this.zoneAxis=Z.zoneAxis,V=this.zones=(Z.zones||[]).slice(),!Z.negativeColor&&!Z.negativeFillColor||Z.zones||(R={value:Z[this.zoneAxis+"Threshold"]||Z.threshold||0,className:"highcharts-negative"},z||(R.color=Z.negativeColor,R.fillColor=Z.negativeFillColor),V.push(R)),V.length&&p(V[V.length-1].value)&&V.push(z?{}:{color:this.color,fillColor:this.fillColor}),w(this,"afterSetOptions",{options:Z}),Z},W.prototype.getName=function(){return u(this.options.name,"Series "+(this.index+1))},W.prototype.getCyclic=function(b,z,R){var V=this.chart,Z=this.userOptions,nt=b+"Index",it=b+"Counter",ot=R?R.length:u(V.options.chart[b+"Count"],V[b+"Count"]);if(!z){var at=u(Z[nt],Z["_"+nt]);p(at)||(V.series.length||(V[it]=0),Z["_"+nt]=at=V[it]%ot,V[it]+=1),R&&(z=R[at])}void 0!==at&&(this[nt]=at),this[b]=z},W.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||d.plotOptions[this.type].color,this.chart.options.colors)},W.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]},W.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},W.prototype.findPointIndex=function(b,z){var it,ot,R=b.id,V=b.x,Z=this.points,nt=this.options.dataSorting;if(R)(nt=this.chart.get(R))instanceof K&&(it=nt);else if((this.linkedParent||this.enabledDataSorting||this.options.relativeXValue)&&(it=function(mt){return!mt.touched&&mt.index===b.index},nt&&nt.matchByName?it=function(mt){return!mt.touched&&mt.name===b.name}:this.options.relativeXValue&&(it=function(mt){return!mt.touched&&mt.options.x===b.x}),!(it=l(Z,it))))return;if(it){var at=it&&it.index;void 0!==at&&(ot=!0)}return void 0===at&&L(V)&&(at=this.xData.indexOf(V,z)),-1!==at&&void 0!==at&&this.cropped&&(at=at>=this.cropStart?at-this.cropStart:at),!ot&&L(at)&&Z[at]&&Z[at].touched&&(at=void 0),at},W.prototype.updateData=function(b,z){var at,mt,_t,R=this.options,V=R.dataSorting,Z=this.points,nt=[],it=this.requireSorting,ot=b.length===Z.length,yt=!0;if(this.xIncrement=null,b.forEach(function(ut,ct){var H=p(ut)&&this.pointClass.prototype.optionsToObject.call({series:this},ut)||{};H.id||L(H.x)?(-1===(H=this.findPointIndex(H,_t))||void 0===H?nt.push(ut):Z[H]&&ut!==R.data[H]?(Z[H].update(ut,!1,null,!1),Z[H].touched=!0,it&&(_t=H+1)):Z[H]&&(Z[H].touched=!0),(!ot||ct!==H||V&&V.enabled||this.hasDerivedData)&&(at=!0)):nt.push(ut)},this),at)for(b=Z.length;b--;)(mt=Z[b])&&!mt.touched&&mt.remove&&mt.remove(!1,z);else!ot||V&&V.enabled?yt=!1:(b.forEach(function(ut,ct){ut!==Z[ct].y&&Z[ct].update&&Z[ct].update(ut,!1,null,!1)}),nt.length=0);return Z.forEach(function(ut){ut&&(ut.touched=!1)}),!!yt&&(nt.forEach(function(ut){this.addPoint(ut,!1,null,null,!1)},this),null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=D(this.xData),this.autoIncrement()),!0)},W.prototype.setData=function(b,z,R,V){var Z=this,nt=Z.points,it=nt&&nt.length||0,ot=Z.options,at=Z.chart,mt=ot.dataSorting,_t=Z.xAxis,yt=ot.turboThreshold,ut=this.xData,ct=this.yData,H=Z.pointArrayMap;H=H&&H.length;var lt,tt=ot.keys,dt=0,ft=1,bt=null,Tt=(b=b||[]).length;if(z=u(z,!0),mt&&mt.enabled&&(b=this.sortData(b)),!1!==V&&Tt&&it&&!Z.cropped&&!Z.hasGroupedData&&Z.visible&&!Z.isSeriesBoosting&&(lt=this.updateData(b,R)),!lt){if(Z.xIncrement=null,Z.colorCounter=0,this.parallelArrays.forEach(function(Lt){Z[Lt+"Data"].length=0}),yt&&Tt>yt)if(bt=Z.getFirstValidPoint(b),L(bt))for(R=0;R<Tt;R++)ut[R]=this.autoIncrement(),ct[R]=b[R];else if(I(bt))if(H)if(bt.length===H)for(R=0;R<Tt;R++)ut[R]=this.autoIncrement(),ct[R]=b[R];else for(R=0;R<Tt;R++)ut[R]=(V=b[R])[0],ct[R]=V.slice(1,H+1);else if(tt&&(dt=0<=(dt=tt.indexOf("x"))?dt:0,ft=0<=(ft=tt.indexOf("y"))?ft:1),1===bt.length&&(ft=0),dt===ft)for(R=0;R<Tt;R++)ut[R]=this.autoIncrement(),ct[R]=b[R][ft];else for(R=0;R<Tt;R++)ut[R]=(V=b[R])[dt],ct[R]=V[ft];else n(12,!1,at);else for(R=0;R<Tt;R++)void 0!==b[R]&&(Z.pointClass.prototype.applyOptions.apply(V={series:Z},[b[R]]),Z.updateParallelArrays(V,R));for(ct&&S(ct[0])&&n(14,!0,at),Z.data=[],Z.options.data=Z.userOptions.data=b,R=it;R--;)nt[R]&&nt[R].destroy&&nt[R].destroy();_t&&(_t.minRange=_t.userMinRange),Z.isDirty=at.isDirtyBox=!0,Z.isDirtyData=!!nt,R=!1}"point"===ot.legendType&&(this.processData(),this.generatePoints()),z&&at.redraw(R)},W.prototype.sortData=function(b){var z=this,R=z.options.dataSorting.sortKey||"y",V=function(Z,nt){return p(nt)&&Z.pointClass.prototype.optionsToObject.call({series:Z},nt)||{}};return b.forEach(function(Z,nt){b[nt]=V(z,Z),b[nt].index=nt},this),b.concat().sort(function(Z,nt){return Z=P(R,Z),(nt=P(R,nt))<Z?-1:nt>Z?1:0}).forEach(function(Z,nt){Z.x=nt},this),z.linkedSeries&&z.linkedSeries.forEach(function(Z){var nt=Z.options,it=nt.data;nt.dataSorting&&nt.dataSorting.enabled||!it||(it.forEach(function(ot,at){it[at]=V(Z,ot),b[at]&&(it[at].x=b[at].x,it[at].index=at)}),Z.setData(it,!1))}),b},W.prototype.getProcessedData=function(b){var z=this.xAxis,R=this.options,V=R.cropThreshold,Z=b||this.getExtremesFromAll||R.getExtremesFromAll,nt=this.isCartesian;b=z&&z.val2lin,R=!(!z||!z.logarithmic);var it=0,ot=this.xData,at=this.yData,mt=this.requireSorting,_t=!1,yt=ot.length;if(z){var ut=(_t=z.getExtremes()).min,ct=_t.max;_t=z.categories&&!z.names.length}if(nt&&this.sorted&&!Z&&(!V||yt>V||this.forceCrop))if(ot[yt-1]<ut||ot[0]>ct)ot=[],at=[];else if(this.yData&&(ot[0]<ut||ot[yt-1]>ct)){var H=this.cropData(this.xData,this.yData,ut,ct);ot=H.xData,at=H.yData,it=H.start,H=!0}for(V=ot.length||1;--V;)if(0<(z=R?b(ot[V])-b(ot[V-1]):ot[V]-ot[V-1])&&(void 0===tt||z<tt))var tt=z;else 0>z&&mt&&!_t&&(n(15,!1,this.chart),mt=!1);return{xData:ot,yData:at,cropped:H,cropStart:it,closestPointRange:tt}},W.prototype.processData=function(b){if(this.isCartesian&&!this.isDirty&&!this.xAxis.isDirty&&!this.yAxis.isDirty&&!b)return!1;b=this.getProcessedData(),this.cropped=b.cropped,this.cropStart=b.cropStart,this.processedXData=b.xData,this.processedYData=b.yData,this.closestPointRange=this.basePointRange=b.closestPointRange,w(this,"afterProcessData")},W.prototype.cropData=function(b,z,R,V,Z){var it,nt=b.length,ot=0,at=nt;for(Z=u(Z,this.cropShoulder),it=0;it<nt;it++)if(b[it]>=R){ot=Math.max(0,it-Z);break}for(R=it;R<nt;R++)if(b[R]>V){at=R+Z;break}return{xData:b.slice(ot,at),yData:z.slice(ot,at),start:ot,end:at}},W.prototype.generatePoints=function(){var b=this.options,z=b.data,R=this.processedXData,V=this.processedYData,Z=this.pointClass,nt=R.length,it=this.cropStart||0,ot=this.hasGroupedData,at=b.keys,mt=[];b=b.dataGrouping&&b.dataGrouping.groupAll?it:0;var _t,yt,ut=this.data;if(!ut&&!ot){var ct=[];ct.length=z.length,ut=this.data=ct}for(at&&ot&&(this.options.keys=!1),yt=0;yt<nt;yt++){if(ct=it+yt,ot){var H=(new Z).init(this,[R[yt]].concat(j(V[yt])));H.dataGroup=this.groupMap[b+yt],H.dataGroup.options&&(H.options=H.dataGroup.options,h(H,H.dataGroup.options),delete H.dataLabels)}else(H=ut[ct])||void 0===z[ct]||(ut[ct]=H=(new Z).init(this,z[ct],R[yt]));H&&(H.index=ot?b+yt:ct,mt[yt]=H)}if(this.options.keys=at,ut&&(nt!==(_t=ut.length)||ot))for(yt=0;yt<_t;yt++)yt!==it||ot||(yt+=nt),ut[yt]&&(ut[yt].destroyElements(),ut[yt].plotX=void 0);this.data=ut,this.points=mt,w(this,"afterGeneratePoints")},W.prototype.getXExtremes=function(b){return{min:x(b),max:D(b)}},W.prototype.getExtremes=function(b,z){var R=this.xAxis,V=this.yAxis,Z=this.processedXData||this.xData,nt=[],it=this.requireSorting?this.cropShoulder:0;V=!!V&&V.positiveValuesOnly;var ot,at=0,mt=0,_t=0,yt=(b=b||this.stackedYData||this.processedYData||[]).length;if(R){var ut=R.getExtremes();at=ut.min,mt=ut.max}for(ot=0;ot<yt;ot++){var ct=Z[ot],H=(L(ut=b[ot])||I(ut))&&(ut.length||0<ut||!V);if(ct=z||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!R||(Z[ot+it]||ct)>=at&&(Z[ot-it]||ct)<=mt,H&&ct)if(H=ut.length)for(;H--;)L(ut[H])&&(nt[_t++]=ut[H]);else nt[_t++]=ut}return b={activeYData:nt,dataMin:x(nt),dataMax:D(nt)},w(this,"afterGetExtremes",{dataExtremes:b}),b},W.prototype.applyExtremes=function(){var b=this.getExtremes();return this.dataMin=b.dataMin,this.dataMax=b.dataMax,b},W.prototype.getFirstValidPoint=function(b){for(var z=b.length,R=0,V=null;null===V&&R<z;)V=b[R],R++;return V},W.prototype.translate=function(){this.processedXData||this.processData(),this.generatePoints();var ct,H,b=this.options,z=b.stacking,R=this.xAxis,V=R.categories,Z=this.enabledDataSorting,nt=this.yAxis,it=this.points,ot=it.length,at=this.pointPlacementToXValue(),mt=!!at,_t=b.threshold,yt=b.startFromThreshold?_t:0,ut=this.zoneAxis||"y",tt=Number.MAX_VALUE;for(ct=0;ct<ot;ct++){var lt=it[ct],dt=lt.x,ft=void 0,bt=void 0,Tt=lt.y,Lt=lt.low,jt=z&&nt.stacking&&nt.stacking.stacks[(this.negStacks&&Tt<(yt?0:_t)?"-":"")+this.stackKey];if((nt.positiveValuesOnly&&!nt.validatePositiveValue(Tt)||R.positiveValuesOnly&&!R.validatePositiveValue(dt))&&(lt.isNull=!0),lt.plotX=H=r(f(R.translate(dt,0,0,0,1,at,"flags"===this.type),-1e5,1e5)),z&&this.visible&&jt&&jt[dt]){var Rt=this.getStackIndicator(Rt,dt,this.index);lt.isNull||(bt=(ft=jt[dt]).points[Rt.key])}if(I(bt)&&(Tt=bt[1],(Lt=bt[0])===yt&&Rt.key===jt[dt].base&&(Lt=u(L(_t)&&_t,nt.min)),nt.positiveValuesOnly&&0>=Lt&&(Lt=null),lt.total=lt.stackTotal=ft.total,lt.percentage=ft.total&&lt.y/ft.total*100,lt.stackY=Tt,this.irregularWidths||ft.setOffset(this.pointXOffset||0,this.barW||0)),lt.yBottom=p(Lt)?f(nt.translate(Lt,0,1,0,1),-1e5,1e5):null,this.dataModify&&(Tt=this.dataModify.modifyValue(Tt,ct)),lt.plotY=void 0,L(Tt)&&void 0!==(ft=nt.translate(Tt,!1,!0,!1,!0))&&(lt.plotY=f(ft,-1e5,1e5)),lt.isInside=this.isPointInside(lt),lt.clientX=mt?r(R.translate(dt,0,0,0,1,at)):H,lt.negative=lt[ut]<(b[ut+"Threshold"]||_t||0),lt.category=V&&void 0!==V[lt.x]?V[lt.x]:lt.x,!lt.isNull&&!1!==lt.visible){void 0!==Et&&(tt=Math.min(tt,Math.abs(H-Et)));var Et=H}lt.zone=this.zones.length?lt.getZone():void 0,!lt.graphic&&this.group&&Z&&(lt.isNew=!0)}this.closestPointRangePx=tt,w(this,"afterTranslate")},W.prototype.getValidPoints=function(b,z,R){var V=this.chart;return(b||this.points||[]).filter(function(Z){return!(z&&!V.isInsidePlot(Z.plotX,Z.plotY,{inverted:V.inverted}))&&!1!==Z.visible&&(R||!Z.isNull)})},W.prototype.getClipBox=function(){var b=this.chart,z=this.xAxis,R=this.yAxis,V=B(b.clipBox);return z&&z.len!==b.plotSizeX&&(V.width=z.len),R&&R.len!==b.plotSizeY&&(V.height=R.len),V},W.prototype.getSharedClipKey=function(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0)},W.prototype.setClip=function(){var b=this.chart,z=this.group,R=this.markerGroup,V=b.sharedClips;b=b.renderer;var Z=this.getClipBox(),nt=this.getSharedClipKey(),it=V[nt];it?it.animate(Z):V[nt]=it=b.clipRect(Z),z&&z.clip(!1===this.options.clip?void 0:it),R&&R.clip()},W.prototype.animate=function(b){var z=this.chart,R=this.group,V=this.markerGroup,Z=z.inverted,nt=k(this.options.animation),it=[this.getSharedClipKey(),nt.duration,nt.easing,nt.defer].join(),ot=z.sharedClips[it],at=z.sharedClips[it+"m"];if(b&&R)nt=this.getClipBox(),ot?ot.attr("height",nt.height):(nt.width=0,Z&&(nt.x=z.plotHeight),ot=z.renderer.clipRect(nt),z.sharedClips[it]=ot,at=z.renderer.clipRect({x:Z?(z.plotSizeX||0)+99:-99,y:Z?-z.plotLeft:-z.plotTop,width:99,height:Z?z.chartWidth:z.chartHeight}),z.sharedClips[it+"m"]=at),R.clip(ot),V&&V.clip(at);else if(ot&&!ot.hasClass("highcharts-animating")){z=this.getClipBox();var mt=nt.step;V&&V.element.childNodes.length&&(nt.step=function(_t,yt){mt&&mt.apply(yt,arguments),at&&at.element&&at.attr(yt.prop,"width"===yt.prop?_t+99:_t)}),ot.addClass("highcharts-animating").animate(z,nt)}},W.prototype.afterAnimate=function(){var b=this;this.setClip(),c(this.chart.sharedClips,function(z,R,V){z&&!b.chart.container.querySelector('[clip-path="url(#'+z.id+')"]')&&(z.destroy(),delete V[R])}),this.finishedAnimating=!0,w(this,"afterAnimate")},W.prototype.drawPoints=function(){var it,ot,b=this.points,z=this.chart,R=this.options.marker,V=this[this.specialGroup]||this.markerGroup,Z=this.xAxis,nt=u(R.enabled,!(Z&&!Z.isRadial)||null,this.closestPointRangePx>=R.enabledThreshold*R.radius);if(!1!==R.enabled||this._hasPointMarkers)for(it=0;it<b.length;it++){var at=b[it],mt=(ot=at.graphic)?"animate":"attr",_t=at.marker||{},yt=!!at.marker;if((nt&&void 0===_t.enabled||_t.enabled)&&!at.isNull&&!1!==at.visible){var ut=u(_t.symbol,this.symbol,"rect"),ct=this.markerAttribs(at,at.selected&&"select");this.enabledDataSorting&&(at.startXPos=Z.reversed?-(ct.width||0):Z.width);var H=!1!==at.isInside;ot?ot[H?"show":"hide"](H).animate(ct):H&&(0<(ct.width||0)||at.hasImage)&&(at.graphic=ot=z.renderer.symbol(ut,ct.x,ct.y,ct.width,ct.height,yt?_t:R).add(V),this.enabledDataSorting&&z.hasRendered&&(ot.attr({x:at.startXPos}),mt="animate")),ot&&"animate"===mt&&ot[H?"show":"hide"](H).animate(ct),ot&&!z.styledMode&&ot[mt](this.pointAttribs(at,at.selected&&"select")),ot&&ot.addClass(at.getClassName(),!0)}else ot&&(at.graphic=ot.destroy())}},W.prototype.markerAttribs=function(b,z){var R=this.options,V=R.marker,Z=b.marker||{},nt=Z.symbol||V.symbol,it=u(Z.radius,V.radius);return z&&(V=V.states[z],it=u((z=Z.states&&Z.states[z])&&z.radius,V&&V.radius,it+(V&&V.radiusPlus||0))),b.hasImage=nt&&0===nt.indexOf("url"),b.hasImage&&(it=0),b={x:R.crisp?Math.floor(b.plotX-it):b.plotX-it,y:b.plotY-it},it&&(b.width=b.height=2*it),b},W.prototype.pointAttribs=function(b,z){var R=this.options.marker,V=b&&b.options,Z=V&&V.marker||{},nt=V&&V.color,it=b&&b.color,ot=b&&b.zone&&b.zone.color,at=this.color;return b=u(Z.lineWidth,R.lineWidth),V=1,at=nt||ot||it||at,nt=Z.fillColor||R.fillColor||at,it=Z.lineColor||R.lineColor||at,R=R.states[z=z||"normal"]||{},b=u((z=Z.states&&Z.states[z]||{}).lineWidth,R.lineWidth,b+u(z.lineWidthPlus,R.lineWidthPlus,0)),{stroke:it=z.lineColor||R.lineColor||it,"stroke-width":b,fill:nt=z.fillColor||R.fillColor||nt,opacity:V=u(z.opacity,R.opacity,V)}},W.prototype.destroy=function(b){var it,ot,at,z=this,R=z.chart,V=/AppleWebKit\/533/.test(y.navigator.userAgent),Z=z.data||[];for(w(z,"destroy"),this.removeEvents(b),(z.axisTypes||[]).forEach(function(mt){(at=z[mt])&&at.series&&(a(at.series,z),at.isDirty=at.forceRedraw=!0)}),z.legendItem&&z.chart.legend.destroyItem(z),it=Z.length;it--;)(ot=Z[it])&&ot.destroy&&ot.destroy();z.clips&&z.clips.forEach(function(mt){return mt.destroy()}),O.clearTimeout(z.animationTimeout),c(z,function(mt,_t){mt instanceof N&&!mt.survive&&mt[V&&"group"===_t?"hide":"destroy"]()}),R.hoverSeries===z&&(R.hoverSeries=void 0),a(R.series,z),R.orderSeries(),c(z,function(mt,_t){b&&"hcEvents"===_t||delete z[_t]})},W.prototype.applyZones=function(){var _t,yt,ut,ct,H,tt,lt,dt,b=this,z=this.chart,R=z.renderer,V=this.zones,Z=this.clips||[],nt=this.graph,it=this.area,ot=Math.max(z.chartWidth,z.chartHeight),at=this[(this.zoneAxis||"y")+"Axis"],mt=z.inverted,ft=!1;if(V.length&&(nt||it)&&at&&void 0!==at.min){var bt=at.reversed,Tt=at.horiz;nt&&!this.showLine&&nt.hide(),it&&it.hide();var Lt=at.getExtremes();V.forEach(function(jt,Rt){_t=bt?Tt?z.plotWidth:0:Tt?0:at.toPixels(Lt.min)||0,_t=f(u(yt,_t),0,ot),yt=f(Math.round(at.toPixels(u(jt.value,Lt.max),!0)||0),0,ot),ft&&(_t=yt=at.toPixels(Lt.max)),ct=Math.abs(_t-yt),H=Math.min(_t,yt),tt=Math.max(_t,yt),at.isXAxis?(ut={x:mt?tt:H,y:0,width:ct,height:ot},Tt||(ut.x=z.plotHeight-ut.x)):(ut={x:0,y:mt?tt:H,width:ot,height:ct},Tt&&(ut.y=z.plotWidth-ut.y)),mt&&R.isVML&&(ut=at.isXAxis?{x:0,y:bt?H:tt,height:ut.width,width:z.chartWidth}:{x:ut.y-z.plotLeft-z.spacingBox.x,y:0,width:ut.height,height:z.chartHeight}),Z[Rt]?Z[Rt].animate(ut):Z[Rt]=R.clipRect(ut),lt=b["zone-area-"+Rt],dt=b["zone-graph-"+Rt],nt&&dt&&dt.clip(Z[Rt]),it&&lt&&lt.clip(Z[Rt]),ft=jt.value>Lt.max,b.resetZones&&0===yt&&(yt=void 0)}),this.clips=Z}else b.visible&&(nt&&nt.show(!0),it&&it.show(!0))},W.prototype.invertGroups=function(b){function z(){["group","markerGroup"].forEach(function(Z){R[Z]&&(V.renderer.isVML&&R[Z].attr({width:R.yAxis.len,height:R.xAxis.len}),R[Z].width=R.yAxis.len,R[Z].height=R.xAxis.len,R[Z].invert(!R.isRadialSeries&&b))})}var R=this,V=R.chart;R.xAxis&&(R.eventsToUnbind.push(M(V,"resize",z)),z(),R.invertGroups=z)},W.prototype.plotGroup=function(b,z,R,V,Z){var nt=this[b],it=!nt;return R={visibility:R,zIndex:V||.1},void 0===this.opacity||this.chart.styledMode||"inactive"===this.state||(R.opacity=this.opacity),it&&(this[b]=nt=this.chart.renderer.g().add(Z)),nt.addClass("highcharts-"+z+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(p(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(nt.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),nt.attr(R)[it?"attr":"animate"](this.getPlotBox()),nt},W.prototype.getPlotBox=function(){var b=this.chart,z=this.xAxis,R=this.yAxis;return b.inverted&&(z=R,R=this.xAxis),{translateX:z?z.left:b.plotLeft,translateY:R?R.top:b.plotTop,scaleX:1,scaleY:1}},W.prototype.removeEvents=function(b){b||E(this),this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(z){z()}),this.eventsToUnbind.length=0)},W.prototype.render=function(){var b=this,z=b.chart,R=b.options,V=k(R.animation),Z=b.visible?"inherit":"hidden",nt=R.zIndex,it=b.hasRendered,ot=z.seriesGroup,at=z.inverted;z=!b.finishedAnimating&&z.renderer.isSVG?V.duration:0,w(this,"render");var mt=b.plotGroup("group","series",Z,nt,ot);b.markerGroup=b.plotGroup("markerGroup","markers",Z,nt,ot),!1!==R.clip&&b.setClip(),b.animate&&z&&b.animate(!0),mt.inverted=!!u(b.invertible,b.isCartesian)&&at,b.drawGraph&&(b.drawGraph(),b.applyZones()),b.visible&&b.drawPoints(),b.drawDataLabels&&b.drawDataLabels(),b.redrawPoints&&b.redrawPoints(),b.drawTracker&&!1!==b.options.enableMouseTracking&&b.drawTracker(),b.invertGroups(at),b.animate&&z&&b.animate(),it||(z&&V.defer&&(z+=V.defer),b.animationTimeout=G(function(){b.afterAnimate()},z||0)),b.isDirty=!1,b.hasRendered=!0,w(b,"afterRender")},W.prototype.redraw=function(){var b=this.chart,z=this.isDirty||this.isDirtyData,R=this.group,V=this.xAxis,Z=this.yAxis;R&&(b.inverted&&R.attr({width:b.plotWidth,height:b.plotHeight}),R.animate({translateX:u(V&&V.left,b.plotLeft),translateY:u(Z&&Z.top,b.plotTop)})),this.translate(),this.render(),z&&delete this.kdTree},W.prototype.searchPoint=function(b,z){var R=this.xAxis,V=this.yAxis,Z=this.chart.inverted;return this.searchKDTree({clientX:Z?R.len-b.chartY+R.pos:b.chartX-R.pos,plotY:Z?V.len-b.chartX+V.pos:b.chartY-V.pos},z,b)},W.prototype.buildKDTree=function(b){function z(Z,nt,it){var ot=Z&&Z.length;if(ot){var at=R.kdAxisArray[nt%it];return Z.sort(function(mt,_t){return mt[at]-_t[at]}),{point:Z[ot=Math.floor(ot/2)],left:z(Z.slice(0,ot),nt+1,it),right:z(Z.slice(ot+1),nt+1,it)}}}this.buildingKdTree=!0;var R=this,V=-1<R.options.findNearestPointBy.indexOf("y")?2:1;delete R.kdTree,G(function(){R.kdTree=z(R.getValidPoints(null,!R.directTouch),V,V),R.buildingKdTree=!1},R.options.kdNow||b&&"touchstart"===b.type?0:1)},W.prototype.searchKDTree=function(b,z,R){var Z=this,nt=this.kdAxisArray[0],it=this.kdAxisArray[1],ot=z?"distX":"dist";if(z=-1<Z.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(R),this.kdTree)return function V(at,mt,_t,yt){var ut=mt.point,ct=Z.kdAxisArray[_t%yt],H=ut,tt=p(at[nt])&&p(ut[nt])?Math.pow(at[nt]-ut[nt],2):null,lt=p(at[it])&&p(ut[it])?Math.pow(at[it]-ut[it],2):null;return ut.dist=p(lt=(tt||0)+(lt||0))?Math.sqrt(lt):Number.MAX_VALUE,ut.distX=p(tt)?Math.sqrt(tt):Number.MAX_VALUE,tt=0>(ct=at[ct]-ut[ct])?"right":"left",mt[lt=0>ct?"left":"right"]&&(H=(lt=V(at,mt[lt],_t+1,yt))[ot]<H[ot]?lt:ut),mt[tt]&&Math.sqrt(ct*ct)<H[ot]&&(H=(at=V(at,mt[tt],_t+1,yt))[ot]<H[ot]?at:H),H}(b,this.kdTree,z,z)},W.prototype.pointPlacementToXValue=function(){var b=this.options,z=b.pointRange,R=this.xAxis;return"between"===(b=b.pointPlacement)&&(b=R.reversed?-.5:.5),L(b)?b*(z||R.pointRange):0},W.prototype.isPointInside=function(b){var z=this.chart,R=this.xAxis,V=this.yAxis;return void 0!==b.plotY&&void 0!==b.plotX&&0<=b.plotY&&b.plotY<=(V?V.len:z.plotHeight)&&0<=b.plotX&&b.plotX<=(R?R.len:z.plotWidth)},W.prototype.drawTracker=function(){var b=this,z=b.options,R=z.trackByArea,V=[].concat(R?b.areaPath:b.graphPath),Z=b.chart,nt=Z.pointer,it=Z.renderer,ot=Z.options.tooltip.snap,at=b.tracker,mt=function(yt){Z.hoverSeries!==b&&b.onMouseOver()},_t="rgba(192,192,192,"+(T?1e-4:.002)+")";at?at.attr({d:V}):b.graph&&(b.tracker=it.path(V).attr({visibility:b.visible?"visible":"hidden",zIndex:2}).addClass(R?"highcharts-tracker-area":"highcharts-tracker-line").add(b.group),Z.styledMode||b.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:_t,fill:R?_t:"none","stroke-width":b.graph.strokeWidth()+(R?0:2*ot)}),[b.tracker,b.markerGroup,b.dataLabelsGroup].forEach(function(yt){yt&&(yt.addClass("highcharts-tracker").on("mouseover",mt).on("mouseout",function(ut){nt.onTrackerMouseOut(ut)}),z.cursor&&!Z.styledMode&&yt.css({cursor:z.cursor}),_)&&yt.on("touchstart",mt)})),w(this,"afterDrawTracker")},W.prototype.addPoint=function(b,z,R,V,Z){var nt=this.options,it=this.data,ot=this.chart,at=this.xAxis;at=at&&at.hasNames&&at.names;var yt,mt=nt.data,_t=this.xData;z=u(z,!0);var ut={series:this};this.pointClass.prototype.applyOptions.apply(ut,[b]);var ct=ut.x,H=_t.length;if(this.requireSorting&&ct<_t[H-1])for(yt=!0;H&&_t[H-1]>ct;)H--;this.updateParallelArrays(ut,"splice",H,0,0),this.updateParallelArrays(ut,H),at&&ut.name&&(at[ct]=ut.name),mt.splice(H,0,b),yt&&(this.data.splice(H,0,null),this.processData()),"point"===nt.legendType&&this.generatePoints(),R&&(it[0]&&it[0].remove?it[0].remove(!1):(it.shift(),this.updateParallelArrays(ut,"shift"),mt.shift())),!1!==Z&&w(this,"addPoint",{point:ut}),this.isDirtyData=this.isDirty=!0,z&&ot.redraw(V)},W.prototype.removePoint=function(b,z,R){var V=this,Z=V.data,nt=Z[b],it=V.points,ot=V.chart,at=function(){it&&it.length===Z.length&&it.splice(b,1),Z.splice(b,1),V.options.data.splice(b,1),V.updateParallelArrays(nt||{series:V},"splice",b,1),nt&&nt.destroy(),V.isDirty=!0,V.isDirtyData=!0,z&&ot.redraw()};g(R,ot),z=u(z,!0),nt?nt.firePointEvent("remove",null,at):at()},W.prototype.remove=function(b,z,R,V){function Z(){nt.destroy(V),it.isDirtyLegend=it.isDirtyBox=!0,it.linkSeries(),u(b,!0)&&it.redraw(z)}var nt=this,it=nt.chart;!1!==R?w(nt,"remove",null,Z):Z()},W.prototype.update=function(b,z){b=m(b,this.userOptions),w(this,"update",{options:b});var _t,R=this,V=R.chart,Z=R.userOptions,nt=R.initialType||R.type,it=V.options.plotOptions,ot=C[nt].prototype,at=R.finishedAnimating&&{animation:!1},mt={},yt=["eventOptions","navigatorSeries","baseSeries"],ut=b.type||Z.type||V.options.chart.type,ct=!(this.hasDerivedData||ut&&ut!==this.type||void 0!==b.pointStart||void 0!==b.pointInterval||void 0!==b.relativeXValue||R.hasOptionChanged("dataGrouping")||R.hasOptionChanged("pointStart")||R.hasOptionChanged("pointInterval")||R.hasOptionChanged("pointIntervalUnit")||R.hasOptionChanged("keys"));if(ut=ut||nt,ct&&(yt.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","clips","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==b.visible&&yt.push("area","graph"),R.parallelArrays.forEach(function(tt){yt.push(tt+"Data")}),b.data&&(b.dataSorting&&h(R.options.dataSorting,b.dataSorting),this.setData(b.data,!1))),b=B(Z,at,{index:void 0===Z.index?R.index:Z.index,pointStart:u(it&&it.series&&it.series.pointStart,Z.pointStart,R.xData[0])},!ct&&{data:R.options.data},b),ct&&b.data&&(b.data=R.options.data),(yt=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(yt)).forEach(function(tt){yt[tt]=R[tt],delete R[tt]}),it=!1,C[ut]){if(it=ut!==R.type,R.remove(!1,!1,!1,!0),it)if(Object.setPrototypeOf)Object.setPrototypeOf(R,C[ut].prototype);else{for(_t in at=Object.hasOwnProperty.call(R,"hcEvents")&&R.hcEvents,ot)R[_t]=void 0;h(R,C[ut].prototype),at?R.hcEvents=at:delete R.hcEvents}}else n(17,!0,V,{missingModuleFor:ut});if(yt.forEach(function(tt){R[tt]=yt[tt]}),R.init(V,b),ct&&this.points){var H=R.options;!1===H.visible?(mt.graphic=1,mt.dataLabel=1):R._hasPointLabels||(ot=H.dataLabels,!(b=H.marker)||!1!==b.enabled&&(Z.marker&&Z.marker.symbol)===b.symbol||(mt.graphic=1),ot&&!1===ot.enabled&&(mt.dataLabel=1)),this.points.forEach(function(tt){tt&&tt.series&&(tt.resolveColor(),Object.keys(mt).length&&tt.destroyElements(mt),!1===H.showInLegend&&tt.legendItem&&V.legend.destroyItem(tt))},this)}R.initialType=nt,V.linkSeries(),it&&R.linkedSeries.length&&(R.isDirtyData=!0),w(this,"afterUpdate"),u(z,!0)&&V.redraw(!!ct&&void 0)},W.prototype.setName=function(b){this.name=this.options.name=this.userOptions.name=b,this.chart.isDirtyLegend=!0},W.prototype.hasOptionChanged=function(b){var z=this.options[b],R=this.chart.options.plotOptions,V=this.userOptions[b];return V?z!==V:z!==u(R&&R[this.type]&&R[this.type][b],R&&R.series&&R.series[b],z)},W.prototype.onMouseOver=function(){var b=this.chart,z=b.hoverSeries;b.pointer.setHoverChartIndex(),z&&z!==this&&z.onMouseOut(),this.options.events.mouseOver&&w(this,"mouseOver"),this.setState("hover"),b.hoverSeries=this},W.prototype.onMouseOut=function(){var b=this.options,z=this.chart,R=z.tooltip,V=z.hoverPoint;z.hoverSeries=null,V&&V.onMouseOut(),this&&b.events.mouseOut&&w(this,"mouseOut"),!R||this.stickyTracking||R.shared&&!this.noSharedTooltip||R.hide(),z.series.forEach(function(Z){Z.setState("",!0)})},W.prototype.setState=function(b,z){var R=this,V=R.options,Z=R.graph,nt=V.inactiveOtherPoints,it=V.states,ot=u(it[b||"normal"]&&it[b||"normal"].animation,R.chart.options.chart.animation),at=V.lineWidth,mt=0,_t=V.opacity;if(R.state!==(b=b||"")&&([R.group,R.markerGroup,R.dataLabelsGroup].forEach(function(yt){yt&&(R.state&&yt.removeClass("highcharts-series-"+R.state),b&&yt.addClass("highcharts-series-"+b))}),R.state=b,!R.chart.styledMode)){if(it[b]&&!1===it[b].enabled)return;if(b&&(at=it[b].lineWidth||at+(it[b].lineWidthPlus||0),_t=u(it[b].opacity,_t)),Z&&!Z.dashstyle)for(Z.animate(V={"stroke-width":at},ot);R["zone-graph-"+mt];)R["zone-graph-"+mt].animate(V,ot),mt+=1;nt||[R.group,R.markerGroup,R.dataLabelsGroup,R.labelBySeries].forEach(function(yt){yt&&yt.animate({opacity:_t},ot)})}z&&nt&&R.points&&R.setAllPointsToState(b||void 0)},W.prototype.setAllPointsToState=function(b){this.points.forEach(function(z){z.setState&&z.setState(b)})},W.prototype.setVisible=function(b,z){var R=this,V=R.chart,Z=R.legendItem,nt=V.options.chart.ignoreHiddenSeries,ot=(R.visible=b=R.options.visible=R.userOptions.visible=void 0===b?!R.visible:b)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(at){R[at]&&R[at][ot]()}),(V.hoverSeries===R||(V.hoverPoint&&V.hoverPoint.series)===R)&&R.onMouseOut(),Z&&V.legend.colorizeItem(R,b),R.isDirty=!0,R.options.stacking&&V.series.forEach(function(at){at.options.stacking&&at.visible&&(at.isDirty=!0)}),R.linkedSeries.forEach(function(at){at.setVisible(b,!1)}),nt&&(V.isDirtyBox=!0),w(R,ot),!1!==z&&V.redraw()},W.prototype.show=function(){this.setVisible(!0)},W.prototype.hide=function(){this.setVisible(!1)},W.prototype.select=function(b){this.selected=b=this.options.selected=void 0===b?!this.selected:b,this.checkbox&&(this.checkbox.checked=b),w(this,b?"select":"unselect")},W.prototype.shouldShowTooltip=function(b,z,R){return void 0===R&&(R={}),R.series=this,R.visiblePlotOnly=!0,this.chart.isInsidePlot(b,z,R)},W.defaultOptions=X,W}(),h(Y.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:J.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:K,requireSorting:!0,sorted:!0}),F.series=Y,Y}),wt(o,"Extensions/ScrollablePlotArea.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/Series/Series.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){var X=Y.stop,F=K.addEvent,N=K.createElement,O=K.merge,k=K.pick;F(q,"afterSetChartSize",function(g){var d=this.options.chart.scrollablePlotArea,v=d&&d.minWidth;if(d=d&&d.minHeight,!this.renderer.forExport){if(v){if(this.scrollablePixelsX=v=Math.max(0,v-this.chartWidth)){this.scrollablePlotBox=this.renderer.scrollablePlotBox=O(this.plotBox),this.plotBox.width=this.plotWidth+=v,this.inverted?this.clipBox.height+=v:this.clipBox.width+=v;var _={1:{name:"right",value:v}}}}else d&&(this.scrollablePixelsY=v=Math.max(0,d-this.chartHeight))&&(this.scrollablePlotBox=this.renderer.scrollablePlotBox=O(this.plotBox),this.plotBox.height=this.plotHeight+=v,this.inverted?this.clipBox.width+=v:this.clipBox.height+=v,_={2:{name:"bottom",value:v}});_&&!g.skipAxes&&this.axes.forEach(function(T){_[T.side]?T.getPlotLinePath=function(){var y=_[T.side].name,C=this[y];this[y]=C-_[T.side].value;var M=$.prototype.getPlotLinePath.apply(this,arguments);return this[y]=C,M}:(T.setAxisSize(),T.setAxisTranslation())})}}),F(q,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),q.prototype.setUpScrolling=function(){var g=this,d={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(d.overflowX="auto"),this.scrollablePixelsY&&(d.overflowY="auto"),this.scrollingParent=N("div",{className:"highcharts-scrolling-parent"},{position:"relative"},this.renderTo),this.scrollingContainer=N("div",{className:"highcharts-scrolling"},d,this.scrollingParent),F(this.scrollingContainer,"scroll",function(){g.pointer&&delete g.pointer.chartPosition}),this.innerContainer=N("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},q.prototype.moveFixedElements=function(){var _,g=this.container,d=this.fixedRenderer,v=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-drillup-button .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?_=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted||this.scrollablePixelsY&&!this.inverted?_=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(_=".highcharts-yaxis"),_&&v.push(_+":not(.highcharts-radial-axis)",_+"-labels:not(.highcharts-radial-axis-labels)"),v.forEach(function(T){[].forEach.call(g.querySelectorAll(T),function(y){(y.namespaceURI===d.SVG_NS?d.box:d.box.parentNode).appendChild(y),y.style.pointerEvents="auto"})})},q.prototype.applyFixed=function(){var g=!this.fixedDiv,d=this.options.chart,v=d.scrollablePlotArea,_=J.getRendererType();g?(this.fixedDiv=N("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(d.style&&d.style.zIndex||0)+2,top:0},null,!0),this.scrollingContainer&&this.scrollingContainer.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=d=new _(this.fixedDiv,this.chartWidth,this.chartHeight,this.options.chart.style),this.scrollableMask=d.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":k(v.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),F(this,"afterShowResetZoom",this.moveFixedElements),F(this,"afterDrilldown",this.moveFixedElements),F(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),(this.scrollableDirty||g)&&(this.scrollableDirty=!1,this.moveFixedElements()),d=this.chartWidth+(this.scrollablePixelsX||0),_=this.chartHeight+(this.scrollablePixelsY||0),X(this.container),this.container.style.width=d+"px",this.container.style.height=_+"px",this.renderer.boxWrapper.attr({width:d,height:_,viewBox:[0,0,d,_].join(" ")}),this.chartBackground.attr({width:d,height:_}),this.scrollingContainer.style.height=this.chartHeight+"px",g&&(v.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*v.scrollPositionX),v.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*v.scrollPositionY)),g=this.plotTop-(_=this.axisOffset)[0]-1,v=this.plotLeft-_[3]-1,d=this.plotTop+this.plotHeight+_[2]+1,_=this.plotLeft+this.plotWidth+_[1]+1;var T=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),y=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);g=this.scrollablePixelsX?[["M",0,g],["L",this.plotLeft-1,g],["L",this.plotLeft-1,d],["L",0,d],["Z"],["M",T,g],["L",this.chartWidth,g],["L",this.chartWidth,d],["L",T,d],["Z"]]:this.scrollablePixelsY?[["M",v,0],["L",v,this.plotTop-1],["L",_,this.plotTop-1],["L",_,0],["Z"],["M",v,y],["L",v,this.chartHeight],["L",_,this.chartHeight],["L",_,y],["Z"]]:[["M",0,0]],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:g})},F($,"afterInit",function(){this.chart.scrollableDirty=!0}),F(rt,"show",function(){this.chart.scrollableDirty=!0})}),wt(o,"Core/Axis/StackingAxis.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/Axis.js"],o["Core/Utilities.js"]],function(Y,$,q){var O,rt=Y.getDeferredAnimation,J=q.addEvent,K=q.destroyObjectProperties,X=q.fireEvent,F=q.isNumber,N=q.objectEach;return function(k){function g(){var T=this.stacking;if(T){var y=T.stacks;N(y,function(C,M){K(C),y[M]=null}),T&&T.stackTotalGroup&&T.stackTotalGroup.destroy()}}function d(){this.stacking||(this.stacking=new _(this))}var v=[];k.compose=function(T){return-1===v.indexOf(T)&&(v.push(T),J(T,"init",d),J(T,"destroy",g)),T};var _=function(){function T(y){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=y}return T.prototype.buildStacks=function(){var x,y=this.axis,C=y.series,M=y.options.reversedStacks,D=C.length;if(!y.isXAxis){for(this.usePercentage=!1,x=D;x--;){var f=C[M?x:D-x-1];f.setStackedPoints(),f.setGroupedPoints()}for(x=0;x<D;x++)C[x].modifyStacks();X(y,"afterBuildStacks")}},T.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var y=this.stacks=this.oldStacks;N(y,function(C){N(C,function(M){M.cumulative=M.total})})}},T.prototype.resetStacks=function(){var y=this;y.axis.isXAxis||N(y.stacks,function(M){N(M,function(D,x){F(D.touched)&&D.touched<y.stacksTouched?(D.destroy(),delete M[x]):(D.total=null,D.cumulative=null)})})},T.prototype.renderStackTotals=function(){var y=this.axis,C=y.chart,M=C.renderer,D=this.stacks;y=rt(C,y.options.stackLabels&&y.options.stackLabels.animation||!1);var x=this.stackTotalGroup=this.stackTotalGroup||M.g("stack-labels").attr({visibility:"visible",zIndex:6,opacity:0}).add();x.translate(C.plotLeft,C.plotTop),N(D,function(f){N(f,function(m){m.render(x)})}),x.animate({opacity:1},y)},T}();k.Additions=_}(O||(O={})),O}),wt(o,"Extensions/Stacking.js",[o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Series/Series.js"],o["Core/Axis/StackingAxis.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X){var F=q.format,N=X.correctFloat,O=X.defined,k=X.destroyObjectProperties,g=X.isArray,d=X.isNumber,v=X.objectEach,_=X.pick,T=function(){function y(C,M,D,x,f){var m=C.chart.inverted;this.axis=C,this.isNegative=D,this.options=M=M||{},this.x=x,this.total=null,this.points={},this.hasValidPoints=!1,this.stack=f,this.rightCliff=this.leftCliff=0,this.alignOptions={align:M.align||(m?D?"left":"right":"center"),verticalAlign:M.verticalAlign||(m?"middle":D?"bottom":"top"),y:M.y,x:M.x},this.textAlign=M.textAlign||(m?D?"right":"left":"center")}return y.prototype.destroy=function(){k(this,this.axis)},y.prototype.render=function(C){var M=this.axis.chart,D=this.options,x=D.format;x=x?F(x,this,M):D.formatter.call(this),this.label?this.label.attr({text:x,visibility:"hidden"}):(this.label=M.renderer.label(x,null,null,D.shape,null,null,D.useHTML,!1,"stack-labels"),x={r:D.borderRadius||0,text:x,rotation:D.rotation,padding:_(D.padding,5),visibility:"hidden"},M.styledMode||(x.fill=D.backgroundColor,x.stroke=D.borderColor,x["stroke-width"]=D.borderWidth,this.label.css(D.style)),this.label.attr(x),this.label.added||this.label.add(C)),this.label.labelrank=M.plotSizeY},y.prototype.setOffset=function(C,M,D,x,f){var m=this.axis,r=m.chart;x=m.translate(m.stacking.usePercentage?100:x||this.total,0,0,0,1),D=m.translate(D||0),D=O(x)&&Math.abs(x-D),C=_(f,r.xAxis[0].translate(this.x))+C,m=O(x)&&this.getStackBox(r,this,C,x,M,D,m),M=this.label,D=this.isNegative,C="justify"===_(this.options.overflow,"justify");var p=this.textAlign;M&&m&&(f=M.getBBox(),x=M.padding,p="left"===p?r.inverted?-x:x:"right"===p?f.width:r.inverted&&"center"===p?f.width/2:r.inverted?D?f.width+x:-x:f.width/2,D=r.inverted?f.height/2:D?-x:f.height,this.alignOptions.x=_(this.options.x,0),this.alignOptions.y=_(this.options.y,0),m.x-=p,m.y-=D,M.align(this.alignOptions,null,m),r.isInsidePlot(M.alignAttr.x+p-this.alignOptions.x,M.alignAttr.y+D-this.alignOptions.y)?M.show():(M.alignAttr.y=-9999,C=!1),C&&J.prototype.justifyDataLabel.call(this.axis,M,this.alignOptions,M.alignAttr,f,m),M.attr({x:M.alignAttr.x,y:M.alignAttr.y}),_(!C&&this.options.crop,!0)&&((r=d(M.x)&&d(M.y)&&r.isInsidePlot(M.x-x+M.width,M.y)&&r.isInsidePlot(M.x+x,M.y))||M.hide()))},y.prototype.getStackBox=function(C,M,D,x,f,m,r){var p=M.axis.reversed,a=C.inverted,n=r.height+r.pos-(a?C.plotLeft:C.plotTop);return M=M.isNegative&&!p||!M.isNegative&&p,{x:a?M?x-r.right:x-m+r.pos-C.plotLeft:D+C.xAxis[0].transB-C.plotLeft,y:a?r.height-D-f:M?n-x-m:n-x,width:a?m:f,height:a?f:m}},y}();return $.prototype.getStacks=function(){var y=this,C=y.inverted;y.yAxis.forEach(function(M){M.stacking&&M.stacking.stacks&&M.hasVisibleSeries&&(M.stacking.oldStacks=M.stacking.stacks)}),y.series.forEach(function(M){var D=M.xAxis&&M.xAxis.options||{};!M.options.stacking||!0!==M.visible&&!1!==y.options.chart.ignoreHiddenSeries||(M.stackKey=[M.type,_(M.options.stack,""),C?D.top:D.left,C?D.height:D.width].join())})},K.compose(Y),J.prototype.setGroupedPoints=function(){var y=this.yAxis.stacking;this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length?J.prototype.setStackedPoints.call(this,"group"):y&&v(y.stacks,function(C,M){"group"===M.slice(-5)&&(v(C,function(D){return D.destroy()}),delete y.stacks[M])})},J.prototype.setStackedPoints=function(y){var C=y||this.options.stacking;if(C&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var M=this.processedXData,D=this.processedYData,x=[],f=D.length,m=this.options,r=m.threshold,p=_(m.startFromThreshold&&r,0);m=m.stack;var P,I,a="-"+(y=y?this.type+","+C:this.stackKey),n=this.negStacks,h=this.yAxis,l=h.stacking.stacks,w=h.stacking.oldStacks;for(h.stacking.stacksTouched+=1,I=0;I<f;I++){var L=M[I],S=D[I],B=this.getStackIndicator(B,L,this.index),c=B.key,u=(P=n&&S<(p?0:r))?a:y;l[u]||(l[u]={}),l[u][L]||(w[u]&&w[u][L]?(l[u][L]=w[u][L],l[u][L].total=null):l[u][L]=new T(h,h.options.stackLabels,P,L,m)),u=l[u][L],null!==S?(u.points[c]=u.points[this.index]=[_(u.cumulative,p)],O(u.cumulative)||(u.base=c),u.touched=h.stacking.stacksTouched,0<B.index&&!1===this.singleStacks&&(u.points[c][0]=u.points[this.index+","+L+",0"][0])):u.points[c]=u.points[this.index]=null,"percent"===C?(P=P?y:a,u.total=n&&l[P]&&l[P][L]?(P=l[P][L]).total=Math.max(P.total,u.total)+Math.abs(S)||0:N(u.total+(Math.abs(S)||0))):"group"===C?(g(S)&&(S=S[0]),null!==S&&(u.total=(u.total||0)+1)):u.total=N(u.total+(S||0)),u.cumulative="group"===C?(u.total||1)-1:_(u.cumulative,p)+(S||0),null!==S&&(u.points[c].push(u.cumulative),x[I]=u.cumulative,u.hasValidPoints=!0)}"percent"===C&&(h.stacking.usePercentage=!0),"group"!==C&&(this.stackedYData=x),h.stacking.oldStacks={}}},J.prototype.modifyStacks=function(){var x,y=this,C=y.stackKey,M=y.yAxis.stacking.stacks,D=y.processedXData,f=y.options.stacking;y[f+"Stacker"]&&[C,"-"+C].forEach(function(m){for(var p,a,r=D.length;r--;)x=y.getStackIndicator(x,p=D[r],y.index,m),(a=(p=M[m]&&M[m][p])&&p.points[x.key])&&y[f+"Stacker"](a,p,r)})},J.prototype.percentStacker=function(y,C,M){y[0]=N(y[0]*(C=C.total?100/C.total:0)),y[1]=N(y[1]*C),this.stackedYData[M]=y[1]},J.prototype.getStackIndicator=function(y,C,M,D){return!O(y)||y.x!==C||D&&y.key!==D?y={x:C,index:0,key:D}:y.index++,y.key=[M,C,y.index].join(),y},rt.StackItem=T,rt.StackItem}),wt(o,"Series/Line/LineSeries.js",[o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var X,rt=this&&this.__extends||(X=function(F,N){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var g in k)k.hasOwnProperty(g)&&(O[g]=k[g])})(F,N)},function(F,N){function O(){this.constructor=F}X(F,N),F.prototype=null===N?Object.create(N):(O.prototype=N.prototype,new O)}),J=q.defined,K=q.merge;return q=function(X){function F(){var N=null!==X&&X.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return rt(F,X),F.prototype.drawGraph=function(){var N=this,O=this.options,k=(this.gappedPath||this.getGraphPath).call(this),g=this.chart.styledMode,d=[["graph","highcharts-graph"]];g||d[0].push(O.lineColor||this.color||"#cccccc",O.dashStyle),(d=N.getZonesGraphs(d)).forEach(function(v,_){var T=v[0],y=N[T],C=y?"animate":"attr";y?(y.endX=N.preventGraphAnimation?null:k.xMap,y.animate({d:k})):k.length&&(N[T]=y=N.chart.renderer.path(k).addClass(v[1]).attr({zIndex:1}).add(N.group)),y&&!g&&(T={stroke:v[2],"stroke-width":O.lineWidth,fill:N.fillGraph&&N.color||"none"},v[3]?T.dashstyle=v[3]:"square"!==O.linecap&&(T["stroke-linecap"]=T["stroke-linejoin"]="round"),y[C](T).shadow(2>_&&O.shadow)),y&&(y.startX=k.xMap,y.isArea=k.isArea)})},F.prototype.getGraphPath=function(N,O,k){var T,g=this,d=g.options,v=[],_=[],y=d.step,C=(N=N||g.points).reversed;return C&&N.reverse(),(y={right:1,center:2}[y]||y&&3)&&C&&(y=4-y),(N=this.getValidPoints(N,!1,!(d.connectNulls&&!O&&!k))).forEach(function(M,D){var x=M.plotX,f=M.plotY,m=N[D-1];(M.leftCliff||m&&m.rightCliff)&&!k&&(T=!0),M.isNull&&!J(O)&&0<D?T=!d.connectNulls:M.isNull&&!O?T=!0:(0===D||T?D=[["M",M.plotX,M.plotY]]:g.getPointSpline?D=[g.getPointSpline(N,M,D)]:y?(D=1===y?[["L",m.plotX,f]]:2===y?[["L",(m.plotX+x)/2,m.plotY],["L",(m.plotX+x)/2,f]]:[["L",x,m.plotY]]).push(["L",x,f]):D=[["L",x,f]],_.push(M.x),y&&(_.push(M.x),2===y&&_.push(M.x)),v.push.apply(v,D),T=!1)}),v.xMap=_,g.graphPath=v},F.prototype.getZonesGraphs=function(N){return this.zones.forEach(function(O,k){k=["zone-graph-"+k,"highcharts-graph highcharts-zone-graph-"+k+" "+(O.className||"")],this.chart.styledMode||k.push(O.color||this.color,O.dashStyle||this.options.dashStyle),N.push(k)},this),N},F.defaultOptions=K(Y.defaultOptions,{}),F}(Y),$.registerSeriesType("line",q),q}),wt(o,"Series/Area/AreaSeries.js",[o["Core/Color/Color.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var k,J=this&&this.__extends||(k=function(g,d){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var T in _)_.hasOwnProperty(T)&&(v[T]=_[T])})(g,d)},function(g,d){function v(){this.constructor=g}k(g,d),g.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)}),K=Y.parse,X=q.seriesTypes.line;Y=rt.extend;var F=rt.merge,N=rt.objectEach,O=rt.pick;return rt=function(k){function g(){var d=null!==k&&k.apply(this,arguments)||this;return d.data=void 0,d.options=void 0,d.points=void 0,d}return J(g,k),g.prototype.drawGraph=function(){this.areaPath=[],k.prototype.drawGraph.apply(this);var d=this,v=this.areaPath,_=this.options,T=[["area","highcharts-area",this.color,_.fillColor]];this.zones.forEach(function(y,C){T.push(["zone-area-"+C,"highcharts-area highcharts-zone-area-"+C+" "+y.className,y.color||d.color,y.fillColor||_.fillColor])}),T.forEach(function(y){var C=y[0],M=d[C],D=M?"animate":"attr",x={};M?(M.endX=d.preventGraphAnimation?null:v.xMap,M.animate({d:v})):(x.zIndex=0,(M=d[C]=d.chart.renderer.path(v).addClass(y[1]).add(d.group)).isArea=!0),d.chart.styledMode||(x.fill=O(y[3],K(y[2]).setOpacity(O(_.fillOpacity,.75)).get())),M[D](x),M.startX=v.xMap,M.shiftUnit=_.step?2:1})},g.prototype.getGraphPath=function(d){var C,v=X.prototype.getGraphPath,_=this.options,T=_.stacking,y=this.yAxis,M=[],D=[],x=this.index,f=y.stacking.stacks[this.stackKey],m=_.threshold,r=Math.round(y.getThreshold(_.threshold));_=O(_.connectNulls,"percent"===T);var p=function(l,w,P){var I=d[l];l=T&&f[I.x].points[x];var L=I[P+"Null"]||0;if(P=I[P+"Cliff"]||0,I=!0,P||L){var S=(L?l[0]:l[1])+P,B=l[0]+P;I=!!L}else!T&&d[w]&&d[w].isNull&&(S=B=m);void 0!==S&&(D.push({plotX:n,plotY:null===S?r:y.getThreshold(S),isNull:I,isCliff:!0}),M.push({plotX:n,plotY:null===B?r:y.getThreshold(B),doCurve:!1}))};for(d=d||this.points,T&&(d=this.getStackPoints(d)),C=0;C<d.length;C++){T||(d[C].leftCliff=d[C].rightCliff=d[C].leftNull=d[C].rightNull=void 0);var a=d[C].isNull,n=O(d[C].rectPlotX,d[C].plotX),h=T?O(d[C].yBottom,r):r;(!a||_)&&(_||p(C,C-1,"left"),a&&!T&&_||(D.push(d[C]),M.push({x:C,plotX:n,plotY:h})),_||p(C,C+1,"right"))}return C=v.call(this,D,!0,!0),M.reversed=!0,(h=(a=v.call(this,M,!0,!0))[0])&&"M"===h[0]&&(a[0]=["L",h[1],h[2]]),(a=C.concat(a)).length&&a.push(["Z"]),v=v.call(this,D,!1,_),a.xMap=C.xMap,this.areaPath=a,v},g.prototype.getStackPoints=function(d){var v=this,_=[],T=[],y=this.xAxis,C=this.yAxis,M=C.stacking.stacks[this.stackKey],D={},x=C.series,f=x.length,m=C.options.reversedStacks?1:-1,r=x.indexOf(v);if(d=d||this.points,this.options.stacking){for(var p=0;p<d.length;p++)d[p].leftNull=d[p].rightNull=void 0,D[d[p].x]=d[p];N(M,function(n,h){null!==n.total&&T.push(h)}),T.sort(function(n,h){return n-h});var a=x.map(function(n){return n.visible});T.forEach(function(n,h){var w,P,l=0;if(D[n]&&!D[n].isNull)_.push(D[n]),[-1,1].forEach(function(L){var S=1===L?"rightNull":"leftNull",B=0,c=M[T[h+L]];if(c)for(var u=r;0<=u&&u<f;){var E=x[u].index;(w=c.points[E])||(E===v.index?D[n][S]=!0:a[u]&&(P=M[n].points[E])&&(B-=P[1]-P[0])),u+=m}D[n][1===L?"rightCliff":"leftCliff"]=B});else{for(var I=r;0<=I&&I<f;){if(w=M[n].points[x[I].index]){l=w[1];break}I+=m}l=O(l,0),l=C.translate(l,0,1,0,1),_.push({isNull:!0,plotX:y.translate(n,0,0,0,1),x:n,plotY:l,yBottom:l})}})}return _},g.defaultOptions=F(X.defaultOptions,{threshold:0}),g}(X),Y(rt.prototype,{singleStacks:!1,drawLegendSymbol:$.drawRectangle}),q.registerSeriesType("area",rt),rt}),wt(o,"Series/Spline/SplineSeries.js",[o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$){var X,q=this&&this.__extends||(X=function(F,N){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var g in k)k.hasOwnProperty(g)&&(O[g]=k[g])})(F,N)},function(F,N){function O(){this.constructor=F}X(F,N),F.prototype=null===N?Object.create(N):(O.prototype=N.prototype,new O)}),rt=Y.seriesTypes.line,J=$.merge,K=$.pick;return $=function(X){function F(){var N=null!==X&&X.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return q(F,X),F.prototype.getPointSpline=function(N,O,k){var g=O.plotX||0,d=O.plotY||0,v=N[k-1];if(k=N[k+1],v&&!v.isNull&&!1!==v.doCurve&&!O.isCliff&&k&&!k.isNull&&!1!==k.doCurve&&!O.isCliff){var _=k.plotX||0,T=0,y=(1.5*g+(v.plotX||0))/2.5,C=(1.5*d+(N=v.plotY||0))/2.5,M=(1.5*d+(k=k.plotY||0))/2.5;(_=(1.5*g+_)/2.5)!==y&&(T=(M-C)*(_-g)/(_-y)+d-M),M+=T,(C+=T)>N&&C>d?M=2*d-(C=Math.max(N,d)):C<N&&C<d&&(M=2*d-(C=Math.min(N,d))),M>k&&M>d?C=2*d-(M=Math.max(k,d)):M<k&&M<d&&(C=2*d-(M=Math.min(k,d))),O.rightContX=_,O.rightContY=M}return O=["C",K(v.rightContX,v.plotX,0),K(v.rightContY,v.plotY,0),K(y,g,0),K(C,d,0),g,d],v.rightContX=v.rightContY=void 0,O},F.defaultOptions=J(rt.defaultOptions),F}(rt),Y.registerSeriesType("spline",$),$}),wt(o,"Series/AreaSpline/AreaSplineSeries.js",[o["Series/Area/AreaSeries.js"],o["Series/Spline/SplineSeries.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var O,K=this&&this.__extends||(O=function(k,g){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var _ in v)v.hasOwnProperty(_)&&(d[_]=v[_])})(k,g)},function(k,g){function d(){this.constructor=k}O(k,g),k.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}),X=Y.prototype,F=J.extend,N=J.merge;return J=function(O){function k(){var g=null!==O&&O.apply(this,arguments)||this;return g.data=void 0,g.points=void 0,g.options=void 0,g}return K(k,O),k.defaultOptions=N($.defaultOptions,Y.defaultOptions),k}($),F(J.prototype,{getGraphPath:X.getGraphPath,getStackPoints:X.getStackPoints,drawGraph:X.drawGraph,drawLegendSymbol:q.drawRectangle}),rt.registerSeriesType("areaspline",J),J}),wt(o,"Series/Column/ColumnSeries.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X){var f,F=this&&this.__extends||(f=function(m,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var n in a)a.hasOwnProperty(n)&&(p[n]=a[n])})(m,r)},function(m,r){function p(){this.constructor=m}f(m,r),m.prototype=null===r?Object.create(r):(p.prototype=r.prototype,new p)}),N=Y.animObject,O=$.parse,k=q.hasTouch;Y=q.noop;var g=X.clamp,d=X.css,v=X.defined,_=X.extend,T=X.fireEvent,y=X.isArray,C=X.isNumber,M=X.merge,D=X.pick,x=X.objectEach;return X=function(f){function m(){var r=null!==f&&f.apply(this,arguments)||this;return r.borderWidth=void 0,r.data=void 0,r.group=void 0,r.options=void 0,r.points=void 0,r}return F(m,f),m.prototype.animate=function(r){var p=this,a=this.yAxis,n=p.options,h=this.chart.inverted,l={},w=h?"translateX":"translateY";if(r)l.scaleY=.001,r=g(a.toPixels(n.threshold),a.pos,a.pos+a.len),h?l.translateX=r-a.len:l.translateY=r,p.clipBox&&p.setClip(),p.group.attr(l);else{var P=Number(p.group.attr(w));p.group.animate({scaleY:1},_(N(p.options.animation),{step:function(I,L){p.group&&(l[w]=P+L.pos*(a.pos-P),p.group.attr(l))}}))}},m.prototype.init=function(r,p){f.prototype.init.apply(this,arguments);var a=this;(r=a.chart).hasRendered&&r.series.forEach(function(n){n.type===a.type&&(n.isDirty=!0)})},m.prototype.getColumnMetrics=function(){var r=this,p=r.options,a=r.xAxis,n=r.yAxis,h=a.options.reversedStacks;h=a.reversed&&!h||!a.reversed&&h;var w,l={},P=0;!1===p.grouping?P=1:r.chart.series.forEach(function(B){var c=B.yAxis,u=B.options;if(B.type===r.type&&(B.visible||!r.chart.options.chart.ignoreHiddenSeries)&&n.len===c.len&&n.pos===c.pos){if(u.stacking&&"group"!==u.stacking){void 0===l[w=B.stackKey]&&(l[w]=P++);var E=l[w]}else!1!==u.grouping&&(E=P++);B.columnIndex=E}});var I=Math.min(Math.abs(a.transA)*(a.ordinal&&a.ordinal.slope||p.pointRange||a.closestPointRange||a.tickInterval||1),a.len),L=I*p.groupPadding,S=(I-2*L)/(P||1);return p=Math.min(p.maxPointWidth||a.len,D(p.pointWidth,S*(1-2*p.pointPadding))),r.columnMetrics={width:p,offset:(S-p)/2+(L+((r.columnIndex||0)+(h?1:0))*S-I/2)*(h?-1:1),paddedWidth:S,columnCount:P},r.columnMetrics},m.prototype.crispCol=function(r,p,a,n){var h=this.chart,l=this.borderWidth,w=-(l%2?.5:0);return l=l%2?.5:1,h.inverted&&h.renderer.isVML&&(l+=1),this.options.crisp&&(a=Math.round(r+a)+w,a-=r=Math.round(r)+w),n=Math.round(p+n)+l,w=.5>=Math.abs(p)&&.5<n,n-=p=Math.round(p)+l,w&&n&&(--p,n+=1),{x:r,y:p,width:a,height:n}},m.prototype.adjustForMissingColumns=function(r,p,a,n){var h=this,l=this.options.stacking;if(!a.isNull&&1<n.columnCount){var w=0,P=0;x(this.yAxis.stacking&&this.yAxis.stacking.stacks,function(I){if("number"==typeof a.x&&(I=I[a.x.toString()])){var L=I.points[h.index],S=I.total;l?(L&&(w=P),I.hasValidPoints&&P++):y(L)&&(w=L[1],P=S||0)}}),r=(a.plotX||0)+((P-1)*n.paddedWidth+p)/2-p-w*n.paddedWidth}return r},m.prototype.translate=function(){var r=this,p=r.chart,a=r.options,n=r.dense=2>r.closestPointRange*r.xAxis.transA;n=r.borderWidth=D(a.borderWidth,n?0:1);var h=r.xAxis,l=r.yAxis,w=a.threshold,P=r.translatedThreshold=l.getThreshold(w),I=D(a.minPointLength,5),L=r.getColumnMetrics(),S=L.width,B=r.pointXOffset=L.offset,c=r.dataMin,u=r.dataMax,E=r.barW=Math.max(S,1+2*n);p.inverted&&(P-=.5),a.pointPadding&&(E=Math.ceil(E)),J.prototype.translate.apply(r),r.points.forEach(function(j){var G=D(j.yBottom,P),W=999+Math.abs(G),b=j.plotX||0;W=g(j.plotY,-W,l.len+W);var z=Math.min(W,G),R=Math.max(W,G)-z,V=S,Z=b+B,nt=E;I&&Math.abs(R)<I&&(R=I,b=!l.reversed&&!j.negative||l.reversed&&j.negative,C(w)&&C(u)&&j.y===w&&u<=w&&(l.min||0)<w&&(c!==u||(l.max||0)<=w)&&(b=!b),z=Math.abs(z-P)>I?G-I:P-(b?I:0)),v(j.options.pointWidth)&&(V=nt=Math.ceil(j.options.pointWidth),Z-=Math.round((V-S)/2)),a.centerInCategory&&(Z=r.adjustForMissingColumns(Z,V,j,L)),j.barX=Z,j.pointWidth=V,j.tooltipPos=p.inverted?[g(l.len+l.pos-p.plotLeft-W,l.pos-p.plotLeft,l.len+l.pos-p.plotLeft),h.len+h.pos-p.plotTop-Z-nt/2,R]:[h.left-p.plotLeft+Z+nt/2,g(W+l.pos-p.plotTop,l.pos-p.plotTop,l.len+l.pos-p.plotTop),R],j.shapeType=r.pointClass.prototype.shapeType||"rect",j.shapeArgs=r.crispCol.apply(r,j.isNull?[Z,P,nt,0]:[Z,z,nt,R])})},m.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},m.prototype.pointAttribs=function(r,p){var a=this.options,n=this.pointAttrToOptions||{},h=n.stroke||"borderColor",l=n["stroke-width"]||"borderWidth",w=r&&r.color||this.color,P=r&&r[h]||a[h]||w;n=r&&r.options.dashStyle||a.dashStyle;var I=r&&r[l]||a[l]||this[l]||0,L=D(r&&r.opacity,a.opacity,1);if(r&&this.zones.length){var S=r.getZone();w=r.options.color||S&&(S.color||r.nonZonedColor)||this.color,S&&(P=S.borderColor||P,n=S.dashStyle||n,I=S.borderWidth||I)}return p&&r&&(p=(r=M(a.states[p],r.options.states&&r.options.states[p]||{})).brightness,w=r.color||void 0!==p&&O(w).brighten(r.brightness).get()||w,P=r[h]||P,I=r[l]||I,n=r.dashStyle||n,L=D(r.opacity,L)),h={fill:w,stroke:P,"stroke-width":I,opacity:L},n&&(h.dashstyle=n),h},m.prototype.drawPoints=function(){var l,r=this,p=this.chart,a=r.options,n=p.renderer,h=a.animationLimit||250;r.points.forEach(function(w){var P=w.graphic,I=!!P,L=P&&p.pointCount<h?"animate":"attr";C(w.plotY)&&null!==w.y?(l=w.shapeArgs,P&&w.hasNewShapeType()&&(P=P.destroy()),r.enabledDataSorting&&(w.startXPos=r.xAxis.reversed?-(l&&l.width||0):r.xAxis.width),P||(w.graphic=P=n[w.shapeType](l).add(w.group||r.group))&&r.enabledDataSorting&&p.hasRendered&&p.pointCount<h&&(P.attr({x:w.startXPos}),I=!0,L="animate"),P&&I&&P[L](M(l)),a.borderRadius&&P[L]({r:a.borderRadius}),p.styledMode||P[L](r.pointAttribs(w,w.selected&&"select")).shadow(!1!==w.allowShadow&&a.shadow,null,a.stacking&&!a.borderRadius),P&&(P.addClass(w.getClassName(),!0),P.attr({visibility:w.visible?"inherit":"hidden"}))):P&&(w.graphic=P.destroy())})},m.prototype.drawTracker=function(){var h,r=this,p=r.chart,a=p.pointer,n=function(l){var w=a.getPointFromEvent(l);void 0!==w&&(a.isDirectTouch=!0,w.onMouseOver(l))};r.points.forEach(function(l){h=y(l.dataLabels)?l.dataLabels:l.dataLabel?[l.dataLabel]:[],l.graphic&&(l.graphic.element.point=l),h.forEach(function(w){w.div?w.div.point=l:w.element.point=l})}),r._hasTracking||(r.trackerGroups.forEach(function(l){r[l]&&(r[l].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(w){a.onTrackerMouseOut(w)}),k&&r[l].on("touchstart",n),!p.styledMode&&r.options.cursor&&r[l].css(d).css({cursor:r.options.cursor}))}),r._hasTracking=!0),T(this,"afterDrawTracker")},m.prototype.remove=function(){var r=this,p=r.chart;p.hasRendered&&p.series.forEach(function(a){a.type===r.type&&(a.isDirty=!0)}),J.prototype.remove.apply(r,arguments)},m.defaultOptions=M(J.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),m}(J),_(X.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:rt.drawRectangle,getSymbol:Y,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),K.registerSeriesType("column",X),X}),wt(o,"Core/Series/DataLabel.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/FormatUtilities.js"],o["Core/Utilities.js"]],function(Y,$,q){var v,rt=Y.getDeferredAnimation,J=$.format,K=q.defined,X=q.extend,F=q.fireEvent,N=q.isArray,O=q.merge,k=q.objectEach,g=q.pick,d=q.splat;return function(_){function T(m,r,p,a,n){var h=this,l=this.chart,w=this.isCartesian&&l.inverted,P=this.enabledDataSorting,I=g(m.dlBox&&m.dlBox.centerX,m.plotX,-9999),L=g(m.plotY,-9999),S=r.getBBox(),B=p.rotation,c=p.align,u=l.isInsidePlot(I,Math.round(L),{inverted:w,paneCoordinates:!0,series:h}),E=function(b){P&&h.xAxis&&!j&&h.setDataLabelStartPos(m,r,n,u,b)},j="justify"===g(p.overflow,P?"none":"justify"),G=this.visible&&!1!==m.visible&&(m.series.forceDL||P&&!j||u||g(p.inside,!!this.options.stacking)&&a&&l.isInsidePlot(I,w?a.x+1:a.y+a.height-1,{inverted:w,paneCoordinates:!0,series:h}));if(G){var W=l.renderer.fontMetrics(l.styledMode?void 0:p.style.fontSize,r).b;a=X({x:w?this.yAxis.len-L:I,y:Math.round(w?this.xAxis.len-I:L),width:0,height:0},a),X(p,{width:S.width,height:S.height}),B?(j=!1,I=l.renderer.rotCorr(W,B),E(I={x:a.x+(p.x||0)+a.width/2+I.x,y:a.y+(p.y||0)+{top:0,middle:.5,bottom:1}[p.verticalAlign]*a.height}),r[n?"attr":"animate"](I).attr({align:c}),E=180<(E=(B+720)%360)&&360>E,"left"===c?I.y-=E?S.height:0:"center"===c?(I.x-=S.width/2,I.y-=S.height/2):"right"===c&&(I.x-=S.width,I.y-=E?0:S.height),r.placed=!0,r.alignAttr=I):(E(a),r.align(p,void 0,a),I=r.alignAttr),j&&0<=a.height?this.justifyDataLabel(r,p,I,S,a,n):g(p.crop,!0)&&(G=l.isInsidePlot(I.x,I.y,{paneCoordinates:!0,series:h})&&l.isInsidePlot(I.x+S.width,I.y+S.height,{paneCoordinates:!0,series:h})),p.shape&&!B&&r[n?"attr":"animate"]({anchorX:w?l.plotWidth-m.plotY:m.plotX,anchorY:w?l.plotHeight-m.plotX:m.plotY})}n&&P&&(r.placed=!1),G||P&&!j||(r.hide(!0),r.placed=!1)}function C(){var m=this,r=m.chart,p=m.options,a=m.points,n=m.hasRendered||0,h=r.renderer,l=p.dataLabels,P=l.animation;if(P=l.defer?rt(r,P,m):{defer:0,duration:0},l=D(D(r.options.plotOptions&&r.options.plotOptions.series&&r.options.plotOptions.series.dataLabels,r.options.plotOptions&&r.options.plotOptions[m.type]&&r.options.plotOptions[m.type].dataLabels),l),F(this,"drawDataLabels"),N(l)||l.enabled||m._hasPointLabels){var I=m.plotGroup("dataLabelsGroup","data-labels",n?"inherit":"hidden",l.zIndex||6);I.attr({opacity:+n}),!n&&(n=m.dataLabelsGroup)&&(m.visible&&I.show(!0),n[p.animation?"animate":"attr"]({opacity:1},P)),a.forEach(function(L){d(D(l,L.dlOptions||L.options&&L.options.dataLabels)).forEach(function(S,B){var c=S.enabled&&(!L.isNull||L.dataLabelOnNull)&&function(m,r){var p=r.filter;return!p||(r=p.operator,m=m[p.property],p=p.value,">"===r&&m>p||"<"===r&&m<p||">="===r&&m>=p||"<="===r&&m<=p||"=="===r&&m==p||"==="===r&&m===p)}(L,S),u=L.connectors?L.connectors[B]:L.connector,E=L.dataLabels?L.dataLabels[B]:L.dataLabel,j=g(S.distance,L.labelDistance),G=!E;if(c){var W=L.getLabelConfig(),b=g(S[L.formatPrefix+"Format"],S.format);W=K(b)?J(b,W,r):(S[L.formatPrefix+"Formatter"]||S.formatter).call(W,S),b=S.style;var z=S.rotation;r.styledMode||(b.color=g(S.color,b.color,m.color,"#000000"),"contrast"===b.color?(L.contrastColor=h.getContrast(L.color||m.color),b.color=!K(j)&&S.inside||0>j||p.stacking?L.contrastColor:"#000000"):delete L.contrastColor,p.cursor&&(b.cursor=p.cursor));var R={r:S.borderRadius||0,rotation:z,padding:S.padding,zIndex:1};r.styledMode||(R.fill=S.backgroundColor,R.stroke=S.borderColor,R["stroke-width"]=S.borderWidth),k(R,function(V,Z){void 0===V&&delete R[Z]})}!E||c&&K(W)&&!!E.div==!!S.useHTML||(L.dataLabel=E=L.dataLabel&&L.dataLabel.destroy(),L.dataLabels&&(1===L.dataLabels.length?delete L.dataLabels:delete L.dataLabels[B]),B||delete L.dataLabel,u&&(L.connector=L.connector.destroy(),L.connectors&&(1===L.connectors.length?delete L.connectors:delete L.connectors[B]))),c&&K(W)&&(E?R.text=W:(L.dataLabels=L.dataLabels||[],E=L.dataLabels[B]=z?h.text(W,0,-9999,S.useHTML).addClass("highcharts-data-label"):h.label(W,0,-9999,S.shape,null,null,S.useHTML,null,"data-label"),B||(L.dataLabel=E),E.addClass(" highcharts-data-label-color-"+L.colorIndex+" "+(S.className||"")+(S.useHTML?" highcharts-tracker":""))),E.options=S,E.attr(R),r.styledMode||E.css(b).shadow(S.shadow),E.added||E.add(I),S.textPath&&!S.useHTML&&(E.setTextPath(L.getDataLabelPath&&L.getDataLabelPath(E)||L.graphic,S.textPath),L.dataLabelPath&&!S.textPath.enabled&&(L.dataLabelPath=L.dataLabelPath.destroy())),m.alignDataLabel(L,E,S,null,G))})})}F(this,"afterDrawDataLabels")}function M(m,r,p,a,n,h){var l=this.chart,w=r.align,P=r.verticalAlign,I=m.box?0:m.padding||0,L=r.x;L=void 0===L?0:L;var S=r.y;S=void 0===S?0:S;var B=(p.x||0)+I;if(0>B){"right"===w&&0<=L?(r.align="left",r.inside=!0):L-=B;var c=!0}return(B=(p.x||0)+a.width-I)>l.plotWidth&&("left"===w&&0>=L?(r.align="right",r.inside=!0):L+=l.plotWidth-B,c=!0),0>(B=p.y+I)&&("bottom"===P&&0<=S?(r.verticalAlign="top",r.inside=!0):S-=B,c=!0),(B=(p.y||0)+a.height-I)>l.plotHeight&&("top"===P&&0>=S?(r.verticalAlign="bottom",r.inside=!0):S+=l.plotHeight-B,c=!0),c&&(r.x=L,r.y=S,m.placed=!h,m.align(r,void 0,n)),c}function D(m,r){var a,p=[];if(N(m)&&!N(r))p=m.map(function(n){return O(n,r)});else if(N(r)&&!N(m))p=r.map(function(n){return O(m,n)});else if(N(m)||N(r))for(a=Math.max(m.length,r.length);a--;)p[a]=O(m[a],r[a]);else p=O(m,r);return p}function x(m,r,p,a,n){var h=this.chart,l=h.inverted,w=this.xAxis,P=w.reversed,I=l?r.height/2:r.width/2;m=(m=m.pointWidth)?m/2:0,r.startXPos=l?n.x:P?-I-m:w.width-I+m,r.startYPos=l?P?this.yAxis.height-I+m:-I-m:n.y,a?"hidden"===r.visibility&&(r.show(),r.attr({opacity:0}).animate({opacity:1})):r.attr({opacity:1}).animate({opacity:0},void 0,r.hide),h.hasRendered&&(p&&r.attr({x:r.startXPos,y:r.startYPos}),r.placed=!0)}var f=[];_.compose=function(m){if(-1===f.indexOf(m)){var r=m.prototype;f.push(m),r.alignDataLabel=T,r.drawDataLabels=C,r.justifyDataLabel=M,r.setDataLabelStartPos=x}}}(v||(v={})),v}),wt(o,"Series/Column/ColumnDataLabel.js",[o["Core/Series/DataLabel.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var X,rt=$.series,J=q.merge,K=q.pick;return function(F){function N(k,g,d,v,_){var T=this.chart.inverted,y=k.series,C=(y.xAxis?y.xAxis.len:this.chart.plotSizeX)||0,M=k.dlBox||k.shapeArgs,D=K(k.below,k.plotY>K(this.translatedThreshold,y=(y.yAxis?y.yAxis.len:this.chart.plotSizeY)||0)),x=K(d.inside,!!this.options.stacking);M&&(0>(v=J(M)).y&&(v.height+=v.y,v.y=0),0<(M=v.y+v.height-y)&&M<v.height&&(v.height-=M),T&&(v={x:y-v.y-v.height,y:C-v.x-v.width,width:v.height,height:v.width}),x||(T?(v.x+=D?0:v.width,v.width=0):(v.y+=D?v.height:0,v.height=0))),d.align=K(d.align,!T||x?"center":D?"right":"left"),d.verticalAlign=K(d.verticalAlign,T||x?"middle":D?"top":"bottom"),rt.prototype.alignDataLabel.call(this,k,g,d,v,_),d.inside&&k.contrastColor&&g.css({color:k.contrastColor})}var O=[];F.compose=function(k){Y.compose(rt),-1===O.indexOf(k)&&(O.push(k),k.prototype.alignDataLabel=N)}}(X||(X={})),X}),wt(o,"Series/Bar/BarSeries.js",[o["Series/Column/ColumnSeries.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var X,rt=this&&this.__extends||(X=function(F,N){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,k){O.__proto__=k}||function(O,k){for(var g in k)k.hasOwnProperty(g)&&(O[g]=k[g])})(F,N)},function(F,N){function O(){this.constructor=F}X(F,N),F.prototype=null===N?Object.create(N):(O.prototype=N.prototype,new O)}),J=q.extend,K=q.merge;return q=function(X){function F(){var N=null!==X&&X.apply(this,arguments)||this;return N.data=void 0,N.options=void 0,N.points=void 0,N}return rt(F,X),F.defaultOptions=K(Y.defaultOptions,{}),F}(Y),J(q.prototype,{inverted:!0}),$.registerSeriesType("bar",q),q}),wt(o,"Series/Scatter/ScatterSeries.js",[o["Series/Column/ColumnSeries.js"],o["Series/Line/LineSeries.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var N,J=this&&this.__extends||(N=function(O,k){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var v in d)d.hasOwnProperty(v)&&(g[v]=d[v])})(O,k)},function(O,k){function g(){this.constructor=O}N(O,k),O.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)}),K=rt.addEvent,X=rt.extend,F=rt.merge;return rt=function(N){function O(){var k=null!==N&&N.apply(this,arguments)||this;return k.data=void 0,k.options=void 0,k.points=void 0,k}return J(O,N),O.prototype.applyJitter=function(){var k=this,g=this.options.jitter,d=this.points.length;g&&this.points.forEach(function(v,_){["x","y"].forEach(function(T,y){var C="plot"+T.toUpperCase();if(g[T]&&!v.isNull){var M=k[T+"Axis"],D=g[T]*M.transA;if(M&&!M.isLog){var x=Math.max(0,v[C]-D);M=Math.min(M.len,v[C]+D),y=1e4*Math.sin(_+y*d),v[C]=x+(M-x)*(y-Math.floor(y)),"x"===T&&(v.clientX=v.plotX)}}})})},O.prototype.drawGraph=function(){this.options.lineWidth?N.prototype.drawGraph.call(this):this.graph&&(this.graph=this.graph.destroy())},O.defaultOptions=F($.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),O}($),X(rt.prototype,{drawTracker:Y.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1}),K(rt,"afterTranslate",function(){this.applyJitter()}),q.registerSeriesType("scatter",rt),rt}),wt(o,"Series/CenteredUtilities.js",[o["Core/Globals.js"],o["Core/Series/Series.js"],o["Core/Utilities.js"]],function(Y,$,q){var F,N,rt=Y.deg2rad,J=q.isNumber,K=q.pick,X=q.relativeLength;return(N=F||(F={})).getCenter=function(){var O=this.options,k=this.chart,g=2*(O.slicedOffset||0),d=k.plotWidth-2*g,v=k.plotHeight-2*g,_=O.center,T=Math.min(d,v),y=O.size,C=O.innerSize||0;for("string"==typeof y&&(y=parseFloat(y)),"string"==typeof C&&(C=parseFloat(C)),O=[K(_[0],"50%"),K(_[1],"50%"),K(y&&0>y?void 0:O.size,"100%"),K(C&&0>C?void 0:O.innerSize||0,"0%")],!k.angular||this instanceof $||(O[3]=0),_=0;4>_;++_)y=O[_],k=2>_||2===_&&/%$/.test(y),O[_]=X(y,[d,v,T,O[2]][_])+(k?g:0);return O[3]>O[2]&&(O[3]=O[2]),O},N.getStartAndEndRadians=function(O,k){return O=J(O)?O:0,k=J(k)&&k>O&&360>k-O?k:O+360,{start:rt*(O+-90),end:rt*(k+-90)}},F}),wt(o,"Series/Pie/PiePoint.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Series/Point.js"],o["Core/Utilities.js"]],function(Y,$,q){var k,rt=this&&this.__extends||(k=function(g,d){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var T in _)_.hasOwnProperty(T)&&(v[T]=_[T])})(g,d)},function(g,d){function v(){this.constructor=g}k(g,d),g.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)}),J=Y.setAnimation,K=q.addEvent,X=q.defined;Y=q.extend;var F=q.isNumber,N=q.pick,O=q.relativeLength;return $=function(k){function g(){var d=null!==k&&k.apply(this,arguments)||this;return d.labelDistance=void 0,d.options=void 0,d.series=void 0,d}return rt(g,k),g.prototype.getConnectorPath=function(){var d=this.labelPosition,v=this.series.options.dataLabels,_=this.connectorShapes,T=v.connectorShape;return _[T]&&(T=_[T]),T.call(this,{x:d.final.x,y:d.final.y,alignment:d.alignment},d.connectorPosition,v)},g.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},g.prototype.haloPath=function(d){var v=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(v.x,v.y,v.r+d,v.r+d,{innerR:v.r-1,start:v.start,end:v.end})},g.prototype.init=function(){var d=this;k.prototype.init.apply(this,arguments),this.name=N(this.name,"Slice");var v=function(_){d.slice("select"===_.type)};return K(this,"select",v),K(this,"unselect",v),this},g.prototype.isValid=function(){return F(this.y)&&0<=this.y},g.prototype.setVisible=function(d,v){var _=this,T=this.series,y=T.chart,C=T.options.ignoreHiddenPoint;v=N(v,C),d!==this.visible&&(this.visible=this.options.visible=d=void 0===d?!this.visible:d,T.options.data[T.data.indexOf(this)]=this.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(M){_[M]&&_[M][d?"show":"hide"](d)}),this.legendItem&&y.legend.colorizeItem(this,d),d||"hover"!==this.state||this.setState(""),C&&(T.isDirty=!0),v&&y.redraw())},g.prototype.slice=function(d,v,_){var T=this.series;J(_,T.chart),N(v,!0),this.sliced=this.options.sliced=X(d)?d:!this.sliced,T.options.data[T.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},g}($),Y($.prototype,{connectorShapes:{fixedOffset:function(k,g,d){var v=g.breakAt;return g=g.touchingSliceAt,[["M",k.x,k.y],d.softConnector?["C",k.x+("left"===k.alignment?-5:5),k.y,2*v.x-g.x,2*v.y-g.y,v.x,v.y]:["L",v.x,v.y],["L",g.x,g.y]]},straight:function(k,g){return[["M",k.x,k.y],["L",(g=g.touchingSliceAt).x,g.y]]},crookedLine:function(k,g,d){g=g.touchingSliceAt;var v=this.series,_=v.center[0],T=v.chart.plotWidth,y=v.chart.plotLeft;v=k.alignment;var C=this.shapeArgs.r;return d=O(d.crookDistance,1),d=["L",T="left"===v?_+C+(T+y-_-C)*(1-d):y+(_-C)*d,k.y],_=!0,("left"===v?T>k.x||T<g.x:T<k.x||T>g.x)&&(_=!1),k=[["M",k.x,k.y]],_&&k.push(d),k.push(["L",g.x,g.y]),k}}}),$}),wt(o,"Series/Pie/PieSeries.js",[o["Series/CenteredUtilities.js"],o["Series/Column/ColumnSeries.js"],o["Core/Globals.js"],o["Core/Legend/LegendSymbol.js"],o["Series/Pie/PiePoint.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/Symbols.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N){var C,O=this&&this.__extends||(C=function(M,D){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,f){x.__proto__=f}||function(x,f){for(var m in f)f.hasOwnProperty(m)&&(x[m]=f[m])})(M,D)},function(M,D){function x(){this.constructor=M}C(M,D),M.prototype=null===D?Object.create(D):(x.prototype=D.prototype,new x)}),k=Y.getStartAndEndRadians;q=q.noop;var g=N.clamp,d=N.extend,v=N.fireEvent,_=N.merge,T=N.pick,y=N.relativeLength;return N=function(C){function M(){var D=null!==C&&C.apply(this,arguments)||this;return D.center=void 0,D.data=void 0,D.maxLabelDistance=void 0,D.options=void 0,D.points=void 0,D}return O(M,C),M.prototype.animate=function(D){var x=this,m=x.startAngleRad;D||x.points.forEach(function(r){var p=r.graphic,a=r.shapeArgs;p&&a&&(p.attr({r:T(r.startR,x.center&&x.center[3]/2),start:m,end:m}),p.animate({r:a.r,start:a.start,end:a.end},x.options.animation))})},M.prototype.drawEmpty=function(){var D=this.startAngleRad,x=this.endAngleRad,f=this.options;if(0===this.total&&this.center){var m=this.center[0],r=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(m,r,this.center[1]/2,0,D,x).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:F.arc(m,r,this.center[2]/2,0,{start:D,end:x,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":f.borderWidth,fill:f.fillColor||"none",stroke:f.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},M.prototype.drawPoints=function(){var D=this.chart.renderer;this.points.forEach(function(x){x.graphic&&x.hasNewShapeType()&&(x.graphic=x.graphic.destroy()),x.graphic||(x.graphic=D[x.shapeType](x.shapeArgs).add(x.series.group),x.delayedRendering=!0)})},M.prototype.generatePoints=function(){C.prototype.generatePoints.call(this),this.updateTotals()},M.prototype.getX=function(D,x,f){var m=this.center,r=this.radii?this.radii[f.index]||0:m[2]/2;return D=Math.asin(g((D-m[1])/(r+f.labelDistance),-1,1)),m[0]+(x?-1:1)*Math.cos(D)*(r+f.labelDistance)+(0<f.labelDistance?(x?-1:1)*this.options.dataLabels.padding:0)},M.prototype.hasData=function(){return!!this.processedXData.length},M.prototype.redrawPoints=function(){var r,p,a,n,D=this,x=D.chart,f=x.renderer,m=D.options.shadow;this.drawEmpty(),!m||D.shadowGroup||x.styledMode||(D.shadowGroup=f.g("shadow").attr({zIndex:-1}).add(D.group)),D.points.forEach(function(h){var l={};if(p=h.graphic,!h.isNull&&p){var w=void 0;n=h.shapeArgs,r=h.getTranslate(),x.styledMode||(w=h.shadowGroup,m&&!w&&(w=h.shadowGroup=f.g("shadow").add(D.shadowGroup)),w&&w.attr(r),a=D.pointAttribs(h,h.selected&&"select")),h.delayedRendering?(p.setRadialReference(D.center).attr(n).attr(r),x.styledMode||p.attr(a).attr({"stroke-linejoin":"round"}).shadow(m,w),h.delayedRendering=!1):(p.setRadialReference(D.center),x.styledMode||_(!0,l,a),_(!0,l,n,r),p.animate(l)),p.attr({visibility:h.visible?"inherit":"hidden"}),p.addClass(h.getClassName(),!0)}else p&&(h.graphic=p.destroy())})},M.prototype.sortByAngle=function(D,x){D.sort(function(f,m){return void 0!==f.angle&&(m.angle-f.angle)*x})},M.prototype.translate=function(D){this.generatePoints();var x=this.options,f=x.slicedOffset,m=f+(x.borderWidth||0),r=k(x.startAngle,x.endAngle),p=this.startAngleRad=r.start;r=(this.endAngleRad=r.end)-p;var a=this.points,n=x.dataLabels.distance;x=x.ignoreHiddenPoint;var l,h=a.length,w=0;for(D||(this.center=D=this.getCenter()),l=0;l<h;l++){var P=a[l],I=p+w*r;!P.isValid()||x&&!P.visible||(w+=P.percentage/100);var L=p+w*r,S={x:D[0],y:D[1],r:D[2]/2,innerR:D[3]/2,start:Math.round(1e3*I)/1e3,end:Math.round(1e3*L)/1e3};P.shapeType="arc",P.shapeArgs=S,P.labelDistance=T(P.options.dataLabels&&P.options.dataLabels.distance,n),P.labelDistance=y(P.labelDistance,S.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,P.labelDistance),(L=(L+I)/2)>1.5*Math.PI?L-=2*Math.PI:L<-Math.PI/2&&(L+=2*Math.PI),P.slicedTranslation={translateX:Math.round(Math.cos(L)*f),translateY:Math.round(Math.sin(L)*f)},S=Math.cos(L)*D[2]/2;var B=Math.sin(L)*D[2]/2;P.tooltipPos=[D[0]+.7*S,D[1]+.7*B],P.half=L<-Math.PI/2||L>Math.PI/2?1:0,P.angle=L,I=Math.min(m,P.labelDistance/5),P.labelPosition={natural:{x:D[0]+S+Math.cos(L)*P.labelDistance,y:D[1]+B+Math.sin(L)*P.labelDistance},final:{},alignment:0>P.labelDistance?"center":P.half?"right":"left",connectorPosition:{breakAt:{x:D[0]+S+Math.cos(L)*I,y:D[1]+B+Math.sin(L)*I},touchingSliceAt:{x:D[0]+S,y:D[1]+B}}}}v(this,"afterTranslate")},M.prototype.updateTotals=function(){var m,D=this.points,x=D.length,f=this.options.ignoreHiddenPoint,r=0;for(m=0;m<x;m++){var p=D[m];!p.isValid()||f&&!p.visible||(r+=p.y)}for(this.total=r,m=0;m<x;m++)(p=D[m]).percentage=0<r&&(p.visible||!f)?p.y/r*100:0,p.total=r},M.defaultOptions=_(K.defaultOptions,{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),M}(K),d(N.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawLegendSymbol:rt.drawRectangle,drawTracker:$.prototype.drawTracker,getCenter:Y.getCenter,getSymbol:q,isCartesian:!1,noSharedTooltip:!0,pointAttribs:$.prototype.pointAttribs,pointClass:J,requireSorting:!1,searchPoint:q,trackerGroups:["group","dataLabelsGroup"]}),X.registerSeriesType("pie",N),N}),wt(o,"Series/Pie/PieDataLabel.js",[o["Core/Series/DataLabel.js"],o["Core/Globals.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var _,K=$.noop,X=q.distribute,F=rt.series,N=J.arrayMax,O=J.clamp,k=J.defined,g=J.merge,d=J.pick,v=J.relativeLength;return function(T){function y(){var u,E,j,G,W,b,z,R,V,Z,nt,it,f=this,m=f.data,r=f.chart,p=f.options.dataLabels||{},a=p.connectorPadding,n=r.plotWidth,h=r.plotHeight,l=r.plotLeft,w=Math.round(r.chartWidth/3),P=f.center,I=P[2]/2,L=P[1],S=[[],[]],B=[0,0,0,0],c=f.dataLabelPositioners;f.visible&&(p.enabled||f._hasPointLabels)&&(m.forEach(function(ot){ot.dataLabel&&ot.visible&&ot.dataLabel.shortened&&(ot.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),ot.dataLabel.shortened=!1)}),F.prototype.drawDataLabels.apply(f),m.forEach(function(ot){ot.dataLabel&&(ot.visible?(S[ot.half].push(ot),ot.dataLabel._pos=null,!k(p.style.width)&&!k(ot.options.dataLabels&&ot.options.dataLabels.style&&ot.options.dataLabels.style.width)&&ot.dataLabel.getBBox().width>w&&(ot.dataLabel.css({width:Math.round(.7*w)+"px"}),ot.dataLabel.shortened=!0)):(ot.dataLabel=ot.dataLabel.destroy(),ot.dataLabels&&1===ot.dataLabels.length&&delete ot.dataLabels))}),S.forEach(function(ot,at){var yt,mt=ot.length,_t=[];if(mt){if(f.sortByAngle(ot,at-.5),0<f.maxLabelDistance){var ut=Math.max(0,L-I-f.maxLabelDistance),ct=Math.min(L+I+f.maxLabelDistance,r.plotHeight);ot.forEach(function(H){0<H.labelDistance&&H.dataLabel&&(H.top=Math.max(0,L-I-H.labelDistance),H.bottom=Math.min(L+I+H.labelDistance,r.plotHeight),yt=H.dataLabel.getBBox().height||21,H.distributeBox={target:H.labelPosition.natural.y-H.top+yt/2,size:yt,rank:H.y},_t.push(H.distributeBox))}),X(_t,ut=ct+yt-ut,ut/5)}for(nt=0;nt<mt;nt++){if(G=(u=ot[nt]).dataLabel,Z=!1===u.visible?"hidden":"inherit",V=ut=(b=u.labelPosition).natural.y,_t&&k(u.distributeBox)&&(void 0===u.distributeBox.pos?Z="hidden":(z=u.distributeBox.size,V=c.radialDistributionY(u))),delete u.positionIndex,p.justify)R=c.justify(u,I,P);else switch(p.alignTo){case"connectors":R=c.alignToConnectors(ot,at,n,l);break;case"plotEdges":R=c.alignToPlotEdges(G,at,n,l);break;default:R=c.radialDistributionX(f,u,V,ut)}G._attr={visibility:Z,align:b.alignment},G._pos={x:R+d((it=u.options.dataLabels||{}).x,p.x)+({left:a,right:-a}[b.alignment]||0),y:V+d(it.y,p.y)-10},b.final.x=R,b.final.y=V,d(p.crop,!0)&&(W=G.getBBox().width,ut=null,R-W<a&&1===at?(ut=Math.round(W-R+a),B[3]=Math.max(ut,B[3])):R+W>n-a&&0===at&&(ut=Math.round(R+W-n+a),B[1]=Math.max(ut,B[1])),0>V-z/2?B[0]=Math.max(Math.round(z/2-V),B[0]):V+z/2>h&&(B[2]=Math.max(Math.round(V+z/2-h),B[2])),G.sideOverflow=ut)}}}),0===N(B)||this.verifyDataLabelOverflow(B))&&(this.placeDataLabels(),this.points.forEach(function(ot){var at;it=g(p,ot.options.dataLabels),(E=d(it.connectorWidth,1))&&(j=ot.connector,(G=ot.dataLabel)&&G._pos&&ot.visible&&0<ot.labelDistance?(Z=G._attr.visibility,(at=!j)&&(ot.connector=j=r.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+ot.colorIndex+(ot.className?" "+ot.className:"")).add(f.dataLabelsGroup),r.styledMode||j.attr({"stroke-width":E,stroke:it.connectorColor||ot.color||"#666666"})),j[at?"attr":"animate"]({d:ot.getConnectorPath()}),j.attr("visibility",Z)):j&&(ot.connector=j.destroy()))}))}function C(){this.points.forEach(function(f){var r,m=f.dataLabel;m&&f.visible&&((r=m._pos)?(m.sideOverflow&&(m._attr.width=Math.max(m.getBBox().width-m.sideOverflow,0),m.css({width:m._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),m.shortened=!0),m.attr(m._attr),m[m.moved?"animate":"attr"](r),m.moved=!0):m&&m.attr({y:-9999})),delete f.distributeBox},this)}function M(f){var m=this.center,r=this.options,p=r.center,a=r.minSize||80,n=null!==r.size;if(!n){if(null!==p[0])var h=Math.max(m[2]-Math.max(f[1],f[3]),a);else h=Math.max(m[2]-f[1]-f[3],a),m[0]+=(f[3]-f[1])/2;null!==p[1]?h=O(h,a,m[2]-Math.max(f[0],f[2])):(h=O(h,a,m[2]-f[0]-f[2]),m[1]+=(f[0]-f[2])/2),h<m[2]?(m[2]=h,m[3]=Math.min(v(r.innerSize||0,h),h),this.translate(m),this.drawDataLabels&&this.drawDataLabels()):n=!0}return n}var D=[],x={radialDistributionY:function(f){return f.top+f.distributeBox.pos},radialDistributionX:function(f,m,r,p){return f.getX(r<m.top+2||r>m.bottom-2?p:r,m.half,m)},justify:function(f,m,r){return r[0]+(f.half?-1:1)*(m+f.labelDistance)},alignToPlotEdges:function(f,m,r,p){return f=f.getBBox().width,m?f+p:r-f-p},alignToConnectors:function(f,m,r,p){var n,a=0;return f.forEach(function(h){(n=h.dataLabel.getBBox().width)>a&&(a=n)}),m?a+p:r-a-p}};T.compose=function(f){Y.compose(F),-1===D.indexOf(f)&&(D.push(f),(f=f.prototype).dataLabelPositioners=x,f.alignDataLabel=K,f.drawDataLabels=y,f.placeDataLabels=C,f.verifyDataLabelOverflow=M)}}(_||(_={})),_}),wt(o,"Extensions/OverlappingDataLabels.js",[o["Core/Chart/Chart.js"],o["Core/Utilities.js"]],function(Y,$){function q(O,k){var g=!1;if(O){var d=O.newOpacity;O.oldOpacity!==d&&(O.alignAttr&&O.placed?(O[d?"removeClass":"addClass"]("highcharts-data-label-hidden"),g=!0,O.alignAttr.opacity=d,O[O.isOld?"animate":"attr"](O.alignAttr,null,function(){k.styledMode||O.css({pointerEvents:d?"auto":"none"})}),J(k,"afterHideOverlappingLabel")):O.attr({opacity:d})),O.isOld=!0}return g}var J=$.fireEvent,K=$.isArray,X=$.isNumber,F=$.objectEach,N=$.pick;(0,$.addEvent)(Y,"render",function(){var O=this,k=[];(this.labelCollectors||[]).forEach(function(g){k=k.concat(g())}),(this.yAxis||[]).forEach(function(g){g.stacking&&g.options.stackLabels&&!g.options.stackLabels.allowOverlap&&F(g.stacking.stacks,function(d){F(d,function(v){v.label&&"hidden"!==v.label.visibility&&k.push(v.label)})})}),(this.series||[]).forEach(function(g){var d=g.options.dataLabels;g.visible&&(!1!==d.enabled||g._hasPointLabels)&&((d=function(v){return v.forEach(function(_){_.visible&&(K(_.dataLabels)?_.dataLabels:_.dataLabel?[_.dataLabel]:[]).forEach(function(T){var y=T.options;T.labelrank=N(y.labelrank,_.labelrank,_.shapeArgs&&_.shapeArgs.height),y.allowOverlap?(T.oldOpacity=T.opacity,T.newOpacity=1,q(T,O)):k.push(T)})})})(g.nodes||[]),d(g.points))}),this.hideOverlappingLabels(k)}),Y.prototype.hideOverlappingLabels=function(O){var v,_,T,k=this,g=O.length,d=k.renderer,y=!1,C=function(x){var f,p,m=x.box?0:x.padding||0,r=f=0;if(x&&(!x.alignAttr||x.placed)){var a=x.alignAttr||{x:x.attr("x"),y:x.attr("y")},n=x.parentGroup;return x.width||(f=x.getBBox(),x.width=f.width,x.height=f.height,f=d.fontMetrics(null,x.element).h),(p={left:"0",center:"0.5",right:"1"}[x.alignValue])?r=+p*(x.width-2*m):X(x.x)&&Math.round(x.x)!==x.translateX&&(r=x.x-x.translateX),{x:a.x+(n.translateX||0)+m-(r||0),y:a.y+(n.translateY||0)+m-f,width:x.width-2*m,height:x.height-2*m}}};for(_=0;_<g;_++)(v=O[_])&&(v.oldOpacity=v.opacity,v.newOpacity=1,v.absoluteBox=C(v));for(O.sort(function(x,f){return(f.labelrank||0)-(x.labelrank||0)}),_=0;_<g;_++){var M=(C=O[_])&&C.absoluteBox;for(v=_+1;v<g;++v){var D=(T=O[v])&&T.absoluteBox;!M||!D||C===T||0===C.newOpacity||0===T.newOpacity||D.x>=M.x+M.width||D.x+D.width<=M.x||D.y>=M.y+M.height||D.y+D.height<=M.y||((C.labelrank<T.labelrank?C:T).newOpacity=0)}}O.forEach(function(x){q(x,k)&&(y=!0)}),y&&J(k,"afterHideAllOverlappingLabels")}}),wt(o,"Core/Responsive.js",[o["Core/Utilities.js"]],function(Y){var k,$=Y.extend,q=Y.find,rt=Y.isArray,J=Y.isObject,K=Y.merge,X=Y.objectEach,F=Y.pick,N=Y.splat,O=Y.uniqueKey;return function(g){var d=[];g.compose=function(_){return-1===d.indexOf(_)&&(d.push(_),$(_.prototype,v.prototype)),_};var v=function(){function _(){}return _.prototype.currentOptions=function(T){var C=this,M={};return function y(D,x,f,m){var r;X(D,function(p,a){if(!m&&-1<C.collectionsWithUpdate.indexOf(a)&&x[a])for(p=N(p),f[a]=[],r=0;r<Math.max(p.length,x[a].length);r++)x[a][r]&&(void 0===p[r]?f[a][r]=x[a][r]:(f[a][r]={},y(p[r],x[a][r],f[a][r],m+1)));else J(p)?(f[a]=rt(p)?[]:{},y(p,x[a]||{},f[a],m+1)):f[a]=void 0===x[a]?null:x[a]})}(T,this.options,M,0),M},_.prototype.matchResponsiveRule=function(T,y){var C=T.condition;(C.callback||function(){return this.chartWidth<=F(C.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=F(C.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=F(C.minWidth,0)&&this.chartHeight>=F(C.minHeight,0)}).call(this)&&y.push(T._id)},_.prototype.setResponsive=function(T,y){var C=this,M=this.options.responsive,D=this.currentResponsive,x=[];!y&&M&&M.rules&&M.rules.forEach(function(f){void 0===f._id&&(f._id=O()),C.matchResponsiveRule(f,x)},this),(y=K.apply(void 0,x.map(function(f){return q((M||{}).rules||[],function(m){return m._id===f})}).map(function(f){return f&&f.chartOptions}))).isResponsiveOptions=!0,(x=x.toString()||void 0)!==(D&&D.ruleIds)&&(D&&this.update(D.undoOptions,T,!0),x?((D=this.currentOptions(y)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:x,mergedOptions:y,undoOptions:D},this.update(y,T,!0)):this.currentResponsive=void 0)},_}()}(k||(k={})),k}),wt(o,"masters/highcharts.src.js",[o["Core/Globals.js"],o["Core/Utilities.js"],o["Core/DefaultOptions.js"],o["Core/Animation/Fx.js"],o["Core/Animation/AnimationUtilities.js"],o["Core/Renderer/HTML/AST.js"],o["Core/FormatUtilities.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Renderer/HTML/HTMLElement.js"],o["Core/Renderer/HTML/HTMLRenderer.js"],o["Core/Axis/Axis.js"],o["Core/Axis/DateTimeAxis.js"],o["Core/Axis/LogarithmicAxis.js"],o["Core/Axis/PlotLineOrBand/PlotLineOrBand.js"],o["Core/Axis/Tick.js"],o["Core/Tooltip.js"],o["Core/Series/Point.js"],o["Core/Pointer.js"],o["Core/MSPointer.js"],o["Core/Legend/Legend.js"],o["Core/Chart/Chart.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Series/Column/ColumnSeries.js"],o["Series/Column/ColumnDataLabel.js"],o["Series/Pie/PieSeries.js"],o["Series/Pie/PieDataLabel.js"],o["Core/Series/DataLabel.js"],o["Core/Responsive.js"],o["Core/Color/Color.js"],o["Core/Time.js"]],function(Y,$,q,rt,J,K,X,F,N,O,k,g,d,v,_,T,y,C,M,D,x,f,m,r,p,a,n,h,l,w,P,I,L){return Y.animate=J.animate,Y.animObject=J.animObject,Y.getDeferredAnimation=J.getDeferredAnimation,Y.setAnimation=J.setAnimation,Y.stop=J.stop,Y.timers=rt.timers,Y.AST=K,Y.Axis=d,Y.Chart=m,Y.chart=m.chart,Y.Fx=rt,Y.Legend=f,Y.PlotLineOrBand=T,Y.Point=M,Y.Pointer=x.isRequired()?x:D,Y.Series=r,Y.SVGElement=N,Y.SVGRenderer=O,Y.Tick=y,Y.Time=L,Y.Tooltip=C,Y.Color=I,Y.color=I.parse,g.compose(O),k.compose(N),Y.defaultOptions=q.defaultOptions,Y.getOptions=q.getOptions,Y.time=q.defaultTime,Y.setOptions=q.setOptions,Y.dateFormat=X.dateFormat,Y.format=X.format,Y.numberFormat=X.numberFormat,Y.addEvent=$.addEvent,Y.arrayMax=$.arrayMax,Y.arrayMin=$.arrayMin,Y.attr=$.attr,Y.clearTimeout=$.clearTimeout,Y.correctFloat=$.correctFloat,Y.createElement=$.createElement,Y.css=$.css,Y.defined=$.defined,Y.destroyObjectProperties=$.destroyObjectProperties,Y.discardElement=$.discardElement,Y.distribute=F.distribute,Y.erase=$.erase,Y.error=$.error,Y.extend=$.extend,Y.extendClass=$.extendClass,Y.find=$.find,Y.fireEvent=$.fireEvent,Y.getMagnitude=$.getMagnitude,Y.getStyle=$.getStyle,Y.inArray=$.inArray,Y.isArray=$.isArray,Y.isClass=$.isClass,Y.isDOMElement=$.isDOMElement,Y.isFunction=$.isFunction,Y.isNumber=$.isNumber,Y.isObject=$.isObject,Y.isString=$.isString,Y.keys=$.keys,Y.merge=$.merge,Y.normalizeTickInterval=$.normalizeTickInterval,Y.objectEach=$.objectEach,Y.offset=$.offset,Y.pad=$.pad,Y.pick=$.pick,Y.pInt=$.pInt,Y.relativeLength=$.relativeLength,Y.removeEvent=$.removeEvent,Y.seriesType=p.seriesType,Y.splat=$.splat,Y.stableSort=$.stableSort,Y.syncTimeout=$.syncTimeout,Y.timeUnits=$.timeUnits,Y.uniqueKey=$.uniqueKey,Y.useSerialIds=$.useSerialIds,Y.wrap=$.wrap,n.compose(a),w.compose(r),v.compose(d),_.compose(d),l.compose(h),T.compose(d),P.compose(m),Y}),wt(o,"Core/Axis/OrdinalAxis.js",[o["Core/Axis/Axis.js"],o["Core/Globals.js"],o["Core/Series/Series.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var d,J=rt.addEvent,K=rt.correctFloat,X=rt.css,F=rt.defined,N=rt.error,O=rt.pick,k=rt.timeUnits,g=[];return function(v){function _(n,h,l,w,P,I,L){void 0===P&&(P=[]),void 0===I&&(I=0);var E,j,S={},B=this.options.tickPixelInterval,c=this.chart.time,u=[],G=0,W=[],b=-Number.MAX_VALUE;if(!this.options.ordinal&&!this.options.breaks||!P||3>P.length||void 0===h)return c.getTimeTicks.apply(c,arguments);var z=P.length;for(E=0;E<z;E++){var R=E&&P[E-1]>l;if(P[E]<h&&(G=E),E===z-1||P[E+1]-P[E]>5*I||R){if(P[E]>b){for(j=c.getTimeTicks(n,P[G],P[E],w);j.length&&j[0]<=b;)j.shift();j.length&&(b=j[j.length-1]),u.push(W.length),W=W.concat(j)}G=E+1}if(R)break}if(j){if(j=j.info,L&&j.unitRange<=k.hour){for(E=W.length-1,G=1;G<E;G++)if(c.dateFormat("%d",W[G])!==c.dateFormat("%d",W[G-1])){S[W[G]]="day";var V=!0}V&&(S[W[0]]="day"),j.higherRanks=S}j.segmentStarts=u,W.info=j}else N(12,!1,this.chart);if(L&&F(B)){for(c=[],G=[],E=void 0,V=j=W.length;V--;)u=this.translate(W[V]),E&&(G[V]=E-u),c[V]=E=u;for(G.sort(),(G=G[Math.floor(G.length/2)])<.6*B&&(G=null),V=W[j-1]>l?j-1:j,E=void 0;V--;)u=c[V],j=Math.abs(E-u),E&&j<.8*B&&(null===G||j<.8*G)?(S[W[V]]&&!S[W[V+1]]?(j=V+1,E=u):j=V,W.splice(j,1)):E=u}return W}function T(n){var h=this.ordinal.positions;if(!h)return n;var l=h.length-1;if(0>n)n=h[0];else if(n>l)n=h[l];else var w=n-(l=Math.floor(n));return void 0!==w&&void 0!==h[l]?h[l]+(w?w*(h[l+1]-h[l]):0):n}function y(n){var h=this.ordinal,l=h.positions;if(!l)return n;var w=(n-(this.old?this.old.min:this.min))*(this.old?this.old.transA:this.transA)+this.minPixelPadding;if(0<w&&w<this.left+this.len||(h.extendedOrdinalPositions||(h.extendedOrdinalPositions=h.getExtendedPositions()),l=h.extendedOrdinalPositions),l&&l.length){if(n=h.getIndexOfPoint(w,l),h=K(n%1),0<=n&&n<l.length-1)return l[Math.floor(n)]+h*(l[Math.ceil(n)]-l[Math.floor(n)]);w=l[0];var P=((l=l[(h=l.length)-1])-w)/(h-1);return 0>n?w+P*n:l+P*(n-h)}return n}function C(n,h){var l=v.Additions.findIndexOf(n,h,!0);return n[l]===h?l:l+(h-n[l])/(n[l+1]-n[l])}function M(){this.ordinal||(this.ordinal=new v.Additions(this))}function D(){this.isXAxis&&F(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&"navigator"!==this.eventArgs.trigger)&&(this.max+=this.options.overscroll,!this.isInternal&&F(this.userMin)&&(this.min+=this.options.overscroll))}function x(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)}function f(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))}function m(n){var h=this.xAxis[0],l=h.options.overscroll,w=n.originalEvent.chartX,P=this.options.chart.panning,I=!1;if(P&&"y"!==P.type&&h.options.ordinal&&h.series.length){var L=this.mouseDownX,S=h.getExtremes(),B=S.dataMax,c=S.min,u=S.max,E=this.hoverPoints,j=h.closestPointRange||h.ordinal&&h.ordinal.overscrollPointsRange;L=(L-w)/(h.translationSlope*(h.ordinal.slope||j)),j={ordinal:{positions:h.ordinal.getExtendedPositions()}};var G=h.index2val,W=h.val2lin,b=void 0,z=b=void 0,R=void 0;j.ordinal.positions?1<Math.abs(L)&&(E&&E.forEach(function(V){V.setState()}),0>L?(z=j,R=h.ordinal.positions?h:j):(z=h.ordinal.positions?h:j,R=j),B>(b=R.ordinal.positions)[b.length-1]&&b.push(B),this.fixedRange=u-c,(b=h.navigatorAxis.toFixedRange(void 0,void 0,G.apply(z,[W.apply(z,[c,!0])+L]),G.apply(R,[W.apply(R,[u,!0])+L]))).min>=Math.min(S.dataMin,c)&&b.max<=Math.max(B,u)+l&&h.setExtremes(b.min,b.max,!0,!1,{trigger:"pan"}),this.mouseDownX=w,X(this.container,{cursor:"move"})):I=!0}else I=!0;I||P&&/y/.test(P.type)?l&&(h.max=h.dataMax+l):n.preventDefault()}function r(){var n=this.xAxis;n&&n.options.ordinal&&(delete n.ordinal.index,delete n.ordinal.extendedOrdinalPositions)}function p(n,h){var l=this.ordinal,w=l.positions,P=l.slope,I=l.extendedOrdinalPositions;if(!w)return n;var L=w.length;if(w[0]<=n&&w[L-1]>=n)n=C(w,n);else{if(I||(I=l.getExtendedPositions&&l.getExtendedPositions(),l.extendedOrdinalPositions=I),!I||!I.length)return n;L=I.length,P||(P=(I[L-1]-I[0])/L),w=C(I,w[0]),n=n>=I[0]&&n<=I[L-1]?C(I,n)-w:n<I[0]?-w-(n=I[0]-n)/P:(n-=I[L-1])/P+L-w}return h?n:P*(n||0)+l.offset}v.compose=function(n,h,l){if(-1===g.indexOf(n)){g.push(n);var w=n.prototype;w.getTimeTicks=_,w.index2val=T,w.lin2val=y,w.val2lin=p,w.ordinal2lin=w.val2lin,J(n,"afterInit",M),J(n,"foundExtremes",D),J(n,"afterSetScale",x),J(n,"initialAxisTranslation",f)}return-1===g.indexOf(l)&&(g.push(l),J(l,"pan",m)),-1===g.indexOf(h)&&(g.push(h),J(h,"updatedData",r)),n};var a=function(){function n(h){this.index={},this.axis=h}return n.prototype.beforeSetTickPositions=function(){var h=this.axis,l=h.ordinal,w=h.getExtremes(),P=w.min,I=w.max,L=h.isXAxis&&!!h.options.breaks;w=h.options.ordinal;var B,c,S=h.chart.options.chart.ignoreHiddenSeries,u=[],E=Number.MAX_VALUE,j=!1;if(w||L){h.series.forEach(function(b,z){if(B=[],!(S&&!1===b.visible||!1===b.takeOrdinalPosition&&!L)&&(u=u.concat(b.processedXData),G=u.length,u.sort(function(R,V){return R-V}),E=Math.min(E,O(b.closestPointRange,E)),G)){for(z=0;z<G-1;)u[z]!==u[z+1]&&B.push(u[z+1]),z++;B[0]!==u[0]&&B.unshift(u[0]),u=B}});var G=u.length;if(2<G){var W=u[1]-u[0];for(c=G-1;c--&&!j;)u[c+1]-u[c]!==W&&(j=!0);!h.options.keepOrdinalPadding&&(u[0]-P>W||I-u[u.length-1]>W)&&(j=!0)}else h.options.overscroll&&(2===G?E=u[1]-u[0]:1===G?u=[u[0],u[0]+(E=h.options.overscroll)]:E=l.overscrollPointsRange);j||h.forceOrdinal?(h.options.overscroll&&(l.overscrollPointsRange=E,u=u.concat(l.getOverscrollPositions())),l.positions=u,W=h.ordinal2lin(Math.max(P,u[0]),!0),c=Math.max(h.ordinal2lin(Math.min(I,u[u.length-1]),!0),1),l.slope=I=(I-P)/(c-W),l.offset=P-W*I):(l.overscrollPointsRange=O(h.closestPointRange,l.overscrollPointsRange),l.positions=h.ordinal.slope=l.offset=void 0)}h.isOrdinal=w&&j,l.groupIntervalFactor=null},n.findIndexOf=function(h,l,w){for(var L,P=0,I=h.length-1;P<I;)h[L=Math.ceil((P+I)/2)]<=l?P=L:I=L-1;return h[P]===l||w?P:-1},n.prototype.getExtendedPositions=function(){var h=this,l=h.axis,w=l.constructor.prototype,P=l.chart,I=l.series[0].currentDataGrouping,L=I?I.count+I.unitName:"raw",S=l.options.overscroll,B=l.getExtremes(),c=void 0,u=h.index;if(u||(u=h.index={}),!u[L]){var E={series:[],chart:P,forceOrdinal:!1,getExtremes:function(){return{min:B.dataMin,max:B.dataMax+S}},getGroupPixelWidth:w.getGroupPixelWidth,getTimeTicks:w.getTimeTicks,options:{ordinal:!0},ordinal:{getGroupIntervalFactor:this.getGroupIntervalFactor},ordinal2lin:w.ordinal2lin,getIndexOfPoint:w.getIndexOfPoint,val2lin:w.val2lin};E.ordinal.axis=E,l.series.forEach(function(j){(c={xAxis:E,xData:j.xData.slice(),chart:P,destroyGroupedData:$.noop,getProcessedData:q.prototype.getProcessedData,applyGrouping:q.prototype.applyGrouping}).xData=c.xData.concat(h.getOverscrollPositions()),c.options={dataGrouping:I?{firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",enabled:!0,forced:!0,approximation:"open",units:[[I.unitName,[I.count]]]}:{enabled:!1}},E.series.push(c),j.processData.apply(c)}),c.closestPointRange!==c.basePointRange&&c.currentDataGrouping&&(E.forceOrdinal=!0),l.ordinal.beforeSetTickPositions.apply({axis:E}),u[L]=E.ordinal.positions}return u[L]},n.prototype.getGroupIntervalFactor=function(h,l,w){var P=(w=w.processedXData).length,I=[],L=this.groupIntervalFactor;if(!L){for(L=0;L<P-1;L++)I[L]=w[L+1]-w[L];I.sort(function(S,B){return S-B}),I=I[Math.floor(P/2)],h=Math.max(h,w[0]),l=Math.min(l,w[P-1]),this.groupIntervalFactor=L=P*I/(l-h)}return L},n.prototype.getIndexOfPoint=function(h,l){var w=this.axis,P=this.positions?this.positions[0]:0,I=w.series[0].points&&w.series[0].points[0]&&w.series[0].points[0].plotX||w.minPixelPadding;return 1<w.series.length&&w.series.forEach(function(L){L.points&&F(L.points[0])&&F(L.points[0].plotX)&&L.points[0].plotX<I&&(I=L.points[0].plotX)}),h=(h-I)/(w.translationSlope*(this.slope||w.closestPointRange||this.overscrollPointsRange)),n.findIndexOf(l,P)+h},n.prototype.getOverscrollPositions=function(){var h=this.axis,l=h.options.overscroll,w=this.overscrollPointsRange,P=[],I=h.dataMax;if(F(w))for(;I<=h.dataMax+l;)P.push(I+=w);return P},n.prototype.postProcessTickInterval=function(h){var l=this.axis,w=this.slope;return w?l.options.breaks?l.closestPointRange||h:h/(w/l.closestPointRange):h},n}();v.Additions=a}(d||(d={})),d}),wt(o,"Series/DataModifyComposition.js",[o["Core/Axis/Axis.js"],o["Core/Series/Point.js"],o["Core/Series/Series.js"],o["Core/Utilities.js"]],function(Y,$,q,rt){var _,J=$.prototype.tooltipFormatter,K=rt.addEvent,X=rt.arrayMax,F=rt.arrayMin,N=rt.correctFloat,O=rt.defined,k=rt.isArray,g=rt.isNumber,d=rt.isString,v=rt.pick;return function(T){function y(h,l,w){this.isXAxis||(this.series.forEach(function(P){"compare"===h&&"boolean"!=typeof l?P.setCompare(l,!1):"cumulative"!==h||d(l)||P.setCumulative(l,!1)}),v(w,!0)&&this.chart.redraw())}function C(h){var l=this,w=l.series.chart.numberFormatter,P=function(I){h=h.replace("{point."+I+"}",(0<l[I]&&"change"===I?"+":"")+w(l[I],v(l.series.tooltipOptions.changeDecimals,2)))};return O(l.change)&&P("change"),O(l.cumulativeSum)&&P("cumulativeSum"),J.apply(this,[h])}function M(){var h=this.options.compare;if("percent"===h||"value"===h||this.options.cumulative){var l=new n(this);"percent"===h||"value"===h?l.initCompare(h):l.initCumulative()}this.dataModify=l}function D(h){var l=(h=h.dataExtremes).activeYData;if(this.dataModify&&h){var w=void 0;this.options.compare?w=[this.dataModify.modifyValue(h.dataMin),this.dataModify.modifyValue(h.dataMax)]:this.options.cumulative&&k(l)&&2<=l.length&&(w=n.getCumulativeExtremes(l)),w&&(h.dataMin=F(w),h.dataMax=X(w))}}function x(h,l){this.options.compare=this.userOptions.compare=h,this.update({},v(l,!0)),!this.dataModify||"value"!==h&&"percent"!==h?this.points.forEach(function(w){delete w.change}):this.dataModify.initCompare(h)}function f(){if(this.xAxis&&this.processedYData&&this.dataModify){var L,h=this.processedXData,l=this.processedYData,w=l.length,P=!0===this.options.compareStart?0:1,I=-1;for(this.pointArrayMap&&(I=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y")),L=0;L<w-P;L++){var S=l[L]&&-1<I?l[L][I]:l[L];if(g(S)&&0!==S&&h[L+P]>=(this.xAxis.min||0)){this.dataModify.compareValue=S;break}}}}function m(h,l){this.setModifier("compare",h,l)}function r(h,l){h=v(h,!1),this.options.cumulative=this.userOptions.cumulative=h,this.update({},v(l,!0)),this.dataModify?this.dataModify.initCumulative():this.points.forEach(function(w){delete w.cumulativeSum})}function p(h,l){this.setModifier("cumulative",h,l)}var a=[];T.compose=function(h,l,w){if(-1===a.indexOf(h)){a.push(h);var P=h.prototype;P.setCompare=x,P.setCumulative=r,K(h,"afterInit",M),K(h,"afterGetExtremes",D),K(h,"afterProcessData",f)}return-1===a.indexOf(l)&&(a.push(l),(l=l.prototype).setCompare=m,l.setModifier=y,l.setCumulative=p),-1===a.indexOf(w)&&(a.push(w),w.prototype.tooltipFormatter=C),h};var n=function(){function h(l){this.series=l}return h.prototype.modifyValue=function(){return 0},h.getCumulativeExtremes=function(l){var w=1/0,P=-1/0;return l.reduce(function(I,L){return L=I+L,w=Math.min(w,L,I),P=Math.max(P,L,I),L}),[w,P]},h.prototype.initCompare=function(l){this.modifyValue=function(w,P){null===w&&(w=0);var I=this.compareValue;return void 0!==w&&void 0!==I?(w="value"===l?w-I:w/I*100-(100===this.series.options.compareBase?0:100),void 0!==P&&(P=this.series.points[P])&&(P.change=w),w):0}},h.prototype.initCumulative=function(){this.modifyValue=function(l,w){if(null===l&&(l=0),void 0!==l&&void 0!==w){var P=0<w?this.series.points[w-1]:null;return P&&P.cumulativeSum&&(l=N(P.cumulativeSum+l)),(w=this.series.points[w])&&(w.cumulativeSum=l),l}return 0}},h}();T.Additions=n}(_||(_={})),_}),wt(o,"Core/Axis/BrokenAxis.js",[o["Extensions/Stacking.js"],o["Core/Utilities.js"]],function(Y,$){var N,q=$.addEvent,rt=$.find,J=$.fireEvent,K=$.isArray,X=$.isNumber,F=$.pick;return function(O){function k(){void 0!==this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)}function g(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)}function d(){var x=this.brokenAxis;if(x&&x.hasBreaks){for(var f=this.tickPositions,m=this.tickPositions.info,r=[],p=0;p<f.length;p++)x.isInAnyBreak(f[p])||r.push(f[p]);this.tickPositions=r,this.tickPositions.info=m}}function v(){this.brokenAxis||(this.brokenAxis=new D(this))}function _(){var x=this.options.connectNulls,f=this.points,m=this.xAxis,r=this.yAxis;if(this.isDirty)for(var p=f.length;p--;){var a=f[p],n=!(null===a.y&&!1===x)&&(m&&m.brokenAxis&&m.brokenAxis.isInAnyBreak(a.x,!0)||r&&r.brokenAxis&&r.brokenAxis.isInAnyBreak(a.y,!0));a.visible=!n&&!1!==a.options.visible}}function T(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,F(this.pointArrayMap,["y"]))}function y(x,f){var p,a,n,h,m=this,r=m.points;if(x&&x.brokenAxis&&x.brokenAxis.hasBreaks){var l=x.brokenAxis;f.forEach(function(w){p=l&&l.breakArray||[],a=x.isXAxis?x.min:F(m.options.threshold,x.min),r.forEach(function(P){h=F(P["stack"+w.toUpperCase()],P[w]),p.forEach(function(I){X(a)&&X(h)&&(n=!1,a<I.from&&h>I.to||a>I.from&&h<I.from?n="pointBreak":(a<I.from&&h>I.from&&h<I.to||a>I.from&&h>I.to&&h<I.from)&&(n="pointInBreak"),n&&J(x,n,{point:P,brk:I}))})})})}}function C(){var x=this.currentDataGrouping,f=x&&x.gapSize;x=this.points.slice();var a,m=this.yAxis,r=this.options.gapSize,p=x.length-1;if(r&&0<p)for("value"!==this.options.gapUnit&&(r*=this.basePointRange),f&&f>r&&f>=this.basePointRange&&(r=f),a=void 0;p--;)a&&!1!==a.visible||(a=x[p+1]),f=x[p],!1!==a.visible&&!1!==f.visible&&(a.x-f.x>r&&(x.splice(p+1,0,{isNull:!0,x:a=(f.x+a.x)/2}),m.stacking&&this.options.stacking&&((a=m.stacking.stacks[this.stackKey][a]=new Y(m,m.options.stackLabels,!1,a,this.stack)).total=0)),a=f);return this.getGraphPath(x)}var M=[];O.compose=function(x,f){if(-1===M.indexOf(x)&&(M.push(x),x.keepProps.push("brokenAxis"),q(x,"init",v),q(x,"afterInit",k),q(x,"afterSetTickPositions",d),q(x,"afterSetOptions",g)),-1===M.indexOf(f)){M.push(f);var m=f.prototype;m.drawBreaks=y,m.gappedPath=C,q(f,"afterGeneratePoints",_),q(f,"afterRender",T)}return x};var D=function(){function x(f){this.hasBreaks=!1,this.axis=f}return x.isInBreak=function(f,m){var r=f.repeat||1/0,p=f.from,a=f.to-f.from;return m=m>=p?(m-p)%r:r-(p-m)%r,f.inclusive?m<=a:m<a&&0!==m},x.lin2Val=function(f){var r,m=this.brokenAxis;if(!(m=m&&m.breakArray)||!X(f))return f;for(r=0;r<m.length;r++){var p=m[r];if(p.from>=f)break;(p.to<f||x.isInBreak(p,f))&&(f+=p.len)}return f},x.val2Lin=function(f){var m=this.brokenAxis;if(!(m=m&&m.breakArray)||!X(f))return f;var p,r=f;for(p=0;p<m.length;p++){var a=m[p];if(a.to<=f)r-=a.len;else{if(a.from>=f)break;if(x.isInBreak(a,f)){r-=f-a.from;break}}}return r},x.prototype.findBreakAt=function(f,m){return rt(m,function(r){return r.from<f&&f<r.to})},x.prototype.isInAnyBreak=function(f,m){var n,r=this.axis,p=r.options.breaks||[],a=p.length;if(a&&X(f)){for(;a--;)if(x.isInBreak(p[a],f)){var h=!0;n||(n=F(p[a].showPoints,!r.isXAxis))}var l=h&&m?h&&!n:h}return l},x.prototype.setBreaks=function(f,m){var r=this,p=r.axis,a=K(f)&&!!f.length;p.isDirty=r.hasBreaks!==a,r.hasBreaks=a,p.options.breaks=p.userOptions.breaks=f,p.forceRedraw=!0,p.series.forEach(function(n){n.isDirty=!0}),a||p.val2lin!==x.val2Lin||(delete p.val2lin,delete p.lin2val),a&&(p.userOptions.ordinal=!1,p.lin2val=x.lin2Val,p.val2lin=x.val2Lin,p.setExtremes=function(n,h,l,w,P){if(r.hasBreaks){for(var L,I=this.options.breaks||[];L=r.findBreakAt(n,I);)n=L.to;for(;L=r.findBreakAt(h,I);)h=L.from;h<n&&(h=n)}p.constructor.prototype.setExtremes.call(this,n,h,l,w,P)},p.setAxisTranslation=function(){if(p.constructor.prototype.setAxisTranslation.call(this),r.unitLength=void 0,r.hasBreaks){var I,B,n=p.options.breaks||[],h=[],l=[],w=F(p.pointRangePadding,0),P=0,L=p.userMin||p.min,S=p.userMax||p.max;n.forEach(function(E){I=E.repeat||1/0,X(L)&&X(S)&&(x.isInBreak(E,L)&&(L+=E.to%I-L%I),x.isInBreak(E,S)&&(S-=S%I-E.from%I))}),n.forEach(function(E){if(u=E.from,I=E.repeat||1/0,X(L)&&X(S)){for(;u-I>L;)u-=I;for(;u<L;)u+=I;for(B=u;B<S;B+=I)h.push({value:B,move:"in"}),h.push({value:B+E.to-E.from,move:"out",size:E.breakSize})}}),h.sort(function(E,j){return E.value===j.value?("in"===E.move?0:1)-("in"===j.move?0:1):E.value-j.value});var c=0,u=L;h.forEach(function(E){1===(c+="in"===E.move?1:-1)&&"in"===E.move&&(u=E.value),0===c&&X(u)&&(l.push({from:u,to:E.value,len:E.value-u-(E.size||0)}),P+=E.value-u-(E.size||0))}),r.breakArray=l,X(L)&&X(S)&&X(p.min)&&(r.unitLength=S-L-P+w,J(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:r.unitLength&&(p.transA*=(S-p.min+w)/r.unitLength),w&&(p.minPixelPadding=p.transA*(p.minPointOffset||0)),p.min=L,p.max=S)}}),F(m,!0)&&p.chart.redraw()},x}();O.Additions=D}(N||(N={})),N}),wt(o,"masters/modules/broken-axis.src.js",[o["Core/Globals.js"],o["Core/Axis/BrokenAxis.js"]],function(Y,$){$.compose(Y.Axis,Y.Series)}),wt(o,"Extensions/DataGrouping.js",[o["Core/Axis/Axis.js"],o["Core/Axis/DateTimeAxis.js"],o["Core/FormatUtilities.js"],o["Core/Globals.js"],o["Core/Series/Point.js"],o["Core/Series/Series.js"],o["Core/Tooltip.js"],o["Core/DefaultOptions.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N){var O=q.format,k=K.prototype;q=N.addEvent;var g=N.arrayMax,d=N.arrayMin,v=N.correctFloat,_=N.defined,T=N.error,y=N.extend,C=N.isNumber,M=N.merge,D=N.pick,x=rt.approximations={sum:function(n){var h=n.length;if(!h&&n.hasNulls)var l=null;else if(h)for(l=0;h--;)l+=n[h];return l},average:function(n){var h=n.length;return n=x.sum(n),C(n)&&h&&(n=v(n/h)),n},averages:function(){var n=[];return[].forEach.call(arguments,function(h){n.push(x.average(h))}),void 0===n[0]?void 0:n},open:function(n){return n.length?n[0]:n.hasNulls?null:void 0},high:function(n){return n.length?g(n):n.hasNulls?null:void 0},low:function(n){return n.length?d(n):n.hasNulls?null:void 0},close:function(n){return n.length?n[n.length-1]:n.hasNulls?null:void 0},hlc:function(n,h,l){if(n=x.high(n),h=x.low(h),l=x.close(l),C(n)||C(h)||C(l))return[n,h,l]},ohlc:function(n,h,l,w){if(n=x.open(n),h=x.high(h),l=x.low(l),w=x.close(w),C(n)||C(h)||C(l)||C(w))return[n,h,l,w]},range:function(n,h){return n=x.low(n),h=x.high(h),C(n)||C(h)?[n,h]:null===n&&null===h?null:void 0}},f={approximations:x,groupData:N=function(n,h,l,w){var Z,P=this,I=P.data,L=P.options&&P.options.data,S=[],B=[],c=[],u=n.length,E=!!h,j=[],G=P.pointArrayMap,W=G&&G.length,b=["x"].concat(G||["y"]),z=this.options.dataGrouping&&this.options.dataGrouping.groupAll,R=0,V=0;w="function"==typeof w?w:x[w]?x[w]:x[P.getDGApproximation&&P.getDGApproximation()||"average"],W?G.forEach(function(){j.push([])}):j.push([]);var nt=W||1;for(Z=0;Z<=u&&!(n[Z]>=l[0]);Z++);for(;Z<=u;Z++){for(;void 0!==l[R+1]&&n[Z]>=l[R+1]||Z===u;){var it=l[R];P.dataGroupInfo={start:z?V:P.cropStart+V,length:j[0].length};var ot=w.apply(P,j);for(P.pointClass&&!_(P.dataGroupInfo.options)&&(P.dataGroupInfo.options=M(P.pointClass.prototype.optionsToObject.call({series:P},P.options.data[P.cropStart+V])),b.forEach(function(mt){delete P.dataGroupInfo.options[mt]})),void 0!==ot&&(S.push(it),B.push(ot),c.push(P.dataGroupInfo)),V=Z,it=0;it<nt;it++)j[it].length=0,j[it].hasNulls=!1;if(R+=1,Z===u)break}if(Z===u)break;if(G){it=P.options.dataGrouping&&P.options.dataGrouping.groupAll?Z:P.cropStart+Z,ot=I&&I[it]||P.pointClass.prototype.applyOptions.apply({series:P},[L[it]]);var at=void 0;for(it=0;it<W;it++)C(at=ot[G[it]])?j[it].push(at):null===at&&(j[it].hasNulls=!0)}else C(it=E?h[Z]:null)?j[0].push(it):null===it&&(j[0].hasNulls=!0)}return{groupedXData:S,groupedYData:B,groupMap:c}}},m=k.generatePoints,r={groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},p={line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5},hlc:{groupPixelWidth:5},heikinashi:{groupPixelWidth:10}},a=rt.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]];return k.getDGApproximation=function(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("hlc")?"hlc":this.is("column")?"sum":"average"},k.groupData=N,k.applyGrouping=function(n){var I,h=this.chart,l=this.options.dataGrouping,w=!1!==this.allowDG&&l&&D(l.enabled,h.options.isStock),P=this.visible||!h.options.chart.ignoreHiddenSeries,L=this.currentDataGrouping,S=!1;if(w&&!this.requireSorting&&(this.requireSorting=S=!0),n=!(!this.isCartesian||this.isDirty||this.xAxis.isDirty||this.yAxis.isDirty||n)||!w,S&&(this.requireSorting=!1),!n){this.destroyGroupedData(),w=l.groupAll?this.xData:this.processedXData;var B=l.groupAll?this.yData:this.processedYData;n=h.plotSizeX;var c=(S=this.xAxis).options.ordinal,u=this.groupPixelWidth;if(u&&w&&w.length){this.isDirty=I=!0,this.points=null;var E=S.getExtremes(),j=E.min;E=E.max,c=c&&S.ordinal&&S.ordinal.getGroupIntervalFactor(j,E,this)||1,n=S.getTimeTicks($.Additions.prototype.normalizeTimeTickInterval(u*(E-j)/n*c,l.units||a),Math.min(j,w[0]),Math.max(E,w[w.length-1]),S.options.startOfWeek,w,this.closestPointRange),w=(u=k.groupData.apply(this,[w,B,n,l.approximation])).groupedXData,B=u.groupedYData,c=0,l&&l.smoothed&&w.length&&(l.firstAnchor="firstPoint",l.anchor="middle",l.lastAnchor="lastPoint",T(32,!1,h,{"dataGrouping.smoothed":"use dataGrouping.anchor"})),h=w;var G=this.options.dataGrouping;if(j=this.currentDataGrouping&&this.currentDataGrouping.gapSize,G&&this.xData&&j&&this.groupMap){var W=h.length-1,b=G.anchor,z=D(G.firstAnchor,b);if(G=D(G.lastAnchor,b),b&&"start"!==b){var R=j*{middle:.5,end:1}[b];for(b=h.length-1;b--&&0<b;)h[b]+=R}if(z&&"start"!==z&&this.xData[0]>=h[0]){R=this.groupMap[0].length;var V=void 0;C(b=this.groupMap[0].start)&&C(R)&&(V=b+(R-1)),h[0]={middle:h[0]+.5*j,end:h[0]+j,firstPoint:this.xData[0],lastPoint:V&&this.xData[V]}[z]}G&&"start"!==G&&j&&h[W]>=E-j&&(h[W]={middle:h[W]+.5*j,end:h[W]+j,firstPoint:(E=this.groupMap[this.groupMap.length-1].start)&&this.xData[E],lastPoint:this.xData[this.xData.length-1]}[G])}for(E=1;E<n.length;E++)n.info.segmentStarts&&-1!==n.info.segmentStarts.indexOf(E)||(c=Math.max(n[E]-n[E-1],c));(E=n.info).gapSize=c,this.closestPointRange=n.info.totalRange,this.groupMap=u.groupMap,P&&(_((P=w)[0])&&C(S.min)&&C(S.dataMin)&&P[0]<S.min&&((!_(S.options.min)&&S.min<=S.dataMin||S.min===S.dataMin)&&(S.min=Math.min(P[0],S.min)),S.dataMin=Math.min(P[0],S.dataMin)),_(P[P.length-1])&&C(S.max)&&C(S.dataMax)&&P[P.length-1]>S.max&&((!_(S.options.max)&&C(S.dataMax)&&S.max>=S.dataMax||S.max===S.dataMax)&&(S.max=Math.max(P[P.length-1],S.max)),S.dataMax=Math.max(P[P.length-1],S.dataMax))),l.groupAll&&(this.allGroupedData=B,w=(l=this.cropData(w,B,S.min,S.max,1)).xData,B=l.yData,this.cropStart=l.start),this.processedXData=w,this.processedYData=B}else this.groupMap=null;this.hasGroupedData=I,this.currentDataGrouping=E,this.preventGraphAnimation=(L&&L.totalRange)!==(E&&E.totalRange)}},k.destroyGroupedData=function(){this.groupedData&&(this.groupedData.forEach(function(n,h){n&&(this.groupedData[h]=n.destroy?n.destroy():null)},this),this.groupedData.length=0)},k.generatePoints=function(){m.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},Y.prototype.applyGrouping=function(n){var h=this;h.series.forEach(function(l){l.groupPixelWidth=void 0,l.groupPixelWidth=h.getGroupPixelWidth&&h.getGroupPixelWidth(),l.groupPixelWidth&&(l.hasProcessed=!0),l.applyGrouping(!!n.hasExtemesChanged)})},Y.prototype.getGroupPixelWidth=function(){var l,I,n=this.series,h=n.length,w=0,P=!1;for(l=h;l--;)(I=n[l].options.dataGrouping)&&(w=Math.max(w,D(I.groupPixelWidth,r.groupPixelWidth)));for(l=h;l--;)(I=n[l].options.dataGrouping)&&(h=(n[l].processedXData||n[l].data).length,(n[l].groupPixelWidth||h>this.chart.plotSizeX/w||h&&I.forced)&&(P=!0));return P?w:0},Y.prototype.setDataGrouping=function(n,h){var l;if(h=D(h,!0),n||(n={forced:!1,units:null}),this instanceof Y)for(l=this.series.length;l--;)this.series[l].update({dataGrouping:n},!1);else this.chart.options.series.forEach(function(w){w.dataGrouping=n},!1);this.ordinal&&(this.ordinal.slope=void 0),h&&this.chart.redraw()},q(Y,"postProcessData",Y.prototype.applyGrouping),q(J,"update",function(){if(this.dataGroup)return T(24,!1,this.series.chart),!1}),q(X,"headerFormatter",function(n){var h=this.chart,l=h.time,w=n.labelConfig,P=w.series,I=P.tooltipOptions,L=P.options.dataGrouping,S=I.xDateFormat,B=P.xAxis,c=I[n.isFooter?"footerFormat":"headerFormat"];if(B&&"datetime"===B.options.type&&L&&C(w.key)){var u=P.currentDataGrouping;if(L=L.dateTimeLabelFormats||r.dateTimeLabelFormats,u)if(I=L[u.unitName],1===u.count)S=I[0];else{S=I[1];var E=I[2]}else!S&&L&&B.dateTime&&(S=B.dateTime.getXDateFormat(w.x,I.dateTimeLabelFormats));S=l.dateFormat(S,w.key),E&&(S+=l.dateFormat(E,w.key+u.totalRange-1)),P.chart.styledMode&&(c=this.styledModeFormat(c)),n.text=O(c,{point:y(w.point,{key:S}),series:P},h),n.preventDefault()}}),q(K,"destroy",k.destroyGroupedData),q(K,"afterSetOptions",function(n){n=n.options;var h=this.type,l=this.chart.options.plotOptions,w=F.defaultOptions.plotOptions[h].dataGrouping,P=this.useCommonDataGrouping&&r;if(l&&(p[h]||P)){w||(w=M(r,p[h]));var I=this.chart.rangeSelector;n.dataGrouping=M(P,w,l.series&&l.series.dataGrouping,l[h].dataGrouping,this.userOptions.dataGrouping,!n.isInternal&&I&&C(I.selected)&&I.buttonOptions[I.selected].dataGrouping)}}),q(Y,"afterSetScale",function(){this.series.forEach(function(n){n.hasProcessed=!1})}),rt.dataGrouping=f,f}),wt(o,"Series/HLC/HLCPoint.js",[o["Core/Series/SeriesRegistry.js"]],function(Y){var q,$=this&&this.__extends||(q=function(rt,J){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,X){K.__proto__=X}||function(K,X){for(var F in X)X.hasOwnProperty(F)&&(K[F]=X[F])})(rt,J)},function(rt,J){function K(){this.constructor=rt}q(rt,J),rt.prototype=null===J?Object.create(J):(K.prototype=J.prototype,new K)});return function(q){function rt(){var J=null!==q&&q.apply(this,arguments)||this;return J.close=void 0,J.high=void 0,J.low=void 0,J.options=void 0,J.plotClose=void 0,J.series=void 0,J}return $(rt,q),rt}(Y.seriesTypes.column.prototype.pointClass)}),wt(o,"Series/HLC/HLCSeries.js",[o["Series/HLC/HLCPoint.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var F,rt=this&&this.__extends||(F=function(N,O){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,g){k.__proto__=g}||function(k,g){for(var d in g)g.hasOwnProperty(d)&&(k[d]=g[d])})(N,O)},function(N,O){function k(){this.constructor=N}F(N,O),N.prototype=null===O?Object.create(O):(k.prototype=O.prototype,new k)}),J=$.seriesTypes.column,K=q.extend,X=q.merge;return q=function(F){function N(){var O=null!==F&&F.apply(this,arguments)||this;return O.data=void 0,O.options=void 0,O.points=void 0,O.yData=void 0,O}return rt(N,F),N.prototype.extendStem=function(O,k,g){var d=O[0];O=O[1],"number"==typeof d[2]&&(d[2]=Math.max(g+k,d[2])),"number"==typeof O[2]&&(O[2]=Math.min(g-k,O[2]))},N.prototype.getPointPath=function(O,k){k=k.strokeWidth();var g=O.series,d=k%2/2,v=Math.round(O.plotX)-d,_=Math.round(O.shapeArgs.width/2),T=[["M",v,Math.round(O.yBottom)],["L",v,Math.round(O.plotHigh)]];return null!==O.close&&(O=Math.round(O.plotClose)+d,T.push(["M",v,O],["L",v+_,O]),g.extendStem(T,k/2,O)),T},N.prototype.drawSinglePoint=function(O){var k=O.series,g=k.chart,d=O.graphic,v=!d;void 0!==O.plotY&&(d||(O.graphic=d=g.renderer.path().add(k.group)),g.styledMode||d.attr(k.pointAttribs(O,O.selected&&"select")),k=k.getPointPath(O,d),d[v?"attr":"animate"]({d:k}).addClass(O.getClassName(),!0))},N.prototype.drawPoints=function(){this.points.forEach(this.drawSinglePoint)},N.prototype.init=function(){F.prototype.init.apply(this,arguments),this.options.stacking=void 0},N.prototype.pointAttribs=function(O,k){return delete(O=F.prototype.pointAttribs.call(this,O,k)).fill,O},N.prototype.toYData=function(O){return[O.high,O.low,O.close]},N.prototype.translate=function(){var O=this,k=O.yAxis,g=this.pointArrayMap&&this.pointArrayMap.slice()||[],d=g.map(function(v){return"plot"+(v.charAt(0).toUpperCase()+v.slice(1))});d.push("yBottom"),g.push("low"),F.prototype.translate.apply(O),O.points.forEach(function(v){g.forEach(function(_,T){null!==(_=v[_])&&(O.dataModify&&(_=O.dataModify.modifyValue(_)),v[d[T]]=k.toPixels(_,!0))}),v.tooltipPos[1]=v.plotHigh+k.pos-O.chart.plotTop})},N.defaultOptions=X(J.defaultOptions,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0}),N}(J),K(q.prototype,{animate:null,directTouch:!1,pointArrayMap:["high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"}),q.prototype.pointClass=Y,$.registerSeriesType("hlc",q),q}),wt(o,"Series/OHLC/OHLCPoint.js",[o["Core/Series/SeriesRegistry.js"]],function(Y){var q,$=this&&this.__extends||(q=function(rt,J){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,X){K.__proto__=X}||function(K,X){for(var F in X)X.hasOwnProperty(F)&&(K[F]=X[F])})(rt,J)},function(rt,J){function K(){this.constructor=rt}q(rt,J),rt.prototype=null===J?Object.create(J):(K.prototype=J.prototype,new K)});return function(q){function rt(){var J=null!==q&&q.apply(this,arguments)||this;return J.open=void 0,J.options=void 0,J.plotOpen=void 0,J.series=void 0,J}return $(rt,q),rt.prototype.getClassName=function(){return q.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")},rt.prototype.resolveUpColor=function(){this.open<this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)},rt.prototype.resolveColor=function(){q.prototype.resolveColor.call(this),this.resolveUpColor()},rt.prototype.getZone=function(){var J=q.prototype.getZone.call(this);return this.resolveUpColor(),J},rt.prototype.applyOptions=function(){return q.prototype.applyOptions.apply(this,arguments),this.resolveColor&&this.resolveColor(),this},rt}(Y.seriesTypes.hlc.prototype.pointClass)}),wt(o,"Series/OHLC/OHLCSeries.js",[o["Series/OHLC/OHLCPoint.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var k,rt=this&&this.__extends||(k=function(g,d){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var T in _)_.hasOwnProperty(T)&&(v[T]=_[T])})(g,d)},function(g,d){function v(){this.constructor=g}k(g,d),g.prototype=null===d?Object.create(d):(v.prototype=d.prototype,new v)}),J=$.series,K=$.seriesTypes.hlc,X=q.addEvent,F=q.extend,N=q.merge,O=function(k){function g(){var d=null!==k&&k.apply(this,arguments)||this;return d.data=void 0,d.options=void 0,d.points=void 0,d}return rt(g,k),g.prototype.getPointPath=function(d,v){var _=k.prototype.getPointPath.call(this,d,v),T=(v=v.strokeWidth())%2/2,y=Math.round(d.plotX)-T,C=Math.round(d.shapeArgs.width/2);return null!==d.open&&(d=Math.round(d.plotOpen)+T,_.push(["M",y,d],["L",y-C,d]),k.prototype.extendStem.call(this,_,v/2,d)),_},g.prototype.pointAttribs=function(d,v){v=k.prototype.pointAttribs.call(this,d,v);var _=this.options;return delete v.fill,!d.options.color&&_.upColor&&d.open<d.close&&(v.stroke=_.upColor),v},g.prototype.toYData=function(d){return[d.open,d.high,d.low,d.close]},g.defaultOptions=N(K.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'}}),g}(K);return F(O.prototype,{pointArrayMap:["open","high","low","close"]}),O.prototype.pointClass=Y,$.registerSeriesType("ohlc",O),X(J,"init",function(k){(k=k.options).useOhlcData&&"highcharts-navigator-series"!==k.id&&F(this,{pointValKey:O.prototype.pointValKey,pointArrayMap:O.prototype.pointArrayMap,toYData:O.prototype.toYData})}),X(J,"afterSetOptions",function(k){var g=(k=k.options).dataGrouping;g&&k.useOhlcData&&"highcharts-navigator-series"!==k.id&&(g.approximation="ohlc")}),O}),wt(o,"Series/Candlestick/CandlestickSeries.js",[o["Core/DefaultOptions.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q){var N,rt=this&&this.__extends||(N=function(O,k){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var v in d)d.hasOwnProperty(v)&&(g[v]=d[v])})(O,k)},function(O,k){function g(){this.constructor=O}N(O,k),O.prototype=null===k?Object.create(k):(g.prototype=k.prototype,new g)}),J=Y.defaultOptions,K=(Y=$.seriesTypes).column,X=Y.ohlc,F=q.merge;return q=function(N){function O(){var k=null!==N&&N.apply(this,arguments)||this;return k.data=void 0,k.options=void 0,k.points=void 0,k}return rt(O,N),O.prototype.pointAttribs=function(k,g){var d=K.prototype.pointAttribs.call(this,k,g),v=this.options,_=k.open<k.close,T=v.lineColor||this.color,y=k.color||this.color;return d["stroke-width"]=v.lineWidth,d.fill=k.options.color||_&&v.upColor||y,d.stroke=k.options.lineColor||_&&v.upLineColor||T,g&&(d.fill=(k=v.states[g]).color||d.fill,d.stroke=k.lineColor||d.stroke,d["stroke-width"]=k.lineWidth||d["stroke-width"]),d},O.prototype.drawPoints=function(){var k=this,g=k.chart,d=k.yAxis.reversed;k.points.forEach(function(v){var _=v.graphic,T=!_;if(void 0!==v.plotY){_||(v.graphic=_=g.renderer.path().add(k.group)),k.chart.styledMode||_.attr(k.pointAttribs(v,v.selected&&"select")).shadow(k.options.shadow);var y=_.strokeWidth()%2/2,C=Math.round(v.plotX)-y,M=v.plotOpen,D=v.plotClose,x=Math.min(M,D);M=Math.max(M,D);var f=Math.round(v.shapeArgs.width/2);D=d?M!==v.yBottom:Math.round(x)!==Math.round(v.plotHigh);var m=d?Math.round(x)!==Math.round(v.plotHigh):M!==v.yBottom;x=Math.round(x)+y,M=Math.round(M)+y,(y=[]).push(["M",C-f,M],["L",C-f,x],["L",C+f,x],["L",C+f,M],["Z"],["M",C,x],["L",C,D?Math.round(d?v.yBottom:v.plotHigh):x],["M",C,M],["L",C,m?Math.round(d?v.plotHigh:v.yBottom):M]),_[T?"attr":"animate"]({d:y}).addClass(v.getClassName(),!0)}})},O.defaultOptions=F(X.defaultOptions,J.plotOptions,{states:{hover:{lineWidth:2}},tooltip:J.plotOptions.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0}),O}(X),$.registerSeriesType("candlestick",q),q}),wt(o,"Series/Flags/FlagsPoint.js",[o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$){var J,q=this&&this.__extends||(J=function(K,X){return(J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,N){F.__proto__=N}||function(F,N){for(var O in N)N.hasOwnProperty(O)&&(F[O]=N[O])})(K,X)},function(K,X){function F(){this.constructor=K}J(K,X),K.prototype=null===X?Object.create(X):(F.prototype=X.prototype,new F)}),rt=$.isNumber;return function(J){function K(){var X=null!==J&&J.apply(this,arguments)||this;return X.options=void 0,X.series=void 0,X}return q(K,J),K.prototype.isValid=function(){return rt(this.y)||void 0===this.y},K.prototype.hasNewShapeType=function(){var X=this.options.shape||this.series.options.shape;return this.graphic&&X&&X!==this.graphic.symbolKey},K}(Y.seriesTypes.column.prototype.pointClass)}),wt(o,"Series/OnSeriesComposition.js",[o["Series/Column/ColumnSeries.js"],o["Core/Series/Series.js"],o["Core/Utilities.js"]],function(Y,$,q){var F,rt=Y.prototype,J=$.prototype,K=q.defined,X=q.stableSort;return function(N){function O(){return J.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)}function k(){rt.translate.apply(this);var m,d=this,v=d.options,_=d.chart,T=d.points,y=v.onSeries,C=(y=y&&_.get(y))&&y.options.step,M=y&&y.points,D=_.inverted,x=d.xAxis,f=d.yAxis;_=T.length-1,v=v.onKey||"y";var a,r=M&&M.length,p=0;if(y&&y.visible&&r){p=(y.pointXOffset||0)+(y.barW||0)/2;var n=y.currentDataGrouping,h=M[r-1].x+(n?n.totalRange:0);for(X(T,function(P,I){return P.x-I.x}),v="plot"+v[0].toUpperCase()+v.substr(1);r--&&T[_];){var l=M[r];if((n=T[_]).y=l.y,l.x<=n.x&&void 0!==l[v]){if(n.x<=h&&(n.plotY=l[v],l.x<n.x&&!C&&(a=M[r+1])&&void 0!==a[v])){var w=(n.x-l.x)/(a.x-l.x);n.plotY+=w*(a[v]-l[v]),n.y+=w*(a.y-l.y)}if(r++,0>--_)break}}}T.forEach(function(P,I){if(P.plotX+=p,(void 0===P.plotY||D)&&(0<=P.plotX&&P.plotX<=x.len?D?(P.plotY=x.translate(P.x,0,1,0,1),P.plotX=K(P.y)?f.translate(P.y,0,0,0,1):0):P.plotY=(x.opposite?0:d.yAxis.len)+x.offset:P.shapeArgs={}),(m=T[I-1])&&m.plotX===P.plotX){void 0===m.stackIndex&&(m.stackIndex=0);var L=m.stackIndex+1}P.stackIndex=L}),this.onSeries=y}var g=[];N.compose=function(d){if(-1===g.indexOf(d)){g.push(d);var v=d.prototype;v.getPlotBox=O,v.translate=k}return d},N.getPlotBox=O,N.translate=k}(F||(F={})),F}),wt(o,"Series/Flags/FlagsSymbols.js",[o["Core/Renderer/RendererRegistry.js"],o["Core/Renderer/SVG/SVGRenderer.js"]],function(Y,$){function q(J){rt[J+"pin"]=function(K,X,F,N,O){var k=O&&O.anchorX;O=O&&O.anchorY,"circle"===J&&N>F&&(K-=Math.round((N-F)/2),F=N);var g=rt[J](K,X,F,N);if(k&&O){var d=k;"circle"===J?d=K+F/2:(F=g[1],"M"===(K=g[0])[0]&&"L"===F[0]&&(d=(K[1]+F[1])/2)),g.push(["M",d,X>O?X:X+N],["L",k,O]),g=g.concat(rt.circle(k-1,O-1,2,2))}return g}}var rt=$.prototype.symbols;return rt.flag=function(J,K,X,F,N){var O=N&&N.anchorX||J,k=rt.circle(O-1,(N=N&&N.anchorY||K)-1,2,2);return k.push(["M",O,N],["L",J,K+F],["L",J,K],["L",J+X,K],["L",J+X,K+F],["L",J,K+F],["Z"]),k},q("circle"),q("square"),(Y=Y.getRendererType())!==$&&(Y.prototype.symbols.circlepin=rt.circlepin,Y.prototype.symbols.flag=rt.flag,Y.prototype.symbols.squarepin=rt.squarepin),rt}),wt(o,"Series/Flags/FlagsSeries.js",[o["Series/Flags/FlagsPoint.js"],o["Core/Globals.js"],o["Series/OnSeriesComposition.js"],o["Core/Renderer/RendererUtilities.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X){var y,F=this&&this.__extends||(y=function(C,M){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,x){D.__proto__=x}||function(D,x){for(var f in x)x.hasOwnProperty(f)&&(D[f]=x[f])})(C,M)},function(C,M){function D(){this.constructor=C}y(C,M),C.prototype=null===M?Object.create(M):(D.prototype=M.prototype,new D)});$=$.noop;var N=rt.distribute,O=J.series,k=J.seriesTypes.column,g=X.addEvent,d=X.defined;rt=X.extend;var v=X.merge,_=X.objectEach,T=X.wrap;return X=function(y){function C(){var M=null!==y&&y.apply(this,arguments)||this;return M.data=void 0,M.options=void 0,M.points=void 0,M}return F(C,y),C.prototype.animate=function(M){M&&this.setClip()},C.prototype.drawPoints=function(){var p,M=this.points,D=this.chart,x=D.renderer,f=D.inverted,m=this.options,r=m.y,a=this.yAxis,n={},h=[];for(p=M.length;p--;){var l=M[p],w=(f?l.plotY:l.plotX)>this.xAxis.len,P=l.plotX,I=l.stackIndex,L=l.options.shape||m.shape,S=l.plotY;void 0!==S&&(S=l.plotY+r-(void 0!==I&&I*m.stackDistance)),l.anchorX=I?void 0:l.plotX;var B=I?void 0:l.plotY,c="flag"!==L;I=l.graphic,void 0!==S&&0<=P&&!w?(I&&l.hasNewShapeType()&&(I=I.destroy()),I||(I=l.graphic=x.label("",null,null,L,null,null,m.useHTML).addClass("highcharts-point").add(this.markerGroup),l.graphic.div&&(l.graphic.div.point=l),I.isNew=!0),I.attr({align:c?"center":"left",width:m.width,height:m.height,"text-align":m.textAlign}),D.styledMode||I.attr(this.pointAttribs(l)).css(v(m.style,l.style)).shadow(m.shadow),0<P&&(P-=I.strokeWidth()%2),L={y:S,anchorY:B},m.allowOverlapX&&(L.x=P,L.anchorX=l.anchorX),I.attr({text:l.options.title||m.title||"A"})[I.isNew?"attr":"animate"](L),m.allowOverlapX||(n[l.plotX]?n[l.plotX].size=Math.max(n[l.plotX].size,I.width):n[l.plotX]={align:c?.5:0,size:I.width,target:P,anchorX:P}),l.tooltipPos=[P,S+a.pos-D.plotTop]):I&&(l.graphic=I.destroy())}if(!m.allowOverlapX){var u=100;_(n,function(E){E.plotX=E.anchorX,h.push(E),u=Math.max(E.size,u)}),N(h,f?a.len:this.xAxis.len,u),M.forEach(function(E){var j=E.graphic&&n[E.plotX];j&&(E.graphic[E.graphic.isNew?"attr":"animate"]({x:j.pos+j.align*j.size,anchorX:E.anchorX}),d(j.pos)?E.graphic.isNew=!1:(E.graphic.attr({x:-9999,anchorX:-9999}),E.graphic.isNew=!0))})}m.useHTML&&T(this.markerGroup,"on",function(E){return K.prototype.on.apply(E.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},C.prototype.drawTracker=function(){var M=this.points;y.prototype.drawTracker.call(this),M.forEach(function(D){var x=D.graphic;x&&(D.unbindMouseOver&&D.unbindMouseOver(),D.unbindMouseOver=g(x.element,"mouseover",function(){0<D.stackIndex&&!D.raised&&(D._y=x.y,x.attr({y:D._y-8}),D.raised=!0),M.forEach(function(f){f!==D&&f.raised&&f.graphic&&(f.graphic.attr({y:f._y}),f.raised=!1)})}))})},C.prototype.pointAttribs=function(M,D){var x=this.options,f=M&&M.color||this.color,m=x.lineColor,r=M&&M.lineWidth;return M=M&&M.fillColor||x.fillColor,D&&(M=x.states[D].fillColor,m=x.states[D].lineColor,r=x.states[D].lineWidth),{fill:M||f,stroke:m||f,"stroke-width":r||x.lineWidth||0}},C.prototype.setClip=function(){O.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup&&this.markerGroup.clip(this.chart.sharedClips[this.sharedClipKey])},C.defaultOptions=v(k.defaultOptions,{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}}),C}(k),q.compose(X),rt(X.prototype,{allowDG:!1,forceCrop:!0,invertible:!1,noSharedTooltip:!0,pointClass:Y,sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],buildKDTree:$,init:O.prototype.init,invertGroups:$}),J.registerSeriesType("flags",X),X}),wt(o,"Core/Axis/ScrollbarAxis.js",[o["Core/Utilities.js"]],function(Y){var $=Y.addEvent,q=Y.defined,rt=Y.pick;return function(){function J(){}return J.compose=function(K,X){if(-1!==J.composed.indexOf(K))return K;J.composed.push(K);var F=function(N){var O=rt(N.options&&N.options.min,N.min),k=rt(N.options&&N.options.max,N.max);return{axisMin:O,axisMax:k,scrollMin:q(N.dataMin)?Math.min(O,N.min,N.dataMin,rt(N.threshold,1/0)):O,scrollMax:q(N.dataMax)?Math.max(k,N.max,N.dataMax,rt(N.threshold,-1/0)):k}};return $(K,"afterInit",function(){var N=this;N.options&&N.options.scrollbar&&N.options.scrollbar.enabled&&(N.options.scrollbar.vertical=!N.horiz,N.options.startOnTick=N.options.endOnTick=!1,N.scrollbar=new X(N.chart.renderer,N.options.scrollbar,N.chart),$(N.scrollbar,"changed",function(O){var k=F(N),g=k.axisMax,d=k.scrollMin,v=k.scrollMax-d;q(k.axisMin)&&q(g)&&(N.horiz&&!N.reversed||!N.horiz&&N.reversed?(k=d+v*this.to,d+=v*this.from):(k=d+v*(1-this.from),d+=v*(1-this.to)),this.shouldUpdateExtremes(O.DOMType)?N.setExtremes(d,k,!0,"mousemove"!==O.DOMType&&"touchmove"!==O.DOMType,O):this.setRange(this.from,this.to))}))}),$(K,"afterRender",function(){var N=F(this),O=N.scrollMin,k=N.scrollMax,g=this.axisTitleMargin+(this.titleOffset||0),d=this.chart.scrollbarsOffsets,v=this.options.margin||0;(N=this.scrollbar)&&(this.horiz?(this.opposite||(d[1]+=g),N.position(this.left,this.top+this.height+2+d[1]-(this.opposite?v:0),this.width,this.height),this.opposite||(d[1]+=v),g=1):(this.opposite&&(d[0]+=g),N.position(N.options.opposite?this.left+this.width+2+d[0]-(this.opposite?0:v):this.opposite?0:v,this.top,this.width,this.height),this.opposite&&(d[0]+=v),g=0),d[g]+=N.size+N.options.margin,isNaN(O)||isNaN(k)||!q(this.min)||!q(this.max)||this.min===this.max?N.setRange(0,1):(d=(this.min-O)/(k-O),O=(this.max-O)/(k-O),this.horiz&&!this.reversed||!this.horiz&&this.reversed?N.setRange(d,O):N.setRange(1-O,1-d)))}),$(K,"afterGetOffset",function(){var N=this.scrollbar&&!this.scrollbar.options.opposite;N=this.horiz?2:N?3:1;var O=this.scrollbar;O&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[N]+=O.size+O.options.margin)}),K},J.composed=[],J}()}),wt(o,"Core/ScrollbarDefaults.js",[o["Core/Globals.js"]],function(Y){return{height:Y.isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,opposite:!0,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1}}),wt(o,"Core/Scrollbar.js",[o["Core/DefaultOptions.js"],o["Core/Globals.js"],o["Core/Axis/ScrollbarAxis.js"],o["Core/ScrollbarDefaults.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J){var K=Y.defaultOptions,X=J.addEvent,F=J.correctFloat,N=J.defined,O=J.destroyObjectProperties,k=J.fireEvent,g=J.merge,d=J.pick,v=J.removeEvent;return Y=function(){function _(T,y,C){this._events=[],this.chart=void 0,this.from=this.chartY=this.chartX=0,this.scrollbar=this.renderer=this.options=this.group=void 0,this.scrollbarButtons=[],this.scrollbarGroup=void 0,this.scrollbarLeft=0,this.scrollbarRifles=void 0,this.scrollbarStrokeWidth=1,this.to=this.size=this.scrollbarTop=0,this.track=void 0,this.trackBorderWidth=1,this.userOptions=void 0,this.y=this.x=0,this.init(T,y,C)}return _.compose=function(T){q.compose(T,_)},_.swapXY=function(T,y){return y&&T.forEach(function(C){for(var D,M=C.length,x=0;x<M;x+=2)"number"==typeof(D=C[x+1])&&(C[x+1]=C[x+2],C[x+2]=D)}),T},_.prototype.addEvents=function(){var T=this.options.inverted?[1,0]:[0,1],y=this.scrollbarButtons,C=this.scrollbarGroup.element,M=this.track.element,D=this.mouseDownHandler.bind(this),x=this.mouseMoveHandler.bind(this),f=this.mouseUpHandler.bind(this);T=[[y[T[0]].element,"click",this.buttonToMinClick.bind(this)],[y[T[1]].element,"click",this.buttonToMaxClick.bind(this)],[M,"click",this.trackClick.bind(this)],[C,"mousedown",D],[C.ownerDocument,"mousemove",x],[C.ownerDocument,"mouseup",f]],$.hasTouch&&T.push([C,"touchstart",D],[C.ownerDocument,"touchmove",x],[C.ownerDocument,"touchend",f]),T.forEach(function(m){X.apply(null,m)}),this._events=T},_.prototype.buttonToMaxClick=function(T){var y=(this.to-this.from)*d(this.options.step,.2);this.updatePosition(this.from+y,this.to+y),k(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:T})},_.prototype.buttonToMinClick=function(T){var y=F(this.to-this.from)*d(this.options.step,.2);this.updatePosition(F(this.from-y),F(this.to-y)),k(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:T})},_.prototype.cursorToScrollbarPosition=function(T){var y=this.options;return{chartX:(T.chartX-this.x-this.xOffset)/(this.barWidth-(y=y.minWidth>this.calculatedWidth?y.minWidth:0)),chartY:(T.chartY-this.y-this.yOffset)/(this.barWidth-y)}},_.prototype.destroy=function(){var T=this,y=T.chart.scroller;T.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(C){T[C]&&T[C].destroy&&(T[C]=T[C].destroy())}),y&&T===y.scrollbar&&(y.scrollbar=null,O(y.scrollbarButtons))},_.prototype.drawScrollbarButton=function(T){var y=this.renderer,C=this.scrollbarButtons,M=this.options,D=this.size,x=y.g().add(this.group);C.push(x),x=y.rect().addClass("highcharts-scrollbar-button").add(x),this.chart.styledMode||x.attr({stroke:M.buttonBorderColor,"stroke-width":M.buttonBorderWidth,fill:M.buttonBackgroundColor}),x.attr(x.crisp({x:-.5,y:-.5,width:D+1,height:D+1,r:M.buttonBorderRadius},x.strokeWidth())),x=y.path(_.swapXY([["M",D/2+(T?-1:1),D/2-3],["L",D/2+(T?-1:1),D/2+3],["L",D/2+(T?2:-2),D/2]],M.vertical)).addClass("highcharts-scrollbar-arrow").add(C[T]),this.chart.styledMode||x.attr({fill:M.buttonArrowColor})},_.prototype.init=function(T,y,C){this.scrollbarButtons=[],this.renderer=T,this.userOptions=y,this.options=g(rt,K.scrollbar,y),this.chart=C,this.size=d(this.options.size,this.options.height),y.enabled&&(this.render(),this.addEvents())},_.prototype.mouseDownHandler=function(T){T=this.chart.pointer.normalize(T),T=this.cursorToScrollbarPosition(T),this.chartX=T.chartX,this.chartY=T.chartY,this.initPositions=[this.from,this.to],this.grabbedCenter=!0},_.prototype.mouseMoveHandler=function(T){var y=this.chart.pointer.normalize(T),C=this.options.vertical?"chartY":"chartX",M=this.initPositions||[];!this.grabbedCenter||T.touches&&0===T.touches[0][C]||(C=(y=this.cursorToScrollbarPosition(y)[C])-(C=this[C]),this.hasDragged=!0,this.updatePosition(M[0]+C,M[1]+C),this.hasDragged&&k(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:T.type,DOMEvent:T}))},_.prototype.mouseUpHandler=function(T){this.hasDragged&&k(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:T.type,DOMEvent:T}),this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null},_.prototype.position=function(T,y,C,M){var D=this.options.vertical,x=this.rendered?"animate":"attr",f=0;this.x=T,this.y=y+this.trackBorderWidth,this.width=C,this.xOffset=this.height=M,this.yOffset=f,D?(this.width=this.yOffset=C=f=this.size,this.xOffset=y=0,this.barWidth=M-2*C,this.x=T+=this.options.margin):(this.height=this.xOffset=M=y=this.size,this.barWidth=C-2*M,this.y+=this.options.margin),this.group[x]({translateX:T,translateY:this.y}),this.track[x]({width:C,height:M}),this.scrollbarButtons[1][x]({translateX:D?0:C-y,translateY:D?M-f:0})},_.prototype.removeEvents=function(){this._events.forEach(function(T){v.apply(null,T)}),this._events.length=0},_.prototype.render=function(){var T=this.renderer,y=this.options,C=this.size,M=this.chart.styledMode,D=T.g("scrollbar").attr({zIndex:y.zIndex,translateY:-99999}).add();this.group=D,this.track=T.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:y.trackBorderRadius||0,height:C,width:C}).add(D),M||this.track.attr({fill:y.trackBackgroundColor,stroke:y.trackBorderColor,"stroke-width":y.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=T.g().add(D),this.scrollbar=T.rect().addClass("highcharts-scrollbar-thumb").attr({height:C,width:C,r:y.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=T.path(_.swapXY([["M",-3,C/4],["L",-3,2*C/3],["M",0,C/4],["L",0,2*C/3],["M",3,C/4],["L",3,2*C/3]],y.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),M||(this.scrollbar.attr({fill:y.barBackgroundColor,stroke:y.barBorderColor,"stroke-width":y.barBorderWidth}),this.scrollbarRifles.attr({stroke:y.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},_.prototype.setRange=function(T,y){var C=this.options,M=C.vertical,D=C.minWidth,x=this.barWidth,f=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(N(x)){var m=x*Math.min(y,1);T=Math.max(T,0);var r=Math.ceil(x*T);this.calculatedWidth=m=F(m-r),m<D&&(r=(x-D+m)*T,m=D),D=Math.floor(r+this.xOffset+this.yOffset),x=m/2-.5,this.from=T,this.to=y,M?(this.scrollbarGroup[f]({translateY:D}),this.scrollbar[f]({height:m}),this.scrollbarRifles[f]({translateY:x}),this.scrollbarTop=D,this.scrollbarLeft=0):(this.scrollbarGroup[f]({translateX:D}),this.scrollbar[f]({width:m}),this.scrollbarRifles[f]({translateX:x}),this.scrollbarLeft=D,this.scrollbarTop=0),12>=m?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===C.showFull&&(0>=T&&1<=y?this.group.hide():this.group.show()),this.rendered=!0}},_.prototype.shouldUpdateExtremes=function(T){return d(this.options.liveRedraw,$.svg&&!$.isTouchDevice&&!this.chart.isBoosting)||"mouseup"===T||"touchend"===T||!N(T)},_.prototype.trackClick=function(T){var y=this.chart.pointer.normalize(T),C=this.to-this.from;this.options.vertical&&y.chartY>this.y+this.scrollbarTop||!this.options.vertical&&y.chartX>this.x+this.scrollbarLeft?this.updatePosition(this.from+C,this.to+C):this.updatePosition(this.from-C,this.to-C),k(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:T})},_.prototype.update=function(T){this.destroy(),this.init(this.chart.renderer,g(!0,this.options,T),this.chart)},_.prototype.updatePosition=function(T,y){1<y&&(T=F(1-F(y-T)),y=1),0>T&&(y=F(y-T),T=0),this.from=T,this.to=y},_.defaultOptions=rt,_}(),K.scrollbar=g(!0,Y.defaultOptions,K.scrollbar),Y}),wt(o,"Core/Axis/NavigatorAxis.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function(Y,$){var q=Y.isTouchDevice,rt=$.addEvent,J=$.correctFloat,K=$.defined,X=$.isNumber,F=$.pick,N=function(){function O(k){this.axis=k}return O.prototype.destroy=function(){this.axis=void 0},O.prototype.toFixedRange=function(k,g,d,v){var _=this.axis,T=_.chart;T=T&&T.fixedRange;var y=(_.pointRange||0)/2;return k=F(d,_.translate(k,!0,!_.horiz)),g=F(v,_.translate(g,!0,!_.horiz)),_=T&&(g-k)/T,K(d)||(k=J(k+y)),K(v)||(g=J(g-y)),.7<_&&1.3>_&&(v?k=g-T:g=k+T),X(k)&&X(g)||(k=g=void 0),{min:k,max:g}},O}();return function(){function O(){}return O.compose=function(k){k.keepProps.push("navigatorAxis"),rt(k,"init",function(){this.navigatorAxis||(this.navigatorAxis=new N(this))}),rt(k,"zoom",function(g){var d=this.chart.options,v=d.navigator,_=this.navigatorAxis,T=d.chart.pinchType,y=d.rangeSelector;d=d.chart.zoomType,this.isXAxis&&(v&&v.enabled||y&&y.enabled)&&("y"===d?g.zoomed=!1:(!q&&"xy"===d||q&&"xy"===T)&&this.options.range&&(v=_.previousZoom,K(g.newMin)?_.previousZoom=[this.min,this.max]:v&&(g.newMin=v[0],g.newMax=v[1],_.previousZoom=void 0))),void 0!==g.zoomed&&g.preventDefault()})},O.AdditionsClass=N,O}()}),wt(o,"Core/Navigator.js",[o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/Color/Color.js"],o["Core/Globals.js"],o["Core/Axis/NavigatorAxis.js"],o["Core/DefaultOptions.js"],o["Core/Renderer/RendererRegistry.js"],o["Core/Scrollbar.js"],o["Core/Series/Series.js"],o["Core/Series/SeriesRegistry.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F,N,O,k){var g=rt.hasTouch,d=rt.isTouchDevice,v=K.defaultOptions,_=k.addEvent,T=k.clamp,y=k.correctFloat,C=k.defined,M=k.destroyObjectProperties,D=k.erase,x=k.extend,f=k.find,m=k.isArray,r=k.isNumber,p=k.merge,a=k.pick,n=k.removeEvent,h=k.splat,l=function(P){for(var I=[],L=1;L<arguments.length;L++)I[L-1]=arguments[L];if((I=[].filter.call(I,r)).length)return Math[P].apply(0,I)};K=void 0===O.seriesTypes.areaspline?"line":"areaspline",x(v,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:(q=q.parse)("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:K,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,firstAnchor:"firstPoint",anchor:"middle",lastAnchor:"lastPoint",units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),X.getRendererType().prototype.symbols["navigator-handle"]=function(P,I,L,S,B){return P=(B&&B.width||0)/2,I=Math.round(P/3)+.5,[["M",-P-1,.5],["L",P,.5],["L",P,(B=B&&B.height||0)+.5],["L",-P-1,B+.5],["L",-P-1,.5],["M",-I,4],["L",-I,B-3],["M",I-1,4],["L",I-1,B-3]]};var w=function(){function P(I){this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.rendered=this.range=this.outlineHeight=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=this.height=this.handles=this.chart=this.baseSeries=void 0,this.init(I)}return P.prototype.drawHandle=function(I,L,S,B){var c=this.navigatorOptions.handles.height;this.handles[L][B](S?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(I,10)+.5-c)}:{translateX:Math.round(this.left+parseInt(I,10)),translateY:Math.round(this.top+this.height/2-c/2-1)})},P.prototype.drawOutline=function(I,L,S,B){var c=this.navigatorOptions.maskInside,u=this.outline.strokeWidth(),E=u/2,j=u%2/2;u=this.outlineHeight;var G=this.scrollbarHeight||0,W=this.size,b=this.left-G,z=this.top;S?(j=[["M",(b-=E)+u,z-G-j],["L",b+u,S=z+L+j],["L",b,S],["L",b,L=z+I+j],["L",b+u,L],["L",b+u,z+W+G]],c&&j.push(["M",b+u,S-E],["L",b+u,L+E])):(j=[["M",b,z+=E],["L",I+=b+G-j,z],["L",I,z+u],["L",L+=b+G-j,z+u],["L",L,z],["L",b+W+2*G,z]],c&&j.push(["M",I-E,z],["L",L+E,z])),this.outline[B]({d:j})},P.prototype.drawMasks=function(I,L,S,B){var c=this.left,u=this.top,E=this.height;if(S)var j=[c,c,c],G=[u,u+I,u+L],W=[E,E,E],b=[I,L-I,this.size-L];else j=[c,c+I,c+L],G=[u,u,u],W=[I,L-I,this.size-L],b=[E,E,E];this.shades.forEach(function(z,R){z[B]({x:j[R],y:G[R],width:W[R],height:b[R]})})},P.prototype.renderElements=function(){var u,I=this,L=I.navigatorOptions,S=L.maskInside,B=I.chart,c=B.renderer,E={cursor:B.inverted?"ns-resize":"ew-resize"};I.navigatorGroup=u=c.g("navigator").attr({zIndex:8,visibility:"hidden"}).add(),[!S,S,!S].forEach(function(j,G){I.shades[G]=c.rect().addClass("highcharts-navigator-mask"+(1===G?"-inside":"-outside")).add(u),B.styledMode||I.shades[G].attr({fill:j?L.maskFill:"rgba(0,0,0,0)"}).css(1===G&&E)}),I.outline=c.path().addClass("highcharts-navigator-outline").add(u),B.styledMode||I.outline.attr({"stroke-width":L.outlineWidth,stroke:L.outlineColor}),L.handles.enabled&&[0,1].forEach(function(j){if(L.handles.inverted=B.inverted,I.handles[j]=c.symbol(L.handles.symbols[j],-L.handles.width/2-1,0,L.handles.width,L.handles.height,L.handles),I.handles[j].attr({zIndex:7-j}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][j]).add(u),!B.styledMode){var G=L.handles;I.handles[j].attr({fill:G.backgroundColor,stroke:G.borderColor,"stroke-width":G.lineWidth}).css(E)}})},P.prototype.update=function(I){(this.series||[]).forEach(function(L){L.baseSeries&&delete L.baseSeries.navigatorSeries}),this.destroy(),p(!0,this.chart.options.navigator,this.options,I),this.init(this.chart)},P.prototype.render=function(I,L,S,B){var E,z,c=this.chart,u=this.scrollbarHeight,j=this.xAxis,G=j.pointRange||0,W=j.navigatorAxis.fake?c.xAxis[0]:j,b=this.navigatorEnabled,R=this.rendered,V=c.inverted,Z=c.xAxis[0].minRange,nt=c.xAxis[0].options.maxRange;if(!this.hasDragged||C(S)){if(I=y(I-G/2),L=y(L+G/2),!r(I)||!r(L)){if(!R)return;S=0,B=a(j.width,W.width)}this.left=a(j.left,c.plotLeft+u+(V?c.plotWidth:0)),this.size=z=E=a(j.len,(V?c.plotHeight:c.plotWidth)-2*u),c=V?u:E+2*u,S=a(S,j.toPixels(I,!0)),B=a(B,j.toPixels(L,!0)),r(S)&&Math.abs(S)!==1/0||(S=0,B=c),I=j.toValue(S,!0),L=j.toValue(B,!0);var it=Math.abs(y(L-I));it<Z?this.grabbedLeft?S=j.toPixels(L-Z-G,!0):this.grabbedRight&&(B=j.toPixels(I+Z+G,!0)):C(nt)&&y(it-G)>nt&&(this.grabbedLeft?S=j.toPixels(L-nt-G,!0):this.grabbedRight&&(B=j.toPixels(I+nt+G,!0))),this.zoomedMax=T(Math.max(S,B),0,z),this.zoomedMin=T(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(S,B),0,z),this.range=this.zoomedMax-this.zoomedMin,z=Math.round(this.zoomedMax),S=Math.round(this.zoomedMin),b&&(this.navigatorGroup.attr({visibility:"visible"}),this.drawMasks(S,z,V,R=R&&!this.hasDragged?"animate":"attr"),this.drawOutline(S,z,V,R),this.navigatorOptions.handles.enabled&&(this.drawHandle(S,0,V,R),this.drawHandle(z,1,V,R))),this.scrollbar&&(V?(V=this.top-u,W=this.left-u+(b||!W.opposite?0:(W.titleOffset||0)+W.axisTitleMargin),u=E+2*u):(V=this.top+(b?this.height:-u),W=this.left-u),this.scrollbar.position(W,V,c,u),this.scrollbar.setRange(this.zoomedMin/(E||1),this.zoomedMax/(E||1))),this.rendered=!0}},P.prototype.addMouseEvents=function(){var c,u,I=this,L=I.chart,S=L.container,B=[];I.mouseMoveHandler=c=function(E){I.onMouseMove(E)},I.mouseUpHandler=u=function(E){I.onMouseUp(E)},(B=I.getPartsEvents("mousedown")).push(_(L.renderTo,"mousemove",c),_(S.ownerDocument,"mouseup",u)),g&&(B.push(_(L.renderTo,"touchmove",c),_(S.ownerDocument,"touchend",u)),B.concat(I.getPartsEvents("touchstart"))),I.eventsToUnbind=B,I.series&&I.series[0]&&B.push(_(I.series[0].xAxis,"foundExtremes",function(){L.navigator.modifyNavigatorAxisExtremes()}))},P.prototype.getPartsEvents=function(I){var L=this,S=[];return["shades","handles"].forEach(function(B){L[B].forEach(function(c,u){S.push(_(c.element,I,function(E){L[B+"Mousedown"](E,u)}))})}),S},P.prototype.shadesMousedown=function(I,L){I=this.chart.pointer.normalize(I);var S=this.chart,B=this.xAxis,c=this.zoomedMin,u=this.left,E=this.size,j=this.range,G=I.chartX;if(S.inverted&&(G=I.chartY,u=this.top),1===L)this.grabbedCenter=G,this.fixedWidth=j,this.dragOffset=G-c;else{if(I=G-u-j/2,0===L)I=Math.max(0,I);else if(2===L&&I+j>=E)if(I=E-j,this.reversedExtremes){I-=j;var W=this.getUnionExtremes().dataMin}else var b=this.getUnionExtremes().dataMax;I!==c&&(this.fixedWidth=j,L=B.navigatorAxis.toFixedRange(I,I+j,W,b),C(L.min)&&S.xAxis[0].setExtremes(Math.min(L.min,L.max),Math.max(L.min,L.max),!0,null,{trigger:"navigator"}))}},P.prototype.handlesMousedown=function(I,L){this.chart.pointer.normalize(I);var S=(I=this.chart).xAxis[0],B=this.reversedExtremes;0===L?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=B?S.min:S.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=B?S.max:S.min),I.fixedRange=null},P.prototype.onMouseMove=function(I){var L=this,S=L.chart,B=L.left,c=L.navigatorSize,u=L.range,E=L.dragOffset,j=S.inverted;I.touches&&0===I.touches[0].pageX||(I=S.pointer.normalize(I),S=I.chartX,j&&(B=L.top,S=I.chartY),L.grabbedLeft?(L.hasDragged=!0,L.render(0,0,S-B,L.otherHandlePos)):L.grabbedRight?(L.hasDragged=!0,L.render(0,0,L.otherHandlePos,S-B)):L.grabbedCenter&&(L.hasDragged=!0,S<E?S=E:S>c+E-u&&(S=c+E-u),L.render(0,0,S-E,S-E+u)),L.hasDragged&&L.scrollbar&&a(L.scrollbar.options.liveRedraw,rt.svg&&!d&&!this.chart.isBoosting)&&(I.DOMType=I.type,setTimeout(function(){L.onMouseUp(I)},0)))},P.prototype.onMouseUp=function(I){var L=this.chart,S=this.xAxis,B=this.scrollbar,c=I.DOMEvent||I,u=L.inverted,E=this.rendered&&!this.hasDragged?"animate":"attr";if(this.hasDragged&&(!B||!B.hasDragged)||"scrollbar"===I.trigger){if(B=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos)var j=this.fixedExtreme;else if(this.zoomedMax===this.otherHandlePos)var G=this.fixedExtreme;this.zoomedMax===this.size&&(G=this.reversedExtremes?B.dataMin:B.dataMax),0===this.zoomedMin&&(j=this.reversedExtremes?B.dataMax:B.dataMin),S=S.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,j,G),C(S.min)&&L.xAxis[0].setExtremes(Math.min(S.min,S.max),Math.max(S.min,S.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:c})}"mousemove"!==I.DOMType&&"touchmove"!==I.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null),this.navigatorEnabled&&r(this.zoomedMin)&&r(this.zoomedMax)&&(L=Math.round(this.zoomedMin),I=Math.round(this.zoomedMax),this.shades&&this.drawMasks(L,I,u,E),this.outline&&this.drawOutline(L,I,u,E),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(L,0,u,E),this.drawHandle(I,1,u,E)))},P.prototype.removeEvents=function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(I){I()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},P.prototype.removeBaseSeriesEvents=function(){var I=this.baseSeries||[];this.navigatorEnabled&&I[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&I.forEach(function(L){n(L,"updatedData",this.updatedDataHandler)},this),I[0].xAxis&&n(I[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},P.prototype.init=function(I){var L=I.options,S=L.navigator,B=S.enabled,c=L.scrollbar,u=c.enabled;L=B?S.height:0;var E=u?c.height:0;this.handles=[],this.shades=[],this.chart=I,this.setBaseSeries(),this.height=L,this.scrollbarHeight=E,this.scrollbarEnabled=u,this.navigatorEnabled=B,this.navigatorOptions=S,this.scrollbarOptions=c,this.outlineHeight=L+E,this.opposite=a(S.opposite,!(B||!I.inverted));var j=this;c=I.xAxis.length,u=I.yAxis.length;var G=(B=j.baseSeries)&&B[0]&&B[0].xAxis||I.xAxis[0]||{options:{}};I.isDirtyBox=!0,j.navigatorEnabled?(j.xAxis=new Y(I,p({breaks:G.options.breaks,ordinal:G.options.ordinal},S.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:c,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},I.inverted?{offsets:[E,0,-E,0],width:L}:{offsets:[0,-E,0,E],height:L})),j.yAxis=new Y(I,p(S.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:u,isInternal:!0,reversed:a(S.yAxis&&S.yAxis.reversed,I.yAxis[0]&&I.yAxis[0].reversed,!1),zoomEnabled:!1},I.inverted?{width:L}:{height:L})),B||S.series.data?j.updateNavigatorSeries(!1):0===I.series.length&&(j.unbindRedraw=_(I,"beforeRedraw",function(){0<I.series.length&&!j.series&&(j.setBaseSeries(),j.unbindRedraw())})),j.reversedExtremes=I.inverted&&!j.xAxis.reversed||!I.inverted&&j.xAxis.reversed,j.renderElements(),j.addMouseEvents()):(j.xAxis={chart:I,navigatorAxis:{fake:!0},translate:function(W,b){var z=I.xAxis[0],R=z.getExtremes(),V=z.len-2*E,Z=l("min",z.options.min,R.dataMin);return z=l("max",z.options.max,R.dataMax)-Z,b?W*z/V+Z:V*(W-Z)/z},toPixels:function(W){return this.translate(W)},toValue:function(W){return this.translate(W,!0)}},j.xAxis.navigatorAxis.axis=j.xAxis,j.xAxis.navigatorAxis.toFixedRange=J.AdditionsClass.prototype.toFixedRange.bind(j.xAxis.navigatorAxis)),I.options.scrollbar.enabled&&(I.scrollbar=j.scrollbar=new F(I.renderer,p(I.options.scrollbar,{margin:j.navigatorEnabled?0:10,vertical:I.inverted}),I),_(j.scrollbar,"changed",function(W){var b=j.size,z=b*this.to;b*=this.from,j.hasDragged=j.scrollbar.hasDragged,j.render(0,0,b,z),this.shouldUpdateExtremes(W.DOMType)&&setTimeout(function(){j.onMouseUp(W)})})),j.addBaseSeriesEvents(),j.addChartEvents()},P.prototype.getUnionExtremes=function(I){var u,L=this.chart.xAxis[0],S=this.xAxis,B=S.options,c=L.options;return I&&null===L.dataMin||(u={dataMin:a(B&&B.min,l("min",c.min,L.dataMin,S.dataMin,S.min)),dataMax:a(B&&B.max,l("max",c.max,L.dataMax,S.dataMax,S.max))}),u},P.prototype.setBaseSeries=function(I,L){var S=this.chart,B=this.baseSeries=[];I=I||S.options&&S.options.navigator.baseSeries||(S.series.length?f(S.series,function(c){return!c.options.isInternal}).index:0),(S.series||[]).forEach(function(c,u){c.options.isInternal||!c.options.showInNavigator&&(u!==I&&c.options.id!==I||!1===c.options.showInNavigator)||B.push(c)}),this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,L)},P.prototype.updateNavigatorSeries=function(I,L){var u,E,G,S=this,B=S.chart,c=S.baseSeries,j=S.navigatorOptions.series,W={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},b=S.series=(S.series||[]).filter(function(z){var R=z.baseSeries;return!(0>c.indexOf(R)&&(R&&(n(R,"updatedData",S.updatedDataHandler),delete R.navigatorSeries),z.chart&&z.destroy(),1))});c&&c.length&&c.forEach(function(z){var R=z.navigatorSeries,V=x({color:z.color,visible:z.visible},m(j)?v.navigator.series:j);R&&!1===S.navigatorOptions.adaptToUpdatedData||(W.name="Navigator "+c.length,G=(u=z.options||{}).navigatorOptions||{},V.dataLabels=h(V.dataLabels),(E=p(u,W,V,G)).pointRange=a(V.pointRange,G.pointRange,v.plotOptions[E.type||"line"].pointRange),V=G.data||V.data,S.hasNavigatorData=S.hasNavigatorData||!!V,E.data=V||u.data&&u.data.slice(0),R&&R.options?R.update(E,L):(z.navigatorSeries=B.initSeries(E),z.navigatorSeries.baseSeries=z,b.push(z.navigatorSeries)))}),(j.data&&(!c||!c.length)||m(j))&&(S.hasNavigatorData=!1,(j=h(j)).forEach(function(z,R){W.name="Navigator "+(b.length+1),(E=p(v.navigator.series,{color:B.series[R]&&!B.series[R].options.isInternal&&B.series[R].color||B.options.colors[R]||B.options.colors[0]},W,z)).data=z.data,E.data&&(S.hasNavigatorData=!0,b.push(B.initSeries(E)))})),I&&this.addBaseSeriesEvents()},P.prototype.addBaseSeriesEvents=function(){var I=this,L=I.baseSeries||[];L[0]&&L[0].xAxis&&L[0].eventsToUnbind.push(_(L[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes)),L.forEach(function(S){S.eventsToUnbind.push(_(S,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)})),S.eventsToUnbind.push(_(S,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)})),!1!==this.navigatorOptions.adaptToUpdatedData&&S.xAxis&&S.eventsToUnbind.push(_(S,"updatedData",this.updatedDataHandler)),S.eventsToUnbind.push(_(S,"remove",function(){this.navigatorSeries&&(D(I.series,this.navigatorSeries),C(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)}))},this)},P.prototype.getBaseSeriesMin=function(I){return this.baseSeries.reduce(function(L,S){return Math.min(L,S.xData?S.xData[0]:L)},I)},P.prototype.modifyNavigatorAxisExtremes=function(){var L,I=this.xAxis;void 0!==I.getExtremes&&(!(L=this.getUnionExtremes(!0))||L.dataMin===I.min&&L.dataMax===I.max||(I.min=L.dataMin,I.max=L.dataMax))},P.prototype.modifyBaseAxisExtremes=function(){var I=this.chart.navigator,L=this.getExtremes(),S=L.dataMin,B=L.dataMax;L=L.max-L.min;var c=I.stickToMin,u=I.stickToMax,E=a(this.options.overscroll,0),j=I.series&&I.series[0],G=!!this.setExtremes;if(!this.eventArgs||"rangeSelectorButton"!==this.eventArgs.trigger){if(c)var W=S,b=W+L;u&&(b=B+E,c||(W=Math.max(S,b-L,I.getBaseSeriesMin(j&&j.xData?j.xData[0]:-Number.MAX_VALUE)))),G&&(c||u)&&r(W)&&(this.min=this.userMin=W,this.max=this.userMax=b)}I.stickToMin=I.stickToMax=null},P.prototype.updatedDataHandler=function(){var I=this.chart.navigator,L=this.navigatorSeries;I.stickToMax=I.reversedExtremes?0===Math.round(I.zoomedMin):Math.round(I.zoomedMax)>=Math.round(I.size),I.stickToMin=I.shouldStickToMin(this,I),L&&!I.hasNavigatorData&&(L.options.pointStart=this.xData[0],L.setData(this.options.data,!1,null,!1))},P.prototype.shouldStickToMin=function(I,L){L=L.getBaseSeriesMin(I.xData[0]);var S=I.xAxis;I=S.max;var B=S.min;return S=S.options.range,!(!r(I)||!r(B))&&(S&&0<I-L?I-L<S:B<=L)},P.prototype.addChartEvents=function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(_(this.chart,"redraw",function(){var I=this.navigator,L=I&&(I.baseSeries&&I.baseSeries[0]&&I.baseSeries[0].xAxis||this.xAxis[0]);L&&I.render(L.min,L.max)}),_(this.chart,"getMargins",function(){var I=this.navigator,L=I.opposite?"plotTop":"marginBottom";this.inverted&&(L=I.opposite?"marginRight":"plotLeft"),this[L]=(this[L]||0)+(I.navigatorEnabled||!this.inverted?I.outlineHeight:0)+I.navigatorOptions.margin}))},P.prototype.destroy=function(){this.removeEvents(),this.xAxis&&(D(this.chart.xAxis,this.xAxis),D(this.chart.axes,this.xAxis)),this.yAxis&&(D(this.chart.yAxis,this.yAxis),D(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(I){I.destroy&&I.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(function(I){this[I]&&this[I].destroy&&this[I].destroy(),this[I]=null},this),[this.handles].forEach(function(I){M(I)},this)},P}();return rt.Navigator||(rt.Navigator=w,J.compose(Y),_($,"beforeShowResetZoom",function(){var P=this.options,I=P.navigator,L=P.rangeSelector;if((I&&I.enabled||L&&L.enabled)&&(!d&&"x"===P.chart.zoomType||d&&"x"===P.chart.pinchType))return!1}),_($,"beforeRender",function(){var P=this.options;(P.navigator.enabled||P.scrollbar.enabled)&&(this.scroller=this.navigator=new w(this))}),_($,"afterSetChartSize",function(){var P=this.legend,I=this.navigator;if(I){var L=P&&P.options,S=I.xAxis,B=I.yAxis,c=I.scrollbarHeight;this.inverted?(I.left=I.opposite?this.chartWidth-c-I.height:this.spacing[3]+c,I.top=this.plotTop+c):(I.left=a(S.left,this.plotLeft+c),I.top=I.navigatorOptions.top||this.chartHeight-I.height-c-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(L&&"bottom"===L.verticalAlign&&"proximate"!==L.layout&&L.enabled&&!L.floating?P.legendHeight+a(L.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),S&&B&&(this.inverted?S.options.left=B.options.left=I.left:S.options.top=B.options.top=I.top,S.setAxisSize(),B.setAxisSize())}}),_($,"update",function(P){var I=P.options.navigator||{},L=P.options.scrollbar||{};this.navigator||this.scroller||!I.enabled&&!L.enabled||(p(!0,this.options.navigator,I),p(!0,this.options.scrollbar,L),delete P.options.navigator,delete P.options.scrollbar)}),_($,"afterUpdate",function(P){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new w(this),a(P.redraw,!0)&&this.redraw(P.animation))}),_($,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)}),_(N,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}),$.prototype.callbacks.push(function(P){var I=P.navigator;I&&P.xAxis[0]&&(P=P.xAxis[0].getExtremes(),I.render(P.min,P.max))})),rt.Navigator=w,rt.Navigator}),wt(o,"Extensions/RangeSelector.js",[o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/Globals.js"],o["Core/DefaultOptions.js"],o["Core/Renderer/SVG/SVGElement.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K){var F=rt.defaultOptions,N=K.addEvent,O=K.createElement,k=K.css,g=K.defined,d=K.destroyObjectProperties,v=K.discardElement,_=K.extend,T=K.find,y=K.fireEvent,C=K.isNumber,M=K.merge,D=K.objectEach,x=K.pad,f=K.pick,m=K.pInt,r=K.splat;_(F,{rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:"#335cad",cursor:"pointer"},labelStyle:{color:"#666666"}}}),_(F.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"});var p=function(){function h(l){this.buttons=void 0,this.buttonOptions=h.prototype.defaultButtons,this.initialButtonGroupWidth=0,this.options=void 0,this.chart=l,this.init(l)}return h.prototype.clickButton=function(l,w){var P=this.chart,I=this.buttonOptions[l],L=P.xAxis[0],S=P.scroller&&P.scroller.getUnionExtremes()||L||{},B=S.dataMin,c=S.dataMax,u=L&&Math.round(Math.min(L.max,f(c,L.max))),E=I.type;S=I._range;var j,G=I.dataGrouping;if(null!==B&&null!==c){if(P.fixedRange=S,this.setSelected(l),G&&(this.forcedDataGrouping=!0,Y.prototype.setDataGrouping.call(L||{chart:this.chart},G,!1),this.frozenStates=I.preserveDataGrouping),"month"===E||"year"===E)if(L){var W=L.minFromRange.call(E={range:I,max:u,chart:P,dataMin:B,dataMax:c});C(E.newMax)&&(u=E.newMax)}else S=I;else if(S)W=Math.max(u-S,B),u=Math.min(W+S,c);else if("ytd"===E){if(!L)return void(this.deferredYTDClick=l);void 0===c&&(B=Number.MAX_VALUE,c=Number.MIN_VALUE,P.series.forEach(function(V){V=V.xData,B=Math.min(V[0],B),c=Math.max(V[V.length-1],c)}),w=!1),W=j=(u=this.getYTDExtremes(c,B,P.time.useUTC)).min,u=u.max}else"all"===E&&L&&(P.navigator&&P.navigator.baseSeries[0]&&(P.navigator.baseSeries[0].xAxis.options.range=void 0),W=B,u=c);if(g(W)&&(W+=I._offsetMin),g(u)&&(u+=I._offsetMax),this.dropdown&&(this.dropdown.selectedIndex=l+1),L)L.setExtremes(W,u,f(w,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:I});else{var b=r(P.options.xAxis)[0],z=b.range;b.range=S;var R=b.min;b.min=j,N(P,"load",function(){b.range=z,b.min=R})}y(this,"afterBtnClick")}},h.prototype.setSelected=function(l){this.selected=this.options.selected=l},h.prototype.init=function(l){var w=this,P=l.options.rangeSelector,I=P.buttons||w.defaultButtons.slice(),L=P.selected,S=function(){var B=w.minInput,c=w.maxInput;B&&B.blur&&y(B,"blur"),c&&c.blur&&y(c,"blur")};w.chart=l,w.options=P,w.buttons=[],w.buttonOptions=I,this.eventsToUnbind=[],this.eventsToUnbind.push(N(l.container,"mousedown",S)),this.eventsToUnbind.push(N(l,"resize",S)),I.forEach(w.computeButtonRange),void 0!==L&&I[L]&&this.clickButton(L,!1),this.eventsToUnbind.push(N(l,"load",function(){l.xAxis&&l.xAxis[0]&&N(l.xAxis[0],"setExtremes",function(B){this.max-this.min!==l.fixedRange&&"rangeSelectorButton"!==B.trigger&&"updatedData"!==B.trigger&&w.forcedDataGrouping&&!w.frozenStates&&this.setDataGrouping(!1,!1)})}))},h.prototype.updateButtonStates=function(){var l=this,w=this.chart,P=this.dropdown,I=w.xAxis[0],L=Math.round(I.max-I.min),S=!I.hasVisibleSeries,B=w.scroller&&w.scroller.getUnionExtremes()||I,c=B.dataMin,u=B.dataMax,E=(w=l.getYTDExtremes(u,c,w.time.useUTC)).min,j=w.max,G=l.selected,W=C(G),b=l.options.allButtonsEnabled,z=l.buttons;l.buttonOptions.forEach(function(R,V){var Z=R._range,nt=R.type,it=R.count||1,ot=z[V],at=0,mt=R._offsetMax-R._offsetMin;R=V===G;var _t=Z>u-c,yt=Z<I.minRange,ut=!1,ct=!1;Z=Z===L,("month"===nt||"year"===nt)&&L+36e5>=864e5*{month:28,year:365}[nt]*it-mt&&L-36e5<=864e5*{month:31,year:366}[nt]*it+mt?Z=!0:"ytd"===nt?(Z=j-E+mt===L,ut=!R):"all"===nt&&(Z=I.max-I.min>=u-c,ct=!R&&W&&Z),it=R&&Z||Z&&!W&&!ut||R&&l.frozenStates,(nt=!b&&(_t||yt||ct||S))?at=3:it&&(W=!0,at=2),ot.state!==at&&(ot.setState(at),P&&(P.options[V+1].disabled=nt,2===at&&(P.selectedIndex=V+1)),0===at&&G===V&&l.setSelected())})},h.prototype.computeButtonRange=function(l){var w=l.type,P=l.count||1,I={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};I[w]?l._range=I[w]*P:("month"===w||"year"===w)&&(l._range=864e5*{month:30,year:365}[w]*P),l._offsetMin=f(l.offsetMin,0),l._offsetMax=f(l.offsetMax,0),l._range+=l._offsetMax-l._offsetMin},h.prototype.getInputValue=function(l){var P=this.chart.time;return(l="min"===l?this.minInput:this.maxInput)?("text"===l.type&&this.chart.options.rangeSelector.inputDateParser||this.defaultInputDateParser)(l.value,P.useUTC,P):0},h.prototype.setInputValue=function(l,w){var P=this.options,I=this.chart.time,L="min"===l?this.minInput:this.maxInput;if(l="min"===l?this.minDateBox:this.maxDateBox,L){var S=L.getAttribute("data-hc-time");S=g(S)?Number(S):void 0,g(w)&&(g(S)&&L.setAttribute("data-hc-time-previous",S),L.setAttribute("data-hc-time",w),S=w),L.value=I.dateFormat(this.inputTypeFormats[L.type]||P.inputEditDateFormat,S),l&&l.attr({text:I.dateFormat(P.inputDateFormat,S)})}},h.prototype.setInputExtremes=function(l,w,P){if(l="min"===l?this.minInput:this.maxInput){var I=this.inputTypeFormats[l.type],L=this.chart.time;I&&(w=L.dateFormat(I,w),l.min!==w&&(l.min=w),P=L.dateFormat(I,P),l.max!==P&&(l.max=P))}},h.prototype.showInput=function(l){var w="min"===l?this.minDateBox:this.maxDateBox;if((l="min"===l?this.minInput:this.maxInput)&&w&&this.inputGroup){var P="text"===l.type,I=this.inputGroup,L=I.translateX;I=I.translateY;var S=this.options.inputBoxWidth;k(l,{width:P?w.width+(S?-2:20)+"px":"auto",height:P?w.height-2+"px":"auto",border:"2px solid silver"}),k(l,P&&S?{left:L+w.x+"px",top:I+"px"}:{left:Math.min(Math.round(w.x+L-(l.offsetWidth-w.width)/2),this.chart.chartWidth-l.offsetWidth)+"px",top:I-(l.offsetHeight-w.height)/2+"px"})}},h.prototype.hideInput=function(l){(l="min"===l?this.minInput:this.maxInput)&&k(l,{top:"-9999em",border:0,width:"1px",height:"1px"})},h.prototype.defaultInputDateParser=function(l,w,P){var L,I=l.split("/").join("-").split(" ").join("T");return-1===I.indexOf("T")&&(I+="T00:00"),w?I+="Z":((L=q.isSafari)&&(L=!(6<(L=I).length&&(L.lastIndexOf("-")===L.length-6||L.lastIndexOf("+")===L.length-6))),L&&(I+=0>=(L=new Date(I).getTimezoneOffset()/60)?"+"+x(-L)+":00":"-"+x(L)+":00")),I=Date.parse(I),C(I)||(l=l.split("-"),I=Date.UTC(m(l[0]),m(l[1])-1,m(l[2]))),P&&w&&C(I)&&(I+=P.getTimezoneOffset(I)),I},h.prototype.drawInput=function(l){function w(){var b=S.getInputValue(l),z=P.xAxis[0],R=P.scroller&&P.scroller.xAxis?P.scroller.xAxis:z,V=R.dataMin;R=R.dataMax;var Z=S.maxInput,nt=S.minInput;b!==Number(G.getAttribute("data-hc-time-previous"))&&C(b)&&(G.setAttribute("data-hc-time-previous",b),E&&Z&&C(V)?b>Number(Z.getAttribute("data-hc-time"))?b=void 0:b<V&&(b=V):nt&&C(R)&&(b<Number(nt.getAttribute("data-hc-time"))?b=void 0:b>R&&(b=R)),void 0!==b&&z.setExtremes(E?b:z.min,E?z.max:b,void 0,void 0,{trigger:"rangeSelectorInput"}))}var P=this.chart,I=this.div,L=this.inputGroup,S=this,B=P.renderer.style||{},c=P.renderer,u=P.options.rangeSelector,E="min"===l,j=F.lang[E?"rangeSelectorFrom":"rangeSelectorTo"]||"";j=c.label(j,0).addClass("highcharts-range-label").attr({padding:j?2:0,height:j?u.inputBoxHeight:0}).add(L),c=c.label("",0).addClass("highcharts-range-input").attr({padding:2,width:u.inputBoxWidth,height:u.inputBoxHeight,"text-align":"center"}).on("click",function(){S.showInput(l),S[l+"Input"].focus()}),P.styledMode||c.attr({stroke:u.inputBoxBorderColor,"stroke-width":1}),c.add(L);var G=O("input",{name:l,className:"highcharts-range-selector"},void 0,I);G.setAttribute("type",function(h){if(-1!==h.indexOf("%L"))return"text";var l="aAdewbBmoyY".split("").some(function(P){return-1!==h.indexOf("%"+P)}),w="HkIlMS".split("").some(function(P){return-1!==h.indexOf("%"+P)});return l&&w?"datetime-local":l?"date":w?"time":"text"}(u.inputDateFormat||"%b %e, %Y")),P.styledMode||(j.css(M(B,u.labelStyle)),c.css(M({color:"#333333"},B,u.inputStyle)),k(G,_({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:B.fontSize,fontFamily:B.fontFamily,top:"-9999em"},u.inputStyle))),G.onfocus=function(){S.showInput(l)},G.onblur=function(){G===q.doc.activeElement&&w(),S.hideInput(l),S.setInputValue(l),G.blur()};var W=!1;return G.onchange=function(){W||(w(),S.hideInput(l),G.blur())},G.onkeypress=function(b){13===b.keyCode&&w()},G.onkeydown=function(b){W=!0,38!==b.keyCode&&40!==b.keyCode||w()},G.onkeyup=function(){W=!1},{dateBox:c,input:G,label:j}},h.prototype.getPosition=function(){var l=this.chart,w=l.options.rangeSelector;return{buttonTop:(l="top"===w.verticalAlign?l.plotTop-l.axisOffset[0]:0)+w.buttonPosition.y,inputTop:l+w.inputPosition.y-10}},h.prototype.getYTDExtremes=function(l,w,P){var I=this.chart.time,L=new I.Date(l),S=I.get("FullYear",L);return P=P?I.Date.UTC(S,0,1):+new I.Date(S,0,1),w=Math.max(w,P),L=L.getTime(),{max:Math.min(l||L,L),min:w}},h.prototype.render=function(l,w){var P=this.chart,I=P.renderer,L=P.container,S=P.options,B=S.rangeSelector,c=f(S.chart.style&&S.chart.style.zIndex,0)+1;if(S=B.inputEnabled,!1!==B.enabled){if(this.rendered||(this.group=I.g("range-selector-group").attr({zIndex:7}).add(),this.div=O("div",void 0,{position:"relative",height:0,zIndex:c}),this.buttonOptions.length&&this.renderButtons(),L.parentNode&&L.parentNode.insertBefore(this.div,L),S&&(this.inputGroup=I.g("input-group").add(this.group),I=this.drawInput("min"),this.minDateBox=I.dateBox,this.minLabel=I.label,this.minInput=I.input,I=this.drawInput("max"),this.maxDateBox=I.dateBox,this.maxLabel=I.label,this.maxInput=I.input)),S&&(this.setInputValue("min",l),this.setInputValue("max",w),l=P.scroller&&P.scroller.getUnionExtremes()||P.xAxis[0]||{},g(l.dataMin)&&g(l.dataMax)&&(P=P.xAxis[0].minRange||0,this.setInputExtremes("min",l.dataMin,Math.min(l.dataMax,this.getInputValue("max"))-P),this.setInputExtremes("max",Math.max(l.dataMin,this.getInputValue("min"))+P,l.dataMax)),this.inputGroup)){var u=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(E){if(E){var j=E.getBBox().width;j&&(E.attr({x:u}),u+=j+B.inputSpacing)}})}this.alignElements(),this.rendered=!0}},h.prototype.renderButtons=function(){var l=this,w=this.buttons,P=this.options,I=F.lang,L=this.chart.renderer,S=M(P.buttonTheme),B=S&&S.states,c=S.width||28;delete S.width,delete S.states,this.buttonGroup=L.g("range-selector-buttons").add(this.group);var u=this.dropdown=O("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:1e-4},this.div);N(u,"touchstart",function(){u.style.fontSize="16px"}),[[q.isMS?"mouseover":"mouseenter"],[q.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(E){var j=E[0],G=E[1];N(u,j,function(){var W=w[l.currentButtonIndex()];W&&y(W.element,G||j)})}),this.zoomText=L.label(I&&I.rangeSelectorZoom||"",0).attr({padding:P.buttonTheme.padding,height:P.buttonTheme.height,paddingLeft:0,paddingRight:0}).add(this.buttonGroup),this.chart.styledMode||(this.zoomText.css(P.labelStyle),S["stroke-width"]=f(S["stroke-width"],0)),O("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,u),this.buttonOptions.forEach(function(E,j){O("option",{textContent:E.title||E.text},void 0,u),w[j]=L.button(E.text,0,0,function(G){var b,W=E.events&&E.events.click;W&&(b=W.call(E,G)),!1!==b&&l.clickButton(j),l.isActive=!0},S,B&&B.hover,B&&B.select,B&&B.disabled).attr({"text-align":"center",width:c}).add(l.buttonGroup),E.title&&w[j].attr("title",E.title)})},h.prototype.alignElements=function(){var l=this,w=this.buttonGroup,P=this.buttons,I=this.chart,L=this.group,S=this.inputGroup,B=this.options,c=this.zoomText,u=I.options,E=u.exporting&&!1!==u.exporting.enabled&&u.navigation&&u.navigation.buttonOptions;u=B.buttonPosition;var j=B.inputPosition,G=B.verticalAlign,W=function(V,Z){return E&&l.titleCollision(I)&&"top"===G&&"right"===Z.align&&Z.y-V.getBBox().height-12<(E.y||0)+(E.height||0)+I.spacing[0]?-40:0},b=I.plotLeft;if(L&&u&&j){var z=u.x-I.spacing[3];if(w){if(this.positionButtons(),!this.initialButtonGroupWidth){var R=0;c&&(R+=c.getBBox().width+5),P.forEach(function(V,Z){R+=V.width,Z!==P.length-1&&(R+=B.buttonSpacing)}),this.initialButtonGroupWidth=R}b-=I.spacing[3],this.updateButtonStates(),c=W(w,u),this.alignButtonGroup(c),L.placed=w.placed=I.hasLoaded}w=0,S&&(w=W(S,j),"left"===j.align?z=b:"right"===j.align&&(z=-Math.max(I.axisOffset[1],-w)),S.align({y:j.y,width:S.getBBox().width,align:j.align,x:j.x+z-2},!0,I.spacingBox),S.placed=I.hasLoaded),this.handleCollision(w),L.align({verticalAlign:G},!0,I.spacingBox),S=L.alignAttr.translateY,w=L.getBBox().height+20,W=0,"bottom"===G&&(W=S-(w=w+(W=(W=I.legend&&I.legend.options)&&"bottom"===W.verticalAlign&&W.enabled&&!W.floating?I.legend.legendHeight+f(W.margin,10):0)-20)-(B.floating?0:B.y)-(I.titleOffset?I.titleOffset[2]:0)-10),"top"===G?(B.floating&&(W=0),I.titleOffset&&I.titleOffset[0]&&(W=I.titleOffset[0]),W+=I.margin[0]-I.spacing[0]||0):"middle"===G&&(j.y===u.y?W=S:(j.y||u.y)&&(W=0>j.y||0>u.y?W-Math.min(j.y,u.y):S-w)),L.translate(B.x,B.y+Math.floor(W)),u=this.minInput,j=this.maxInput,S=this.dropdown,B.inputEnabled&&u&&j&&(u.style.marginTop=L.translateY+"px",j.style.marginTop=L.translateY+"px"),S&&(S.style.marginTop=L.translateY+"px")}},h.prototype.alignButtonGroup=function(l,w){var P=this.chart,I=this.buttonGroup,L=this.options.buttonPosition,S=P.plotLeft-P.spacing[3],B=L.x-P.spacing[3];"right"===L.align?B+=l-S:"center"===L.align&&(B-=S/2),I&&I.align({y:L.y,width:f(w,this.initialButtonGroupWidth),align:L.align,x:B},!0,P.spacingBox)},h.prototype.positionButtons=function(){var l=this.buttons,w=this.chart,P=this.options,I=this.zoomText,L=w.hasLoaded?"animate":"attr",S=P.buttonPosition,B=w.plotLeft,c=B;I&&"hidden"!==I.visibility&&(I[L]({x:f(B+S.x,B)}),c+=S.x+I.getBBox().width+5),this.buttonOptions.forEach(function(u,E){"hidden"!==l[E].visibility?(l[E][L]({x:c}),c+=l[E].width+P.buttonSpacing):l[E][L]({x:B})})},h.prototype.handleCollision=function(l){var w=this,P=this.chart,I=this.buttonGroup,L=this.inputGroup,S=this.options,B=S.buttonPosition,c=S.dropdown,u=S.inputPosition;S=function(){var G=0;return w.buttons.forEach(function(W){(W=W.getBBox()).width>G&&(G=W.width)}),G};var E=function(G){if(L&&I){var W=L.alignAttr.translateX+L.alignOptions.x-l+L.getBBox().x+2,b=L.alignOptions.width,z=I.alignAttr.translateX+I.getBBox().x;return z+G>W&&W+b>z&&B.y<u.y+L.getBBox().height}return!1},j=function(){L&&I&&L.attr({translateX:L.alignAttr.translateX+(P.axisOffset[1]>=-l?0:-l),translateY:L.alignAttr.translateY+I.getBBox().height+10})};if(I){if("always"===c)return this.collapseButtons(l),void(E(S())&&j());"never"===c&&this.expandButtons()}L&&I?u.align===B.align||E(this.initialButtonGroupWidth+20)?"responsive"===c?(this.collapseButtons(l),E(S())&&j()):j():"responsive"===c&&this.expandButtons():I&&"responsive"===c&&(this.initialButtonGroupWidth>P.plotWidth?this.collapseButtons(l):this.expandButtons())},h.prototype.collapseButtons=function(l){var w=this.buttons,P=this.buttonOptions,I=this.chart,L=this.dropdown,S=this.options,B=this.zoomText,c=I.userOptions.rangeSelector&&I.userOptions.rangeSelector.buttonTheme||{},u=function(j){return{text:j?j+" \u25be":"\u25be",width:"auto",paddingLeft:f(S.buttonTheme.paddingLeft,c.padding,8),paddingRight:f(S.buttonTheme.paddingRight,c.padding,8)}};B&&B.hide();var E=!1;P.forEach(function(j,G){2!==(G=w[G]).state?G.hide():(G.show(),G.attr(u(j.text)),E=!0)}),E||(L&&(L.selectedIndex=0),w[0].show(),w[0].attr(u(this.zoomText&&this.zoomText.textStr))),P=S.buttonPosition.align,this.positionButtons(),"right"!==P&&"center"!==P||this.alignButtonGroup(l,w[this.currentButtonIndex()].getBBox().width),this.showDropdown()},h.prototype.expandButtons=function(){var l=this.buttons,w=this.buttonOptions,P=this.options,I=this.zoomText;this.hideDropdown(),I&&I.show(),w.forEach(function(L,S){(S=l[S]).show(),S.attr({text:L.text,width:P.buttonTheme.width||28,paddingLeft:f(P.buttonTheme.paddingLeft,"unset"),paddingRight:f(P.buttonTheme.paddingRight,"unset")}),2>S.state&&S.setState(0)}),this.positionButtons()},h.prototype.currentButtonIndex=function(){var l=this.dropdown;return l&&0<l.selectedIndex?l.selectedIndex-1:0},h.prototype.showDropdown=function(){var l=this.buttonGroup,w=this.buttons,P=this.chart,I=this.dropdown;if(l&&I){var L=l.translateX;l=l.translateY,w=w[this.currentButtonIndex()].getBBox(),k(I,{left:P.plotLeft+L+"px",top:l+.5+"px",width:w.width+"px",height:w.height+"px"}),this.hasVisibleDropdown=!0}},h.prototype.hideDropdown=function(){var l=this.dropdown;l&&(k(l,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)},h.prototype.getHeight=function(){var l=this.options,w=this.group,P=l.y,I=l.buttonPosition.y,L=l.inputPosition.y;return l.height?l.height:(this.alignElements(),l=w?w.getBBox(!0).height+13+P:0,w=Math.min(L,I),(0>L&&0>I||0<L&&0<I)&&(l+=Math.abs(w)),l)},h.prototype.titleCollision=function(l){return!(l.options.title.text||l.options.subtitle.text)},h.prototype.update=function(l){var w=this.chart;M(!0,w.options.rangeSelector,l),this.destroy(),this.init(w),this.render()},h.prototype.destroy=function(){var l=this,w=l.minInput,P=l.maxInput;l.eventsToUnbind&&(l.eventsToUnbind.forEach(function(I){return I()}),l.eventsToUnbind=void 0),d(l.buttons),w&&(w.onfocus=w.onblur=w.onchange=null),P&&(P.onfocus=P.onblur=P.onchange=null),D(l,function(I,L){I&&"chart"!==L&&(I instanceof J?I.destroy():I instanceof window.HTMLElement&&v(I)),I!==h.prototype[L]&&(l[L]=null)},this)},h}();if(p.prototype.defaultButtons=[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}],p.prototype.inputTypeFormats={"datetime-local":"%Y-%m-%dT%H:%M:%S",date:"%Y-%m-%d",time:"%H:%M:%S"},Y.prototype.minFromRange=function(){var h=this.range,l=h.type,w=this.max,P=this.chart.time,I=function(c,u){var E="year"===l?"FullYear":"Month",j=new P.Date(c),G=P.get(E,j);return P.set(E,j,G+u),G===P.get(E,j)&&P.set("Date",j,0),j.getTime()-c};if(C(h))var L=w-h,S=h;else L=w+I(w,-h.count),this.chart&&(this.chart.fixedRange=w-L);var B=f(this.dataMin,Number.MIN_VALUE);return C(L)||(L=B),L<=B&&(L=B,void 0===S&&(S=I(L,h.count)),this.newMax=Math.min(L+S,this.dataMax)),C(w)||(L=void 0),L},!q.RangeSelector){var a=[],n=function(h){function l(){P&&(w=h.xAxis[0].getExtremes(),I=h.legend,S=P&&P.options.verticalAlign,C(w.min)&&P.render(w.min,w.max),I.display&&"top"===S&&S===I.options.verticalAlign&&((L=M(h.spacingBox)).y="vertical"===I.options.layout?h.plotTop:L.y+P.getHeight(),I.group.placed=!1,I.align(L)))}var w,I,L,S,P=h.rangeSelector;P&&(T(a,function(B){return B[0]===h})||a.push([h,[N(h.xAxis[0],"afterSetExtremes",function(B){P&&P.render(B.min,B.max)}),N(h,"redraw",l)]]),l())};N($,"afterGetContainer",function(){this.options.rangeSelector&&this.options.rangeSelector.enabled&&(this.rangeSelector=new p(this))}),N($,"beforeRender",function(){var h=this.axes,l=this.rangeSelector;l&&(C(l.deferredYTDClick)&&(l.clickButton(l.deferredYTDClick),delete l.deferredYTDClick),h.forEach(function(w){w.updateNames(),w.setScale()}),this.getAxisMargins(),l.render(),h=l.options.verticalAlign,l.options.floating||("bottom"===h?this.extraBottomMargin=!0:"middle"!==h&&(this.extraTopMargin=!0)))}),N($,"update",function(h){var l=h.options.rangeSelector;h=this.rangeSelector;var w=this.extraBottomMargin,P=this.extraTopMargin;l&&l.enabled&&!g(h)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=h=new p(this)),this.extraTopMargin=this.extraBottomMargin=!1,h&&(n(this),l=l&&l.verticalAlign||h.options&&h.options.verticalAlign,h.options.floating||("bottom"===l?this.extraBottomMargin=!0:"middle"!==l&&(this.extraTopMargin=!0)),this.extraBottomMargin!==w||this.extraTopMargin!==P)&&(this.isDirtyBox=!0)}),N($,"render",function(){var h=this.rangeSelector;h&&!h.options.floating&&(h.render(),"bottom"===(h=h.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==h&&(this.extraTopMargin=!0))}),N($,"getMargins",function(){var h=this.rangeSelector;h&&(h=h.getHeight(),this.extraTopMargin&&(this.plotTop+=h),this.extraBottomMargin&&(this.marginBottom+=h))}),$.prototype.callbacks.push(n),N($,"destroy",function(){for(var h=0;h<a.length;h++){var l=a[h];if(l[0]===this){l[1].forEach(function(w){return w()}),a.splice(h,1);break}}}),q.RangeSelector=p}return p}),wt(o,"Core/Chart/StockChart.js",[o["Core/Animation/AnimationUtilities.js"],o["Core/Axis/Axis.js"],o["Core/Chart/Chart.js"],o["Core/FormatUtilities.js"],o["Core/DefaultOptions.js"],o["Core/Series/Series.js"],o["Core/Renderer/SVG/SVGRenderer.js"],o["Core/Utilities.js"]],function(Y,$,q,rt,J,K,X,F){function N(m,r){return"xAxis"===m?{minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0}:"yAxis"===m?{labels:{y:-2},opposite:x(r.opposite,!0),showLastLabel:!(!r.categories&&"category"!==r.type),title:{text:null}}:{}}function O(m,r){if("xAxis"===m){m=d();var p={type:"datetime",categories:void 0};return x(r.navigator&&r.navigator.enabled,m.navigator.enabled,!0)&&(p.startOnTick=!1,p.endOnTick=!1),p}return{}}var m,k=this&&this.__extends||(m=function(r,p){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var h in n)n.hasOwnProperty(h)&&(a[h]=n[h])})(r,p)},function(r,p){function a(){this.constructor=r}m(r,p),r.prototype=null===p?Object.create(p):(a.prototype=p.prototype,new a)}),g=rt.format,d=J.getOptions;Y=F.addEvent;var v=F.clamp,_=F.defined,T=F.extend,y=F.find,C=F.isNumber,M=F.isString,D=F.merge,x=F.pick,f=F.splat;return F=function(m){function r(){return null!==m&&m.apply(this,arguments)||this}return k(r,m),r.prototype.init=function(p,a){var n=d(),h=p.xAxis,l=p.yAxis,w=x(p.navigator&&p.navigator.enabled,n.navigator.enabled,!0);p.xAxis=p.yAxis=void 0,w=D({chart:{panning:{enabled:!0,type:"x"},pinchType:"x"},navigator:{enabled:w},scrollbar:{enabled:x(n.scrollbar&&n.scrollbar.enabled,!0)},rangeSelector:{enabled:x(n.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:x(n.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},p,{isStock:!0}),p.xAxis=h,p.yAxis=l,w.xAxis=f(p.xAxis||{}).map(function(P,I){return D(N("xAxis",P),n.xAxis,n.xAxis&&n.xAxis[I],P,O("xAxis",p))}),w.yAxis=f(p.yAxis||{}).map(function(P,I){return D(N("yAxis",P),n.yAxis,n.yAxis&&n.yAxis[I],P)}),m.prototype.init.call(this,w,a)},r.prototype.createAxis=function(p,a){return a.axis=D(N(p,a.axis),a.axis,O(p,this.userOptions)),m.prototype.createAxis.call(this,p,a)},r}(q),function(m){m.stockChart=function(r,p,a){return new m(r,p,a)}}(F||(F={})),Y(K,"setOptions",function(m){var r;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?r={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(r={marker:{enabled:!1,radius:2}}),r&&(m.plotOptions[this.type]=D(m.plotOptions[this.type],r)))}),Y($,"autoLabelAlign",function(m){var r=this.chart,p=this.options;r=r._labelPanes=r._labelPanes||{};var a=this.options.labels;this.chart.options.isStock&&"yAxis"===this.coll&&!r[p=p.top+","+p.height]&&a.enabled&&(15===a.x&&(a.x=0),void 0===a.align&&(a.align="right"),r[p]=this,m.align="right",m.preventDefault())}),Y($,"destroy",function(){var m=this.chart,r=this.options&&this.options.top+","+this.options.height;r&&m._labelPanes&&m._labelPanes[r]===this&&delete m._labelPanes[r]}),Y($,"getPlotLinePath",function(m){var P,I,L,S,z,R,p=this,a=this.isLinked&&!this.series?this.linkedParent.series:this.series,n=p.chart,h=n.renderer,l=p.left,w=p.top,B=[],c=[],u=m.translatedValue,E=m.value,j=m.force;if(n.options.isStock&&!1!==m.acrossPanes&&"xAxis"===p.coll||"yAxis"===p.coll){m.preventDefault(),c=C(z=p.options[R="xAxis"===(z=p.coll)?"yAxis":"xAxis"])?[n[R][z]]:M(z)?[n.get(z)]:a.map(function(V){return V[R]}),(p.isXAxis?n.yAxis:n.xAxis).forEach(function(z){if(!_(z.options.id)||-1===z.options.id.indexOf("navigator")){var R=z.isXAxis?"yAxis":"xAxis";R=_(z.options[R])?n[R][z.options[R]]:n[R][0],p===R&&c.push(z)}});var W=c.length?[]:[p.isXAxis?n.yAxis[0]:n.xAxis[0]];c.forEach(function(z){-1!==W.indexOf(z)||y(W,function(R){return R.pos===z.pos&&R.len===z.len})||W.push(z)});var b=x(u,p.translate(E,null,null,m.old));C(b)&&W.forEach(p.horiz?function(z){var R;S=(I=z.pos)+z.len,P=L=Math.round(b+p.transB),"pass"!==j&&(P<l||P>l+p.width)&&(j?P=L=v(P,l,l+p.width):R=!0),R||B.push(["M",P,I],["L",L,S])}:function(z){var R;L=(P=z.pos)+z.len,I=S=Math.round(w+p.height-b),"pass"!==j&&(I<w||I>w+p.height)&&(j?I=S=v(I,w,w+p.height):R=!0),R||B.push(["M",P,I],["L",L,S])}),m.path=0<B.length?h.crispPolyLine(B,m.lineWidth||1):null}}),X.prototype.crispPolyLine=function(m,r){for(var p=0;p<m.length;p+=2){var a=m[p],n=m[p+1];a[1]===n[1]&&(a[1]=n[1]=Math.round(a[1])-r%2/2),a[2]===n[2]&&(a[2]=n[2]=Math.round(a[2])+r%2/2)}return m},Y($,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),Y($,"afterDrawCrosshair",function(m){var r,p;if(this.crosshair&&this.crosshair.label&&this.crosshair.label.enabled&&this.cross&&C(this.min)&&C(this.max)){var a=this.chart,n=this.logarithmic,h=this.crosshair.label,l=this.horiz,w=this.opposite,P=this.left,I=this.top,L=this.crossLabel,S=h.format,B="",c="inside"===this.options.tickPosition,u=!1!==this.crosshair.snap,E=0,j=m.e||this.cross&&this.cross.e;m=m.point;var G=this.min,W=this.max;n&&(G=n.lin2log(G),W=n.lin2log(W)),n=l?"center":w?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",L||(L=this.crossLabel=a.renderer.label("",0,void 0,h.shape||"callout").addClass("highcharts-crosshair-label highcharts-color-"+(m?m.series.colorIndex:this.series[0]&&this.series[0].colorIndex)).attr({align:h.align||n,padding:x(h.padding,8),r:x(h.borderRadius,3),zIndex:2}).add(this.labelGroup),a.styledMode||L.attr({fill:h.backgroundColor||m&&m.series&&m.series.color||"#666666",stroke:h.borderColor||"","stroke-width":h.borderWidth||0}).css(T({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},h.style||{}))),l?(n=u?(m.plotX||0)+P:j.chartX,I+=w?0:this.height):(n=w?this.width+P:0,I=u?(m.plotY||0)+I:j.chartY),S||h.formatter||(this.dateTime&&(B="%b %d, %Y"),S="{value"+(B?":"+B:"")+"}"),B=u?this.isXAxis?m.x:m.y:this.toValue(l?j.chartX:j.chartY),u=m?m.series.isPointInside(m):C(B)&&B>G&&B<W,j="",S?j=g(S,{value:B},a):h.formatter&&C(B)&&(j=h.formatter.call(this,B)),L.attr({text:j,x:n,y:I,visibility:u?"visible":"hidden"}),h=L.getBBox(),C(L.y)&&(l?(c&&!w||!c&&w)&&(I=L.y-h.height):I=L.y-h.height/2),l?(r=P-h.x,p=P+this.width-h.x):(r="left"===this.labelAlign?P:0,p="right"===this.labelAlign?P+this.width:a.chartWidth),L.translateX<r&&(E=r-L.translateX),L.translateX+h.width>=p&&(E=-(L.translateX+h.width-p)),L.attr({x:n+E,y:I,anchorX:l?n:this.opposite?0:a.chartWidth,anchorY:l?this.opposite?a.chartHeight:0:I+h.height/2})}}),K.prototype.forceCropping=function(){var r=this.options.dataGrouping;return!1!==this.allowDG&&r&&x(r.enabled,this.chart.options.isStock)},Y(q,"update",function(m){"scrollbar"in(m=m.options)&&this.navigator&&(D(!0,this.options.scrollbar,m.scrollbar),this.navigator.update({},!1),delete m.scrollbar)}),F}),wt(o,"masters/modules/stock.src.js",[o["Core/Globals.js"],o["Core/Axis/OrdinalAxis.js"],o["Series/DataModifyComposition.js"],o["Core/Scrollbar.js"],o["Core/Chart/StockChart.js"]],function(Y,$,q,rt,J){Y.Scrollbar=rt,Y.StockChart=Y.stockChart=J.stockChart,rt.compose(Y.Axis),$.compose(Y.Axis,Y.Series,Y.Chart),q.compose(Y.Series,Y.Axis,Y.Point)}),wt(o,"masters/highstock.src.js",[o["masters/highcharts.src.js"]],function(Y){return Y.product="Highstock",Y}),o["masters/highstock.src.js"]._modules=o,o["masters/highstock.src.js"]},we.exports?(wt.default=wt,we.exports=qt.document?wt(qt):wt):void 0!==(Nt=function(){return wt(qt)}.call(_e,Xt,_e,we))&&(we.exports=Nt)},7240:(we,_e,Xt)=>{"use strict";var Nt,qt,wt;wt=function(wt){var o=wt?wt._modules:{};function Y($,q,rt,J){$.hasOwnProperty(q)||($[q]=J.apply(null,rt))}Y(o,"Extensions/FullScreen.js",[o["Core/Chart/Chart.js"],o["Core/Globals.js"],o["Core/Renderer/HTML/AST.js"],o["Core/Utilities.js"]],function($,q,rt,J){var X=J.addEvent,F=function(){function N(O){this.chart=O,this.isOpen=!1;var k=O.renderTo;this.browserProps||("function"==typeof k.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:k.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:k.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:k.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return N.prototype.close=function(){var O=this,k=O.chart,g=k.options.chart;O.isOpen&&O.browserProps&&k.container.ownerDocument instanceof Document&&k.container.ownerDocument[O.browserProps.exitFullscreen](),O.unbindFullscreenEvent&&(O.unbindFullscreenEvent=O.unbindFullscreenEvent()),k.setSize(O.origWidth,O.origHeight,!1),O.origWidth=void 0,O.origHeight=void 0,g.width=O.origWidthOption,g.height=O.origHeightOption,O.origWidthOption=void 0,O.origHeightOption=void 0,O.isOpen=!1,O.setButtonText()},N.prototype.open=function(){var O=this,k=O.chart,g=k.options.chart;if(g&&(O.origWidthOption=g.width,O.origHeightOption=g.height),O.origWidth=k.chartWidth,O.origHeight=k.chartHeight,O.browserProps){var d=X(k.container.ownerDocument,O.browserProps.fullscreenChange,function(){O.isOpen?(O.isOpen=!1,O.close()):(k.setSize(null,null,!1),O.isOpen=!0,O.setButtonText())}),v=X(k,"destroy",d);O.unbindFullscreenEvent=function(){d(),v()};var _=k.renderTo[O.browserProps.requestFullscreen]();_&&_.catch(function(){alert("Full screen is not supported inside a frame.")})}},N.prototype.setButtonText=function(){var O=this.chart,k=O.exportDivElements,g=O.options.exporting,d=g&&g.buttons&&g.buttons.contextButton.menuItems,v=O.options.lang;if(g&&g.menuItemDefinitions&&v&&v.exitFullscreen&&v.viewFullscreen&&d&&k){var _=k[d.indexOf("viewFullscreen")];_&&rt.setElementHTML(_,this.isOpen?v.exitFullscreen:g.menuItemDefinitions.viewFullscreen.text||v.viewFullscreen)}},N.prototype.toggle=function(){var O=this;O.isOpen?O.close():O.open()},N}();return q.Fullscreen=F,X($,"beforeRender",function(){this.fullscreen=new q.Fullscreen(this)}),q.Fullscreen}),Y(o,"Core/Chart/ChartNavigationComposition.js",[],function(){var $;return function(q){q.compose=function(K){return K.navigation||(K.navigation=new J(K)),K};var J=function(){function K(X){this.updates=[],this.chart=X}return K.prototype.addUpdate=function(X){this.chart.navigation.updates.push(X)},K.prototype.update=function(X,F){var N=this;this.updates.forEach(function(O){O.call(N.chart,X,F)})},K}();q.Additions=J}($||($={})),$}),Y(o,"Extensions/Exporting/ExportingDefaults.js",[o["Core/Globals.js"]],function($){return{exporting:{type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG"]}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",color:"#333333",background:"none",fontSize:$.isTouchDevice?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"}}}}),Y(o,"Extensions/Exporting/ExportingSymbols.js",[],function(){var $;return function(q){var rt=[];function K(F,N,O,k){return[["M",F,N+2.5],["L",F+O,N+2.5],["M",F,N+k/2+.5],["L",F+O,N+k/2+.5],["M",F,N+k-1.5],["L",F+O,N+k-1.5]]}function X(F,N,O,k){var g=k/3-2,d=[];return d.concat(this.circle(O-g,N,g,g),this.circle(O-g,N+g+4,g,g),this.circle(O-g,N+2*(g+4),g,g))}q.compose=function(F){if(-1===rt.indexOf(F)){rt.push(F);var N=F.prototype.symbols;N.menu=K,N.menuball=X.bind(N)}}}($||($={})),$}),Y(o,"Core/HttpUtilities.js",[o["Core/Globals.js"],o["Core/Utilities.js"]],function($,q){var rt=$.doc,J=q.createElement,K=q.discardElement,X=q.merge,F=q.objectEach,g={ajax:function(d){var v=X(!0,{url:!1,type:"get",dataType:"json",success:!1,error:!1,data:!1,headers:{}},d),_={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},T=new XMLHttpRequest;function y(C,M){v.error&&v.error(C,M)}if(!v.url)return!1;T.open(v.type.toUpperCase(),v.url,!0),v.headers["Content-Type"]||T.setRequestHeader("Content-Type",_[v.dataType]||_.text),F(v.headers,function(C,M){T.setRequestHeader(M,C)}),T.onreadystatechange=function(){var C;if(4===T.readyState){if(200===T.status){if(C=T.responseText,"json"===v.dataType)try{C=JSON.parse(C)}catch(M){return y(T,M)}return v.success&&v.success(C)}y(T,T.responseText)}};try{v.data=JSON.stringify(v.data)}catch(C){}T.send(v.data||!0)},getJSON:function(d,v){g.ajax({url:d,success:v,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(d,v,_){var T=J("form",X({method:"post",action:d,enctype:"multipart/form-data"},_),{display:"none"},rt.body);F(v,function(y,C){J("input",{type:"hidden",name:C,value:y},null,T)}),T.submit(),K(T)}};return g}),Y(o,"Extensions/Exporting/Exporting.js",[o["Core/Renderer/HTML/AST.js"],o["Core/Chart/Chart.js"],o["Core/Chart/ChartNavigationComposition.js"],o["Core/DefaultOptions.js"],o["Extensions/Exporting/ExportingDefaults.js"],o["Extensions/Exporting/ExportingSymbols.js"],o["Core/Globals.js"],o["Core/HttpUtilities.js"],o["Core/Utilities.js"]],function($,q,rt,J,K,X,F,N,O){var n,k=J.defaultOptions,g=F.doc,d=F.win,v=O.addEvent,_=O.css,T=O.createElement,y=O.discardElement,C=O.extend,M=O.find,D=O.fireEvent,x=O.isObject,f=O.merge,m=O.objectEach,r=O.pick,p=O.removeEvent,a=O.uniqueKey;return function(h){var l=[],w=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/],P=["fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","textAnchor","x","y"];h.inlineWhitelist=[];var L,I=["clipPath","defs","desc"];function S(yt){var ft,ut=this,ct=ut.renderer,H=f(ut.options.navigation.buttonOptions,yt),tt=H.onclick,lt=H.menuItems,dt=H.symbolSize||12;if(ut.btnCount||(ut.btnCount=0),ut.exportDivElements||(ut.exportDivElements=[],ut.exportSVGElements=[]),!1!==H.enabled&&H.theme){var Rt,bt=H.theme,Tt=bt.states,Lt=Tt&&Tt.hover,jt=Tt&&Tt.select;ut.styledMode||(bt.fill=r(bt.fill,"#ffffff"),bt.stroke=r(bt.stroke,"none")),delete bt.states,tt?Rt=function(Ht){Ht&&Ht.stopPropagation(),tt.call(ut,Ht)}:lt&&(Rt=function(Ht){Ht&&Ht.stopPropagation(),ut.contextMenu(Et.menuClassName,lt,Et.translateX,Et.translateY,Et.width,Et.height,Et),Et.setState(2)}),H.text&&H.symbol?bt.paddingLeft=r(bt.paddingLeft,30):H.text||C(bt,{width:H.width,height:H.height,padding:0}),ut.styledMode||(bt["stroke-linecap"]="round",bt.fill=r(bt.fill,"#ffffff"),bt.stroke=r(bt.stroke,"none"));var Et=ct.button(H.text,0,0,Rt,bt,Lt,jt).addClass(yt.className).attr({title:r(ut.options.lang[H._titleKey||H.titleKey],"")});Et.menuClassName=yt.menuClassName||"highcharts-menu-"+ut.btnCount++,H.symbol&&(ft=ct.symbol(H.symbol,H.symbolX-dt/2,H.symbolY-dt/2,dt,dt,{width:dt,height:dt}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(Et),ut.styledMode||ft.attr({stroke:H.symbolStroke,fill:H.symbolFill,"stroke-width":H.symbolStrokeWidth||1})),Et.add(ut.exportingGroup).align(C(H,{width:Et.width,x:r(H.x,ut.buttonOffset)}),!0,"spacingBox"),ut.buttonOffset+=(Et.width+H.buttonSpacing)*("right"===H.align?-1:1),ut.exportSVGElements.push(Et,ft)}}function B(){var yt=this;if(yt.printReverseInfo){var ut=yt.printReverseInfo,ct=ut.childNodes,H=ut.origDisplay,tt=ut.resetParams;yt.moveContainers(yt.renderTo),[].forEach.call(ct,function(lt,dt){1===lt.nodeType&&(lt.style.display=H[dt]||"")}),yt.isPrinting=!1,tt&&yt.setSize.apply(yt,tt),delete yt.printReverseInfo,L=void 0,D(yt,"afterPrint")}}function c(){var yt=this,ut=g.body,ct=yt.options.exporting.printMaxWidth,H={childNodes:ut.childNodes,origDisplay:[],resetParams:void 0};yt.isPrinting=!0,yt.pointer.reset(null,0),D(yt,"beforePrint"),ct&&yt.chartWidth>ct&&(H.resetParams=[yt.options.chart.width,void 0,!1],yt.setSize(ct,void 0,!1)),[].forEach.call(H.childNodes,function(lt,dt){1===lt.nodeType&&(H.origDisplay[dt]=lt.style.display,lt.style.display="none")}),yt.moveContainers(ut),yt.printReverseInfo=H}function u(yt){var ut=yt;ut.renderExporting(),v(yt,"redraw",ut.renderExporting),v(yt,"destroy",ut.destroyExport)}function j(yt,ut,ct,H,tt,lt,dt){var Et,ft=this,bt=ft.options.navigation,Tt=ft.chartWidth,Lt=ft.chartHeight,jt="cache-"+yt,Rt=Math.max(tt,lt),Ht=ft[jt];Ht||(ft.exportContextMenu=ft[jt]=Ht=T("div",{className:yt},{position:"absolute",zIndex:1e3,padding:Rt+"px",pointerEvents:"auto"},ft.fixedDiv||ft.container),Et=T("ul",{className:"highcharts-menu"},{listStyle:"none",margin:0,padding:0},Ht),ft.styledMode||_(Et,C({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},bt.menuStyle)),Ht.hideMenu=function(){_(Ht,{display:"none"}),dt&&dt.setState(0),ft.openMenu=!1,_(ft.renderTo,{overflow:"hidden"}),_(ft.container,{overflow:"hidden"}),O.clearTimeout(Ht.hideTimer),D(ft,"exportMenuHidden")},ft.exportEvents.push(v(Ht,"mouseleave",function(){Ht.hideTimer=d.setTimeout(Ht.hideMenu,500)}),v(Ht,"mouseenter",function(){O.clearTimeout(Ht.hideTimer)}),v(g,"mouseup",function(Pt){ft.pointer.inClass(Pt.target,yt)||Ht.hideMenu()}),v(Ht,"click",function(){ft.openMenu&&Ht.hideMenu()})),ut.forEach(function(Pt){if("string"==typeof Pt&&(Pt=ft.options.exporting.menuItemDefinitions[Pt]),x(Pt,!0)){var kt=void 0;Pt.separator?kt=T("hr",void 0,void 0,Et):("viewData"===Pt.textKey&&ft.isDataTableVisible&&(Pt.textKey="hideData"),kt=T("li",{className:"highcharts-menu-item",onclick:function(Ut){Ut&&Ut.stopPropagation(),Ht.hideMenu(),Pt.onclick&&Pt.onclick.apply(ft,arguments)}},void 0,Et),$.setElementHTML(kt,Pt.text||ft.options.lang[Pt.textKey]),ft.styledMode||(kt.onmouseover=function(){_(this,bt.menuItemHoverStyle)},kt.onmouseout=function(){_(this,bt.menuItemStyle)},_(kt,C({cursor:"pointer"},bt.menuItemStyle)))),ft.exportDivElements.push(kt)}}),ft.exportDivElements.push(Et,Ht),ft.exportMenuWidth=Ht.offsetWidth,ft.exportMenuHeight=Ht.offsetHeight);var It={display:"block"};ct+ft.exportMenuWidth>Tt?It.right=Tt-ct-tt-Rt+"px":It.left=ct-Rt+"px",H+lt+ft.exportMenuHeight>Lt&&"top"!==dt.alignOptions.verticalAlign?It.bottom=Lt-H-Rt+"px":It.top=H+lt-Rt+"px",_(Ht,It),_(ft.renderTo,{overflow:""}),_(ft.container,{overflow:""}),ft.openMenu=!0,D(ft,"exportMenuShown")}function G(yt){var lt,ut=yt?yt.target:this,ct=ut.exportSVGElements,H=ut.exportDivElements,tt=ut.exportEvents;ct&&(ct.forEach(function(dt,ft){dt&&(dt.onclick=dt.ontouchstart=null,ut[lt="cache-"+dt.menuClassName]&&delete ut[lt],ct[ft]=dt.destroy())}),ct.length=0),ut.exportingGroup&&(ut.exportingGroup.destroy(),delete ut.exportingGroup),H&&(H.forEach(function(dt,ft){dt&&(O.clearTimeout(dt.hideTimer),p(dt,"mouseleave"),H[ft]=dt.onmouseout=dt.onmouseover=dt.ontouchstart=dt.onclick=null,y(dt))}),H.length=0),tt&&(tt.forEach(function(dt){dt()}),tt.length=0)}function W(yt,ut){var ct=this.getSVGForExport(yt,ut);yt=f(this.options.exporting,yt),N.post(yt.url,{filename:yt.filename?yt.filename.replace(/\//g,"-"):this.getFilename(),type:yt.type,width:yt.width||0,scale:yt.scale,svg:ct},yt.formAttributes)}function b(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function z(){var yt=this.userOptions.title&&this.userOptions.title.text,ut=this.options.exporting.filename;return ut?ut.replace(/\//g,"-"):("string"==typeof yt&&(ut=yt.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!ut||ut.length<5)&&(ut="chart"),ut)}function R(yt){var ct,H,ut=this,tt=f(ut.options,yt);tt.plotOptions=f(ut.userOptions.plotOptions,yt&&yt.plotOptions),tt.time=f(ut.userOptions.time,yt&&yt.time);var lt=T("div",null,{position:"absolute",top:"-9999em",width:ut.chartWidth+"px",height:ut.chartHeight+"px"},g.body),dt=ut.renderTo.style.width,ft=ut.renderTo.style.height,bt=tt.exporting.sourceWidth||tt.chart.width||/px$/.test(dt)&&parseInt(dt,10)||(tt.isGantt?800:600),Tt=tt.exporting.sourceHeight||tt.chart.height||/px$/.test(ft)&&parseInt(ft,10)||400;C(tt.chart,{animation:!1,renderTo:lt,forExport:!0,renderer:"SVGRenderer",width:bt,height:Tt}),tt.exporting.enabled=!1,delete tt.data,tt.series=[],ut.series.forEach(function(Rt){(H=f(Rt.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:Rt.visible})).isInternal||tt.series.push(H)});var Lt={};ut.axes.forEach(function(Rt){Rt.userOptions.internalKey||(Rt.userOptions.internalKey=a()),Rt.options.isInternal||(Lt[Rt.coll]||(Lt[Rt.coll]=!0,tt[Rt.coll]=[]),tt[Rt.coll].push(f(Rt.userOptions,{visible:Rt.visible})))});var jt=new ut.constructor(tt,ut.callback);return yt&&["xAxis","yAxis","series"].forEach(function(Rt){var Et={};yt[Rt]&&(Et[Rt]=yt[Rt],jt.update(Et))}),ut.axes.forEach(function(Rt){var Et=M(jt.axes,function(kt){return kt.options.internalKey===Rt.userOptions.internalKey}),Ht=Rt.getExtremes(),It=Ht.userMin,Pt=Ht.userMax;Et&&(void 0!==It&&It!==Et.min||void 0!==Pt&&Pt!==Et.max)&&Et.setExtremes(It,Pt,!0,!1)}),ct=jt.getChartHTML(),D(this,"getSVG",{chartCopy:jt}),ct=ut.sanitizeSVG(ct,tt),tt=null,jt.destroy(),y(lt),ct}function V(yt,ut){var ct=this.options.exporting;return this.getSVG(f({chart:{borderRadius:0}},ct.chartOptions,ut,{exporting:{sourceWidth:yt&&yt.sourceWidth||ct.sourceWidth,sourceHeight:yt&&yt.sourceHeight||ct.sourceHeight}}))}function Z(yt){return yt.replace(/([A-Z])/g,function(ut,ct){return"-"+ct.toLowerCase()})}function nt(){var H,yt=w,ut=h.inlineWhitelist,ct={},tt=g.createElement("iframe");_(tt,{width:"1px",height:"1px",visibility:"hidden"}),g.body.appendChild(tt);var lt=tt.contentWindow.document;lt.open(),lt.write('<svg xmlns="http://www.w3.org/2000/svg"></svg>'),lt.close(),function dt(bt){var Tt,Lt,Rt,Et,Ht,It,Pt,jt="";function kt(zt,Vt){if(Ht=It=!1,ut.length){for(Pt=ut.length;Pt--&&!It;)It=ut[Pt].test(Vt);Ht=!It}for("transform"===Vt&&"none"===zt&&(Ht=!0),Pt=yt.length;Pt--&&!Ht;)Ht=yt[Pt].test(Vt)||"function"==typeof zt;Ht||(Lt[Vt]!==zt||"svg"===bt.nodeName)&&ct[bt.nodeName][Vt]!==zt&&(P&&-1===P.indexOf(Vt)?jt+=Z(Vt)+":"+zt+";":zt&&bt.setAttribute(Z(Vt),zt))}if(1===bt.nodeType&&-1===I.indexOf(bt.nodeName)){if(Tt=d.getComputedStyle(bt,null),Lt="svg"===bt.nodeName?{}:d.getComputedStyle(bt.parentNode,null),ct[bt.nodeName]||(H=lt.getElementsByTagName("svg")[0],Rt=lt.createElementNS(bt.namespaceURI,bt.nodeName),H.appendChild(Rt),ct[bt.nodeName]=f(d.getComputedStyle(Rt,null)),"text"===bt.nodeName&&delete ct.text.fill,H.removeChild(Rt)),F.isFirefox||F.isMS)for(var Ut in Tt)kt(Tt[Ut],Ut);else m(Tt,kt);if(jt&&(Et=bt.getAttribute("style"),bt.setAttribute("style",(Et?Et+";":"")+jt)),"svg"===bt.nodeName&&bt.setAttribute("stroke-width","1px"),"text"===bt.nodeName)return;[].forEach.call(bt.children||bt.childNodes,dt)}}(this.container.querySelector("svg")),H.parentNode.removeChild(H),tt.parentNode.removeChild(tt)}function it(yt){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach(function(ct){yt.appendChild(ct)})}function ot(){var yt=this,ut=function(ct,H,tt){yt.isDirtyExporting=!0,f(!0,yt.options[ct],H),r(tt,!0)&&yt.redraw()};yt.exporting={update:function(ct,H){ut("exporting",ct,H)}},rt.compose(yt).navigation.addUpdate(function(ct,H){ut("navigation",ct,H)})}function at(){var yt=this;yt.isPrinting||(L=yt,F.isSafari||yt.beforePrint(),setTimeout(function(){d.focus(),d.print(),F.isSafari||setTimeout(function(){yt.afterPrint()},1e3)},1))}function mt(){var yt=this,ut=yt.options.exporting,ct=ut.buttons,H=yt.isDirtyExporting||!yt.exportSVGElements;yt.buttonOffset=0,yt.isDirtyExporting&&yt.destroyExport(),H&&!1!==ut.enabled&&(yt.exportEvents=[],yt.exportingGroup=yt.exportingGroup||yt.renderer.g("exporting-group").attr({zIndex:3}).add(),m(ct,function(tt){yt.addButton(tt)}),yt.isDirtyExporting=!1)}function _t(yt,ut){var ct=yt.indexOf("</svg>")+6,H=yt.substr(ct);return yt=yt.substr(0,ct),ut&&ut.exporting&&ut.exporting.allowHTML&&H&&(H='<foreignObject x="0" y="0" width="'+ut.chart.width+'" height="'+ut.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+H.replace(/(<(?:img|br).*?(?=\>))>/g,"$1 />")+"</body></foreignObject>",yt=yt.replace("</svg>",H+"</svg>")),yt=yt.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;)\;?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+\:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\xa0").replace(/&shy;/g,"\xad"),this.ieSanitizeSVG&&(yt=this.ieSanitizeSVG(yt)),yt}h.compose=function(yt,ut){if(X.compose(ut),-1===l.indexOf(yt)){l.push(yt);var ct=yt.prototype;ct.afterPrint=B,ct.exportChart=W,ct.inlineStyles=nt,ct.print=at,ct.sanitizeSVG=_t,ct.getChartHTML=b,ct.getSVG=R,ct.getSVGForExport=V,ct.getFilename=z,ct.moveContainers=it,ct.beforePrint=c,ct.contextMenu=j,ct.addButton=S,ct.destroyExport=G,ct.renderExporting=mt,ct.callbacks.push(u),v(yt,"init",ot),F.isSafari&&F.win.matchMedia("print").addListener(function(H){!L||(H.matches?L.beforePrint():L.afterPrint())})}}}(n||(n={})),k.exporting=f(K.exporting,k.exporting),k.lang=f(K.lang,k.lang),k.navigation=f(K.navigation,k.navigation),n}),Y(o,"masters/modules/exporting.src.js",[o["Core/Globals.js"],o["Extensions/Exporting/Exporting.js"],o["Core/HttpUtilities.js"]],function($,q,rt){var J=$;J.HttpUtilities=rt,J.ajax=rt.ajax,J.getJSON=rt.getJSON,J.post=rt.post,q.compose(J.Chart,J.Renderer)})},we.exports?(wt.default=wt,we.exports=wt):(Nt=[Xt(4317)],void 0!==(qt=function(o){return wt(o),wt.Highcharts=o,wt}.apply(_e,Nt))&&(we.exports=qt))},4995:function(we,_e){!function(Xt){"use strict";function Nt(d){return Array.prototype.slice.call(d)}function qt(d){return new Promise(function(v,_){d.onsuccess=function(){v(d.result)},d.onerror=function(){_(d.error)}})}function wt(d,v,_){var T,y=new Promise(function(C,M){qt(T=d[v].apply(d,_)).then(C,M)});return y.request=T,y}function o(d,v,_){var T=wt(d,v,_);return T.then(function(y){if(y)return new K(y,T.request)})}function Y(d,v,_){_.forEach(function(T){Object.defineProperty(d.prototype,T,{get:function(){return this[v][T]},set:function(y){this[v][T]=y}})})}function $(d,v,_,T){T.forEach(function(y){y in _.prototype&&(d.prototype[y]=function(){return wt(this[v],y,arguments)})})}function q(d,v,_,T){T.forEach(function(y){y in _.prototype&&(d.prototype[y]=function(){return this[v][y].apply(this[v],arguments)})})}function rt(d,v,_,T){T.forEach(function(y){y in _.prototype&&(d.prototype[y]=function(){return o(this[v],y,arguments)})})}function J(d){this._index=d}function K(d,v){this._cursor=d,this._request=v}function X(d){this._store=d}function F(d){this._tx=d,this.complete=new Promise(function(v,_){d.oncomplete=function(){v()},d.onerror=function(){_(d.error)},d.onabort=function(){_(d.error)}})}function N(d,v,_){this._db=d,this.oldVersion=v,this.transaction=new F(_)}function O(d){this._db=d}Y(J,"_index",["name","keyPath","multiEntry","unique"]),$(J,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),rt(J,"_index",IDBIndex,["openCursor","openKeyCursor"]),Y(K,"_cursor",["direction","key","primaryKey","value"]),$(K,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(d){d in IDBCursor.prototype&&(K.prototype[d]=function(){var v=this,_=arguments;return Promise.resolve().then(function(){return v._cursor[d].apply(v._cursor,_),qt(v._request).then(function(T){if(T)return new K(T,v._request)})})})}),X.prototype.createIndex=function(){return new J(this._store.createIndex.apply(this._store,arguments))},X.prototype.index=function(){return new J(this._store.index.apply(this._store,arguments))},Y(X,"_store",["name","keyPath","indexNames","autoIncrement"]),$(X,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),rt(X,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),q(X,"_store",IDBObjectStore,["deleteIndex"]),F.prototype.objectStore=function(){return new X(this._tx.objectStore.apply(this._tx,arguments))},Y(F,"_tx",["objectStoreNames","mode"]),q(F,"_tx",IDBTransaction,["abort"]),N.prototype.createObjectStore=function(){return new X(this._db.createObjectStore.apply(this._db,arguments))},Y(N,"_db",["name","version","objectStoreNames"]),q(N,"_db",IDBDatabase,["deleteObjectStore","close"]),O.prototype.transaction=function(){return new F(this._db.transaction.apply(this._db,arguments))},Y(O,"_db",["name","version","objectStoreNames"]),q(O,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(d){[X,J].forEach(function(v){d in v.prototype&&(v.prototype[d.replace("open","iterate")]=function(){var _=Nt(arguments),T=_[_.length-1],y=this._store||this._index,C=y[d].apply(y,_.slice(0,-1));C.onsuccess=function(){T(C.result)}})})}),[J,X].forEach(function(d){d.prototype.getAll||(d.prototype.getAll=function(v,_){var T=this,y=[];return new Promise(function(C){T.iterateCursor(v,function(M){M?(y.push(M.value),void 0===_||y.length!=_?M.continue():C(y)):C(y)})})})}),Xt.openDb=function(d,v,_){var T=wt(indexedDB,"open",[d,v]),y=T.request;return y&&(y.onupgradeneeded=function(C){_&&_(new N(y.result,C.oldVersion,y.transaction))}),T.then(function(C){return new O(C)})},Xt.deleteDb=function(d){return wt(indexedDB,"deleteDatabase",[d])},Object.defineProperty(Xt,"__esModule",{value:!0})}(_e)},8419:(we,_e,Xt)=>{"use strict";Xt.r(_e),Xt.d(_e,{AdminModule:()=>eP});var Nt=Xt(6019),qt=Xt(9133),wt=Xt(6999),o=Xt(3668),Y=Xt(6731);let F=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[Y.BQ],Y.BQ]}),i})();var N=Xt(86),O=Xt(928),k=Xt(7906),g=Xt(7497),d=Xt(8290),v=Xt(348),_=Xt(1628),T=Xt(273),y=Xt(5077),C=Xt(3719),M=Xt(461),D=Xt(4753);function x(i){return(0,D.U)(()=>i)}var f=Xt(6263),m=Xt(5488),r=Xt(9468),p=Xt(3970),a=Xt(9463),n=Xt(9814),h=Xt(9555);const l=["*"];function w(i,t){if(1&i){const e=o.EpF();o.TgZ(0,"div",2),o.NdJ("click",function(){return o.CHM(e),o.oxw()._onBackdropClicked()}),o.qZA()}if(2&i){const e=o.oxw();o.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function P(i,t){1&i&&(o.TgZ(0,"mat-drawer-content"),o.Hsn(1,2),o.qZA())}const I=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],L=["mat-drawer","mat-drawer-content","*"],j={transformDrawer:(0,n.X$)("transform",[(0,n.SB)("open, open-instant",(0,n.oB)({transform:"none",visibility:"visible"})),(0,n.SB)("void",(0,n.oB)({"box-shadow":"none",visibility:"hidden"})),(0,n.eR)("void => open-instant",(0,n.jt)("0ms")),(0,n.eR)("void <=> open, open-instant => void",(0,n.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},W=new o.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),b=new o.OlP("MAT_DRAWER_CONTAINER");let R=(()=>{class i extends k.PQ{constructor(e,s,A,U,st){super(A,U,st),this._changeDetectorRef=e,this._container=s}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.sBO),o.Y36((0,o.Gpc)(()=>Z)),o.Y36(o.SBq),o.Y36(k.mF),o.Y36(o.R0b))},i.\u0275cmp=o.Xpm({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,s){2&e&&o.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[o.qOj],ngContentSelectors:l,decls:1,vars:0,template:function(e,s){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),V=(()=>{class i{constructor(e,s,A,U,st,gt,vt,Mt){this._elementRef=e,this._focusTrapFactory=s,this._focusMonitor=A,this._platform=U,this._ngZone=st,this._interactivityChecker=gt,this._doc=vt,this._container=Mt,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new T.x,this._animationEnd=new T.x,this._animationState="void",this.openedChange=new o.vpe(!0),this._openedStream=this.openedChange.pipe((0,M.h)(Dt=>Dt),(0,D.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,M.h)(Dt=>Dt.fromState!==Dt.toState&&0===Dt.toState.indexOf("open")),x(void 0)),this._closedStream=this.openedChange.pipe((0,M.h)(Dt=>!Dt),(0,D.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,M.h)(Dt=>Dt.fromState!==Dt.toState&&"void"===Dt.toState),x(void 0)),this._destroyed=new T.x,this.onPositionChanged=new o.vpe,this._modeChanged=new T.x,this.openedChange.subscribe(Dt=>{Dt?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,y.R)(this._elementRef.nativeElement,"keydown").pipe((0,M.h)(Dt=>Dt.keyCode===_.hY&&!this.disableClose&&!(0,_.Vb)(Dt)),(0,f.R)(this._destroyed)).subscribe(Dt=>this._ngZone.run(()=>{this.close(),Dt.stopPropagation(),Dt.preventDefault()}))}),this._animationEnd.pipe((0,m.x)((Dt,Ft)=>Dt.fromState===Ft.fromState&&Dt.toState===Ft.toState)).subscribe(Dt=>{const{fromState:Ft,toState:Wt}=Dt;(0===Wt.indexOf("open")&&"void"===Ft||"void"===Wt&&0===Ft.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,v.Ig)(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=(0,v.Ig)(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle((0,v.Ig)(e))}_forceFocus(e,s){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{e.addEventListener("blur",()=>e.removeAttribute("tabindex")),e.addEventListener("mousedown",()=>e.removeAttribute("tabindex"))})),e.focus(s)}_focusByCssSelector(e,s){let A=this._elementRef.nativeElement.querySelector(e);A&&this._forceFocus(A,s)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(s=>{!s&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var s;const e=null==(s=this._doc)?void 0:s.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,s){e&&s&&(this._openedVia=s);const A=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),A}_setOpen(e,s,A){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",s&&this._restoreFocus(A)),this._updateFocusTrapState(),new Promise(U=>{this.openedChange.pipe((0,r.q)(1)).subscribe(st=>U(st?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.SBq),o.Y36(g.qV),o.Y36(g.tE),o.Y36(O.t4),o.Y36(o.R0b),o.Y36(g.ic),o.Y36(Nt.K0,8),o.Y36(b,8))},i.\u0275cmp=o.Xpm({type:i,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,s){1&e&&o.WFA("@transform.start",function(U){return s._animationStarted.next(U)})("@transform.done",function(U){return s._animationEnd.next(U)}),2&e&&(o.uIk("align",null),o.d8E("@transform",s._animationState),o.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:l,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},directives:[k.PQ],encapsulation:2,data:{animation:[j.transformDrawer]},changeDetection:0}),i})(),Z=(()=>{class i{constructor(e,s,A,U,st,gt=!1,vt){this._dir=e,this._element=s,this._ngZone=A,this._changeDetectorRef=U,this._animationMode=vt,this._drawers=new o.n_E,this.backdropClick=new o.vpe,this._destroyed=new T.x,this._doCheckSubject=new T.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new T.x,e&&e.change.pipe((0,f.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),st.change().pipe((0,f.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=gt}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,v.Ig)(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,v.Ig)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,p.O)(this._allDrawers),(0,f.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(s=>!s._container||s._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,p.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,a.b)(10),(0,f.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,s=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const A=this._left._getWidth();e+=A,s-=A}if(this._right&&this._right.opened)if("side"==this._right.mode)s+=this._right._getWidth();else if("push"==this._right.mode){const A=this._right._getWidth();s+=A,e-=A}e=e||null,s=s||null,(e!==this._contentMargins.left||s!==this._contentMargins.right)&&(this._contentMargins={left:e,right:s},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,M.h)(s=>s.fromState!==s.toState),(0,f.R)(this._drawers.changes)).subscribe(s=>{"open-instant"!==s.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,f.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe((0,f.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,r.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,f.R)((0,C.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const s=this._element.nativeElement.classList,A="mat-drawer-container-has-open";e?s.add(A):s.remove(A)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(d.Is,8),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.sBO),o.Y36(k.rL),o.Y36(W),o.Y36(h.Qb,8))},i.\u0275cmp=o.Xpm({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(e,s,A){if(1&e&&(o.Suo(A,R,5),o.Suo(A,V,5)),2&e){let U;o.iGM(U=o.CRH())&&(s._content=U.first),o.iGM(U=o.CRH())&&(s._allDrawers=U)}},viewQuery:function(e,s){if(1&e&&o.Gf(R,5),2&e){let A;o.iGM(A=o.CRH())&&(s._userContent=A.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o._Bn([{provide:b,useExisting:i}])],ngContentSelectors:L,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,s){1&e&&(o.F$t(I),o.YNc(0,w,1,2,"div",0),o.Hsn(1),o.Hsn(2,1),o.YNc(3,P,2,0,"mat-drawer-content",1)),2&e&&(o.Q6J("ngIf",s.hasBackdrop),o.xp6(3),o.Q6J("ngIf",!s._content))},directives:[Nt.O5,R],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),i})(),at=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[Nt.ez,Y.BQ,O.ud,k.ZD],k.ZD,Y.BQ]}),i})();var mt=Xt(9112),_t=Xt(2663);const yt=["*"];class tt{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(s=>this._trackTile(s))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new lt(this.rowIndex,e)}_findMatchingGap(t){let e=-1,s=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),s=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(s=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),s=this._findGapEndIndex(e)))}while(s-e<t||0==s);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let s=0;s<e.colspan;s++)this.tracker[t+s]=e.rowspan}}class lt{constructor(t,e){this.row=t,this.col=e}}const dt=new o.OlP("MAT_GRID_LIST");let ft=(()=>{class i{constructor(e,s){this._element=e,this._gridList=s,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round((0,v.su)(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round((0,v.su)(e))}_setStyle(e,s){this._element.nativeElement.style[e]=s}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.SBq),o.Y36(dt,8))},i.\u0275cmp=o.Xpm({type:i,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,s){2&e&&o.uIk("rowspan",s.rowspan)("colspan",s.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:yt,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.Hsn(1),o.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),i})();const Rt=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class Et{constructor(){this._rows=0,this._rowspan=0}init(t,e,s,A){this._gutterSize=Ut(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=s,this._direction=A}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":kt(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,s){let A=100/this._cols,U=(this._cols-1)/this._cols;this.setColStyles(t,s,A,U),this.setRowStyles(t,e,A,U)}setColStyles(t,e,s,A){let U=this.getBaseTileSize(s,A);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(U,e)),t._setStyle("width",kt(this.getTileSize(U,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class Ht extends Et{constructor(t){super(),this.fixedRowHeight=t}init(t,e,s,A){super.init(t,e,s,A),this.fixedRowHeight=Ut(this.fixedRowHeight),Rt.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",kt(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",kt(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class It extends Et{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,s,A){this.baseTileHeight=this.getBaseTileSize(s/this.rowHeightRatio,A),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",kt(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",kt(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class Pt extends Et{setRowStyles(t,e){let U=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(U,e)),t._setStyle("height",kt(this.getTileSize(U,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function kt(i){return`calc(${i})`}function Ut(i){return i.match(/([A-Za-z%]+)$/)?i:`${i}px`}let Vt=(()=>{class i{constructor(e,s){this._element=e,this._dir=s,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round((0,v.su)(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${null==e?"":e}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const s=`${null==e?"":e}`;s!==this._rowHeight&&(this._rowHeight=s,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new Pt:e&&e.indexOf(":")>-1?new It(e):new Ht(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new tt);const e=this._tileCoordinator,s=this._tiles.filter(U=>!U._gridList||U._gridList===this),A=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,s),this._tileStyler.init(this.gutterSize,e,this.cols,A),s.forEach((U,st)=>{const gt=e.positions[st];this._tileStyler.setStyle(U,gt.row,gt.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.SBq),o.Y36(d.Is,8))},i.\u0275cmp=o.Xpm({type:i,selectors:[["mat-grid-list"]],contentQueries:function(e,s,A){if(1&e&&o.Suo(A,ft,5),2&e){let U;o.iGM(U=o.CRH())&&(s._tiles=U)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,s){2&e&&o.uIk("cols",s.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[o._Bn([{provide:dt,useExisting:i}])],ngContentSelectors:yt,decls:2,vars:0,template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div"),o.Hsn(1),o.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),i})(),ie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[Y.uc,Y.BQ],Y.uc,Y.BQ]}),i})();var ne=Xt(888),de=Xt(5479);const wn={provide:new o.OlP("mat-menu-scroll-strategy"),deps:[de.aV],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let fi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[wn],imports:[[Nt.ez,Y.BQ,Y.si,de.U8],k.ZD,Y.BQ]}),i})();var pn=Xt(138),Sr=Xt(6400),gi=Xt(5351),Ni=Xt(5947),Sn=Xt(4499),jn=Xt(8305),Ro=Xt(5044);var ni=Xt(2997);const Nh=[[["caption"]],[["colgroup"],["col"]]],jh=["caption","colgroup, col"];function No(i){return class extends i{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=(0,v.Ig)(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const qr=new o.OlP("CDK_TABLE");let fn=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.Rgc))},i.\u0275dir=o.lG2({type:i,selectors:[["","cdkCellDef",""]]}),i})(),$r=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.Rgc))},i.\u0275dir=o.lG2({type:i,selectors:[["","cdkHeaderCellDef",""]]}),i})(),Kr=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.Rgc))},i.\u0275dir=o.lG2({type:i,selectors:[["","cdkFooterCellDef",""]]}),i})();class Bh{}const Qa=No(Bh);let Cn=(()=>{class i extends Qa{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const s=this._stickyEnd;this._stickyEnd=(0,v.Ig)(e),this._hasStickyChanged=s!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(qr,8))},i.\u0275dir=o.lG2({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,s,A){if(1&e&&(o.Suo(A,fn,5),o.Suo(A,$r,5),o.Suo(A,Kr,5)),2&e){let U;o.iGM(U=o.CRH())&&(s.cell=U.first),o.iGM(U=o.CRH())&&(s.headerCell=U.first),o.iGM(U=o.CRH())&&(s.footerCell=U.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[o._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),o.qOj]}),i})();class Fn{constructor(t,e){const s=e.nativeElement.classList;for(const A of t._columnCssClassName)s.add(A)}}let Ds=(()=>{class i extends Fn{constructor(e,s){super(e,s)}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Cn),o.Y36(o.SBq))},i.\u0275dir=o.lG2({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[o.qOj]}),i})(),Rs=(()=>{class i extends Fn{constructor(e,s){var A;if(super(e,s),1===(null==(A=e._table)?void 0:A._elementRef.nativeElement.nodeType)){const U=e._table._elementRef.nativeElement.getAttribute("role");s.nativeElement.setAttribute("role","grid"===U||"treegrid"===U?"gridcell":"cell")}}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Cn),o.Y36(o.SBq))},i.\u0275dir=o.lG2({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[o.qOj]}),i})();class Ns{constructor(){this.tasks=[],this.endTasks=[]}}const jo=new o.OlP("_COALESCED_STYLE_SCHEDULER");let sr=(()=>{class i{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new T.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Ns,this._getScheduleObservable().pipe((0,f.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new Ns;for(const s of e.tasks)s();for(const s of e.endTasks)s()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,Ni.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,r.q)(1))}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(o.R0b))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),Qr=(()=>{class i{constructor(e,s){this.template=e,this._differs=s}ngOnChanges(e){if(!this._columnsDiffer){const s=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(s).create(),this._columnsDiffer.diff(s)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Jr?e.headerCell.template:this instanceof Tr?e.footerCell.template:e.cell.template}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.Rgc),o.Y36(o.ZZ4))},i.\u0275dir=o.lG2({type:i,features:[o.TTD]}),i})();class js extends Qr{}const Bo=No(js);let Jr=(()=>{class i extends Bo{constructor(e,s,A){super(e,s),this._table=A}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(qr,8))},i.\u0275dir=o.lG2({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),i})();class Fo extends Qr{}const Fh=No(Fo);let Tr=(()=>{class i extends Fh{constructor(e,s,A){super(e,s),this._table=A}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(qr,8))},i.\u0275dir=o.lG2({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[o.qOj,o.TTD]}),i})(),Mr=(()=>{class i extends Qr{constructor(e,s,A){super(e,s),this._table=A}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.Rgc),o.Y36(o.ZZ4),o.Y36(qr,8))},i.\u0275dir=o.lG2({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[o.qOj]}),i})(),Ji=(()=>{class i{constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}}return i.mostRecentCellOutlet=null,i.\u0275fac=function(e){return new(e||i)(o.Y36(o.s_b))},i.\u0275dir=o.lG2({type:i,selectors:[["","cdkCellOutlet",""]]}),i})(),ts=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=o.Xpm({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[Ji],encapsulation:2}),i})(),zo=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=o.Xpm({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[Ji],encapsulation:2}),i})(),or=(()=>{class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.Rgc))},i.\u0275dir=o.lG2({type:i,selectors:[["ng-template","cdkNoDataRow",""]]}),i})();const Ja=["top","bottom","left","right"];class Bs{constructor(t,e,s,A,U=!0,st=!0,gt){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=s,this._coalescedStyleScheduler=A,this._isBrowser=U,this._needsPositionStickyOnElement=st,this._positionListener=gt,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const s=[];for(const A of t)if(A.nodeType===A.ELEMENT_NODE){s.push(A);for(let U=0;U<A.children.length;U++)s.push(A.children[U])}this._coalescedStyleScheduler.schedule(()=>{for(const A of s)this._removeStickyStyle(A,e)})}updateStickyColumns(t,e,s,A=!0){if(!t.length||!this._isBrowser||!e.some(Wt=>Wt)&&!s.some(Wt=>Wt))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const U=t[0],st=U.children.length,gt=this._getCellWidths(U,A),vt=this._getStickyStartColumnPositions(gt,e),Mt=this._getStickyEndColumnPositions(gt,s),Dt=e.lastIndexOf(!0),Ft=s.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const Wt="rtl"===this.direction,Kt=Wt?"right":"left",Jt=Wt?"left":"right";for(const he of t)for(let ce=0;ce<st;ce++){const Ee=he.children[ce];e[ce]&&this._addStickyStyle(Ee,Kt,vt[ce],ce===Dt),s[ce]&&this._addStickyStyle(Ee,Jt,Mt[ce],ce===Ft)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===Dt?[]:gt.slice(0,Dt+1).map((he,ce)=>e[ce]?he:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===Ft?[]:gt.slice(Ft).map((he,ce)=>s[ce+Ft]?he:null).reverse()}))})}stickRows(t,e,s){if(!this._isBrowser)return;const A="bottom"===s?t.slice().reverse():t,U="bottom"===s?e.slice().reverse():e,st=[],gt=[],vt=[];for(let Dt=0,Ft=0;Dt<A.length;Dt++){if(!U[Dt])continue;st[Dt]=Ft;const Wt=A[Dt];vt[Dt]=this._isNativeHtmlTable?Array.from(Wt.children):[Wt];const Kt=Wt.getBoundingClientRect().height;Ft+=Kt,gt[Dt]=Kt}const Mt=U.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var Dt,Ft;for(let Wt=0;Wt<A.length;Wt++){if(!U[Wt])continue;const Kt=st[Wt],Jt=Wt===Mt;for(const he of vt[Wt])this._addStickyStyle(he,s,Kt,Jt)}"top"===s?null==(Dt=this._positionListener)||Dt.stickyHeaderRowsUpdated({sizes:gt,offsets:st,elements:vt}):null==(Ft=this._positionListener)||Ft.stickyFooterRowsUpdated({sizes:gt,offsets:st,elements:vt})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const s=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(A=>!A)?this._removeStickyStyle(s,["bottom"]):this._addStickyStyle(s,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const A of e)t.style[A]="",t.classList.remove(this._borderCellCss[A]);Ja.some(A=>-1===e.indexOf(A)&&t.style[A])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,s,A){t.classList.add(this._stickCellCss),A&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${s}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let s=0;for(const A of Ja)t.style[A]&&(s+=e[A]);return s?`${s}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const s=[],A=t.children;for(let U=0;U<A.length;U++)s.push(A[U].getBoundingClientRect().width);return this._cachedCellWidths=s,s}_getStickyStartColumnPositions(t,e){const s=[];let A=0;for(let U=0;U<t.length;U++)e[U]&&(s[U]=A,A+=t[U]);return s}_getStickyEndColumnPositions(t,e){const s=[];let A=0;for(let U=t.length;U>0;U--)e[U]&&(s[U]=A,A+=t[U]);return s}}const is=new o.OlP("CDK_SPL");let kr=(()=>{class i{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.s_b),o.Y36(o.SBq))},i.\u0275dir=o.lG2({type:i,selectors:[["","rowOutlet",""]]}),i})(),Ar=(()=>{class i{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.s_b),o.Y36(o.SBq))},i.\u0275dir=o.lG2({type:i,selectors:[["","headerRowOutlet",""]]}),i})(),zs=(()=>{class i{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.s_b),o.Y36(o.SBq))},i.\u0275dir=o.lG2({type:i,selectors:[["","footerRowOutlet",""]]}),i})(),Er=(()=>{class i{constructor(e,s){this.viewContainer=e,this.elementRef=s}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.s_b),o.Y36(o.SBq))},i.\u0275dir=o.lG2({type:i,selectors:[["","noDataRowOutlet",""]]}),i})(),Or=(()=>{class i{constructor(e,s,A,U,st,gt,vt,Mt,Dt,Ft,Wt){this._differs=e,this._changeDetectorRef=s,this._elementRef=A,this._dir=st,this._platform=vt,this._viewRepeater=Mt,this._coalescedStyleScheduler=Dt,this._viewportRuler=Ft,this._stickyPositioningListener=Wt,this._onDestroy=new T.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new o.vpe,this.viewChange=new Sn.X({start:0,end:Number.MAX_VALUE}),U||this._elementRef.nativeElement.setAttribute("role","table"),this._document=gt,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=(0,v.Ig)(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=(0,v.Ig)(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,s)=>this.trackBy?this.trackBy(s.dataIndex,s.data):s),this._viewportRuler.change().pipe((0,f.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const s=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||s,this._forceRecalculateCellWidths=s,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),(0,gi.Z9)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const s=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,s,(A,U,st)=>this._getEmbeddedViewArgs(A.item,st),A=>A.item.data,A=>{1===A.operation&&A.context&&this._renderCellTemplateForItem(A.record.item.rowDef,A.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(A=>{s.get(A.currentIndex).context.$implicit=A.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),A=this._elementRef.nativeElement.querySelector("thead");A&&(A.style.display=e.length?"":"none");const U=this._headerRowDefs.map(st=>st.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,U,"top"),this._headerRowDefs.forEach(st=>st.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),A=this._elementRef.nativeElement.querySelector("tfoot");A&&(A.style.display=e.length?"":"none");const U=this._footerRowDefs.map(st=>st.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,U,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,U),this._footerRowDefs.forEach(st=>st.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),s=this._getRenderedRows(this._rowOutlet),A=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...s,...A],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((U,st)=>{this._addStickyColumnStyles([U],this._headerRowDefs[st])}),this._rowDefs.forEach(U=>{const st=[];for(let gt=0;gt<s.length;gt++)this._renderRows[gt].rowDef===U&&st.push(s[gt]);this._addStickyColumnStyles(st,U)}),A.forEach((U,st)=>{this._addStickyColumnStyles([U],this._footerRowDefs[st])}),Array.from(this._columnDefsByName.values()).forEach(U=>U.resetStickyChanged())}_getAllRenderRows(){const e=[],s=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let A=0;A<this._data.length;A++){let U=this._data[A];const st=this._getRenderRowsForData(U,A,s.get(U));this._cachedRenderRowsMap.has(U)||this._cachedRenderRowsMap.set(U,new WeakMap);for(let gt=0;gt<st.length;gt++){let vt=st[gt];const Mt=this._cachedRenderRowsMap.get(vt.data);Mt.has(vt.rowDef)?Mt.get(vt.rowDef).push(vt):Mt.set(vt.rowDef,[vt]),e.push(vt)}}return e}_getRenderRowsForData(e,s,A){return this._getRowDefs(e,s).map(st=>{const gt=A&&A.has(st)?A.get(st):[];if(gt.length){const vt=gt.shift();return vt.dataIndex=s,vt}return{data:e,rowDef:st,dataIndex:s}})}_cacheColumnDefs(){this._columnDefsByName.clear(),gn(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(s=>{this._columnDefsByName.has(s.name),this._columnDefsByName.set(s.name,s)})}_cacheRowDefs(){this._headerRowDefs=gn(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=gn(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=gn(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(s=>!s.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(st,gt)=>st||!!gt.getColumnsDiff(),s=this._rowDefs.reduce(e,!1);s&&this._forceRenderDataRows();const A=this._headerRowDefs.reduce(e,!1);A&&this._forceRenderHeaderRows();const U=this._footerRowDefs.reduce(e,!1);return U&&this._forceRenderFooterRows(),s||A||U}_switchDataSource(e){this._data=[],(0,gi.Z9)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;(0,gi.Z9)(this.dataSource)?e=this.dataSource.connect(this):function(i){return!!i&&(i instanceof jn.y||(0,Ro.m)(i.lift)&&(0,Ro.m)(i.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=(0,ni.of)(this.dataSource)),this._renderChangeSubscription=e.pipe((0,f.R)(this._onDestroy)).subscribe(s=>{this._data=s||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,s)=>this._renderRow(this._headerRowOutlet,e,s)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,s)=>this._renderRow(this._footerRowOutlet,e,s)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,s){const A=Array.from(s.columns||[]).map(gt=>this._columnDefsByName.get(gt)),U=A.map(gt=>gt.sticky),st=A.map(gt=>gt.stickyEnd);this._stickyStyler.updateStickyColumns(e,U,st,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const s=[];for(let A=0;A<e.viewContainer.length;A++){const U=e.viewContainer.get(A);s.push(U.rootNodes[0])}return s}_getRowDefs(e,s){if(1==this._rowDefs.length)return[this._rowDefs[0]];let A=[];if(this.multiTemplateDataRows)A=this._rowDefs.filter(U=>!U.when||U.when(s,e));else{let U=this._rowDefs.find(st=>st.when&&st.when(s,e))||this._defaultRowDef;U&&A.push(U)}return A}_getEmbeddedViewArgs(e,s){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:s}}_renderRow(e,s,A,U={}){const st=e.viewContainer.createEmbeddedView(s.template,U,A);return this._renderCellTemplateForItem(s,U),st}_renderCellTemplateForItem(e,s){for(let A of this._getCellTemplates(e))Ji.mostRecentCellOutlet&&Ji.mostRecentCellOutlet._viewContainer.createEmbeddedView(A,s);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let s=0,A=e.length;s<A;s++){const st=e.get(s).context;st.count=A,st.first=0===s,st.last=s===A-1,st.even=s%2==0,st.odd=!st.even,this.multiTemplateDataRows?(st.dataIndex=this._renderRows[s].dataIndex,st.renderIndex=s):st.index=this._renderRows[s].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,s=>{const A=this._columnDefsByName.get(s);return e.extractCellTemplate(A)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),s=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const A of s){const U=this._document.createElement(A.tag);U.setAttribute("role","rowgroup");for(const st of A.outlets)U.appendChild(st.elementRef.nativeElement);e.appendChild(U)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(s,A)=>s||A.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Bs(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,ni.of)()).pipe((0,f.R)(this._onDestroy)).subscribe(s=>{this._stickyStyler.direction=s,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(s=>!s._table||s._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const s=0===this._rowOutlet.viewContainer.length;if(s===this._isShowingNoDataRow)return;const A=this._noDataRowOutlet.viewContainer;if(s){const U=A.createEmbeddedView(e.templateRef),st=U.rootNodes[0];1===U.rootNodes.length&&(null==st?void 0:st.nodeType)===this._document.ELEMENT_NODE&&(st.setAttribute("role","row"),st.classList.add(e._contentClassName))}else A.clear();this._isShowingNoDataRow=s}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.ZZ4),o.Y36(o.sBO),o.Y36(o.SBq),o.$8M("role"),o.Y36(d.Is,8),o.Y36(Nt.K0),o.Y36(O.t4),o.Y36(gi.k),o.Y36(jo),o.Y36(k.rL),o.Y36(is,12))},i.\u0275cmp=o.Xpm({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,s,A){if(1&e&&(o.Suo(A,or,5),o.Suo(A,Cn,5),o.Suo(A,Mr,5),o.Suo(A,Jr,5),o.Suo(A,Tr,5)),2&e){let U;o.iGM(U=o.CRH())&&(s._noDataRow=U.first),o.iGM(U=o.CRH())&&(s._contentColumnDefs=U),o.iGM(U=o.CRH())&&(s._contentRowDefs=U),o.iGM(U=o.CRH())&&(s._contentHeaderRowDefs=U),o.iGM(U=o.CRH())&&(s._contentFooterRowDefs=U)}},viewQuery:function(e,s){if(1&e&&(o.Gf(kr,7),o.Gf(Ar,7),o.Gf(zs,7),o.Gf(Er,7)),2&e){let A;o.iGM(A=o.CRH())&&(s._rowOutlet=A.first),o.iGM(A=o.CRH())&&(s._headerRowOutlet=A.first),o.iGM(A=o.CRH())&&(s._footerRowOutlet=A.first),o.iGM(A=o.CRH())&&(s._noDataRowOutlet=A.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[o._Bn([{provide:qr,useExisting:i},{provide:gi.k,useClass:gi.yy},{provide:jo,useClass:sr},{provide:is,useValue:null}])],ngContentSelectors:jh,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,s){1&e&&(o.F$t(Nh),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[Ar,kr,Er,zs],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),i})();function gn(i,t){return i.concat(Array.from(t))}let tn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[k.Cl]]}),i})();var mn=Xt(5804);const Dr=[[["caption"]],[["colgroup"],["col"]]],Us=["caption","colgroup, col"];let Tn=(()=>{class i extends Or{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=o.n5z(i)))(s||i)}}(),i.\u0275cmp=o.Xpm({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,s){2&e&&o.ekj("mat-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],features:[o._Bn([{provide:gi.k,useClass:gi.yy},{provide:Or,useExisting:i},{provide:qr,useExisting:i},{provide:jo,useClass:sr},{provide:is,useValue:null}]),o.qOj],ngContentSelectors:Us,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,s){1&e&&(o.F$t(Dr),o.Hsn(0),o.Hsn(1,1),o.GkF(2,0),o.GkF(3,1),o.GkF(4,2),o.GkF(5,3))},directives:[Ar,kr,Er,zs],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),i})(),ar=(()=>{class i extends fn{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=o.n5z(i)))(s||i)}}(),i.\u0275dir=o.lG2({type:i,selectors:[["","matCellDef",""]],features:[o._Bn([{provide:fn,useExisting:i}]),o.qOj]}),i})(),Un=(()=>{class i extends $r{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=o.n5z(i)))(s||i)}}(),i.\u0275dir=o.lG2({type:i,selectors:[["","matHeaderCellDef",""]],features:[o._Bn([{provide:$r,useExisting:i}]),o.qOj]}),i})(),lr=(()=>{class i extends Cn{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=o.n5z(i)))(s||i)}}(),i.\u0275dir=o.lG2({type:i,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[o._Bn([{provide:Cn,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),o.qOj]}),i})(),Mn=(()=>{class i extends Ds{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=o.n5z(i)))(s||i)}}(),i.\u0275dir=o.lG2({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[o.qOj]}),i})(),Hn=(()=>{class i extends Rs{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=o.n5z(i)))(s||i)}}(),i.\u0275dir=o.lG2({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[o.qOj]}),i})(),Lr=(()=>{class i extends Jr{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=o.n5z(i)))(s||i)}}(),i.\u0275dir=o.lG2({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[o._Bn([{provide:Jr,useExisting:i}]),o.qOj]}),i})(),hr=(()=>{class i extends Mr{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=o.n5z(i)))(s||i)}}(),i.\u0275dir=o.lG2({type:i,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[o._Bn([{provide:Mr,useExisting:i}]),o.qOj]}),i})(),ns=(()=>{class i extends ts{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=o.n5z(i)))(s||i)}}(),i.\u0275cmp=o.Xpm({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[o._Bn([{provide:ts,useExisting:i}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[Ji],encapsulation:2}),i})(),rs=(()=>{class i extends zo{}return i.\u0275fac=function(){let t;return function(s){return(t||(t=o.n5z(i)))(s||i)}}(),i.\u0275cmp=o.Xpm({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[o._Bn([{provide:zo,useExisting:i}]),o.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,s){1&e&&o.GkF(0,0)},directives:[Ji],encapsulation:2}),i})(),cr=(()=>{class i extends or{constructor(){super(...arguments),this._contentClassName="mat-no-data-row"}}return i.\u0275fac=function(){let t;return function(s){return(t||(t=o.n5z(i)))(s||i)}}(),i.\u0275dir=o.lG2({type:i,selectors:[["ng-template","matNoDataRow",""]],features:[o._Bn([{provide:or,useExisting:i}]),o.qOj]}),i})(),ss=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[tn,Y.BQ],Y.BQ]}),i})();class ol extends gi.o2{constructor(t=[]){super(),this._renderData=new Sn.X([]),this._filter=new Sn.X(""),this._internalPageChanges=new T.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,s)=>{const A=e[s];if((0,v.t6)(A)){const U=Number(A);return U<9007199254740991?U:A}return A},this.sortData=(e,s)=>{const A=s.active,U=s.direction;return A&&""!=U?e.sort((st,gt)=>{let vt=this.sortingDataAccessor(st,A),Mt=this.sortingDataAccessor(gt,A);const Dt=typeof vt,Ft=typeof Mt;Dt!==Ft&&("number"===Dt&&(vt+=""),"number"===Ft&&(Mt+=""));let Wt=0;return null!=vt&&null!=Mt?vt>Mt?Wt=1:vt<Mt&&(Wt=-1):null!=vt?Wt=1:null!=Mt&&(Wt=-1),Wt*("asc"==U?1:-1)}):e},this.filterPredicate=(e,s)=>{const A=Object.keys(e).reduce((st,gt)=>st+e[gt]+"\u25ec","").toLowerCase(),U=s.trim().toLowerCase();return-1!=A.indexOf(U)},this._data=new Sn.X(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var gt;const t=this._sort?(0,C.T)(this._sort.sortChange,this._sort.initialized):(0,ni.of)(null),e=this._paginator?(0,C.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,ni.of)(null),A=(0,mn.a)([this._data,this._filter]).pipe((0,D.U)(([vt])=>this._filterData(vt))),U=(0,mn.a)([A,t]).pipe((0,D.U)(([vt])=>this._orderData(vt))),st=(0,mn.a)([U,e]).pipe((0,D.U)(([vt])=>this._pageData(vt)));null==(gt=this._renderChangesSubscription)||gt.unsubscribe(),this._renderChangesSubscription=st.subscribe(vt=>this._renderData.next(vt))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const s=Math.ceil(e.length/e.pageSize)-1||0,A=Math.min(e.pageIndex,s);A!==e.pageIndex&&(e.pageIndex=A,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null==(t=this._renderChangesSubscription)||t.unsubscribe(),this._renderChangesSubscription=null}}class dr extends ol{}var Uo=Xt(5711);const Zs={tooltipState:(0,n.X$)("state",[(0,n.SB)("initial, void, hidden",(0,n.oB)({opacity:0,transform:"scale(0)"})),(0,n.SB)("visible",(0,n.oB)({transform:"scale(1)"})),(0,n.eR)("* => visible",(0,n.jt)("200ms cubic-bezier(0, 0, 0.2, 1)",(0,n.F4)([(0,n.oB)({opacity:0,transform:"scale(0)",offset:0}),(0,n.oB)({opacity:.5,transform:"scale(0.99)",offset:.5}),(0,n.oB)({opacity:1,transform:"scale(1)",offset:1})]))),(0,n.eR)("* => hidden",(0,n.jt)("100ms cubic-bezier(0, 0, 0.2, 1)",(0,n.oB)({opacity:0})))])},Ho="tooltip-panel",$s=(0,O.i$)({passive:!0}),Ks=new o.OlP("mat-tooltip-scroll-strategy"),hl={provide:Ks,deps:[de.aV],useFactory:function(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}},as=new o.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let ls=(()=>{class i{constructor(e,s,A,U,st,gt,vt,Mt,Dt,Ft,Wt,Kt){this._overlay=e,this._elementRef=s,this._scrollDispatcher=A,this._viewContainerRef=U,this._ngZone=st,this._platform=gt,this._ariaDescriber=vt,this._focusMonitor=Mt,this._dir=Ft,this._defaultOptions=Wt,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new T.x,this._handleKeydown=Jt=>{this._isTooltipVisible()&&Jt.keyCode===_.hY&&!(0,_.Vb)(Jt)&&(Jt.preventDefault(),Jt.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=Dt,this._document=Kt,Wt&&(Wt.position&&(this.position=Wt.position),Wt.touchGestures&&(this.touchGestures=Wt.touchGestures)),Ft.change.pipe((0,f.R)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),st.runOutsideAngular(()=>{s.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){var s;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null==(s=this._tooltipInstance)||s.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=(0,v.Ig)(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=(0,v.su)(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=(0,v.su)(e)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,f.R)(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([s,A])=>{e.removeEventListener(s,A,$s)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const s=this._createOverlay();this._detach(),this._portal=this._portal||new Uo.C5(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=s.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe((0,f.R)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),s=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return s.positionChanges.pipe((0,f.R)(this._destroyed)).subscribe(A=>{this._updateCurrentPositionClass(A.connectionPair),this._tooltipInstance&&A.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:s,panelClass:`${this._cssClassPrefix}-${Ho}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,f.R)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,f.R)(this._destroyed)).subscribe(()=>{var A;return null==(A=this._tooltipInstance)?void 0:A._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const s=e.getConfig().positionStrategy,A=this._getOrigin(),U=this._getOverlayPosition();s.withPositions([this._addOffset(Ad(Ad({},A.main),U.main)),this._addOffset(Ad(Ad({},A.fallback),U.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,s=this.position;let A;"above"==s||"below"==s?A={originX:"center",originY:"above"==s?"top":"bottom"}:"before"==s||"left"==s&&e||"right"==s&&!e?A={originX:"start",originY:"center"}:("after"==s||"right"==s&&e||"left"==s&&!e)&&(A={originX:"end",originY:"center"});const{x:U,y:st}=this._invertPosition(A.originX,A.originY);return{main:A,fallback:{originX:U,originY:st}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,s=this.position;let A;"above"==s?A={overlayX:"center",overlayY:"bottom"}:"below"==s?A={overlayX:"center",overlayY:"top"}:"before"==s||"left"==s&&e||"right"==s&&!e?A={overlayX:"end",overlayY:"center"}:("after"==s||"right"==s&&e||"left"==s&&!e)&&(A={overlayX:"start",overlayY:"center"});const{x:U,y:st}=this._invertPosition(A.overlayX,A.overlayY);return{main:A,fallback:{overlayX:U,overlayY:st}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,r.q)(1),(0,f.R)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,s){return"above"===this.position||"below"===this.position?"top"===s?s="bottom":"bottom"===s&&(s="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:s}}_updateCurrentPositionClass(e){const{overlayY:s,originX:A,originY:U}=e;let st;if(st="center"===s?this._dir&&"rtl"===this._dir.value?"end"===A?"left":"right":"start"===A?"left":"right":"bottom"===s&&"top"===U?"above":"below",st!==this._currentPosition){const gt=this._overlayRef;if(gt){const vt=`${this._cssClassPrefix}-${Ho}-`;gt.removePanelClass(vt+this._currentPosition),gt.addPanelClass(vt+st)}this._currentPosition=st}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()],["wheel",s=>this._wheelListener(s)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const s=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",s],["touchcancel",s])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([s,A])=>{this._elementRef.nativeElement.addEventListener(s,A,$s)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const s=this._document.elementFromPoint(e.clientX,e.clientY),A=this._elementRef.nativeElement;s!==A&&!A.contains(s)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const s=this._elementRef.nativeElement,A=s.style;("on"===e||"INPUT"!==s.nodeName&&"TEXTAREA"!==s.nodeName)&&(A.userSelect=A.msUserSelect=A.webkitUserSelect=A.MozUserSelect="none"),("on"===e||!s.draggable)&&(A.webkitUserDrag="none"),A.touchAction="none",A.webkitTapHighlightColor="transparent"}}}return i.\u0275fac=function(e){o.$Z()},i.\u0275dir=o.lG2({type:i,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),i})(),Js=(()=>{class i extends ls{constructor(e,s,A,U,st,gt,vt,Mt,Dt,Ft,Wt,Kt){super(e,s,A,U,st,gt,vt,Mt,Dt,Ft,Wt,Kt),this._tooltipComponent=to}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(de.aV),o.Y36(o.SBq),o.Y36(k.mF),o.Y36(o.s_b),o.Y36(o.R0b),o.Y36(O.t4),o.Y36(g.$s),o.Y36(g.tE),o.Y36(Ks),o.Y36(d.Is,8),o.Y36(as,8),o.Y36(Nt.K0))},i.\u0275dir=o.lG2({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[o.qOj]}),i})(),Yo=(()=>{class i{constructor(e){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new T.x}show(e){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},e)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const s=e.toState;"hidden"===s&&!this.isVisible()&&this._onHide.next(),("visible"===s||"hidden"===s)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.sBO))},i.\u0275dir=o.lG2({type:i}),i})(),to=(()=>{class i extends Yo{constructor(e,s){super(e),this._breakpointObserver=s,this._isHandset=this._breakpointObserver.observe(wt.u3.Handset)}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.sBO),o.Y36(wt.Yg))},i.\u0275cmp=o.Xpm({type:i,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,s){2&e&&o.Udp("zoom","visible"===s._visibility?1:null)},features:[o.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,s){if(1&e&&(o.TgZ(0,"div",0),o.NdJ("@state.start",function(){return s._animationStart()})("@state.done",function(U){return s._animationDone(U)}),o.ALo(1,"async"),o._uU(2),o.qZA()),2&e){let A;o.ekj("mat-tooltip-handset",null==(A=o.lcZ(1,5,s._isHandset))?null:A.matches),o.Q6J("ngClass",s.tooltipClass)("@state",s._visibility),o.xp6(2),o.Oqu(s.message)}},directives:[Nt.mk],pipes:[Nt.Ov],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[Zs.tooltipState]},changeDetection:0}),i})(),Xo=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[hl],imports:[[g.rt,Nt.ez,de.U8,Y.BQ],Y.BQ,k.ZD]}),i})();var Xe=Xt(8167);function Zo(i,t){if(1&i&&(o.TgZ(0,"mat-option",19),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e," ")}}function qo(i,t){if(1&i){const e=o.EpF();o.TgZ(0,"mat-form-field",16),o.TgZ(1,"mat-select",17),o.NdJ("selectionChange",function(A){return o.CHM(e),o.oxw(2)._changePageSize(A.value)}),o.YNc(2,Zo,2,2,"mat-option",18),o.qZA(),o.qZA()}if(2&i){const e=o.oxw(2);o.Q6J("appearance",e._formFieldAppearance)("color",e.color),o.xp6(1),o.Q6J("value",e.pageSize)("disabled",e.disabled)("aria-label",e._intl.itemsPerPageLabel),o.xp6(1),o.Q6J("ngForOf",e._displayedPageSizeOptions)}}function cl(i,t){if(1&i&&(o.TgZ(0,"div",20),o._uU(1),o.qZA()),2&i){const e=o.oxw(2);o.xp6(1),o.Oqu(e.pageSize)}}function hs(i,t){if(1&i&&(o.TgZ(0,"div",12),o.TgZ(1,"div",13),o._uU(2),o.qZA(),o.YNc(3,qo,3,6,"mat-form-field",14),o.YNc(4,cl,2,1,"div",15),o.qZA()),2&i){const e=o.oxw();o.xp6(2),o.hij(" ",e._intl.itemsPerPageLabel," "),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length>1),o.xp6(1),o.Q6J("ngIf",e._displayedPageSizeOptions.length<=1)}}function dl(i,t){if(1&i){const e=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){return o.CHM(e),o.oxw().firstPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",22),o.qZA(),o.qZA()}if(2&i){const e=o.oxw();o.Q6J("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),o.uIk("aria-label",e._intl.firstPageLabel)}}function eo(i,t){if(1&i){const e=o.EpF();o.O4$(),o.kcU(),o.TgZ(0,"button",23),o.NdJ("click",function(){return o.CHM(e),o.oxw().lastPage()}),o.O4$(),o.TgZ(1,"svg",7),o._UZ(2,"path",24),o.qZA(),o.qZA()}if(2&i){const e=o.oxw();o.Q6J("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),o.uIk("aria-label",e._intl.lastPageLabel)}}let io=(()=>{class i{constructor(){this.changes=new T.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,s,A)=>{if(0==A||0==s)return`0 of ${A}`;const U=e*s;return`${U+1} \u2013 ${U<(A=Math.max(A,0))?Math.min(U+s,A):U+s} of ${A}`}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const zh={provide:io,deps:[[new o.FiY,new o.tp0,io]],useFactory:function(i){return i||new io}},Gh=new o.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),Ko=(0,Y.Id)((0,Y.dB)(class{}));let Qo=(()=>{class i extends Ko{constructor(e,s,A){if(super(),this._intl=e,this._changeDetectorRef=s,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new o.vpe,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),A){const{pageSize:U,pageSizeOptions:st,hidePageSize:gt,showFirstLastButtons:vt}=A;null!=U&&(this._pageSize=U),null!=st&&(this._pageSizeOptions=st),null!=gt&&(this._hidePageSize=gt),null!=vt&&(this._showFirstLastButtons=vt)}}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max((0,v.su)(e),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=(0,v.su)(e),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max((0,v.su)(e),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(s=>(0,v.su)(s)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(e){this._hidePageSize=(0,v.Ig)(e)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(e){this._showFirstLastButtons=(0,v.Ig)(e)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const A=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(A)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,s)=>e-s),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return i.\u0275fac=function(e){o.$Z()},i.\u0275dir=o.lG2({type:i,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[o.qOj]}),i})(),cs=(()=>{class i extends Qo{constructor(e,s,A){super(e,s,A),A&&null!=A.formFieldAppearance&&(this._formFieldAppearance=A.formFieldAppearance)}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(io),o.Y36(o.sBO),o.Y36(Gh,8))},i.\u0275cmp=o.Xpm({type:i,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[o.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.YNc(2,hs,5,3,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._uU(5),o.qZA(),o.YNc(6,dl,3,5,"button",5),o.TgZ(7,"button",6),o.NdJ("click",function(){return s.previousPage()}),o.O4$(),o.TgZ(8,"svg",7),o._UZ(9,"path",8),o.qZA(),o.qZA(),o.kcU(),o.TgZ(10,"button",9),o.NdJ("click",function(){return s.nextPage()}),o.O4$(),o.TgZ(11,"svg",7),o._UZ(12,"path",10),o.qZA(),o.qZA(),o.YNc(13,eo,3,5,"button",11),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(2),o.Q6J("ngIf",!s.hidePageSize),o.xp6(3),o.hij(" ",s._intl.getRangeLabel(s.pageIndex,s.pageSize,s.length)," "),o.xp6(1),o.Q6J("ngIf",s.showFirstLastButtons),o.xp6(1),o.Q6J("matTooltip",s._intl.previousPageLabel)("matTooltipDisabled",s._previousButtonsDisabled())("matTooltipPosition","above")("disabled",s._previousButtonsDisabled()),o.uIk("aria-label",s._intl.previousPageLabel),o.xp6(3),o.Q6J("matTooltip",s._intl.nextPageLabel)("matTooltipDisabled",s._nextButtonsDisabled())("matTooltipPosition","above")("disabled",s._nextButtonsDisabled()),o.uIk("aria-label",s._intl.nextPageLabel),o.xp6(3),o.Q6J("ngIf",s.showFirstLastButtons))},directives:[Nt.O5,N.lW,Js,Xe.KE,Sr.gD,Nt.sg,Y.ey],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),i})(),pl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[zh],imports:[[Nt.ez,N.ot,Sr.LD,Xo,Y.BQ]]}),i})();var Ne=Xt(5304),fl=Xt(3242);let ea=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[Nt.ez,Y.BQ,Uo.eL,Y.si,fl.Q8,g.rt],Y.BQ]}),i})(),Kh=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})(),aa=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[Kh,Y.BQ],Y.BQ]}),i})();const la=["mat-sort-header",""];function Qd(i,t){if(1&i){const e=o.EpF();o.TgZ(0,"div",3),o.NdJ("@arrowPosition.start",function(){return o.CHM(e),o.oxw()._disableViewStateAnimation=!0})("@arrowPosition.done",function(){return o.CHM(e),o.oxw()._disableViewStateAnimation=!1}),o._UZ(1,"div",4),o.TgZ(2,"div",5),o._UZ(3,"div",6),o._UZ(4,"div",7),o._UZ(5,"div",8),o.qZA(),o.qZA()}if(2&i){const e=o.oxw();o.Q6J("@arrowOpacity",e._getArrowViewState())("@arrowPosition",e._getArrowViewState())("@allowChildren",e._getArrowDirectionState()),o.xp6(2),o.Q6J("@indicator",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@leftPointer",e._getArrowDirectionState()),o.xp6(1),o.Q6J("@rightPointer",e._getArrowDirectionState())}}const Jd=["*"],Ll=new o.OlP("MAT_SORT_DEFAULT_OPTIONS"),ha=(0,Y.dB)((0,Y.Id)(class{}));let pr=(()=>{class i extends ha{constructor(e){super(),this._defaultOptions=e,this.sortables=new Map,this._stateChanges=new T.x,this.start="asc",this._direction="",this.sortChange=new o.vpe}get direction(){return this._direction}set direction(e){this._direction=e}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=(0,v.Ig)(e)}register(e){this.sortables.set(e.id,e)}deregister(e){this.sortables.delete(e.id)}sort(e){this.active!=e.id?(this.active=e.id,this.direction=e.start?e.start:this.start):this.direction=this.getNextSortDirection(e),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(e){var st,gt,vt;if(!e)return"";const s=null!=(vt=null!=(st=null==e?void 0:e.disableClear)?st:this.disableClear)?vt:!!(null==(gt=this._defaultOptions)?void 0:gt.disableClear);let A=function(i,t){let e=["asc","desc"];return"desc"==i&&e.reverse(),t||e.push(""),e}(e.start||this.start,s),U=A.indexOf(this.direction)+1;return U>=A.length&&(U=0),A[U]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Ll,8))},i.\u0275dir=o.lG2({type:i,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[o.qOj,o.TTD]}),i})();const Xn=Y.mZ.ENTERING+" "+Y.yN.STANDARD_CURVE,wi={indicator:(0,n.X$)("indicator",[(0,n.SB)("active-asc, asc",(0,n.oB)({transform:"translateY(0px)"})),(0,n.SB)("active-desc, desc",(0,n.oB)({transform:"translateY(10px)"})),(0,n.eR)("active-asc <=> active-desc",(0,n.jt)(Xn))]),leftPointer:(0,n.X$)("leftPointer",[(0,n.SB)("active-asc, asc",(0,n.oB)({transform:"rotate(-45deg)"})),(0,n.SB)("active-desc, desc",(0,n.oB)({transform:"rotate(45deg)"})),(0,n.eR)("active-asc <=> active-desc",(0,n.jt)(Xn))]),rightPointer:(0,n.X$)("rightPointer",[(0,n.SB)("active-asc, asc",(0,n.oB)({transform:"rotate(45deg)"})),(0,n.SB)("active-desc, desc",(0,n.oB)({transform:"rotate(-45deg)"})),(0,n.eR)("active-asc <=> active-desc",(0,n.jt)(Xn))]),arrowOpacity:(0,n.X$)("arrowOpacity",[(0,n.SB)("desc-to-active, asc-to-active, active",(0,n.oB)({opacity:1})),(0,n.SB)("desc-to-hint, asc-to-hint, hint",(0,n.oB)({opacity:.54})),(0,n.SB)("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",(0,n.oB)({opacity:0})),(0,n.eR)("* => asc, * => desc, * => active, * => hint, * => void",(0,n.jt)("0ms")),(0,n.eR)("* <=> *",(0,n.jt)(Xn))]),arrowPosition:(0,n.X$)("arrowPosition",[(0,n.eR)("* => desc-to-hint, * => desc-to-active",(0,n.jt)(Xn,(0,n.F4)([(0,n.oB)({transform:"translateY(-25%)"}),(0,n.oB)({transform:"translateY(0)"})]))),(0,n.eR)("* => hint-to-desc, * => active-to-desc",(0,n.jt)(Xn,(0,n.F4)([(0,n.oB)({transform:"translateY(0)"}),(0,n.oB)({transform:"translateY(25%)"})]))),(0,n.eR)("* => asc-to-hint, * => asc-to-active",(0,n.jt)(Xn,(0,n.F4)([(0,n.oB)({transform:"translateY(25%)"}),(0,n.oB)({transform:"translateY(0)"})]))),(0,n.eR)("* => hint-to-asc, * => active-to-asc",(0,n.jt)(Xn,(0,n.F4)([(0,n.oB)({transform:"translateY(0)"}),(0,n.oB)({transform:"translateY(-25%)"})]))),(0,n.SB)("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",(0,n.oB)({transform:"translateY(0)"})),(0,n.SB)("hint-to-desc, active-to-desc, desc",(0,n.oB)({transform:"translateY(-25%)"})),(0,n.SB)("hint-to-asc, active-to-asc, asc",(0,n.oB)({transform:"translateY(25%)"}))]),allowChildren:(0,n.X$)("allowChildren",[(0,n.eR)("* <=> *",[(0,n.IO)("@*",(0,n.pV)(),{optional:!0})])])};let po=(()=>{class i{constructor(){this.changes=new T.x}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const gs={provide:po,deps:[[new o.FiY,new o.tp0,po]],useFactory:function(i){return i||new po}},ca=(0,Y.Id)(class{});let da=(()=>{class i extends ca{constructor(e,s,A,U,st,gt,vt){super(),this._intl=e,this._changeDetectorRef=s,this._sort=A,this._columnDef=U,this._focusMonitor=st,this._elementRef=gt,this._ariaDescriber=vt,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(e){this._updateSortActionDescription(e)}get disableClear(){return this._disableClear}set disableClear(e){this._disableClear=(0,v.Ig)(e)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector('[role="button"]'),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const s=!!e;s!==this._showIndicatorHint&&(this._setIndicatorHintVisible(s),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(e){this._isDisabled()&&e||(this._showIndicatorHint=e,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(e){this._viewState=e||{},this._disableViewStateAnimation&&(this._viewState={toState:e.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(e){!this._isDisabled()&&(e.keyCode===_.L_||e.keyCode===_.K5)&&(e.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const e=this._viewState.fromState;return(e?`${e}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(e){var s,A;this._sortButton&&(null==(s=this._ariaDescriber)||s.removeDescription(this._sortButton,this._sortActionDescription),null==(A=this._ariaDescriber)||A.describe(this._sortButton,e)),this._sortActionDescription=e}_handleStateChanges(){this._rerenderSubscription=(0,C.T)(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(po),o.Y36(o.sBO),o.Y36(pr,8),o.Y36("MAT_SORT_HEADER_COLUMN_DEF",8),o.Y36(g.tE),o.Y36(o.SBq),o.Y36(g.$s,8))},i.\u0275cmp=o.Xpm({type:i,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(e,s){1&e&&o.NdJ("click",function(){return s._handleClick()})("keydown",function(U){return s._handleKeydown(U)})("mouseenter",function(){return s._setIndicatorHintVisible(!0)})("mouseleave",function(){return s._setIndicatorHintVisible(!1)}),2&e&&(o.uIk("aria-sort",s._getAriaSortAttribute()),o.ekj("mat-sort-header-disabled",s._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[o.qOj],attrs:la,ngContentSelectors:Jd,decls:4,vars:6,consts:[["role","button",1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(e,s){1&e&&(o.F$t(),o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.Hsn(2),o.qZA(),o.YNc(3,Qd,6,6,"div",2),o.qZA()),2&e&&(o.ekj("mat-sort-header-sorted",s._isSorted())("mat-sort-header-position-before","before"==s.arrowPosition),o.uIk("tabindex",s._isDisabled()?null:0),o.xp6(3),o.Q6J("ngIf",s._renderArrow()))},directives:[Nt.O5],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}\n"],encapsulation:2,data:{animation:[wi.indicator,wi.leftPointer,wi.rightPointer,wi.arrowOpacity,wi.arrowPosition,wi.allowChildren]},changeDetection:0}),i})(),Nl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[gs],imports:[[Nt.ez,Y.BQ]]}),i})();var xt=Xt(1382),St=Xt(4317),Ot=Xt.t(St,2);class Bt extends T.x{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(t){const{hasError:e,_hasValue:s,_value:A,thrownError:U,isStopped:st,_isComplete:gt}=this;e?t.error(U):(st||gt)&&(s&&t.next(A),t.complete())}next(t){this.isStopped||(this._value=t,this._hasValue=!0)}complete(){const{_hasValue:t,_value:e,_isComplete:s}=this;s||(this._isComplete=!0,t&&super.next(e),super.complete())}}var Yt=Xt(7575),$t=Xt.t(Yt,2),re=Xt(4435),fe=Xt.t(re,2),ge=Xt(2135),Ie=Xt.t(ge,2);class Le{constructor(t={series:[]}){this.options=t,this.refSubject=new Bt,this.ref$=this.refSubject.asObservable()}addPoint(t,e=0,s=!0,A=!1){this.ref$.subscribe(U=>{U.series.length>e&&U.series[e].addPoint(t,s,A)})}addSeries(t,e=!0,s){this.ref$.subscribe(A=>{A.addSeries(t,e,s)})}removePoint(t,e=0){this.ref$.subscribe(s=>{s.series.length>e&&s.series[e].data.length>t&&s.series[e].removePoint(t,!0)})}removeSeries(t){this.ref$.subscribe(e=>{e.series.length>t&&e.series[t].remove(!0)})}init(t){this.ref||St.chart(t.nativeElement,this.options,e=>{this.ref||(this.refSubject.next(e),this.ref=e,this.refSubject.complete())})}destroy(){this.ref&&(this.options=this.ref.options,this.ref.destroy(),this.ref=void 0,this.refSubject=new Bt,this.ref$=this.refSubject.asObservable())}}class Si{constructor(t={series:[]}){this.options=t,this.refSubject=new Bt,this.ref$=this.refSubject.asObservable()}init(t){this.ref||Yt.mapChart(t.nativeElement,this.options,e=>{this.ref||(this.refSubject.next(e),this.ref=e,this.refSubject.complete())})}destroy(){this.ref&&(this.options=this.ref.options,this.ref.destroy(),this.ref=void 0,this.refSubject=new Bt,this.ref$=this.refSubject.asObservable())}}class mi{constructor(t={series:[]}){this.options=t,this.refSubject=new Bt,this.ref$=this.refSubject.asObservable()}init(t){this.ref||re.stockChart(t.nativeElement,this.options,e=>{this.ref||(this.refSubject.next(e),this.ref=e,this.refSubject.complete())})}destroy(){this.ref&&(this.options=this.ref.options,this.ref.destroy(),this.ref=void 0,this.refSubject=new Bt,this.ref$=this.refSubject.asObservable())}}class ti{constructor(t={series:[]}){this.options=t,this.refSubject=new Bt,this.ref$=this.refSubject.asObservable()}init(t){this.ref||ge.ganttChart(t.nativeElement,this.options,e=>{this.ref||(this.refSubject.next(e),this.ref=e,this.refSubject.complete())})}destroy(){this.ref&&(this.options=this.ref.options,this.ref.destroy(),this.ref=void 0,this.refSubject=new Bt,this.ref$=this.refSubject.asObservable())}}let fr=(()=>{class i{constructor(e){this.el=e}ngOnChanges(e){e.chart.isFirstChange()||(this.destroy(),this.init())}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}init(){(this.chart instanceof Le||this.chart instanceof mi||this.chart instanceof Si||this.chart instanceof ti)&&this.chart.init(this.el)}destroy(){(this.chart instanceof Le||this.chart instanceof mi||this.chart instanceof Si||this.chart instanceof ti)&&this.chart.destroy()}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.SBq))},i.\u0275dir=o.lG2({type:i,selectors:[["","chart",""]],inputs:{chart:"chart"},features:[o.TTD]}),i})(),gr=new o.OlP("HighchartsModules"),Br=(()=>{class i{constructor(e){this.chartModules=e}initModules(){this.chartModules.forEach(e=>{[Ot,fe,$t,Ie].forEach(e)})}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(gr))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac}),i})(),vn=(()=>{class i{constructor(e){this.cs=e,this.cs.initModules()}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(Br))},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[{provide:gr,useValue:[]},Br]}),i})();var Fr=Xt(3869),jl=Xt(7240),Bi=Xt(5299);let fo=(()=>{class i{constructor(e){this.apiService=e,this.volunteersList=[],this.form=new qt.cw({id:new qt.NI(null),first_name:new qt.NI("",[qt.kI.required,qt.kI.pattern("^[\u0430-\u044f\u0410-\u044f / \u0456 / \u0491 / \u0457 / \u0406 / \u0407/ \u0490']+")]),last_name:new qt.NI("",[qt.kI.required,qt.kI.pattern("^[\u0430-\u044f\u0410-\u044f / \u0456 / \u0491 / \u0457 / \u0406 / \u0407/ \u0490']+")]),email:new qt.NI("",qt.kI.email),number:new qt.NI("",[qt.kI.required,qt.kI.pattern("[- +()0-9]{10,17}")])})}initializeFormGroup(){this.form.setValue({id:null,first_name:"",last_name:"",email:"",number:""})}updateVolunteer(e){return this.apiService.putEditVolunteer(e)}populateForm(e){this.form.setValue(e)}deleteVolunteer(e){this.apiService.deleteVolunteer(e).subscribe()}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(Bi.u))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var mr=Xt(3507),eu=Xt(5694);let iu=(()=>{class i{constructor(){}initChart(e){let s=new Le({chart:{type:"area",backgroundColor:null,borderWidth:0,margin:[2,2,2,2],height:60},title:{text:null},subtitle:{text:null},tooltip:{split:!0,outside:!0},legend:{enabled:!1},credits:{enabled:!1},exporting:{enabled:!1},series:[{type:void 0,name:this.label,data:e}]});this.chart=s}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-widget-card"]],inputs:{label:"label",total:"total",percentage:"percentage"},decls:13,vars:4,consts:[[1,"card__container"],[1,"text"],[1,"total"],["color","primary"],[1,"description"],[1,"widget"],[2,"width","100%","height","60px","display","block",3,"chart"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"h4"),o._uU(3),o.qZA(),o.TgZ(4,"span",2),o._uU(5),o.qZA(),o.TgZ(6,"span"),o.TgZ(7,"mat-icon",3),o._uU(8,"trending_up"),o.qZA(),o.qZA(),o.TgZ(9,"span",4),o._uU(10),o.qZA(),o.qZA(),o.TgZ(11,"div",5),o._UZ(12,"highcharts-chart",6),o.qZA(),o.qZA()),2&e&&(o.xp6(3),o.Oqu(s.label),o.xp6(2),o.Oqu(s.total),o.xp6(5),o.hij(" ",s.percentage,"% "),o.xp6(2),o.Q6J("chart",s.chart))},directives:[mt.Hw,fr],styles:["h4[_ngcontent-%COMP%]{margin-top:0;margin-bottom:5px}.total[_ngcontent-%COMP%]{font-size:3em}.mat-icon[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{color:green;font-size:2em}.mat-icon[_ngcontent-%COMP%]{position:relative;padding:0 20px;top:5px}"]}),i})(),nu=(()=>{class i{constructor(){}initChart(e,s,A){let U=new Le({chart:{type:"pie",backgroundColor:null},title:{text:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"},credits:{enabled:!1},tooltip:{pointFormat:"<b>{point.y:.0f}</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}},series:[{type:void 0,colorByPoint:!0,data:[{name:"\u0422\u0432\u0430\u0440\u0438\u043d\u043a\u0438",y:s,sliced:!1,selected:!1},{name:"\u041a\u043b\u0456\u043d\u0456\u043a\u0438",y:e},{name:"\u0412\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0438",y:A}]}]});this.chart=U}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-widget-pie"]],decls:1,vars:1,consts:[[3,"chart"]],template:function(e,s){1&e&&o._UZ(0,"div",0),2&e&&o.Q6J("chart",s.chart)},directives:[fr],styles:[""]}),i})();const Cf=["pets"],Tf=["vets"],ic=["volonteers"],Mf=["pie"];let kf=(()=>{class i{constructor(e){this.apiservice=e,this.numberOfPets=1,this.numberOfVets=1,this.numberOfVolonteers=1}ngOnInit(){this.apiservice.getCounts().subscribe(e=>{const{pets:s,vets:A,volonteers:U}=e;this.numberOfPets=s,this.numberOfVets=A,this.numberOfVolonteers=U,this.pets.initChart([this.numberOfVets,this.numberOfPets,this.numberOfVolonteers]),this.vets.initChart([this.numberOfPets,this.numberOfVets,this.numberOfVolonteers]),this.volonteers.initChart([this.numberOfVolonteers,this.numberOfPets,this.numberOfPets]),this.pie.initChart(this.numberOfVets,this.numberOfPets,this.numberOfVolonteers)})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Bi.u))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-admin-statistic"]],viewQuery:function(e,s){if(1&e&&(o.Gf(Cf,7),o.Gf(Tf,7),o.Gf(ic,7),o.Gf(Mf,7)),2&e){let A;o.iGM(A=o.CRH())&&(s.pets=A.first),o.iGM(A=o.CRH())&&(s.vets=A.first),o.iGM(A=o.CRH())&&(s.volonteers=A.first),o.iGM(A=o.CRH())&&(s.pie=A.first)}},decls:19,vars:6,consts:[[1,"stats-cards"],["label","\u0422\u0432\u0430\u0440\u0438\u043d:",3,"total","percentage"],["pets",""],["label","\u041a\u043b\u0456\u043d\u0456\u043a:",3,"total","percentage"],["vets",""],["label","\u0412\u0435\u0442\u0435\u0440\u0435\u043d\u0430\u0440\u0456\u0432:",3,"total","percentage"],["volonteers",""],[1,"stats-pie"],["pie",""]],template:function(e,s){1&e&&(o._UZ(0,"br"),o._UZ(1,"mat-divider"),o._UZ(2,"br"),o.TgZ(3,"div",0),o.TgZ(4,"mat-card"),o._UZ(5,"app-widget-card",1,2),o.qZA(),o.TgZ(7,"mat-card"),o._UZ(8,"app-widget-card",3,4),o.qZA(),o.TgZ(10,"mat-card"),o._UZ(11,"app-widget-card",5,6),o.qZA(),o.qZA(),o._UZ(13,"br"),o._UZ(14,"mat-divider"),o._UZ(15,"br"),o.TgZ(16,"div",7),o._UZ(17,"app-widget-pie",null,8),o.qZA()),2&e&&(o.xp6(5),o.s9C("total",s.numberOfPets),o.s9C("percentage",(100*s.numberOfPets/(s.numberOfPets+s.numberOfVets+s.numberOfVolonteers)).toFixed(1)),o.xp6(3),o.s9C("total",s.numberOfVets),o.s9C("percentage",(100*s.numberOfVets/(s.numberOfPets+s.numberOfVets+s.numberOfVolonteers)).toFixed(1)),o.xp6(3),o.s9C("total",s.numberOfVolonteers),o.s9C("percentage",(100*s.numberOfVolonteers/(s.numberOfPets+s.numberOfVets+s.numberOfVolonteers)).toFixed(1)))},directives:[eu.d,ne.a8,iu,nu],styles:[".stats-cards[_ngcontent-%COMP%]{display:flex;flex-basis:33.3333333333%;flex-wrap:wrap;justify-content:space-evenly;flex-direction:row;grid-gap:10px;gap:10px}.mat-card[_ngcontent-%COMP%]{width:250px}.stats-pie[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),i})();var Zn=Xt(4613);let Af=(()=>{class i{constructor(){this.dropped=new o.vpe,this.hovered=new o.vpe}onDrop(e){e.preventDefault(),this.dropped.emit(e.dataTransfer.files),this.hovered.emit(!1)}onDragOver(e){e.preventDefault(),this.hovered.emit(!0)}onDragLeave(e){e.preventDefault(),this.hovered.emit(!1)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=o.lG2({type:i,selectors:[["","app-dropzone",""]],hostBindings:function(e,s){1&e&&o.NdJ("drop",function(U){return s.onDrop(U)})("dragover",function(U){return s.onDragOver(U)})("dragleave",function(U){return s.onDragLeave(U)})},outputs:{dropped:"dropped",hovered:"hovered"}}),i})();var te=Xt(4553),nc=Xt(423),qn=Xt(3067),Ue=Xt(7233),li=Xt(7905),Bl=Xt(6293),xn=Xt(1572),Se=Xt(4213),go=Xt(1177);const rc="firebasestorage.googleapis.com",sc="storageBucket";class We extends Se.ZR{constructor(t,e){super(ua(t),`Firebase Storage: ${e} (${ua(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,We.prototype)}_codeEquals(t){return ua(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function ua(i){return"storage/"+i}function oc(){return new We("unknown","An unknown error occurred, please check the error payload for server response.")}function ou(){return new We("canceled","User canceled the upload/download.")}function au(){return new We("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function mo(i){return new We("invalid-argument",i)}function lu(){return new We("app-deleted","The Firebase app was deleted.")}function hu(i){return new We("invalid-root-operation","The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ms(i,t){return new We("invalid-format","String does not match format '"+i+"': "+t)}function pa(i){throw new We("internal-error","Internal error: "+i)}class Ci{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let s;try{s=Ci.makeFromUrl(t,e)}catch(A){return new Ci(t,"")}if(""===s.path)return s;throw new We("invalid-default-bucket","Invalid default bucket '"+t+"'.")}static makeFromUrl(t,e){let s=null;const A="([A-Za-z0-9.\\-_]+)",gt=new RegExp("^gs://"+A+"(/(.*))?$","i");function Mt(Me){Me.path_=decodeURIComponent(Me.path)}const Ft=e.replace(/[.]/g,"\\."),Ge=[{regex:gt,indices:{bucket:1,path:3},postModify:function(Me){"/"===Me.path.charAt(Me.path.length-1)&&(Me.path_=Me.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ft}/v[A-Za-z0-9_]+/b/${A}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Mt},{regex:new RegExp(`^https?://${e===rc?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${A}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Mt}];for(let Me=0;Me<Ge.length;Me++){const He=Ge[Me],Ri=He.regex.exec(t);if(Ri){let kd=Ri[He.indices.path];kd||(kd=""),s=new Ci(Ri[He.indices.bucket],kd),He.postModify(s);break}}if(null==s)throw new We("invalid-url","Invalid URL '"+t+"'.");return s}}class Bf{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function zl(i){return"string"==typeof i||i instanceof String}function du(i){return fa()&&i instanceof Blob}function fa(){return"undefined"!=typeof Blob}function lc(i,t,e,s){if(s<t)throw mo(`Invalid value for '${i}'. Expected ${t} or greater.`);if(s>e)throw mo(`Invalid value for '${i}'. Expected ${e} or less.`)}function En(i,t,e){let s=t;return null==e&&(s=`https://${t}`),`${e}://${s}/v0${i}`}function uu(i){const t=encodeURIComponent;let e="?";for(const s in i)i.hasOwnProperty(s)&&(e=e+(t(s)+"=")+t(i[s])+"&");return e=e.slice(0,-1),e}var yr=(()=>{return(i=yr||(yr={}))[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT",yr;var i})();class Hf{constructor(t,e,s,A,U,st,gt,vt,Mt,Dt,Ft){this.url_=t,this.method_=e,this.headers_=s,this.body_=A,this.successCodes_=U,this.additionalRetryCodes_=st,this.callback_=gt,this.errorCallback_=vt,this.timeout_=Mt,this.progressCallback_=Dt,this.connectionFactory_=Ft,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Wt,Kt)=>{this.resolve_=Wt,this.reject_=Kt,this.start_()})}start_(){const e=(s,A)=>{const U=this.resolve_,st=this.reject_,gt=A.connection;if(A.wasSuccessCode)try{const vt=this.callback_(gt,gt.getResponse());void 0!==vt?U(vt):U()}catch(vt){st(vt)}else if(null!==gt){const vt=oc();vt.serverResponse=gt.getErrorText(),st(this.errorCallback_?this.errorCallback_(gt,vt):vt)}else st(A.canceled?this.appDelete_?lu():ou():new We("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new yo(!1,null,!0)):this.backoffId_=function(i,t,e){let s=1,A=null,U=null,st=!1,gt=0;function vt(){return 2===gt}let Mt=!1;function Dt(...ce){Mt||(Mt=!0,t.apply(null,ce))}function Ft(ce){A=setTimeout(()=>{A=null,i(Kt,vt())},ce)}function Wt(){U&&clearTimeout(U)}function Kt(ce,...Ee){if(Mt)return void Wt();if(ce)return Wt(),void Dt.call(null,ce,...Ee);if(vt()||st)return Wt(),void Dt.call(null,ce,...Ee);let Ge;s<64&&(s*=2),1===gt?(gt=2,Ge=0):Ge=1e3*(s+Math.random()),Ft(Ge)}let Jt=!1;function he(ce){Jt||(Jt=!0,Wt(),!Mt&&(null!==A?(ce||(gt=2),clearTimeout(A),Ft(0)):ce||(gt=1)))}return Ft(0),U=setTimeout(()=>{st=!0,he(!0)},e),he}((s,A)=>{if(A)return void s(!1,new yo(!1,null,!0));const U=this.connectionFactory_();this.pendingConnection_=U;const st=gt=>{null!==this.progressCallback_&&this.progressCallback_(gt.loaded,gt.lengthComputable?gt.total:-1)};null!==this.progressCallback_&&U.addUploadProgressListener(st),U.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&U.removeUploadProgressListener(st),this.pendingConnection_=null;const gt=U.getErrorCode()===yr.NO_ERROR,vt=U.getStatus();if(!gt||this.isRetryStatusCode_(vt)){const Dt=U.getErrorCode()===yr.ABORT;return void s(!1,new yo(!1,null,Dt))}const Mt=-1!==this.successCodes_.indexOf(vt);s(!0,new yo(Mt,U))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,A=-1!==[408,429].indexOf(t),U=-1!==this.additionalRetryCodes_.indexOf(t);return e||A||U}}class yo{constructor(t,e,s){this.wasSuccessCode=t,this.connection=e,this.canceled=!!s}}function zv(...i){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const e=new t;for(let s=0;s<i.length;s++)e.append(i[s]);return e.getBlob()}if(fa())return new Blob(i);throw new We("unsupported-environment","This browser doesn't seem to support creating Blobs")}const nn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ga{constructor(t,e){this.data=t,this.contentType=e||null}}function hc(i,t){switch(i){case nn.RAW:return new ga(Gl(t));case nn.BASE64:case nn.BASE64URL:return new ga(gu(i,t));case nn.DATA_URL:return new ga(function(i){const t=new Ul(i);return t.base64?gu(nn.BASE64,t.rest):function(i){let t;try{t=decodeURIComponent(i)}catch(e){throw ms(nn.DATA_URL,"Malformed data URL.")}return Gl(t)}(t.rest)}(t),function(i){return new Ul(i).contentType}(t))}throw oc()}function Gl(i){const t=[];for(let e=0;e<i.length;e++){let s=i.charCodeAt(e);s<=127?t.push(s):s<=2047?t.push(192|s>>6,128|63&s):55296==(64512&s)?e<i.length-1&&56320==(64512&i.charCodeAt(e+1))?(s=65536|(1023&s)<<10|1023&i.charCodeAt(++e),t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):t.push(239,191,189):56320==(64512&s)?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(t)}function gu(i,t){switch(i){case nn.BASE64:{const A=-1!==t.indexOf("-"),U=-1!==t.indexOf("_");if(A||U)throw ms(i,"Invalid character '"+(A?"-":"_")+"' found: is it base64url encoded?");break}case nn.BASE64URL:{const A=-1!==t.indexOf("+"),U=-1!==t.indexOf("/");if(A||U)throw ms(i,"Invalid character '"+(A?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function(i){return atob(i)}(t)}catch(A){throw ms(i,"Invalid character found")}const s=new Uint8Array(e.length);for(let A=0;A<e.length;A++)s[A]=e.charCodeAt(A);return s}class Ul{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw ms(nn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=e[1]||null;null!=s&&(this.base64=function(i,t){return i.length>=t.length&&i.substring(i.length-t.length)===t}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-";base64".length):s),this.rest=t.substring(t.indexOf(",")+1)}}class $n{constructor(t,e){let s=0,A="";du(t)?(this.data_=t,s=t.size,A=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=A}size(){return this.size_}type(){return this.type_}slice(t,e){if(du(this.data_)){const A=function(i,t,e){return i.webkitSlice?i.webkitSlice(t,e):i.mozSlice?i.mozSlice(t,e):i.slice?i.slice(t,e):null}(this.data_,t,e);return null===A?null:new $n(A)}{const s=new Uint8Array(this.data_.buffer,t,e-t);return new $n(s,!0)}}static getBlob(...t){if(fa()){const e=t.map(s=>s instanceof $n?s.data_:s);return new $n(zv.apply(null,e))}{const e=t.map(st=>zl(st)?hc(nn.RAW,st).data:st.data_);let s=0;e.forEach(st=>{s+=st.byteLength});const A=new Uint8Array(s);let U=0;return e.forEach(st=>{for(let gt=0;gt<st.length;gt++)A[U++]=st[gt]}),new $n(A,!0)}}uploadData(){return this.data_}}function dc(i){let t;try{t=JSON.parse(i)}catch(e){return null}return function(i){return"object"==typeof i&&!Array.isArray(i)}(t)?t:null}function mu(i){const t=i.lastIndexOf("/",i.length-2);return-1===t?i:i.slice(t+1)}function yu(i,t){return t}class yi{constructor(t,e,s,A){this.server=t,this.local=e||t,this.writable=!!s,this.xform=A||yu}}let Hl=null;function vs(){if(Hl)return Hl;const i=[];i.push(new yi("bucket")),i.push(new yi("generation")),i.push(new yi("metageneration")),i.push(new yi("name","fullPath",!0));const e=new yi("name");e.xform=function(U,st){return function(i){return!zl(i)||i.length<2?i:mu(i)}(st)},i.push(e);const A=new yi("size");return A.xform=function(U,st){return void 0!==st?Number(st):st},i.push(A),i.push(new yi("timeCreated")),i.push(new yi("updated")),i.push(new yi("md5Hash",null,!0)),i.push(new yi("cacheControl",null,!0)),i.push(new yi("contentDisposition",null,!0)),i.push(new yi("contentEncoding",null,!0)),i.push(new yi("contentLanguage",null,!0)),i.push(new yi("contentType",null,!0)),i.push(new yi("metadata","customMetadata",!0)),Hl=i,Hl}function vu(i,t,e){const s=dc(t);return null===s?null:function(i,t,e){const s={type:"file"},A=e.length;for(let U=0;U<A;U++){const st=e[U];s[st.local]=st.xform(s,t[st.server])}return function(i,t){Object.defineProperty(i,"ref",{get:function(){const U=new Ci(i.bucket,i.fullPath);return t._makeStorageReference(U)}})}(s,i),s}(i,s,e)}function pc(i,t){const e={},s=t.length;for(let A=0;A<s;A++){const U=t[A];U.writable&&(e[U.server]=i[U.local])}return JSON.stringify(e)}const xu="prefixes";class Kn{constructor(t,e,s,A){this.url=t,this.method=e,this.handler=s,this.timeout=A,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Qn(i){if(!i)throw oc()}function Vl(i,t){return function(s,A){const U=vu(i,A,t);return Qn(null!==U),U}}function xs(i){return function(e,s){let A;return A=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?new We("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new We("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(i){return new We("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===e.getStatus()?function(i){return new We("unauthorized","User does not have permission to access '"+i+"'.")}(i.path):s,A.serverResponse=s.serverResponse,A}}function ma(i){const t=xs(i);return function(s,A){let U=t(s,A);return 404===s.getStatus()&&(U=function(i){return new We("object-not-found","Object '"+i+"' does not exist.")}(i.path)),U.serverResponse=A.serverResponse,U}}function wu(i,t,e){const A=En(t.fullServerUrl(),i.host,i._protocol),st=i.maxOperationRetryTime,gt=new Kn(A,"GET",Vl(i,e),st);return gt.errorHandler=ma(t),gt}function rg(i,t,e,s,A){const U={};U.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(U.delimiter=e),s&&(U.pageToken=s),A&&(U.maxResults=A);const gt=En(t.bucketOnlyServerUrl(),i.host,i._protocol),Mt=i.maxOperationRetryTime,Dt=new Kn(gt,"GET",function(i,t){return function(s,A){const U=function(i,t,e){const s=dc(e);return null===s?null:function(i,t,e){const s={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[xu])for(const A of e[xu]){const U=A.replace(/\/$/,""),st=i._makeStorageReference(new Ci(t,U));s.prefixes.push(st)}if(e.items)for(const A of e.items){const U=i._makeStorageReference(new Ci(t,A.name));s.items.push(U)}return s}(i,t,s)}(i,t,A);return Qn(null!==U),U}}(i,t.bucket),Mt);return Dt.urlParams=U,Dt.errorHandler=xs(t),Dt}function Mu(i,t,e){const s=Object.assign({},e);return s.fullPath=i.path,s.size=t.size(),s.contentType||(s.contentType=function(i,t){return t&&t.type()||"application/octet-stream"}(0,t)),s}class Zl{constructor(t,e,s,A){this.current=t,this.total=e,this.finalized=!!s,this.metadata=A||null}}function Fi(i,t){let e=null;try{e=i.getResponseHeader("X-Goog-Upload-Status")}catch(A){Qn(!1)}return Qn(!!e&&-1!==(t||["active"]).indexOf(e)),e}const yc={STATE_CHANGED:"state_changed"},zi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ql(i){switch(i){case"running":case"pausing":case"canceling":return zi.RUNNING;case"paused":return zi.PAUSED;case"success":return zi.SUCCESS;case"canceled":return zi.CANCELED;default:return zi.ERROR}}class sg{constructor(t,e,s){if("function"==typeof t||null!=e||null!=s)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=s?s:void 0;else{const U=t;this.next=U.next,this.error=U.error,this.complete=U.complete}}}function rn(i){return(...t)=>{Promise.resolve().then(()=>i(...t))}}class ag extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=yr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=yr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=yr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,s,A){if(this.sent_)throw pa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==A)for(const U in A)A.hasOwnProperty(U)&&this.xhr_.setRequestHeader(U,A[U].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pa("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw pa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function Pn(){return new ag}class Pu{constructor(t,e,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=s,this._mappings=vs(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=A=>{this._request=void 0,this._chunkMultiplier=1,A._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=A,this._transition("error"))},this._metadataErrorHandler=A=>{this._request=void 0,A._codeEquals("canceled")?this.completeTransitions_():(this._error=A,this._transition("error"))},this._promise=new Promise((A,U)=>{this._resolve=A,this._reject=U,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,s])=>{switch(this._state){case"running":t(e,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const s=function(i,t,e,s,A){const U=t.bucketOnlyServerUrl(),st=Mu(t,s,A),gt={name:st.fullPath},vt=En(U,i.host,i._protocol),Dt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":st.contentType,"Content-Type":"application/json; charset=utf-8"},Ft=pc(st,e),Jt=new Kn(vt,"POST",function(he){let ce;Fi(he);try{ce=he.getResponseHeader("X-Goog-Upload-URL")}catch(Ee){Qn(!1)}return Qn(zl(ce)),ce},i.maxUploadRetryTime);return Jt.urlParams=gt,Jt.headers=Dt,Jt.body=Ft,Jt.errorHandler=xs(t),Jt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),A=this._ref.storage._makeRequest(s,Pn,t,e);this._request=A,A.getPromise().then(U=>{this._request=void 0,this._uploadUrl=U,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,s)=>{const A=function(i,t,e,s){const vt=new Kn(e,"POST",function(Mt){const Dt=Fi(Mt,["active","final"]);let Ft=null;try{Ft=Mt.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Kt){Qn(!1)}Ft||Qn(!1);const Wt=Number(Ft);return Qn(!isNaN(Wt)),new Zl(Wt,s.size(),"final"===Dt)},i.maxUploadRetryTime);return vt.headers={"X-Goog-Upload-Command":"query"},vt.errorHandler=xs(t),vt}(this._ref.storage,this._ref._location,t,this._blob),U=this._ref.storage._makeRequest(A,Pn,e,s);this._request=U,U.getPromise().then(st=>{st=st,this._request=void 0,this._updateProgress(st.current),this._needToFetchStatus=!1,st.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new Zl(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((A,U)=>{let st;try{st=function(i,t,e,s,A,U,st,gt){const vt=new Zl(0,0);if(st?(vt.current=st.current,vt.total=st.total):(vt.current=0,vt.total=s.size()),s.size()!==vt.total)throw new We("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const Mt=vt.total-vt.current;let Dt=Mt;A>0&&(Dt=Math.min(Dt,A));const Ft=vt.current,Jt={"X-Goog-Upload-Command":Dt===Mt?"upload, finalize":"upload","X-Goog-Upload-Offset":`${vt.current}`},he=s.slice(Ft,Ft+Dt);if(null===he)throw au();const Ge=new Kn(e,"POST",function(Me,He){const Ri=Fi(Me,["active","final"]),Do=vt.current+Dt,kd=s.size();let Fv;return Fv="final"===Ri?Vl(t,U)(Me,He):null,new Zl(Do,kd,"final"===Ri,Fv)},t.maxUploadRetryTime);return Ge.headers=Jt,Ge.body=he.uploadData(),Ge.progressCallback=gt||null,Ge.errorHandler=xs(i),Ge}(this._ref._location,this._ref.storage,s,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(vt){return this._error=vt,void this._transition("error")}const gt=this._ref.storage._makeRequest(st,Pn,A,U);this._request=gt,gt.getPromise().then(vt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(vt.current),vt.finalized?(this._metadata=vt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const s=wu(this._ref.storage,this._ref._location,this._mappings),A=this._ref.storage._makeRequest(s,Pn,t,e);this._request=A,A.getPromise().then(U=>{this._request=void 0,this._metadata=U,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const s=function(i,t,e,s,A){const U=t.bucketOnlyServerUrl(),st={"X-Goog-Upload-Protocol":"multipart"},vt=function(){let Ge="";for(let Me=0;Me<2;Me++)Ge+=Math.random().toString().slice(2);return Ge}();st["Content-Type"]="multipart/related; boundary="+vt;const Mt=Mu(t,s,A),Dt=pc(Mt,e),Kt=$n.getBlob("--"+vt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Dt+"\r\n--"+vt+"\r\nContent-Type: "+Mt.contentType+"\r\n\r\n",s,"\r\n--"+vt+"--");if(null===Kt)throw au();const Jt={name:Mt.fullPath},he=En(U,i.host,i._protocol),Ee=i.maxUploadRetryTime,ze=new Kn(he,"POST",Vl(i,e),Ee);return ze.urlParams=Jt,ze.headers=st,ze.body=Kt.uploadData(),ze.errorHandler=xs(t),ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),A=this._ref.storage._makeRequest(s,Pn,t,e);this._request=A,A.getPromise().then(U=>{this._request=void 0,this._metadata=U,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=ou(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=ql(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,s,A){const U=new sg(e||void 0,s||void 0,A||void 0);return this._addObserver(U),()=>{this._removeObserver(U)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(ql(this._state)){case zi.SUCCESS:rn(this._resolve.bind(null,this.snapshot))();break;case zi.CANCELED:case zi.ERROR:rn(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(ql(this._state)){case zi.RUNNING:case zi.PAUSED:t.next&&rn(t.next.bind(t,this.snapshot))();break;case zi.SUCCESS:t.complete&&rn(t.complete.bind(t))();break;default:t.error&&rn(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Gi{constructor(t,e){this._service=t,this._location=e instanceof Ci?e:Ci.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Gi(t,e)}get root(){const t=new Ci(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mu(this._location.path)}get storage(){return this._service}get parent(){const t=function(i){if(0===i.length)return null;const t=i.lastIndexOf("/");return-1===t?"":i.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Ci(this._location.bucket,t);return new Gi(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw hu(t)}}function Ou(i,t,e){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,te.Z)(function*(i,t,e){const A=yield Du(i,{pageToken:e});t.prefixes.push(...A.prefixes),t.items.push(...A.items),null!=A.nextPageToken&&(yield Ou(i,t,A.nextPageToken))})).apply(this,arguments)}function Du(i,t){null!=t&&"number"==typeof t.maxResults&&lc("options.maxResults",1,1e3,t.maxResults);const e=t||{},s=rg(i.storage,i._location,"/",e.pageToken,e.maxResults);return i.storage.makeRequestWithTokens(s,Pn)}function et(i){i._throwIfRoot("getDownloadURL");const t=function(i,t,e){const A=En(t.fullServerUrl(),i.host,i._protocol),st=i.maxOperationRetryTime,gt=new Kn(A,"GET",function(i,t){return function(s,A){const U=vu(i,A,t);return Qn(null!==U),function(i,t,e,s){const A=dc(t);if(null===A||!zl(A.downloadTokens))return null;const U=A.downloadTokens;if(0===U.length)return null;const st=encodeURIComponent;return U.split(",").map(Mt=>{const Ft=i.fullPath;return En("/b/"+st(i.bucket)+"/o/"+st(Ft),e,s)+uu({alt:"media",token:Mt})})[0]}(U,A,i.host,i._protocol)}}(i,e),st);return gt.errorHandler=ma(t),gt}(i.storage,i._location,vs());return i.storage.makeRequestWithTokens(t,Pn).then(e=>{if(null===e)throw new We("no-download-url","The given file does not have any download URLs.");return e})}function Ct(i,t){const e=function(i,t){const e=t.split("/").filter(s=>s.length>0).join("/");return 0===i.length?e:i+"/"+e}(i._location.path,t),s=new Ci(i._location.bucket,e);return new Gi(i.storage,s)}function Zt(i,t){if(i instanceof ye){const e=i;if(null==e._bucket)throw new We("no-default-bucket","No default bucket found. Did you set the '"+sc+"' property when initializing the app?");const s=new Gi(e,e._bucket);return null!=t?Zt(s,t):s}return void 0!==t?Ct(i,t):i}function ae(i,t){if(t&&function(i){return/^[A-Za-z]+:\/\//.test(i)}(t)){if(i instanceof ye)return function(i,t){return new Gi(i,t)}(i,t);throw mo("To use ref(service, url), the first argument must be a Storage instance.")}return Zt(i,t)}function oe(i,t){const e=null==t?void 0:t[sc];return null==e?null:Ci.makeFromBucketSpec(e,i)}class ye{constructor(t,e,s,A,U){this.app=t,this._authProvider=e,this._appCheckProvider=s,this._url=A,this._firebaseVersion=U,this._bucket=null,this._host=rc,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=A?Ci.makeFromBucketSpec(A,this._host):oe(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Ci.makeFromBucketSpec(this._url,t):oe(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){lc("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){lc("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,te.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const s=yield e.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,te.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Gi(this,t)}_makeRequest(t,e,s,A){if(this._deleted)return new Bf(lu());{const U=function(i,t,e,s,A,U){const st=uu(i.urlParams),gt=i.url+st,vt=Object.assign({},i.headers);return function(i,t){t&&(i["X-Firebase-GMPID"]=t)}(vt,t),function(i,t){null!==t&&t.length>0&&(i.Authorization="Firebase "+t)}(vt,e),function(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(vt,U),function(i,t){null!==t&&(i["X-Firebase-AppCheck"]=t)}(vt,s),new Hf(gt,i.method,vt,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,A)}(t,this._appId,s,A,e,this._firebaseVersion);return this._requests.add(U),U.getPromise().then(()=>this._requests.delete(U),()=>this._requests.delete(U)),U}}makeRequestWithTokens(t,e){var s=this;return(0,te.Z)(function*(){const[A,U]=yield Promise.all([s._getAuthToken(),s._getAppCheckToken()]);return s._makeRequest(t,e,A,U).getPromise()})()}}const Pe="@firebase/storage";function $l(i,t){return ae(i=(0,Se.m9)(i),t)}(0,xn._registerComponent)(new go.wA("storage",function(i,{instanceIdentifier:t}){const e=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),A=i.getProvider("app-check-internal");return new ye(e,s,A,t,xn.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,xn.registerVersion)(Pe,"0.9.2",""),(0,xn.registerVersion)(Pe,"0.9.2","esm2017");class Fu{constructor(t,e,s){this._delegate=t,this.task=e,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Gv{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Fu(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(s=>{if(t)return t(new Fu(s,this,this._ref))},e)}on(t,e,s,A){let U;return e&&(U="function"==typeof e?st=>e(new Fu(st,this,this._ref)):{next:e.next?st=>e.next(new Fu(st,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,U,s||void 0,A||void 0)}}class Uv{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new bs(t,this._service))}get items(){return this._delegate.items.map(t=>new bs(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class bs{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function(i,t){return Ct(i,t)}(this._delegate,t);return new bs(e,this.storage)}get root(){return new bs(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new bs(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new Gv(function(i,t,e){return function(i,t,e){return i._throwIfRoot("uploadBytesResumable"),new Pu(i,new $n(t),e)}(i=(0,Se.m9)(i),t,e)}(this._delegate,t,e),this)}putString(t,e=nn.RAW,s){this._throwIfRoot("putString");const A=hc(e,t),U=Object.assign({},s);return null==U.contentType&&null!=A.contentType&&(U.contentType=A.contentType),new Gv(new Pu(this._delegate,new $n(A.data,!0),U),this)}listAll(){return function(i){return function(i){const t={prefixes:[],items:[]};return Ou(i,t).then(()=>t)}(i=(0,Se.m9)(i))}(this._delegate).then(t=>new Uv(t,this.storage))}list(t){return function(i,t){return Du(i=(0,Se.m9)(i),t)}(this._delegate,t||void 0).then(e=>new Uv(e,this.storage))}getMetadata(){return function(i){return function(i){i._throwIfRoot("getMetadata");const t=wu(i.storage,i._location,vs());return i.storage.makeRequestWithTokens(t,Pn)}(i=(0,Se.m9)(i))}(this._delegate)}updateMetadata(t){return function(i,t){return function(i,t){i._throwIfRoot("updateMetadata");const e=function(i,t,e,s){const U=En(t.fullServerUrl(),i.host,i._protocol),gt=pc(e,s),Mt=i.maxOperationRetryTime,Dt=new Kn(U,"PATCH",Vl(i,s),Mt);return Dt.headers={"Content-Type":"application/json; charset=utf-8"},Dt.body=gt,Dt.errorHandler=ma(t),Dt}(i.storage,i._location,t,vs());return i.storage.makeRequestWithTokens(e,Pn)}(i=(0,Se.m9)(i),t)}(this._delegate,t)}getDownloadURL(){return et((0,Se.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(i){i._throwIfRoot("deleteObject");const t=function(i,t){const s=En(t.fullServerUrl(),i.host,i._protocol),gt=new Kn(s,"DELETE",function(vt,Mt){},i.maxOperationRetryTime);return gt.successCodes=[200,204],gt.errorHandler=ma(t),gt}(i.storage,i._location);return i.storage.makeRequestWithTokens(t,Pn)}((0,Se.m9)(this._delegate))}_throwIfRoot(t){if(""===this._delegate._location.path)throw hu(t)}}class Hv{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(Wv(t))throw mo("ref() expected a child path but got a URL, use refFromURL instead.");return new bs($l(this._delegate,t),this)}refFromURL(t){if(!Wv(t))throw mo("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ci.makeFromUrl(t,this._delegate.host)}catch(e){throw mo("refFromUrl() expected a valid full URL but got an invalid one.")}return new bs($l(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,s={}){!function(i,t,e,s={}){!function(i,t,e,s={}){i.host=`${t}:${e}`,i._protocol="http";const{mockUserToken:A}=s;A&&(i._overrideAuthToken="string"==typeof A?A:(0,Se.Sg)(A,i.app.options.projectId))}(i,t,e,s)}(this._delegate,t,e,s)}}function Wv(i){return/^[A-Za-z]+:\/\//.test(i)}function r1(i,{instanceIdentifier:t}){const e=i.getProvider("app-compat").getImmediate(),s=i.getProvider("storage").getImmediate({identifier:t});return new Hv(e,s)}!function(i){const t={TaskState:zi,TaskEvent:yc,StringFormat:nn,Storage:Hv,Reference:bs};i.INTERNAL.registerComponent(new go.wA("storage-compat",r1,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),i.registerVersion("@firebase/storage-compat","0.1.10")}(Bl.Z),Xt(7713);var vo=Xt(3855);const Yv=new Map,c1={activated:!1,tokenObservers:[]},d1={initialized:!1,enabled:!1};function Ti(i){return Yv.get(i)||c1}function xr(i,t){Yv.set(i,t)}function Gu(){return d1}class m1{constructor(t,e,s,A,U){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=A,this.upperBound=U,this.pending=null,this.nextErrorWaitInterval=A,A>U)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,te.Z)(function*(){e.stop();try{e.pending=new Se.BH,yield(i=e.getNextRun(t),new Promise(t=>{setTimeout(t,i)})),e.pending.resolve(),yield e.pending.promise,e.pending=new Se.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}var i})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const sn=new Se.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Zv(i){if(!Ti(i).activated)throw sn.create("use-before-activation",{appName:i.name})}function mg(i,t){return yg.apply(this,arguments)}function yg(){return(yg=(0,te.Z)(function*({url:i,body:t},e){const s={"Content-Type":"application/json"},A=e.getImmediate({optional:!0});A&&(s["X-Firebase-Client"]=A.getPlatformInfoString());const U={method:"POST",body:JSON.stringify(t),headers:s};let st,gt;try{st=yield fetch(i,U)}catch(Ft){throw sn.create("fetch-network-error",{originalErrorMessage:Ft.message})}if(200!==st.status)throw sn.create("fetch-status-error",{httpStatus:st.status});try{gt=yield st.json()}catch(Ft){throw sn.create("fetch-parse-error",{originalErrorMessage:Ft.message})}const vt=gt.ttl.match(/^([\d.]+)(s)$/);if(!vt||!vt[2]||isNaN(Number(vt[1])))throw sn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${gt.ttl}`});const Mt=1e3*Number(vt[1]),Dt=Date.now();return{token:gt.attestationToken,expireTimeMillis:Dt+Mt,issuedAtTimeMillis:Dt}})).apply(this,arguments)}function w1(i,t){const{projectId:e,appId:s,apiKey:A}=i.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${s}:exchangeDebugToken?key=${A}`,body:{debug_token:t}}}const kc="firebase-app-check-store";let Wu=null;function $v(){return Wu||(Wu=new Promise((i,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=s=>{i(s.target.result)},e.onerror=s=>{var A;t(sn.create("storage-open",{originalErrorMessage:null===(A=s.target.error)||void 0===A?void 0:A.message}))},e.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(kc,{keyPath:"compositeKey"})}}catch(e){t(sn.create("storage-open",{originalErrorMessage:e.message}))}}),Wu)}function vg(){return(vg=(0,te.Z)(function*(i,t){const s=(yield $v()).transaction(kc,"readwrite"),U=s.objectStore(kc).put({compositeKey:i,value:t});return new Promise((st,gt)=>{U.onsuccess=vt=>{st()},s.onerror=vt=>{var Mt;gt(sn.create("storage-set",{originalErrorMessage:null===(Mt=vt.target.error)||void 0===Mt?void 0:Mt.message}))}})})).apply(this,arguments)}const Ac=new vo.Yd("@firebase/app-check");function t0(i,t){return(0,Se.hl)()?function(i,t){return function(i,t){return vg.apply(this,arguments)}(function(i){return`${i.options.appId}-${i.name}`}(i),t)}(i,t).catch(e=>{Ac.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function e0(){return Gu().enabled}function n0(){return wg.apply(this,arguments)}function wg(){return(wg=(0,te.Z)(function*(){const i=Gu();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const O1={error:"UNKNOWN_ERROR"};function D1(i){return Se.US.encodeString(JSON.stringify(i),!1)}function Vu(i){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,te.Z)(function*(i,t=!1){const e=i.app;Zv(e);const s=Ti(e);let U,A=s.token;if(!A){const vt=yield s.cachedTokenPromise;vt&&Yu(vt)&&(A=vt)}if(!t&&A&&Yu(A))return{token:A.token};let gt,st=!1;if(e0()){s.exchangeTokenPromise||(s.exchangeTokenPromise=mg(w1(e,yield n0()),i.platformLoggerProvider).then(Mt=>(s.exchangeTokenPromise=void 0,Mt)),st=!0);const vt=yield s.exchangeTokenPromise;return yield t0(e,vt),xr(e,Object.assign(Object.assign({},s),{token:vt})),{token:vt.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(vt=>(s.exchangeTokenPromise=void 0,vt)),st=!0),A=yield s.exchangeTokenPromise}catch(vt){"appCheck/throttled"===vt.code?Ac.warn(vt.message):Ac.error(vt),U=vt}return A?(gt={token:A.token},xr(e,Object.assign(Object.assign({},s),{token:A})),yield t0(e,A)):gt=R1(U),st&&s0(e,gt),gt})).apply(this,arguments)}function Tg(i,t){const e=Ti(i),s=e.tokenObservers.filter(A=>A.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),xr(i,Object.assign(Object.assign({},e),{tokenObservers:s}))}function r0(i){const{app:t}=i,e=Ti(t);let s=e.tokenRefresher;s||(s=function(i){const{app:t}=i;return new m1((0,te.Z)(function*(){let s;if(s=Ti(t).token?yield Vu(i,!0):yield Vu(i),s.error)throw s.error}),()=>!0,()=>{const e=Ti(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(i),xr(t,Object.assign(Object.assign({},e),{tokenRefresher:s}))),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function s0(i,t){const e=Ti(i).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch(A){}}function Yu(i){return i.expireTimeMillis-Date.now()>0}function R1(i){return{token:D1(O1),error:i}}class N1{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Ti(this.app);for(const e of t)Tg(this.app,e.next);return Promise.resolve()}}const p0="app-check-internal";(0,xn._registerComponent)(new go.wA("app-check",i=>function(i,t){return new N1(i,t)}(i.getProvider("app").getImmediate(),i.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,t,e)=>{i.getProvider(p0).initialize()})),(0,xn._registerComponent)(new go.wA(p0,i=>function(i){return{getToken:t=>Vu(i,t),addTokenListener:t=>function(i,t,e,s){const{app:A}=i,U=Ti(A),st={next:e,error:s,type:t};if(xr(A,Object.assign(Object.assign({},U),{tokenObservers:[...U.tokenObservers,st]})),U.token&&Yu(U.token)){const gt=U.token;Promise.resolve().then(()=>{e({token:gt.token}),r0(i)}).catch(()=>{})}U.cachedTokenPromise.then(()=>r0(i))}(i,"INTERNAL",t),removeTokenListener:t=>Tg(i.app,t)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,xn.registerVersion)("@firebase/app-check","0.5.3");class Zu{constructor(){return(0,Ue.vb)("app-check")}}"undefined"!=typeof window&&window;var Pg=Xt(7892);function g0(i){const t=function(i){return new jn.y(t=>{const e=st=>t.next(st);e(i.snapshot);const U=i.on("state_changed",e);return i.then(st=>{e(st),t.complete()},st=>{e(i.snapshot),(st=>{t.error(st)})(st)}),function(){U()}}).pipe((0,a.b)(0))}(i);return{task:i,then:i.then.bind(i),catch:i.catch.bind(i),pause:i.pause.bind(i),cancel:i.cancel.bind(i),resume:i.resume.bind(i),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,D.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function qu(i){return{getDownloadURL:()=>(0,ni.of)(void 0).pipe(Ue.fc,(0,qn.w)(()=>i.getDownloadURL()),Ue.iC),getMetadata:()=>(0,ni.of)(void 0).pipe(Ue.fc,(0,qn.w)(()=>i.getMetadata()),Ue.iC),delete:()=>(0,Ni.D)(i.delete()),child:t=>qu(i.child(t)),updateMetadata:t=>(0,Ni.D)(i.updateMetadata(t)),put:(t,e)=>g0(i.put(t,e)),putString:(t,e,s)=>g0(i.putString(t,e,s)),list:t=>(0,Ni.D)(i.list(t)),listAll:()=>(0,Ni.D)(i.listAll())}}const iS=new o.OlP("angularfire2.storageBucket"),nS=new o.OlP("angularfire2.storage.maxUploadRetryTime"),rS=new o.OlP("angularfire2.storage.maxOperationRetryTime"),sS=new o.OlP("angularfire2.storage.use-emulator");let m0=(()=>{class i{constructor(e,s,A,U,st,gt,vt,Mt,Dt,Ft){const Wt=(0,li.on)(e,st,s);this.storage=(0,li.cc)(`${Wt.name}.storage.${A}`,"AngularFireStorage",Wt.name,()=>{const Kt=st.runOutsideAngular(()=>Wt.storage(A||void 0)),Jt=Dt;return Jt&&Kt.useEmulator(...Jt),vt&&Kt.setMaxUploadRetryTime(vt),Mt&&Kt.setMaxOperationRetryTime(Mt),Kt},[vt,Mt])}ref(e){return qu(this.storage.ref(e))}refFromURL(e){return qu(this.storage.refFromURL(e))}upload(e,s,A){return qu(this.storage.ref(e)).put(s,A)}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(li.Dh),o.LFG(li.xv,8),o.LFG(iS,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Ue.HU),o.LFG(nS,8),o.LFG(rS,8),o.LFG(sS,8),o.LFG(Zu,8))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),oS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({}),i})(),aS=(()=>{class i{constructor(){Pg.Z.registerVersion("angularfire",Ue.q4.full,"gcs-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[m0],imports:[oS]}),i})();var lS=Xt(2210),hS=Xt(9947),cS=Xt(8889);function Ig(){return(0,hS.e)((i,t)=>{let e,s=!1;i.subscribe(new cS.Q(t,A=>{const U=e;e=A,s&&t.next([U,A]),s=!0}))})}var ve,Og=Xt(9495),dS=(Xt(8694),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}),_s={},Dg=Dg||{},ke=dS||self;function $u(){}function Lg(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function Ec(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var Rg="closure_uid_"+(1e9*Math.random()>>>0),pS=0;function fS(i,t,e){return i.call.apply(i.bind,arguments)}function gS(i,t,e){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,s),i.apply(t,A)}}return function(){return i.apply(t,arguments)}}function Ui(i,t,e){return(Ui=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fS:gS).apply(null,arguments)}function Ku(i,t){var e=Array.prototype.slice.call(arguments,1);return function(){var s=e.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Hi(i,t){function e(){}e.prototype=t.prototype,i.Z=t.prototype,i.prototype=new e,i.prototype.constructor=i,i.Vb=function(s,A,U){for(var st=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)st[gt-2]=arguments[gt];return t.prototype[A].apply(s,st)}}function xo(){this.s=this.s,this.o=this.o}var yS={};xo.prototype.s=!1,xo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Rg)&&i[Rg]||(i[Rg]=++pS)}(this);delete yS[i]}},xo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const y0=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(let e=0;e<i.length;e++)if(e in i&&i[e]===t)return e;return-1},v0=Array.prototype.forEach?function(i,t,e){Array.prototype.forEach.call(i,t,e)}:function(i,t,e){const s=i.length,A="string"==typeof i?i.split(""):i;for(let U=0;U<s;U++)U in A&&t.call(e,A[U],U,i)};function x0(i){return Array.prototype.concat.apply([],arguments)}function Ng(i){const t=i.length;if(0<t){const e=Array(t);for(let s=0;s<t;s++)e[s]=i[s];return e}return[]}function Qu(i){return/^[\s\xa0]*$/.test(i)}var an,b0=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function on(i,t){return-1!=i.indexOf(t)}function jg(i,t){return i<t?-1:i>t?1:0}t:{var _0=ke.navigator;if(_0){var w0=_0.userAgent;if(w0){an=w0;break t}}an=""}function Bg(i,t,e){for(const s in i)t.call(e,i[s],s,i)}function S0(i){const t={};for(const e in i)t[e]=i[e];return t}var C0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T0(i,t){let e,s;for(let A=1;A<arguments.length;A++){for(e in s=arguments[A],s)i[e]=s[e];for(let U=0;U<C0.length;U++)e=C0[U],Object.prototype.hasOwnProperty.call(s,e)&&(i[e]=s[e])}}function Fg(i){return Fg[" "](i),i}Fg[" "]=$u;var Ju,i,bS=on(an,"Opera"),Kl=on(an,"Trident")||on(an,"MSIE"),M0=on(an,"Edge"),zg=M0||Kl,k0=on(an,"Gecko")&&!(on(an.toLowerCase(),"webkit")&&!on(an,"Edge"))&&!(on(an,"Trident")||on(an,"MSIE"))&&!on(an,"Edge"),_S=on(an.toLowerCase(),"webkit")&&!on(an,"Edge");function A0(){var i=ke.document;return i?i.documentMode:void 0}t:{var Gg="",Ug=(i=an,k0?/rv:([^\);]+)(\)|;)/.exec(i):M0?/Edge\/([\d\.]+)/.exec(i):Kl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):_S?/WebKit\/(\S+)/.exec(i):bS?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ug&&(Gg=Ug?Ug[1]:""),Kl){var Hg=A0();if(null!=Hg&&Hg>parseFloat(Gg)){Ju=String(Hg);break t}}Ju=Gg}var wS={};function SS(){return t=wS,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let i=0;const t=b0(String(Ju)).split("."),e=b0("9").split("."),s=Math.max(t.length,e.length);for(let st=0;0==i&&st<s;st++){var A=t[st]||"",U=e[st]||"";do{if(A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],U=/(\d*)(\D*)(.*)/.exec(U)||["","","",""],0==A[0].length&&0==U[0].length)break;i=jg(0==A[1].length?0:parseInt(A[1],10),0==U[1].length?0:parseInt(U[1],10))||jg(0==A[2].length,0==U[2].length)||jg(A[2],U[2]),A=A[3],U=U[3]}while(0==i)}return 0<=i}();var t}var CS=ke.document&&Kl&&(A0()||parseInt(Ju,10))||void 0,TS=function(){if(!ke.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ke.addEventListener("test",$u,t),ke.removeEventListener("test",$u,t)}catch(e){}return i}();function qi(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}function Pc(i,t){if(qi.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(k0){t:{try{Fg(t.nodeName);var A=!0;break t}catch(U){}A=!1}A||(t=null)}}else"mouseover"==e?t=i.fromElement:"mouseout"==e&&(t=i.toElement);this.relatedTarget=t,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:MS[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Pc.Z.h.call(this)}}qi.prototype.h=function(){this.defaultPrevented=!0},Hi(Pc,qi);var MS={2:"touch",3:"pen",4:"mouse"};Pc.prototype.h=function(){Pc.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ic="closure_listenable_"+(1e6*Math.random()|0),kS=0;function AS(i,t,e,s,A){this.listener=i,this.proxy=null,this.src=t,this.type=e,this.capture=!!s,this.ia=A,this.key=++kS,this.ca=this.fa=!1}function tp(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function ep(i){this.src=i,this.g={},this.h=0}function Vg(i,t){var e=t.type;if(e in i.g){var U,s=i.g[e],A=y0(s,t);(U=0<=A)&&Array.prototype.splice.call(s,A,1),U&&(tp(t),0==i.g[e].length&&(delete i.g[e],i.h--))}}function Yg(i,t,e,s){for(var A=0;A<i.length;++A){var U=i[A];if(!U.ca&&U.listener==t&&U.capture==!!e&&U.ia==s)return A}return-1}ep.prototype.add=function(i,t,e,s,A){var U=i.toString();(i=this.g[U])||(i=this.g[U]=[],this.h++);var st=Yg(i,t,s,A);return-1<st?(t=i[st],e||(t.fa=!1)):((t=new AS(t,this.src,U,!!s,A)).fa=e,i.push(t)),t};var Xg="closure_lm_"+(1e6*Math.random()|0),Zg={};function P0(i,t,e,s,A){if(s&&s.once)return O0(i,t,e,s,A);if(Array.isArray(t)){for(var U=0;U<t.length;U++)P0(i,t[U],e,s,A);return null}return e=Qg(e),i&&i[Ic]?i.N(t,e,Ec(s)?!!s.capture:!!s,A):I0(i,t,e,!1,s,A)}function I0(i,t,e,s,A,U){if(!t)throw Error("Invalid event type");var st=Ec(A)?!!A.capture:!!A,gt=$g(i);if(gt||(i[Xg]=gt=new ep(i)),(e=gt.add(t,e,s,st,U)).proxy)return e;if(s=function(){var t=PS;return function i(e){return t.call(i.src,i.listener,e)}}(),e.proxy=s,s.src=i,s.listener=e,i.addEventListener)TS||(A=st),void 0===A&&(A=!1),i.addEventListener(t.toString(),s,A);else if(i.attachEvent)i.attachEvent(L0(t.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return e}function O0(i,t,e,s,A){if(Array.isArray(t)){for(var U=0;U<t.length;U++)O0(i,t[U],e,s,A);return null}return e=Qg(e),i&&i[Ic]?i.O(t,e,Ec(s)?!!s.capture:!!s,A):I0(i,t,e,!0,s,A)}function D0(i,t,e,s,A){if(Array.isArray(t))for(var U=0;U<t.length;U++)D0(i,t[U],e,s,A);else s=Ec(s)?!!s.capture:!!s,e=Qg(e),i&&i[Ic]?(i=i.i,(t=String(t).toString())in i.g&&-1<(e=Yg(U=i.g[t],e,s,A))&&(tp(U[e]),Array.prototype.splice.call(U,e,1),0==U.length&&(delete i.g[t],i.h--))):i&&(i=$g(i))&&(t=i.g[t.toString()],i=-1,t&&(i=Yg(t,e,s,A)),(e=-1<i?t[i]:null)&&qg(e))}function qg(i){if("number"!=typeof i&&i&&!i.ca){var t=i.src;if(t&&t[Ic])Vg(t.i,i);else{var e=i.type,s=i.proxy;t.removeEventListener?t.removeEventListener(e,s,i.capture):t.detachEvent?t.detachEvent(L0(e),s):t.addListener&&t.removeListener&&t.removeListener(s),(e=$g(t))?(Vg(e,i),0==e.h&&(e.src=null,t[Xg]=null)):tp(i)}}}function L0(i){return i in Zg?Zg[i]:Zg[i]="on"+i}function PS(i,t){if(i.ca)i=!0;else{t=new Pc(t,this);var e=i.listener,s=i.ia||i.src;i.fa&&qg(i),i=e.call(s,t)}return i}function $g(i){return(i=i[Xg])instanceof ep?i:null}var Kg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qg(i){return"function"==typeof i?i:(i[Kg]||(i[Kg]=function(t){return i.handleEvent(t)}),i[Kg])}function Mi(){xo.call(this),this.i=new ep(this),this.P=this,this.I=null}function Wi(i,t){var e,s=i.I;if(s)for(e=[];s;s=s.I)e.push(s);if(i=i.P,s=t.type||t,"string"==typeof t)t=new qi(t,i);else if(t instanceof qi)t.target=t.target||i;else{var A=t;T0(t=new qi(s,i),A)}if(A=!0,e)for(var U=e.length-1;0<=U;U--){var st=t.g=e[U];A=ip(st,s,!0,t)&&A}if(A=ip(st=t.g=i,s,!0,t)&&A,A=ip(st,s,!1,t)&&A,e)for(U=0;U<e.length;U++)A=ip(st=t.g=e[U],s,!1,t)&&A}function ip(i,t,e,s){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var A=!0,U=0;U<t.length;++U){var st=t[U];if(st&&!st.ca&&st.capture==e){var gt=st.listener,vt=st.ia||st.src;st.fa&&Vg(i.i,st),A=!1!==gt.call(vt,s)&&A}}return A&&!s.defaultPrevented}Hi(Mi,xo),Mi.prototype[Ic]=!0,Mi.prototype.removeEventListener=function(i,t,e,s){D0(this,i,t,e,s)},Mi.prototype.M=function(){if(Mi.Z.M.call(this),this.i){var t,i=this.i;for(t in i.g){for(var e=i.g[t],s=0;s<e.length;s++)tp(e[s]);delete i.g[t],i.h--}}this.I=null},Mi.prototype.N=function(i,t,e,s){return this.i.add(String(i),t,!1,e,s)},Mi.prototype.O=function(i,t,e,s){return this.i.add(String(i),t,!0,e,s)};var Jg=ke.JSON.stringify;function IS(){var i=N0;let t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var em,R0=new class{constructor(i,t){this.i=i,this.j=t,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new DS,i=>i.reset());class DS{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function LS(i){ke.setTimeout(()=>{throw i},0)}function tm(i,t){em||function(){var i=ke.Promise.resolve(void 0);em=function(){i.then(NS)}}(),im||(em(),im=!0),N0.add(i,t)}var im=!1,N0=new class{constructor(){this.h=this.g=null}add(t,e){const s=R0.get();s.set(t,e),this.h?this.h.next=s:this.g=s,this.h=s}};function NS(){for(var i;i=IS();){try{i.h.call(i.g)}catch(e){LS(e)}var t=R0;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}im=!1}function np(i,t){Mi.call(this),this.h=i||1,this.g=t||ke,this.j=Ui(this.kb,this),this.l=Date.now()}function nm(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function rm(i,t,e){if("function"==typeof i)e&&(i=Ui(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ui(i.handleEvent,i)}return 2147483647<Number(t)?-1:ke.setTimeout(i,t||0)}function j0(i){i.g=rm(()=>{i.g=null,i.i&&(i.i=!1,j0(i))},i.j);const t=i.h;i.h=null,i.m.apply(null,t)}Hi(np,Mi),(ve=np.prototype).da=!1,ve.S=null,ve.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Wi(this,"tick"),this.da&&(nm(this),this.start()))}},ve.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.M=function(){np.Z.M.call(this),nm(this),delete this.g};class jS extends xo{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:j0(this)}M(){super.M(),this.g&&(ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oc(i){xo.call(this),this.h=i,this.g={}}Hi(Oc,xo);var B0=[];function F0(i,t,e,s){Array.isArray(e)||(e&&(B0[0]=e.toString()),e=B0);for(var A=0;A<e.length;A++){var U=P0(t,e[A],s||i.handleEvent,!1,i.h||i);if(!U)break;i.g[U.key]=U}}function z0(i){Bg(i.g,function(t,e){this.g.hasOwnProperty(e)&&qg(t)},i),i.g={}}function rp(){this.g=!0}function Ql(i,t,e,s){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(i,t){if(!i.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var s=e[i];if(!(2>s.length)){var A=s[1];if(Array.isArray(A)&&!(1>A.length)){var U=A[0];if("noop"!=U&&"stop"!=U&&"close"!=U)for(var st=1;st<A.length;st++)A[st]=""}}}return Jg(e)}catch(gt){return t}}(i,e)+(s?" "+s:"")})}Oc.prototype.M=function(){Oc.Z.M.call(this),z0(this)},Oc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rp.prototype.Aa=function(){this.g=!1},rp.prototype.info=function(){};var xa={},G0=null;function sp(){return G0=G0||new Mi}function U0(i){qi.call(this,xa.Ma,i)}function Dc(i){const t=sp();Wi(t,new U0(t,i))}function H0(i,t){qi.call(this,xa.STAT_EVENT,i),this.stat=t}function ln(i){const t=sp();Wi(t,new H0(t,i))}function W0(i,t){qi.call(this,xa.Na,i),this.size=t}function Lc(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ke.setTimeout(function(){i()},t)}xa.Ma="serverreachability",Hi(U0,qi),xa.STAT_EVENT="statevent",Hi(H0,qi),xa.Na="timingevent",Hi(W0,qi);var op={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},V0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sm(){}function X0(){}sm.prototype.h=null;var lm,Rc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function om(){qi.call(this,"d")}function am(){qi.call(this,"c")}function ap(){}function Nc(i,t,e,s){this.l=i,this.j=t,this.m=e,this.X=s||1,this.V=new Oc(this),this.P=US,this.W=new np(i=zg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Z0}function Z0(){this.i=null,this.g="",this.h=!1}Hi(om,qi),Hi(am,qi),Hi(ap,sm),ap.prototype.g=function(){return new XMLHttpRequest},ap.prototype.i=function(){return{}},lm=new ap;var US=45e3,hm={},lp={};function cm(i,t,e){i.K=1,i.v=pp(ws(t)),i.s=e,i.U=!0,q0(i,null)}function q0(i,t){i.F=Date.now(),jc(i),i.A=ws(i.v);var e=i.A,s=i.X;Array.isArray(s)||(s=[String(s)]),rx(e.h,"t",s),i.C=0,e=i.l.H,i.h=new Z0,i.g=kx(i.l,e?t:null,!i.s),0<i.O&&(i.L=new jS(Ui(i.Ia,i,i.g),i.O)),F0(i.V,i.g,"readystatechange",i.gb),t=i.H?S0(i.H):{},i.s?(i.u||(i.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,t)):(i.u="GET",i.g.ea(i.A,i.u,null,t)),Dc(1),function(i,t,e,s,A,U){i.info(function(){if(i.g)if(U)for(var st="",gt=U.split("&"),vt=0;vt<gt.length;vt++){var Mt=gt[vt].split("=");if(1<Mt.length){var Dt=Mt[0];Mt=Mt[1];var Ft=Dt.split("_");st=2<=Ft.length&&"type"==Ft[1]?st+(Dt+"=")+Mt+"&":st+(Dt+"=redacted&")}}else st=null;else st=U;return"XMLHTTP REQ ("+s+") [attempt "+A+"]: "+t+"\n"+e+"\n"+st})}(i.j,i.u,i.A,i.m,i.X,i.s)}function $0(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function K0(i,t,e){let A,s=!0;for(;!i.I&&i.C<e.length;){if(A=HS(i,e),A==lp){4==t&&(i.o=4,ln(14),s=!1),Ql(i.j,i.m,null,"[Incomplete Response]");break}if(A==hm){i.o=4,ln(15),Ql(i.j,i.m,e,"[Invalid Chunk]"),s=!1;break}Ql(i.j,i.m,A,null),dm(i,A)}$0(i)&&A!=lp&&A!=hm&&(i.h.g="",i.C=0),4!=t||0!=e.length||i.h.h||(i.o=1,ln(16),s=!1),i.i=i.i&&s,s?0<e.length&&!i.aa&&(i.aa=!0,(t=i.l).g==i&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),wm(t),t.L=!0,ln(11))):(Ql(i.j,i.m,e,"[Invalid Chunked Response]"),ba(i),Bc(i))}function HS(i,t){var e=i.C,s=t.indexOf("\n",e);return-1==s?lp:(e=Number(t.substring(e,s)),isNaN(e)?hm:(s+=1)+e>t.length?lp:(t=t.substr(s,e),i.C=s+e,t))}function jc(i){i.Y=Date.now()+i.P,Q0(i,i.P)}function Q0(i,t){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Lc(Ui(i.eb,i),t)}function hp(i){i.B&&(ke.clearTimeout(i.B),i.B=null)}function Bc(i){0==i.l.G||i.I||Sx(i.l,i)}function ba(i){hp(i);var t=i.L;t&&"function"==typeof t.na&&t.na(),i.L=null,nm(i.W),z0(i.V),i.g&&(t=i.g,i.g=null,t.abort(),t.na())}function dm(i,t){try{var e=i.l;if(0!=e.G&&(e.g==i||fm(e.i,i)))if(e.I=i.N,!i.J&&fm(e.i,i)&&3==e.G){try{var s=e.Ca.g.parse(t)}catch(Mt){s=null}if(Array.isArray(s)&&3==s.length){var A=s;if(0==A[0])t:if(e.u)e.ta=A[1],0<e.ta-e.U&&37500>A[2]&&e.N&&0==e.A&&!e.v&&(e.v=Lc(Ui(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<i.F))break t;xp(e),yp(e)}_m(e),ln(18)}if(1>=ax(e.i)&&e.ka){try{e.ka()}catch(Mt){}e.ka=void 0}}else Sa(e,11)}else if((i.J||e.g==i)&&xp(e),!Qu(t))for(A=e.Ca.g.parse(t),t=0;t<A.length;t++){let Mt=A[t];if(e.U=Mt[0],Mt=Mt[1],2==e.G)if("c"==Mt[0]){e.J=Mt[1],e.la=Mt[2];const Dt=Mt[3];null!=Dt&&(e.ma=Dt,e.h.info("VER="+e.ma));const Ft=Mt[4];null!=Ft&&(e.za=Ft,e.h.info("SVER="+e.za));const Wt=Mt[5];null!=Wt&&"number"==typeof Wt&&0<Wt&&(e.K=s=1.5*Wt,e.h.info("backChannelRequestTimeoutMs_="+s)),s=e;const Kt=i.g;if(Kt){const Jt=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jt){var U=s.i;!U.g&&(on(Jt,"spdy")||on(Jt,"quic")||on(Jt,"h2"))&&(U.j=U.l,U.g=new Set,U.h&&(gm(U,U.h),U.h=null))}if(s.D){const he=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;he&&(s.sa=he,Ze(s.F,s.D,he))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-i.F,e.h.info("Handshake RTT: "+e.O+"ms"));var st=i;if((s=e).oa=Mx(s,s.H?s.la:null,s.W),st.J){lx(s.i,st);var gt=st,vt=s.K;vt&&gt.setTimeout(vt),gt.B&&(hp(gt),jc(gt)),s.g=st}else _x(s);0<e.l.length&&vp(e)}else"stop"!=Mt[0]&&"close"!=Mt[0]||Sa(e,7);else 3==e.G&&("stop"==Mt[0]||"close"==Mt[0]?"stop"==Mt[0]?Sa(e,7):xm(e):"noop"!=Mt[0]&&e.j&&e.j.wa(Mt),e.A=0)}Dc(4)}catch(Mt){}}function um(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(Lg(i)||"string"==typeof i)v0(i,t,void 0);else{if(i.T&&"function"==typeof i.T)var e=i.T();else if(i.R&&"function"==typeof i.R)e=void 0;else if(Lg(i)||"string"==typeof i){e=[];for(var s=i.length,A=0;A<s;A++)e.push(A)}else for(A in e=[],s=0,i)e[s++]=A;s=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Lg(i)){for(var t=[],e=i.length,s=0;s<e;s++)t.push(i[s]);return t}for(s in t=[],e=0,i)t[e++]=i[s];return t}(i),A=s.length;for(var U=0;U<A;U++)t.call(void 0,s[U],e&&e[U],i)}}function Jl(i,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var s=0;s<e;s+=2)this.set(arguments[s],arguments[s+1])}else if(i)if(i instanceof Jl)for(e=i.T(),s=0;s<e.length;s++)this.set(e[s],i.get(e[s]));else for(s in i)this.set(s,i[s])}function pm(i){if(i.i!=i.g.length){for(var t=0,e=0;t<i.g.length;){var s=i.g[t];_a(i.h,s)&&(i.g[e++]=s),t++}i.g.length=e}if(i.i!=i.g.length){var A={};for(e=t=0;t<i.g.length;)_a(A,s=i.g[t])||(i.g[e++]=s,A[s]=1),t++;i.g.length=e}}function _a(i,t){return Object.prototype.hasOwnProperty.call(i,t)}(ve=Nc.prototype).setTimeout=function(i){this.P=i},ve.gb=function(i){i=i.target;const t=this.L;t&&3==Ss(i)?t.l():this.Ia(i)},ve.Ia=function(i){try{if(i==this.g)t:{const Dt=Ss(this.g);var t=this.g.Da();const Ft=this.g.ba();if(!(3>Dt)&&(3!=Dt||zg||this.g&&(this.h.h||this.g.ga()||mx(this.g)))){this.I||4!=Dt||7==t||Dc(8==t||0>=Ft?3:2),hp(this);var e=this.g.ba();this.N=e;e:if($0(this)){var s=mx(this.g);i="";var A=s.length,U=4==Ss(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ba(this),Bc(this);var st="";break e}this.h.i=new ke.TextDecoder}for(t=0;t<A;t++)this.h.h=!0,i+=this.h.i.decode(s[t],{stream:U&&t==A-1});s.splice(0,A),this.h.g+=i,this.C=0,st=this.h.g}else st=this.g.ga();if(this.i=200==e,function(i,t,e,s,A,U,st){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+A+"]: "+t+"\n"+e+"\n"+U+" "+st})}(this.j,this.u,this.A,this.m,this.X,Dt,e),this.i){if(this.$&&!this.J){e:{if(this.g){var gt,vt=this.g;if((gt=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qu(gt)){var Mt=gt;break e}}Mt=null}if(!(e=Mt)){this.i=!1,this.o=3,ln(12),ba(this),Bc(this);break t}Ql(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,dm(this,e)}this.U?(K0(this,Dt,st),zg&&this.i&&3==Dt&&(F0(this.V,this.W,"tick",this.fb),this.W.start())):(Ql(this.j,this.m,st,null),dm(this,st)),4==Dt&&ba(this),this.i&&!this.I&&(4==Dt?Sx(this.l,this):(this.i=!1,jc(this)))}else 400==e&&0<st.indexOf("Unknown SID")?(this.o=3,ln(12)):(this.o=0,ln(13)),ba(this),Bc(this)}}}catch(Dt){}},ve.fb=function(){if(this.g){var i=Ss(this.g),t=this.g.ga();this.C<t.length&&(hp(this),K0(this,i,t),this.i&&4!=i&&jc(this))}},ve.cancel=function(){this.I=!0,ba(this)},ve.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Dc(3),ln(17)),ba(this),this.o=2,Bc(this)):Q0(this,this.Y-i)},(ve=Jl.prototype).R=function(){pm(this);for(var i=[],t=0;t<this.g.length;t++)i.push(this.h[this.g[t]]);return i},ve.T=function(){return pm(this),this.g.concat()},ve.get=function(i,t){return _a(this.h,i)?this.h[i]:t},ve.set=function(i,t){_a(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=t},ve.forEach=function(i,t){for(var e=this.T(),s=0;s<e.length;s++){var A=e[s],U=this.get(A);i.call(t,U,A,this)}};var J0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wa(i,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof wa){this.g=void 0!==t?t:i.g,cp(this,i.j),this.s=i.s,dp(this,i.i),up(this,i.m),this.l=i.l,t=i.h;var e=new Gc;e.i=t.i,t.g&&(e.g=new Jl(t.g),e.h=t.h),tx(this,e),this.o=i.o}else i&&(e=String(i).match(J0))?(this.g=!!t,cp(this,e[1]||"",!0),this.s=Fc(e[2]||""),dp(this,e[3]||"",!0),up(this,e[4]),this.l=Fc(e[5]||"",!0),tx(this,e[6]||"",!0),this.o=Fc(e[7]||"")):(this.g=!!t,this.h=new Gc(null,this.g))}function ws(i){return new wa(i)}function cp(i,t,e){i.j=e?Fc(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function dp(i,t,e){i.i=e?Fc(t,!0):t}function up(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function tx(i,t,e){t instanceof Gc?(i.h=t,function(i,t){t&&!i.j&&(bo(i),i.i=null,i.g.forEach(function(e,s){var A=s.toLowerCase();s!=A&&(ix(this,s),rx(this,A,e))},i)),i.j=t}(i.h,i.g)):(e||(t=zc(t,KS)),i.h=new Gc(t,i.g))}function Ze(i,t,e){i.h.set(t,e)}function pp(i){return Ze(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Fc(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function zc(i,t,e){return"string"==typeof i?(i=encodeURI(i).replace(t,ZS),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ZS(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}wa.prototype.toString=function(){var i=[],t=this.j;t&&i.push(zc(t,ex,!0),":");var e=this.i;return(e||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(zc(t,ex,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&i.push("/"),i.push(zc(e,"/"==e.charAt(0)?$S:qS,!0))),(e=this.h.toString())&&i.push("?",e),(e=this.o)&&i.push("#",zc(e,QS)),i.join("")};var ex=/[#\/\?@]/g,qS=/[#\?:]/g,$S=/[#\?]/g,KS=/[#\?@]/g,QS=/#/g;function Gc(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function bo(i){i.g||(i.g=new Jl,i.h=0,i.i&&function(i,t){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var s=i[e].indexOf("="),A=null;if(0<=s){var U=i[e].substring(0,s);A=i[e].substring(s+1)}else U=i[e];t(U,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}(i.i,function(t,e){i.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function ix(i,t){bo(i),t=th(i,t),_a(i.g.h,t)&&(i.i=null,i.h-=i.g.get(t).length,_a((i=i.g).h,t)&&(delete i.h[t],i.i--,i.g.length>2*i.i&&pm(i)))}function nx(i,t){return bo(i),t=th(i,t),_a(i.g.h,t)}function rx(i,t,e){ix(i,t),0<e.length&&(i.i=null,i.g.set(th(i,t),Ng(e)),i.h+=e.length)}function th(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}function sx(i){this.l=i||eC,i=ke.PerformanceNavigationTiming?0<(i=ke.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ke.g&&ke.g.Ea&&ke.g.Ea()&&ke.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ve=Gc.prototype).add=function(i,t){bo(this),this.i=null,i=th(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(t),this.h+=1,this},ve.forEach=function(i,t){bo(this),this.g.forEach(function(e,s){v0(e,function(A){i.call(t,A,s,this)},this)},this)},ve.T=function(){bo(this);for(var i=this.g.R(),t=this.g.T(),e=[],s=0;s<t.length;s++)for(var A=i[s],U=0;U<A.length;U++)e.push(t[s]);return e},ve.R=function(i){bo(this);var t=[];if("string"==typeof i)nx(this,i)&&(t=x0(t,this.g.get(th(this,i))));else{i=this.g.R();for(var e=0;e<i.length;e++)t=x0(t,i[e])}return t},ve.set=function(i,t){return bo(this),this.i=null,nx(this,i=th(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},ve.get=function(i,t){return i&&0<(i=this.R(i)).length?String(i[0]):t},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],t=this.g.T(),e=0;e<t.length;e++){var s=t[e],A=encodeURIComponent(String(s));s=this.R(s);for(var U=0;U<s.length;U++){var st=A;""!==s[U]&&(st+="="+encodeURIComponent(String(s[U]))),i.push(st)}}return this.i=i.join("&")};var eC=10;function ox(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ax(i){return i.h?1:i.g?i.g.size:0}function fm(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function gm(i,t){i.g?i.g.add(t):i.h=t}function lx(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function hx(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let t=i.i;for(const e of i.g.values())t=t.concat(e.D);return t}return Ng(i.i)}function mm(){}function iC(){this.g=new mm}function nC(i,t,e){const s=e||"";try{um(i,function(A,U){let st=A;Ec(A)&&(st=Jg(A)),t.push(s+U+"="+encodeURIComponent(st))})}catch(A){throw t.push(s+"type="+encodeURIComponent("_badmap")),A}}function fp(i,t,e,s,A){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,A(s)}catch(U){}}function Uc(i){this.l=i.$b||null,this.j=i.ib||!1}function gp(i,t){Mi.call(this),this.D=i,this.u=t,this.m=void 0,this.readyState=ym,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sx.prototype.cancel=function(){if(this.i=hx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},mm.prototype.stringify=function(i){return ke.JSON.stringify(i,void 0)},mm.prototype.parse=function(i){return ke.JSON.parse(i,void 0)},Hi(Uc,sm),Uc.prototype.g=function(){return new gp(this.l,this.j)},Uc.prototype.i=function(i){return function(){return i}}({}),Hi(gp,Mi);var ym=0;function cx(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Hc(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Wc(i)}function Wc(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ve=gp.prototype).open=function(i,t){if(this.readyState!=ym)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,Wc(this)},ve.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.D||ke).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Hc(this)),this.readyState=ym},ve.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Wc(this)),this.g&&(this.readyState=3,Wc(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ke.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cx(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ve.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?Hc(this):Wc(this),3==this.readyState&&cx(this)}},ve.Ua=function(i){this.g&&(this.response=this.responseText=i,Hc(this))},ve.Ta=function(i){this.g&&(this.response=i,Hc(this))},ve.ha=function(){this.g&&Hc(this)},ve.setRequestHeader=function(i,t){this.v.append(i,t)},ve.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],t=this.h.entries();for(var e=t.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=t.next();return i.join("\r\n")},Object.defineProperty(gp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var sC=ke.JSON.parse;function hi(i){Mi.call(this),this.headers=new Jl,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dx,this.K=this.L=!1}Hi(hi,Mi);var dx="",oC=/^https?$/i,aC=["POST","PUT"];function hC(i){return"content-type"==i.toLowerCase()}function ux(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,px(i),mp(i)}function px(i){i.D||(i.D=!0,Wi(i,"complete"),Wi(i,"error"))}function fx(i){if(i.h&&void 0!==Dg&&(!i.C[1]||4!=Ss(i)||2!=i.ba()))if(i.v&&4==Ss(i))rm(i.Fa,0,i);else if(Wi(i,"readystatechange"),4==Ss(i)){i.h=!1;try{const gt=i.ba();t:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var e;if(!(e=t)){var s;if(s=0===gt){var A=String(i.H).match(J0)[1]||null;if(!A&&ke.self&&ke.self.location){var U=ke.self.location.protocol;A=U.substr(0,U.length-1)}s=!oC.test(A?A.toLowerCase():"")}e=s}if(e)Wi(i,"complete"),Wi(i,"success");else{i.m=6;try{var st=2<Ss(i)?i.g.statusText:""}catch(vt){st=""}i.j=st+" ["+i.ba()+"]",px(i)}}finally{mp(i)}}}function mp(i,t){if(i.g){gx(i);const e=i.g,s=i.C[0]?$u:null;i.g=null,i.C=null,t||Wi(i,"ready");try{e.onreadystatechange=s}catch(A){}}}function gx(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ke.clearTimeout(i.A),i.A=null)}function Ss(i){return i.g?i.g.readyState:0}function mx(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case dx:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(t){return null}}function vm(i,t,e){t:{for(s in e){var s=!1;break t}s=!0}s||(e=function(i){let t="";return Bg(i,function(e,s){t+=s,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):Ze(i,t,e))}function Vc(i,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||t}function yx(i){this.za=0,this.l=[],this.h=new rp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vc("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vc("baseRetryDelayMs",5e3,i),this.$a=Vc("retryDelaySeedMs",1e4,i),this.Ya=Vc("forwardChannelMaxRetries",2,i),this.ra=Vc("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new sx(i&&i.concurrentRequestLimit),this.Ca=new iC,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function xm(i){if(vx(i),3==i.G){var t=i.V++,e=ws(i.F);Ze(e,"SID",i.J),Ze(e,"RID",t),Ze(e,"TYPE","terminate"),Yc(i,e),(t=new Nc(i,i.h,t,void 0)).K=2,t.v=pp(ws(e)),e=!1,ke.navigator&&ke.navigator.sendBeacon&&(e=ke.navigator.sendBeacon(t.v.toString(),"")),!e&&ke.Image&&((new Image).src=t.v,e=!0),e||(t.g=kx(t.l,null),t.g.ea(t.v)),t.F=Date.now(),jc(t)}Tx(i)}function yp(i){i.g&&(wm(i),i.g.cancel(),i.g=null)}function vx(i){yp(i),i.u&&(ke.clearTimeout(i.u),i.u=null),xp(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ke.clearTimeout(i.m),i.m=null)}function bm(i,t){i.l.push(new class{constructor(i,t){this.h=i,this.g=t}}(i.Za++,t)),3==i.G&&vp(i)}function vp(i){ox(i.i)||i.m||(i.m=!0,tm(i.Ha,i),i.C=0)}function xx(i,t){var e;e=t?t.m:i.V++;const s=ws(i.F);Ze(s,"SID",i.J),Ze(s,"RID",e),Ze(s,"AID",i.U),Yc(i,s),i.o&&i.s&&vm(s,i.o,i.s),e=new Nc(i,i.h,e,i.C+1),null===i.o&&(e.H=i.s),t&&(i.l=t.D.concat(i.l)),t=bx(i,e,1e3),e.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),gm(i.i,e),cm(e,s,t)}function Yc(i,t){i.j&&um({},function(e,s){Ze(t,s,e)})}function bx(i,t,e){e=Math.min(i.l.length,e);var s=i.j?Ui(i.j.Oa,i.j,i):null;t:{var A=i.l;let U=-1;for(;;){const st=["count="+e];-1==U?0<e?(U=A[0].h,st.push("ofs="+U)):U=0:st.push("ofs="+U);let gt=!0;for(let vt=0;vt<e;vt++){let Mt=A[vt].h;const Dt=A[vt].g;if(Mt-=U,0>Mt)U=Math.max(0,A[vt].h-100),gt=!1;else try{nC(Dt,st,"req"+Mt+"_")}catch(Ft){s&&s(Dt)}}if(gt){s=st.join("&");break t}}}return i=i.l.splice(0,e),t.D=i,s}function _x(i){i.g||i.u||(i.Y=1,tm(i.Ga,i),i.A=0)}function _m(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Lc(Ui(i.Ga,i),Cx(i,i.A)),i.A++,0))}function wm(i){null!=i.B&&(ke.clearTimeout(i.B),i.B=null)}function wx(i){i.g=new Nc(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var t=ws(i.oa);Ze(t,"RID","rpc"),Ze(t,"SID",i.J),Ze(t,"CI",i.N?"0":"1"),Ze(t,"AID",i.U),Yc(i,t),Ze(t,"TYPE","xmlhttp"),i.o&&i.s&&vm(t,i.o,i.s),i.K&&i.g.setTimeout(i.K);var e=i.g;i=i.la,e.K=1,e.v=pp(ws(t)),e.s=null,e.U=!0,q0(e,i)}function xp(i){null!=i.v&&(ke.clearTimeout(i.v),i.v=null)}function Sx(i,t){var e=null;if(i.g==t){xp(i),wm(i),i.g=null;var s=2}else{if(!fm(i.i,t))return;e=t.D,lx(i.i,t),s=1}if(i.I=t.N,0!=i.G)if(t.i)if(1==s){e=t.s?t.s.length:0,t=Date.now()-t.F;var A=i.C;Wi(s=sp(),new W0(s,e,t,A)),vp(i)}else _x(i);else if(3==(A=t.o)||0==A&&0<i.I||!(1==s&&function(i,t){return!(ax(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=t.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Lc(Ui(i.Ha,i,t),Cx(i,i.C)),i.C++,0)))}(i,t)||2==s&&_m(i)))switch(e&&0<e.length&&(t=i.i,t.i=t.i.concat(e)),A){case 1:Sa(i,5);break;case 4:Sa(i,10);break;case 3:Sa(i,6);break;default:Sa(i,2)}}function Cx(i,t){let e=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(e*=2),e*t}function Sa(i,t){if(i.h.info("Error code "+t),2==t){var e=null;i.j&&(e=null);var s=Ui(i.jb,i);e||(e=new wa("//www.google.com/images/cleardot.gif"),ke.location&&"http"==ke.location.protocol||cp(e,"https"),pp(e)),function(i,t){const e=new rp;if(ke.Image){const s=new Image;s.onload=Ku(fp,e,s,"TestLoadImage: loaded",!0,t),s.onerror=Ku(fp,e,s,"TestLoadImage: error",!1,t),s.onabort=Ku(fp,e,s,"TestLoadImage: abort",!1,t),s.ontimeout=Ku(fp,e,s,"TestLoadImage: timeout",!1,t),ke.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else t(!1)}(e.toString(),s)}else ln(2);i.G=0,i.j&&i.j.va(t),Tx(i),vx(i)}function Tx(i){i.G=0,i.I=-1,i.j&&((0!=hx(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Ng(i.l),i.l.length=0),i.j.ua())}function Mx(i,t,e){let s=function(i){return i instanceof wa?ws(i):new wa(i,void 0)}(e);if(""!=s.i)t&&dp(s,t+"."+s.i),up(s,s.m);else{const A=ke.location;s=function(i,t,e,s){var A=new wa(null,void 0);return i&&cp(A,i),t&&dp(A,t),e&&up(A,e),s&&(A.l=s),A}(A.protocol,t?t+"."+A.hostname:A.hostname,+A.port,e)}return i.aa&&Bg(i.aa,function(A,U){Ze(s,U,A)}),e=i.sa,(t=i.D)&&e&&Ze(s,t,e),Ze(s,"VER",i.ma),Yc(i,s),s}function kx(i,t,e){if(t&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new hi(e&&i.Ba&&!i.qa?new Uc({ib:!0}):i.qa)).L=i.H,t}function Ax(){}function bp(){if(Kl&&!(10<=Number(CS)))throw Error("Environmental error: no available transport.")}function In(i,t){Mi.call(this),this.g=new yx(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(i?i["X-WebChannel-Client-Profile"]=t.ya:i={"X-WebChannel-Client-Profile":t.ya}),this.g.P=i,(i=t&&t.httpHeadersOverwriteParam)&&!Qu(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qu(t)&&(this.g.D=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new eh(this)}function Ex(i){om.call(this);var t=i.__sm__;if(t){t:{for(const e in t){i=e;break t}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function Px(){am.call(this),this.status=1}function eh(i){this.g=i}(ve=hi.prototype).ea=function(i,t,e,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);t=t?t.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lm.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:lm),this.g.onreadystatechange=Ui(this.Fa,this);try{this.F=!0,this.g.open(t,String(i),!0),this.F=!1}catch(U){return void ux(this,U)}i=e||"";const A=new Jl(this.headers);s&&um(s,function(U,st){A.set(st,U)}),s=function(i){t:{var t=hC;const e=i.length,s="string"==typeof i?i.split(""):i;for(let A=0;A<e;A++)if(A in s&&t.call(void 0,s[A],A,i)){t=A;break t}t=-1}return 0>t?null:"string"==typeof i?i.charAt(t):i[t]}(A.T()),e=ke.FormData&&i instanceof ke.FormData,!(0<=y0(aC,t))||s||e||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),A.forEach(function(U,st){this.g.setRequestHeader(st,U)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gx(this),0<this.B&&((this.K=function(i){return Kl&&SS()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ui(this.pa,this)):this.A=rm(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(U){ux(this,U)}},ve.pa=function(){void 0!==Dg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wi(this,"timeout"),this.abort(8))},ve.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Wi(this,"complete"),Wi(this,"abort"),mp(this))},ve.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mp(this,!0)),hi.Z.M.call(this)},ve.Fa=function(){this.s||(this.F||this.v||this.l?fx(this):this.cb())},ve.cb=function(){fx(this)},ve.ba=function(){try{return 2<Ss(this)?this.g.status:-1}catch(i){return-1}},ve.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ve.Qa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),sC(t)}},ve.Da=function(){return this.m},ve.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=yx.prototype).ma=8,ve.G=1,ve.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(t){}},ve.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const A=new Nc(this,this.h,i,void 0);let U=this.s;if(this.P&&(U?(U=S0(U),T0(U,this.P)):U=this.P),null===this.o&&(A.H=U),this.ja)t:{for(var t=0,e=0;e<this.l.length;e++){var s=this.l[e];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(t+=s)){t=e;break t}if(4096===t||e===this.l.length-1){t=e+1;break t}}t=1e3}else t=1e3;t=bx(this,A,t),Ze(e=ws(this.F),"RID",i),Ze(e,"CVER",22),this.D&&Ze(e,"X-HTTP-Session-Id",this.D),Yc(this,e),this.o&&U&&vm(e,this.o,U),gm(this.i,A),this.Ra&&Ze(e,"TYPE","init"),this.ja?(Ze(e,"$req",t),Ze(e,"SID","null"),A.$=!0,cm(A,e,null)):cm(A,e,t),this.G=2}}else 3==this.G&&(i?xx(this,i):0==this.l.length||ox(this.i)||xx(this))},ve.Ga=function(){if(this.u=null,wx(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Lc(Ui(this.bb,this),i)}},ve.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ln(10),yp(this),wx(this))},ve.ab=function(){null!=this.v&&(this.v=null,yp(this),_m(this),ln(19))},ve.jb=function(i){i?(this.h.info("Successfully pinged google.com"),ln(2)):(this.h.info("Failed to ping google.com"),ln(1))},(ve=Ax.prototype).xa=function(){},ve.wa=function(){},ve.va=function(){},ve.ua=function(){},ve.Oa=function(){},bp.prototype.g=function(i,t){return new In(i,t)},Hi(In,Mi),In.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,t=this.l,e=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),tm(Ui(i.hb,i,t))),ln(0),i.W=t,i.aa=e||{},i.N=i.X,i.F=Mx(i,null,i.W),vp(i)},In.prototype.close=function(){xm(this.g)},In.prototype.u=function(i){if("string"==typeof i){var t={};t.__data__=i,bm(this.g,t)}else this.v?((t={}).__data__=Jg(i),bm(this.g,t)):bm(this.g,i)},In.prototype.M=function(){this.g.j=null,delete this.j,xm(this.g),delete this.g,In.Z.M.call(this)},Hi(Ex,om),Hi(Px,am),Hi(eh,Ax),eh.prototype.xa=function(){Wi(this.g,"a")},eh.prototype.wa=function(i){Wi(this.g,new Ex(i))},eh.prototype.va=function(i){Wi(this.g,new Px(i))},eh.prototype.ua=function(){Wi(this.g,"b")},bp.prototype.createWebChannel=bp.prototype.g,In.prototype.send=In.prototype.u,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,op.NO_ERROR=0,op.TIMEOUT=8,op.HTTP_ERROR=6,V0.COMPLETE="complete",X0.EventType=Rc,Rc.OPEN="a",Rc.CLOSE="b",Rc.ERROR="c",Rc.MESSAGE="d",Mi.prototype.listen=Mi.prototype.N,hi.prototype.listenOnce=hi.prototype.O,hi.prototype.getLastError=hi.prototype.La,hi.prototype.getLastErrorCode=hi.prototype.Da,hi.prototype.getStatus=hi.prototype.ba,hi.prototype.getResponseJson=hi.prototype.Qa,hi.prototype.getResponseText=hi.prototype.ga,hi.prototype.send=hi.prototype.ea;var uC=_s.createWebChannelTransport=function(){return new bp},pC=_s.getStatEventTarget=function(){return sp()},Sm=_s.ErrorCode=op,fC=_s.EventType=V0,gC=_s.Event=xa,Ix=_s.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mC=_s.FetchXmlHttpFactory=Uc,_p=_s.WebChannel=X0,yC=_s.XhrIo=hi;const Ox="@firebase/firestore";class Vi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Vi.UNAUTHENTICATED=new Vi(null),Vi.GOOGLE_CREDENTIALS=new Vi("google-credentials-uid"),Vi.FIRST_PARTY=new Vi("first-party-uid"),Vi.MOCK_USER=new Vi("mock-user");let ih="9.6.7";const _o=new vo.Yd("@firebase/firestore");function Cm(){return _o.logLevel}function le(i,...t){if(_o.logLevel<=vo.in.DEBUG){const e=t.map(Tm);_o.debug(`Firestore (${ih}): ${i}`,...e)}}function ci(i,...t){if(_o.logLevel<=vo.in.ERROR){const e=t.map(Tm);_o.error(`Firestore (${ih}): ${i}`,...e)}}function Xc(i,...t){if(_o.logLevel<=vo.in.WARN){const e=t.map(Tm);_o.warn(`Firestore (${ih}): ${i}`,...e)}}function Tm(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(e){return i}}function be(i="Unexpected state"){const t=`FIRESTORE (${ih}) INTERNAL ASSERTION FAILED: `+i;throw ci(t),new Error(t)}function Te(i,t){i||be()}function ue(i,t){return i}const Qt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Se.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ki{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Dx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Vi.UNAUTHENTICATED))}shutdown(){}}class _C{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class wC{constructor(t){this.t=t,this.currentUser=Vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var s=this;let A=this.i;const U=Mt=>this.i!==A?(A=this.i,e(Mt)):Promise.resolve();let st=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),st.resolve(),st=new ki,t.enqueueRetryable(()=>U(this.currentUser))};const gt=()=>{const Mt=st;t.enqueueRetryable((0,te.Z)(function*(){yield Mt.promise,yield U(s.currentUser)}))},vt=Mt=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Mt,this.auth.addAuthTokenListener(this.o),gt()};this.t.onInit(Mt=>vt(Mt)),setTimeout(()=>{if(!this.auth){const Mt=this.t.getImmediate({optional:!0});Mt?vt(Mt):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),st.resolve(),st=new ki)}},0),gt()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Te("string"==typeof s.accessToken),new Dx(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Te(null===t||"string"==typeof t),new Vi(t)}}class SC{constructor(t,e,s){this.type="FirstParty",this.user=Vi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const A=t.auth.getAuthHeaderValueForFirstParty([]);A&&this.headers.set("Authorization",A),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class CC{constructor(t,e,s){this.h=t,this.l=e,this.m=s}getToken(){return Promise.resolve(new SC(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TC{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const s=U=>{null!=U.error&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${U.error.message}`);const st=U.token!==this.p;return this.p=U.token,le("FirebaseAppCheckTokenProvider",`Received ${st?"new":"existing"} token.`),st?e(U.token):Promise.resolve()};this.o=U=>{t.enqueueRetryable(()=>s(U))};const A=U=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=U,this.appCheck.addTokenListener(this.o)};this.g.onInit(U=>A(U)),setTimeout(()=>{if(!this.appCheck){const U=this.g.getImmediate({optional:!0});U?A(U):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Te("string"==typeof e.token),this.p=e.token,new Lx(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class On{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.I(s),this.T=s=>e.writeSequenceNumber(s))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function MC(i){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}On.A=-1;class Rx{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let s="";for(;s.length<20;){const A=MC(40);for(let U=0;U<A.length;++U)s.length<20&&A[U]<e&&(s+=t.charAt(A[U]%t.length))}return s}}function Oe(i,t){return i<t?-1:i>t?1:0}function nh(i,t,e){return i.length===t.length&&i.every((s,A)=>e(s,t[A]))}function Nx(i){return i+"\0"}class Ai{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new se(Qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new se(Qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new se(Qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new se(Qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ai.fromMillis(Date.now())}static fromDate(t){return Ai.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*e));return new Ai(e,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Oe(this.nanoseconds,t.nanoseconds):Oe(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ce{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ce(t)}static min(){return new Ce(new Ai(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function jx(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Ca(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function Bx(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class Zc{constructor(t,e,s){void 0===e?e=0:e>t.length&&be(),void 0===s?s=t.length-e:s>t.length-e&&be(),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return 0===Zc.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Zc?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let A=0;A<s;A++){const U=t.get(A),st=e.get(A);if(U<st)return-1;if(U>st)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Be extends Zc{construct(t,e,s){return new Be(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new se(Qt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(A=>A.length>0))}return new Be(e)}static emptyPath(){return new Be([])}}const kC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ei extends Zc{construct(t,e,s){return new Ei(t,e,s)}static isValidIdentifier(t){return kC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ei.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ei(["__name__"])}static fromServerFormat(t){const e=[];let s="",A=0;const U=()=>{if(0===s.length)throw new se(Qt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let st=!1;for(;A<t.length;){const gt=t[A];if("\\"===gt){if(A+1===t.length)throw new se(Qt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const vt=t[A+1];if("\\"!==vt&&"."!==vt&&"`"!==vt)throw new se(Qt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=vt,A+=2}else"`"===gt?(st=!st,A++):"."!==gt||st?(s+=gt,A++):(U(),A++)}if(U(),st)throw new se(Qt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ei(e)}static emptyPath(){return new Ei([])}}class rh{constructor(t){this.fields=t,t.sort(Ei.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return nh(this.fields,t.fields,(e,s)=>e.isEqual(s))}}class vi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new vi(e)}static fromUint8Array(t){const e=function(s){let A="";for(let U=0;U<s.length;++U)A+=String.fromCharCode(s[U]);return A}(t);return new vi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let s=0;s<t.length;s++)e[s]=t.charCodeAt(s);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Oe(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vi.EMPTY_BYTE_STRING=new vi("");const EC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(i){if(Te(!!i),"string"==typeof i){let t=0;const e=EC.exec(i);if(Te(!!e),e[1]){let A=e[1];A=(A+"000000000").substr(0,9),t=Number(A)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ei(i.seconds),nanos:ei(i.nanos)}}function ei(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ta(i){return"string"==typeof i?vi.fromBase64String(i):vi.fromUint8Array(i)}function Mm(i){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==i?void 0:i.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Fx(i){const t=i.mapValue.fields.__previous_value__;return Mm(t)?Fx(t):t}function qc(i){const t=wo(i.mapValue.fields.__local_write_time__.timestampValue);return new Ai(t.seconds,t.nanos)}class PC{constructor(t,e,s,A,U,st,gt,vt){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=A,this.ssl=U,this.forceLongPolling=st,this.autoDetectLongPolling=gt,this.useFetchStreams=vt}}class Ma{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Ma("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ma&&t.projectId===this.projectId&&t.database===this.database}}function ka(i){return null==i}function $c(i){return 0===i&&1/i==-1/0}function zx(i){return"number"==typeof i&&Number.isInteger(i)&&!$c(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class me{constructor(t){this.path=t}static fromPath(t){return new me(Be.fromString(t))}static fromName(t){return new me(Be.fromString(t).popFirst(5))}static empty(){return new me(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Be.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Be.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new me(new Be(t.slice()))}}const IC={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function Aa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Mm(i)?4:10:be()}function br(i,t){if(i===t)return!0;const e=Aa(i);if(e!==Aa(t))return!1;switch(e){case 0:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return qc(i).isEqual(qc(t));case 3:return function(s,A){if("string"==typeof s.timestampValue&&"string"==typeof A.timestampValue&&s.timestampValue.length===A.timestampValue.length)return s.timestampValue===A.timestampValue;const U=wo(s.timestampValue),st=wo(A.timestampValue);return U.seconds===st.seconds&&U.nanos===st.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return A=t,Ta(i.bytesValue).isEqual(Ta(A.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(s,A){return ei(s.geoPointValue.latitude)===ei(A.geoPointValue.latitude)&&ei(s.geoPointValue.longitude)===ei(A.geoPointValue.longitude)}(i,t);case 2:return function(s,A){if("integerValue"in s&&"integerValue"in A)return ei(s.integerValue)===ei(A.integerValue);if("doubleValue"in s&&"doubleValue"in A){const U=ei(s.doubleValue),st=ei(A.doubleValue);return U===st?$c(U)===$c(st):isNaN(U)&&isNaN(st)}return!1}(i,t);case 9:return nh(i.arrayValue.values||[],t.arrayValue.values||[],br);case 10:return function(s,A){const U=s.mapValue.fields||{},st=A.mapValue.fields||{};if(jx(U)!==jx(st))return!1;for(const gt in U)if(U.hasOwnProperty(gt)&&(void 0===st[gt]||!br(U[gt],st[gt])))return!1;return!0}(i,t);default:return be()}var A}function Kc(i,t){return void 0!==(i.values||[]).find(e=>br(e,t))}function sh(i,t){if(i===t)return 0;const e=Aa(i),s=Aa(t);if(e!==s)return Oe(e,s);switch(e){case 0:return 0;case 1:return Oe(i.booleanValue,t.booleanValue);case 2:return function(A,U){const st=ei(A.integerValue||A.doubleValue),gt=ei(U.integerValue||U.doubleValue);return st<gt?-1:st>gt?1:st===gt?0:isNaN(st)?isNaN(gt)?0:-1:1}(i,t);case 3:return Gx(i.timestampValue,t.timestampValue);case 4:return Gx(qc(i),qc(t));case 5:return Oe(i.stringValue,t.stringValue);case 6:return function(A,U){const st=Ta(A),gt=Ta(U);return st.compareTo(gt)}(i.bytesValue,t.bytesValue);case 7:return function(A,U){const st=A.split("/"),gt=U.split("/");for(let vt=0;vt<st.length&&vt<gt.length;vt++){const Mt=Oe(st[vt],gt[vt]);if(0!==Mt)return Mt}return Oe(st.length,gt.length)}(i.referenceValue,t.referenceValue);case 8:return function(A,U){const st=Oe(ei(A.latitude),ei(U.latitude));return 0!==st?st:Oe(ei(A.longitude),ei(U.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(A,U){const st=A.values||[],gt=U.values||[];for(let vt=0;vt<st.length&&vt<gt.length;++vt){const Mt=sh(st[vt],gt[vt]);if(Mt)return Mt}return Oe(st.length,gt.length)}(i.arrayValue,t.arrayValue);case 10:return function(A,U){const st=A.fields||{},gt=Object.keys(st),vt=U.fields||{},Mt=Object.keys(vt);gt.sort(),Mt.sort();for(let Dt=0;Dt<gt.length&&Dt<Mt.length;++Dt){const Ft=Oe(gt[Dt],Mt[Dt]);if(0!==Ft)return Ft;const Wt=sh(st[gt[Dt]],vt[Mt[Dt]]);if(0!==Wt)return Wt}return Oe(gt.length,Mt.length)}(i.mapValue,t.mapValue);default:throw be()}}function Gx(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return Oe(i,t);const e=wo(i),s=wo(t),A=Oe(e.seconds,s.seconds);return 0!==A?A:Oe(e.nanos,s.nanos)}function oh(i){return km(i)}function km(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const A=wo(s);return`time(${A.seconds},${A.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ta(i.bytesValue).toBase64():"referenceValue"in i?me.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(t=i.geoPointValue).latitude},${t.longitude})`:"arrayValue"in i?function(s){let A="[",U=!0;for(const st of s.values||[])U?U=!1:A+=",",A+=km(st);return A+"]"}(i.arrayValue):"mapValue"in i?function(s){const A=Object.keys(s.fields||{}).sort();let U="{",st=!0;for(const gt of A)st?st=!1:U+=",",U+=`${gt}:${km(s.fields[gt])}`;return U+"}"}(i.mapValue):be();var t}function wp(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function Am(i){return!!i&&"integerValue"in i}function Sp(i){return!!i&&"arrayValue"in i}function Ux(i){return!!i&&"nullValue"in i}function Hx(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Cp(i){return!!i&&"mapValue"in i}function Qc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Ca(i.mapValue.fields,(e,s)=>t.mapValue.fields[e]=Qc(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Qc(i.arrayValue.values[e]);return t}return Object.assign({},i)}class $i{constructor(t){this.value=t}static empty(){return new $i({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!Cp(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Qc(e)}setAll(t){let e=Ei.emptyPath(),s={},A=[];t.forEach((st,gt)=>{if(!e.isImmediateParentOf(gt)){const vt=this.getFieldsMap(e);this.applyChanges(vt,s,A),s={},A=[],e=gt.popLast()}st?s[gt.lastSegment()]=Qc(st):A.push(gt.lastSegment())});const U=this.getFieldsMap(e);this.applyChanges(U,s,A)}delete(t){const e=this.field(t.popLast());Cp(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return br(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let A=e.mapValue.fields[t.get(s)];Cp(A)&&A.mapValue.fields||(A={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=A),e=A}return e.mapValue.fields}applyChanges(t,e,s){Ca(e,(A,U)=>t[A]=U);for(const A of s)delete t[A]}clone(){return new $i(Qc(this.value))}}function Wx(i){const t=[];return Ca(i.fields,(e,s)=>{const A=new Ei([e]);if(Cp(s)){const U=Wx(s.mapValue).fields;if(0===U.length)t.push(A);else for(const st of U)t.push(A.child(st))}else t.push(A)}),new rh(t)}class Ke{constructor(t,e,s,A,U,st){this.key=t,this.documentType=e,this.version=s,this.readTime=A,this.data=U,this.documentState=st}static newInvalidDocument(t){return new Ke(t,0,Ce.min(),Ce.min(),$i.empty(),0)}static newFoundDocument(t,e,s){return new Ke(t,1,e,Ce.min(),s,0)}static newNoDocument(t,e){return new Ke(t,2,e,Ce.min(),$i.empty(),0)}static newUnknownDocument(t,e){return new Ke(t,3,e,Ce.min(),$i.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}let Em=(()=>{class i{constructor(e,s,A,U){this.indexId=e,this.collectionGroup=s,this.fields=A,this.indexState=U}}return i.UNKNOWN_ID=-1,i})();class Tp{constructor(t,e){this.fieldPath=t,this.kind=e}}class Jc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Jc(0,Mp.min())}}class Mp{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new Mp(Ce.min(),me.empty(),-1)}}class OC{constructor(t,e=null,s=[],A=[],U=null,st=null,gt=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=A,this.limit=U,this.startAt=st,this.endAt=gt,this.P=null}}function Vx(i,t=null,e=[],s=[],A=null,U=null,st=null){return new OC(i,t,e,s,A,U,st)}function td(i){const t=ue(i);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>{return(A=s).field.canonicalString()+A.op.toString()+oh(A.value);var A}).join(","),e+="|ob:",e+=t.orderBy.map(s=>{return(A=s).field.canonicalString()+A.dir;var A}).join(","),ka(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>oh(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>oh(s)).join(",")),t.P=e}return t.P}function kp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let A=0;A<i.orderBy.length;A++)if(!GC(i.orderBy[A],t.orderBy[A]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let A=0;A<i.filters.length;A++)if((e=i.filters[A]).op!==(s=t.filters[A]).op||!e.field.isEqual(s.field)||!br(e.value,s.value))return!1;var e,s;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Zx(i.startAt,t.startAt)&&Zx(i.endAt,t.endAt)}function Ap(i){return me.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class hn extends class{}{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?"in"===e||"not-in"===e?this.v(t,e,s):new LC(t,e,s):"array-contains"===e?new jC(t,s):"in"===e?new BC(t,s):"not-in"===e?new FC(t,s):"array-contains-any"===e?new zC(t,s):new hn(t,e,s)}static v(t,e,s){return"in"===e?new RC(t,s):new NC(t,s)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.V(sh(e,this.value)):null!==e&&Aa(this.value)===Aa(e)&&this.V(sh(e,this.value))}V(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return be()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class LC extends hn{constructor(t,e,s){super(t,e,s),this.key=me.fromName(s.referenceValue)}matches(t){const e=me.comparator(t.key,this.key);return this.V(e)}}class RC extends hn{constructor(t,e){super(t,"in",e),this.keys=Yx(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class NC extends hn{constructor(t,e){super(t,"not-in",e),this.keys=Yx(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Yx(i,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(s=>me.fromName(s.referenceValue))}class jC extends hn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Sp(e)&&Kc(e.arrayValue,this.value)}}class BC extends hn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Kc(this.value.arrayValue,e)}}class FC extends hn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Kc(this.value.arrayValue,e)}}class zC extends hn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Sp(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Kc(this.value.arrayValue,s))}}class ah{constructor(t,e){this.position=t,this.inclusive=e}}class lh{constructor(t,e="asc"){this.field=t,this.dir=e}}function GC(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}function Xx(i,t,e){let s=0;for(let A=0;A<i.position.length;A++){const U=t[A],st=i.position[A];if(s=U.field.isKeyField()?me.comparator(me.fromName(st.referenceValue),e.key):sh(st,e.data.field(U.field)),"desc"===U.dir&&(s*=-1),0!==s)break}return s}function Zx(i,t){if(null===i)return null===t;if(null===t||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!br(i.position[e],t.position[e]))return!1;return!0}class Cs{constructor(t,e=null,s=[],A=[],U=null,st="F",gt=null,vt=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=A,this.limit=U,this.limitType=st,this.startAt=gt,this.endAt=vt,this.D=null,this.C=null}}function qx(i,t,e,s,A,U,st,gt){return new Cs(i,t,e,s,A,U,st,gt)}function hh(i){return new Cs(i)}function Ep(i){return!ka(i.limit)&&"F"===i.limitType}function Pp(i){return!ka(i.limit)&&"L"===i.limitType}function Pm(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Im(i){for(const t of i.filters)if(t.S())return t.field;return null}function Om(i){return null!==i.collectionGroup}function ch(i){const t=ue(i);if(null===t.D){t.D=[];const e=Im(t),s=Pm(t);if(null!==e&&null===s)e.isKeyField()||t.D.push(new lh(e)),t.D.push(new lh(Ei.keyField(),"asc"));else{let A=!1;for(const U of t.explicitOrderBy)t.D.push(U),U.field.isKeyField()&&(A=!0);if(!A){const U=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new lh(Ei.keyField(),U))}}}return t.D}function Jn(i){const t=ue(i);if(!t.C)if("F"===t.limitType)t.C=Vx(t.path,t.collectionGroup,ch(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const U of ch(t))e.push(new lh(U.field,"desc"===U.dir?"asc":"desc"));const s=t.endAt?new ah(t.endAt.position,!t.endAt.inclusive):null,A=t.startAt?new ah(t.startAt.position,!t.startAt.inclusive):null;t.C=Vx(t.path,t.collectionGroup,e,t.filters,t.limit,s,A)}return t.C}function $x(i,t,e){return new Cs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function ed(i,t){return kp(Jn(i),Jn(t))&&i.limitType===t.limitType}function Kx(i){return`${td(Jn(i))}|lt:${i.limitType}`}function Dm(i){return`Query(target=${function(i){let t=i.path.canonicalString();return null!==i.collectionGroup&&(t+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(t+=`, filters: [${i.filters.map(e=>{return`${(s=e).field.canonicalString()} ${s.op} ${oh(s.value)}`;var s}).join(", ")}]`),ka(i.limit)||(t+=", limit: "+i.limit),i.orderBy.length>0&&(t+=`, orderBy: [${i.orderBy.map(e=>{return`${(s=e).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(t+=", startAt: ",t+=i.startAt.inclusive?"b:":"a:",t+=i.startAt.position.map(e=>oh(e)).join(",")),i.endAt&&(t+=", endAt: ",t+=i.endAt.inclusive?"a:":"b:",t+=i.endAt.position.map(e=>oh(e)).join(",")),`Target(${t})`}(Jn(i))}; limitType=${i.limitType})`}function Lm(i,t){return t.isFoundDocument()&&function(e,s){const A=s.key.path;return null!==e.collectionGroup?s.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(A):me.isDocumentKey(e.path)?e.path.isEqual(A):e.path.isImmediateParentOf(A)}(i,t)&&function(e,s){for(const A of e.explicitOrderBy)if(!A.field.isKeyField()&&null===s.data.field(A.field))return!1;return!0}(i,t)&&function(e,s){for(const A of e.filters)if(!A.matches(s))return!1;return!0}(i,t)&&(s=t,!((e=i).startAt&&!function(A,U,st){const gt=Xx(A,U,st);return A.inclusive?gt<=0:gt<0}(e.startAt,ch(e),s)||e.endAt&&!function(A,U,st){const gt=Xx(A,U,st);return A.inclusive?gt>=0:gt>0}(e.endAt,ch(e),s)));var e,s}function Qx(i){return(t,e)=>{let s=!1;for(const A of ch(i)){const U=UC(A,t,e);if(0!==U)return U;s=s||A.field.isKeyField()}return 0}}function UC(i,t,e){const s=i.field.isKeyField()?me.comparator(t.key,e.key):function(A,U,st){const gt=U.data.field(A),vt=st.data.field(A);return null!==gt&&null!==vt?sh(gt,vt):be()}(i.field,t,e);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}function Jx(i,t){if(i.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(t)?"-0":t}}function tb(i){return{integerValue:""+i}}function eb(i,t){return zx(t)?tb(t):Jx(i,t)}class Ip{constructor(){this._=void 0}}function HC(i,t,e){return i instanceof dh?function(s,A){const U={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return A&&(U.fields.__previous_value__=A),{mapValue:U}}(e,t):i instanceof Ea?nb(i,t):i instanceof Pa?rb(i,t):function(s,A){const U=ib(s,A),st=sb(U)+sb(s.k);return Am(U)&&Am(s.k)?tb(st):Jx(s.O,st)}(i,t)}function WC(i,t,e){return i instanceof Ea?nb(i,t):i instanceof Pa?rb(i,t):e}function ib(i,t){return i instanceof uh?Am(e=t)||(s=e)&&"doubleValue"in s?t:{integerValue:0}:null;var s,e}class dh extends Ip{}class Ea extends Ip{constructor(t){super(),this.elements=t}}function nb(i,t){const e=ob(t);for(const s of i.elements)e.some(A=>br(A,s))||e.push(s);return{arrayValue:{values:e}}}class Pa extends Ip{constructor(t){super(),this.elements=t}}function rb(i,t){let e=ob(t);for(const s of i.elements)e=e.filter(A=>!br(A,s));return{arrayValue:{values:e}}}class uh extends Ip{constructor(t,e){super(),this.O=t,this.k=e}}function sb(i){return ei(i.integerValue||i.doubleValue)}function ob(i){return Sp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class id{constructor(t,e){this.field=t,this.transform=e}}class YC{constructor(t,e){this.version=t,this.transformResults=e}}class di{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new di}static exists(t){return new di(void 0,t)}static updateTime(t){return new di(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Op(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}class Dp{}function XC(i,t,e){i instanceof nd?function(s,A,U){const st=s.value.clone(),gt=cb(s.fieldTransforms,A,U.transformResults);st.setAll(gt),A.convertToFoundDocument(U.version,st).setHasCommittedMutations()}(i,t,e):i instanceof Ia?function(s,A,U){if(!Op(s.precondition,A))return void A.convertToUnknownDocument(U.version);const st=cb(s.fieldTransforms,A,U.transformResults),gt=A.data;gt.setAll(hb(s)),gt.setAll(st),A.convertToFoundDocument(U.version,gt).setHasCommittedMutations()}(i,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Rm(i,t,e){var A;i instanceof nd?function(s,A,U){if(!Op(s.precondition,A))return;const st=s.value.clone(),gt=db(s.fieldTransforms,U,A);st.setAll(gt),A.convertToFoundDocument(lb(A),st).setHasLocalMutations()}(i,t,e):i instanceof Ia?function(s,A,U){if(!Op(s.precondition,A))return;const st=db(s.fieldTransforms,U,A),gt=A.data;gt.setAll(hb(s)),gt.setAll(st),A.convertToFoundDocument(lb(A),gt).setHasLocalMutations()}(i,t,e):Op(i.precondition,A=t)&&A.convertToNoDocument(Ce.min())}function ZC(i,t){let e=null;for(const s of i.fieldTransforms){const A=t.data.field(s.field),U=ib(s.transform,A||null);null!=U&&(null==e&&(e=$i.empty()),e.set(s.field,U))}return e||null}function ab(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(s=t.fieldTransforms,!!(void 0===(e=i.fieldTransforms)&&void 0===s||e&&s&&nh(e,s,(A,U)=>function(i,t){return i.field.isEqual(t.field)&&(s=t.transform,(e=i.transform)instanceof Ea&&s instanceof Ea||e instanceof Pa&&s instanceof Pa?nh(e.elements,s.elements,br):e instanceof uh&&s instanceof uh?br(e.k,s.k):e instanceof dh&&s instanceof dh);var e,s}(A,U))))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var e,s}function lb(i){return i.isFoundDocument()?i.version:Ce.min()}class nd extends Dp{constructor(t,e,s,A=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=A,this.type=0}}class Ia extends Dp{constructor(t,e,s,A,U=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=A,this.fieldTransforms=U,this.type=1}}function hb(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=i.data.field(e);t.set(e,s)}}),t}function cb(i,t,e){const s=new Map;Te(i.length===e.length);for(let A=0;A<e.length;A++){const U=i[A],st=U.transform,gt=t.data.field(U.field);s.set(U.field,WC(st,gt,e[A]))}return s}function db(i,t,e){const s=new Map;for(const A of i){const U=A.transform,st=e.data.field(A.field);s.set(A.field,HC(U,st,t))}return s}class rd extends Dp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class Nm extends Dp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class qC{constructor(t){this.count=t}}var ui,je;function ub(i){switch(i){default:return be();case Qt.CANCELLED:case Qt.UNKNOWN:case Qt.DEADLINE_EXCEEDED:case Qt.RESOURCE_EXHAUSTED:case Qt.INTERNAL:case Qt.UNAVAILABLE:case Qt.UNAUTHENTICATED:return!1;case Qt.INVALID_ARGUMENT:case Qt.NOT_FOUND:case Qt.ALREADY_EXISTS:case Qt.PERMISSION_DENIED:case Qt.FAILED_PRECONDITION:case Qt.ABORTED:case Qt.OUT_OF_RANGE:case Qt.UNIMPLEMENTED:case Qt.DATA_LOSS:return!0}}function pb(i){if(void 0===i)return ci("GRPC error has no .code"),Qt.UNKNOWN;switch(i){case ui.OK:return Qt.OK;case ui.CANCELLED:return Qt.CANCELLED;case ui.UNKNOWN:return Qt.UNKNOWN;case ui.DEADLINE_EXCEEDED:return Qt.DEADLINE_EXCEEDED;case ui.RESOURCE_EXHAUSTED:return Qt.RESOURCE_EXHAUSTED;case ui.INTERNAL:return Qt.INTERNAL;case ui.UNAVAILABLE:return Qt.UNAVAILABLE;case ui.UNAUTHENTICATED:return Qt.UNAUTHENTICATED;case ui.INVALID_ARGUMENT:return Qt.INVALID_ARGUMENT;case ui.NOT_FOUND:return Qt.NOT_FOUND;case ui.ALREADY_EXISTS:return Qt.ALREADY_EXISTS;case ui.PERMISSION_DENIED:return Qt.PERMISSION_DENIED;case ui.FAILED_PRECONDITION:return Qt.FAILED_PRECONDITION;case ui.ABORTED:return Qt.ABORTED;case ui.OUT_OF_RANGE:return Qt.OUT_OF_RANGE;case ui.UNIMPLEMENTED:return Qt.UNIMPLEMENTED;case ui.DATA_LOSS:return Qt.DATA_LOSS;default:return be()}}(je=ui||(ui={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";class ai{constructor(t,e){this.comparator=t,this.root=e||Yi.EMPTY}insert(t,e){return new ai(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(t){return new ai(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(0===s)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const A=this.comparator(t,s.key);if(0===A)return e+s.left.size;A<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lp(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lp(this.root,t,this.comparator,!0)}}class Lp{constructor(t,e,s,A){this.isReverse=A,this.nodeStack=[];let U=1;for(;!t.isEmpty();)if(U=e?s(t.key,e):1,A&&(U*=-1),U<0)t=this.isReverse?t.left:t.right;else{if(0===U){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Yi{constructor(t,e,s,A,U){this.key=t,this.value=e,this.color=null!=s?s:Yi.RED,this.left=null!=A?A:Yi.EMPTY,this.right=null!=U?U:Yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,A,U){return new Yi(null!=t?t:this.key,null!=e?e:this.value,null!=s?s:this.color,null!=A?A:this.left,null!=U?U:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let A=this;const U=s(t,A.key);return A=U<0?A.copy(null,null,null,A.left.insert(t,e,s),null):0===U?A.copy(null,e,null,null,null):A.copy(null,null,null,null,A.right.insert(t,e,s)),A.fixUp()}removeMin(){if(this.left.isEmpty())return Yi.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,A=this;if(e(t,A.key)<0)A.left.isEmpty()||A.left.isRed()||A.left.left.isRed()||(A=A.moveRedLeft()),A=A.copy(null,null,null,A.left.remove(t,e),null);else{if(A.left.isRed()&&(A=A.rotateRight()),A.right.isEmpty()||A.right.isRed()||A.right.left.isRed()||(A=A.moveRedRight()),0===e(t,A.key)){if(A.right.isEmpty())return Yi.EMPTY;s=A.right.min(),A=A.copy(s.key,s.value,null,null,A.right.removeMin())}A=A.copy(null,null,null,null,A.right.remove(t,e))}return A.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const t=this.left.check();if(t!==this.right.check())throw be();return t+(this.isRed()?0:1)}}Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1,Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(i,t,e,s,A){return this}insert(i,t,e){return new Yi(i,t)}remove(i,t){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(t){this.comparator=t,this.data=new ai(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const A=s.getNext();if(this.comparator(A.key,t[1])>=0)return;e(A.key)}}forEachWhile(t,e){let s;for(s=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new fb(this.data.getIterator())}getIteratorFrom(t){return new fb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const A=e.getNext().key,U=s.getNext().key;if(0!==this.comparator(A,U))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new qe(this.comparator);return e.data=t,e}}class fb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ph(i){return i.hasNext()?i.getNext():void 0}const $C=new ai(me.comparator);function tr(){return $C}const KC=new ai(me.comparator);function jm(){return KC}const QC=new ai(me.comparator),JC=new qe(me.comparator);function Fe(...i){let t=JC;for(const e of i)t=t.add(e);return t}const tT=new qe(Oe);function Rp(){return tT}class sd{constructor(t,e,s,A,U){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=A,this.resolvedLimboDocuments=U}static createSynthesizedRemoteEventForCurrentChange(t,e){const s=new Map;return s.set(t,od.createSynthesizedTargetChangeForCurrentChange(t,e)),new sd(Ce.min(),s,Rp(),tr(),Fe())}}class od{constructor(t,e,s,A,U){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=A,this.removedDocuments=U}static createSynthesizedTargetChangeForCurrentChange(t,e){return new od(vi.EMPTY_BYTE_STRING,e,Fe(),Fe(),Fe())}}class Np{constructor(t,e,s,A){this.M=t,this.removedTargetIds=e,this.key=s,this.$=A}}class gb{constructor(t,e){this.targetId=t,this.F=e}}class mb{constructor(t,e,s=vi.EMPTY_BYTE_STRING,A=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=A}}class yb{constructor(){this.B=0,this.L=xb(),this.U=vi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=Fe(),e=Fe(),s=Fe();return this.L.forEach((A,U)=>{switch(U){case 0:t=t.add(A);break;case 2:e=e.add(A);break;case 1:s=s.add(A);break;default:be()}}),new od(this.U,this.q,t,e,s)}J(){this.K=!1,this.L=xb()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class eT{constructor(t){this.nt=t,this.st=new Map,this.it=tr(),this.rt=vb(),this.ot=new qe(Oe)}ct(t){for(const e of t.M)t.$&&t.$.isFoundDocument()?this.ut(e,t.$):this.at(e,t.key,t.$);for(const e of t.removedTargetIds)this.at(e,t.key,t.$)}ht(t){this.forEachTarget(t,e=>{const s=this.lt(e);switch(t.state){case 0:this.ft(e)&&s.W(t.resumeToken);break;case 1:s.tt(),s.G||s.J(),s.W(t.resumeToken);break;case 2:s.tt(),s.G||this.removeTarget(e);break;case 3:this.ft(e)&&(s.et(),s.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),s.W(t.resumeToken));break;default:be()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((s,A)=>{this.ft(A)&&e(A)})}_t(t){const e=t.targetId,s=t.F.count,A=this.wt(e);if(A){const U=A.target;if(Ap(U))if(0===s){const st=new me(U.path);this.at(e,st,Ke.newNoDocument(st,Ce.min()))}else Te(1===s);else this.gt(e)!==s&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((U,st)=>{const gt=this.wt(st);if(gt){if(U.current&&Ap(gt.target)){const vt=new me(gt.target.path);null!==this.it.get(vt)||this.It(st,vt)||this.at(st,vt,Ke.newNoDocument(vt,t))}U.j&&(e.set(st,U.H()),U.J())}});let s=Fe();this.rt.forEach((U,st)=>{let gt=!0;st.forEachWhile(vt=>{const Mt=this.wt(vt);return!Mt||2===Mt.purpose||(gt=!1,!1)}),gt&&(s=s.add(U))}),this.it.forEach((U,st)=>st.setReadTime(t));const A=new sd(t,e,this.ot,this.it,s);return this.it=tr(),this.rt=vb(),this.ot=new qe(Oe),A}ut(t,e){if(!this.ft(t))return;const s=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,s),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Et(e.key).add(t))}at(t,e,s){if(!this.ft(t))return;const A=this.lt(t);this.It(t,e)?A.Y(e,1):A.X(e),this.rt=this.rt.insert(e,this.Et(e).delete(t)),s&&(this.it=this.it.insert(e,s))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new yb,this.st.set(t,e)),e}Et(t){let e=this.rt.get(t);return e||(e=new qe(Oe),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||le("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Tt(t)}dt(t){this.st.set(t,new yb),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.at(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function vb(){return new ai(me.comparator)}function xb(){return new ai(me.comparator)}const iT={asc:"ASCENDING",desc:"DESCENDING"},nT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class rT{constructor(t,e){this.databaseId=t,this.N=e}}function ad(i,t){return i.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bb(i,t){return i.N?t.toBase64():t.toUint8Array()}function sT(i,t){return ad(i,t.toTimestamp())}function Pi(i){return Te(!!i),Ce.fromTimestamp(function(t){const e=wo(t);return new Ai(e.seconds,e.nanos)}(i))}function Bm(i,t){return(e=i,new Be(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function _b(i){const t=Be.fromString(i);return Te(Pb(t)),t}function ld(i,t){return Bm(i.databaseId,t.path)}function zr(i,t){const e=_b(t);if(e.get(1)!==i.databaseId.projectId)throw new se(Qt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new se(Qt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new me(Sb(e))}function Fm(i,t){return Bm(i.databaseId,t)}function wb(i){const t=_b(i);return 4===t.length?Be.emptyPath():Sb(t)}function hd(i){return new Be(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Sb(i){return Te(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Cb(i,t,e){return{name:ld(i,t),fields:e.value.mapValue.fields}}function Tb(i,t,e){const s=zr(i,t.name),A=Pi(t.updateTime),U=new $i({mapValue:{fields:t.fields}}),st=Ke.newFoundDocument(s,A,U);return e&&st.setHasCommittedMutations(),e?st.setHasCommittedMutations():st}function cd(i,t){let e;if(t instanceof nd)e={update:Cb(i,t.key,t.value)};else if(t instanceof rd)e={delete:ld(i,t.key)};else if(t instanceof Ia)e={update:Cb(i,t.key,t.data),updateMask:fT(t.fieldMask)};else{if(!(t instanceof Nm))return be();e={verify:ld(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(A,U){const st=U.transform;if(st instanceof dh)return{fieldPath:U.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(st instanceof Ea)return{fieldPath:U.field.canonicalString(),appendMissingElements:{values:st.elements}};if(st instanceof Pa)return{fieldPath:U.field.canonicalString(),removeAllFromArray:{values:st.elements}};if(st instanceof uh)return{fieldPath:U.field.canonicalString(),increment:st.k};throw be()}(0,s))),t.precondition.isNone||(e.currentDocument=void 0!==(A=t.precondition).updateTime?{updateTime:sT(i,A.updateTime)}:void 0!==A.exists?{exists:A.exists}:be()),e;var A}function zm(i,t){const e=t.currentDocument?void 0!==(A=t.currentDocument).updateTime?di.updateTime(Pi(A.updateTime)):void 0!==A.exists?di.exists(A.exists):di.none():di.none(),s=t.updateTransforms?t.updateTransforms.map(A=>function(U,st){let gt=null;"setToServerValue"in st?(Te("REQUEST_TIME"===st.setToServerValue),gt=new dh):"appendMissingElements"in st?gt=new Ea(st.appendMissingElements.values||[]):"removeAllFromArray"in st?gt=new Pa(st.removeAllFromArray.values||[]):"increment"in st?gt=new uh(U,st.increment):be();const vt=Ei.fromServerFormat(st.fieldPath);return new id(vt,gt)}(i,A)):[];var A;if(t.update){const A=zr(i,t.update.name),U=new $i({mapValue:{fields:t.update.fields}});if(t.updateMask){const st=new rh((t.updateMask.fieldPaths||[]).map(Mt=>Ei.fromServerFormat(Mt)));return new Ia(A,U,st,e,s)}return new nd(A,U,e,s)}if(t.delete){const A=zr(i,t.delete);return new rd(A,e)}if(t.verify){const A=zr(i,t.verify);return new Nm(A,e)}return be()}function Mb(i,t){return{documents:[Fm(i,t.path)]}}function kb(i,t){const e={structuredQuery:{}},s=t.path;null!==t.collectionGroup?(e.parent=Fm(i,s),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Fm(i,s.popLast()),e.structuredQuery.from=[{collectionId:s.lastSegment()}]);const A=function(vt){if(0===vt.length)return;const Mt=vt.map(Dt=>function(Ft){if("=="===Ft.op){if(Hx(Ft.value))return{unaryFilter:{field:fh(Ft.field),op:"IS_NAN"}};if(Ux(Ft.value))return{unaryFilter:{field:fh(Ft.field),op:"IS_NULL"}}}else if("!="===Ft.op){if(Hx(Ft.value))return{unaryFilter:{field:fh(Ft.field),op:"IS_NOT_NAN"}};if(Ux(Ft.value))return{unaryFilter:{field:fh(Ft.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fh(Ft.field),op:dT(Ft.op),value:Ft.value}}}(Dt));return 1===Mt.length?Mt[0]:{compositeFilter:{op:"AND",filters:Mt}}}(t.filters);A&&(e.structuredQuery.where=A);const U=function(vt){if(0!==vt.length)return vt.map(Mt=>{return{field:fh((Dt=Mt).field),direction:cT(Dt.dir)};var Dt})}(t.orderBy);U&&(e.structuredQuery.orderBy=U);const st=(Mt=t.limit,i.N||ka(Mt)?Mt:{value:Mt});var Mt,gt,vt;return null!==st&&(e.structuredQuery.limit=st),t.startAt&&(e.structuredQuery.startAt={before:(gt=t.startAt).inclusive,values:gt.position}),t.endAt&&(e.structuredQuery.endAt={before:!(vt=t.endAt).inclusive,values:vt.position}),e}function Ab(i){let t=wb(i.parent);const e=i.structuredQuery,s=e.from?e.from.length:0;let A=null;if(s>0){Te(1===s);const Dt=e.from[0];Dt.allDescendants?A=Dt.collectionId:t=t.child(Dt.collectionId)}let U=[];e.where&&(U=Eb(e.where));let st=[];e.orderBy&&(st=e.orderBy.map(Dt=>{return new lh(gh((Ft=Dt).field),function(Wt){switch(Wt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ft.direction));var Ft}));let gt=null;e.limit&&(gt=function(Dt){let Ft;return Ft="object"==typeof Dt?Dt.value:Dt,ka(Ft)?null:Ft}(e.limit));let vt=null;var Dt;e.startAt&&(vt=new ah((Dt=e.startAt).values||[],!!Dt.before));let Mt=null;return e.endAt&&(Mt=function(Dt){return new ah(Dt.values||[],!Dt.before)}(e.endAt)),qx(t,A,st,U,gt,"F",vt,Mt)}function Eb(i){return i?void 0!==i.unaryFilter?[pT(i)]:void 0!==i.fieldFilter?[uT(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(t=>Eb(t)).reduce((t,e)=>t.concat(e)):be():[]}function cT(i){return iT[i]}function dT(i){return nT[i]}function fh(i){return{fieldPath:i.canonicalString()}}function gh(i){return Ei.fromServerFormat(i.fieldPath)}function uT(i){return hn.create(gh(i.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(i.fieldFilter.op),i.fieldFilter.value)}function pT(i){switch(i.unaryFilter.op){case"IS_NAN":const t=gh(i.unaryFilter.field);return hn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=gh(i.unaryFilter.field);return hn.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=gh(i.unaryFilter.field);return hn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const A=gh(i.unaryFilter.field);return hn.create(A,"!=",{nullValue:"NULL_VALUE"});default:return be()}}function fT(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Pb(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ii(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=Ib(t)),t=gT(i.get(e),t);return Ib(t)}function gT(i,t){let e=t;const s=i.length;for(let A=0;A<s;A++){const U=i.charAt(A);switch(U){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=U}}return e}function Ib(i){return i+"\x01\x01"}function Gr(i){const t=i.length;if(Te(t>=2),2===t)return Te("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Be.emptyPath();const e=t-2,s=[];let A="";for(let U=0;U<t;){const st=i.indexOf("\x01",U);switch((st<0||st>e)&&be(),i.charAt(st+1)){case"\x01":const gt=i.substring(U,st);let vt;0===A.length?vt=gt:(A+=gt,vt=A,A=""),s.push(vt);break;case"\x10":A+=i.substring(U,st),A+="\0";break;case"\x11":A+=i.substring(U,st+1);break;default:be()}U=st+2}return new Be(s)}class mT{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class Dn{constructor(t,e,s){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=s}}Dn.store="owner",Dn.key="owner";class So{constructor(t,e,s){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=s}}So.store="mutationQueues",So.keyPath="userId";class Ve{constructor(t,e,s,A,U){this.userId=t,this.batchId=e,this.localWriteTimeMs=s,this.baseMutations=A,this.mutations=U}}Ve.store="mutations",Ve.keyPath="batchId",Ve.userMutationsIndex="userMutationsIndex",Ve.userMutationsKeyPath=["userId","batchId"];class Ki{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Ii(e)]}static key(t,e,s){return[t,Ii(e),s]}}Ki.store="documentMutations",Ki.PLACEHOLDER=new Ki;class yT{constructor(t,e){this.path=t,this.readTime=e}}class vT{constructor(t,e){this.path=t,this.version=e}}class ii{constructor(t,e,s,A,U,st){this.unknownDocument=t,this.noDocument=e,this.document=s,this.hasCommittedMutations=A,this.readTime=U,this.parentPath=st}}ii.store="remoteDocuments",ii.readTimeIndex="readTimeIndex",ii.readTimeIndexPath="readTime",ii.collectionReadTimeIndex="collectionReadTimeIndex",ii.collectionReadTimeIndexPath=["parentPath","readTime"];class Ur{constructor(t){this.byteSize=t}}Ur.store="remoteDocumentGlobal",Ur.key="remoteDocumentGlobalKey";class bn{constructor(t,e,s,A,U,st,gt){this.targetId=t,this.canonicalId=e,this.readTime=s,this.resumeToken=A,this.lastListenSequenceNumber=U,this.lastLimboFreeSnapshotVersion=st,this.query=gt}}bn.store="targets",bn.keyPath="targetId",bn.queryTargetsIndexName="queryTargetsIndex",bn.queryTargetsKeyPath=["canonicalId","targetId"];class Xi{constructor(t,e,s){this.targetId=t,this.path=e,this.sequenceNumber=s}}Xi.store="targetDocuments",Xi.keyPath=["targetId","path"],Xi.documentTargetsIndex="documentTargetsIndex",Xi.documentTargetsKeyPath=["path","targetId"];class Ln{constructor(t,e,s,A){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=s,this.targetCount=A}}Ln.key="targetGlobalKey",Ln.store="targetGlobal";class Oa{constructor(t,e){this.collectionId=t,this.parent=e}}Oa.store="collectionParents",Oa.keyPath=["collectionId","parent"];class Ts{constructor(t,e,s,A){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=s,this.inForeground=A}}Ts.store="clientMetadata",Ts.keyPath="clientId";class mh{constructor(t,e,s){this.bundleId=t,this.createTime=e,this.version=s}}mh.store="bundles",mh.keyPath="bundleId";class yh{constructor(t,e,s){this.name=t,this.readTime=e,this.bundledQuery=s}}yh.store="namedQueries",yh.keyPath="name";class Rn{constructor(t,e,s){this.indexId=t,this.collectionGroup=e,this.fields=s}}Rn.store="indexConfiguration",Rn.keyPath="indexId",Rn.collectionGroupIndex="collectionGroupIndex",Rn.collectionGroupIndexPath="collectionGroup";class er{constructor(t,e,s,A,U,st){this.indexId=t,this.uid=e,this.sequenceNumber=s,this.readTime=A,this.documentKey=U,this.largestBatchId=st}}er.store="indexState",er.keyPath=["indexId","uid"],er.sequenceNumberIndex="sequenceNumberIndex",er.sequenceNumberIndexPath=["uid","sequenceNumber"];class ir{constructor(t,e,s,A,U){this.indexId=t,this.uid=e,this.arrayValue=s,this.directionalValue=A,this.documentKey=U}}ir.store="indexEntries",ir.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],ir.documentKeyIndex="documentKeyIndex",ir.documentKeyIndexPath=["indexId","uid","documentKey"];class Oi{constructor(t,e,s,A,U,st){this.userId=t,this.collectionPath=e,this.documentId=s,this.collectionGroup=A,this.largestBatchId=U,this.overlayMutation=st}}Oi.store="documentOverlays",Oi.keyPath=["userId","collectionPath","documentId"],Oi.collectionPathOverlayIndex="collectionPathOverlayIndex",Oi.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Oi.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Oi.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];const Ob=[So.store,Ve.store,Ki.store,ii.store,bn.store,Dn.store,Ln.store,Xi.store,Ts.store,Ur.store,Oa.store,mh.store,yh.store],Db=[...Ob,Oi.store],xT=[...Db,Rn.store,er.store,ir.store],Lb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class ee{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ee((s,A)=>{this.nextCallback=U=>{this.wrapSuccess(t,U).next(s,A)},this.catchCallback=U=>{this.wrapFailure(e,U).next(s,A)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ee?e:ee.resolve(e)}catch(e){return ee.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ee.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ee.reject(e)}static resolve(t){return new ee((e,s)=>{e(t)})}static reject(t){return new ee((e,s)=>{s(t)})}static waitFor(t){return new ee((e,s)=>{let A=0,U=0,st=!1;t.forEach(gt=>{++A,gt.next(()=>{++U,st&&U===A&&e()},vt=>s(vt))}),st=!0,U===A&&e()})}static or(t){let e=ee.resolve(!1);for(const s of t)e=e.next(A=>A?ee.resolve(A):s());return e}static forEach(t,e){const s=[];return t.forEach((A,U)=>{s.push(e.call(this,A,U))}),this.waitFor(s)}}class jp{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new ki,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new dd(t,e.error)):this.At.resolve()},this.transaction.onerror=s=>{const A=Gm(s.target.error);this.At.reject(new dd(t,A))}}static open(t,e,s,A){try{return new jp(e,t.transaction(A,s))}catch(U){throw new dd(e,U)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new _T(e)}}class _r{constructor(t,e,s){this.name=t,this.version=e,this.bt=s,12.2===_r.vt((0,Se.z$)())&&ci("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return le("SimpleDb","Removing database:",t),La(window.indexedDB.deleteDatabase(t)).toPromise()}static Vt(){if(!(0,Se.hl)())return!1;if(_r.St())return!0;const t=(0,Se.z$)(),e=_r.vt(t),s=0<e&&e<10,A=_r.Dt(t),U=0<A&&A<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||U)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static Nt(t,e){return t.store(e)}static vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),s=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(s)}xt(t){var e=this;return(0,te.Z)(function*(){return e.db||(le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((s,A)=>{const U=indexedDB.open(e.name,e.version);U.onsuccess=st=>{s(st.target.result)},U.onblocked=()=>{A(new dd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},U.onerror=st=>{const gt=st.target.error;A("VersionError"===gt.name?new se(Qt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===gt.name?new se(Qt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+gt):new dd(t,gt))},U.onupgradeneeded=st=>{le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',st.oldVersion),e.bt.kt(st.target.result,U.transaction,st.oldVersion,e.version).next(()=>{le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Ot&&(e.db.onversionchange=s=>e.Ot(s)),e.db})()}Mt(t){this.Ot=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,s,A){var U=this;return(0,te.Z)(function*(){const st="readonly"===e;let gt=0;for(;;){++gt;try{U.db=yield U.xt(t);const vt=jp.open(U.db,t,st?"readonly":"readwrite",s),Mt=A(vt).next(Dt=>(vt.Pt(),Dt)).catch(Dt=>(vt.abort(Dt),ee.reject(Dt))).toPromise();return Mt.catch(()=>{}),yield vt.Rt,Mt}catch(vt){const Mt="FirebaseError"!==vt.name&&gt<3;if(le("SimpleDb","Transaction failed with error:",vt.message,"Retrying:",Mt),U.close(),!Mt)return Promise.reject(vt)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class bT{constructor(t){this.$t=t,this.Ft=!1,this.Bt=null}get isDone(){return this.Ft}get Lt(){return this.Bt}set cursor(t){this.$t=t}done(){this.Ft=!0}Ut(t){this.Bt=t}delete(){return La(this.$t.delete())}}class dd extends se{constructor(t,e){super(Qt.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Da(i){return"IndexedDbTransactionError"===i.name}class _T{constructor(t){this.store=t}put(t,e){let s;return void 0!==e?(le("SimpleDb","PUT",this.store.name,t,e),s=this.store.put(e,t)):(le("SimpleDb","PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),La(s)}add(t){return le("SimpleDb","ADD",this.store.name,t,t),La(this.store.add(t))}get(t){return La(this.store.get(t)).next(e=>(void 0===e&&(e=null),le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return le("SimpleDb","DELETE",this.store.name,t),La(this.store.delete(t))}count(){return le("SimpleDb","COUNT",this.store.name),La(this.store.count())}qt(t,e){const s=this.options(t,e);if(s.index||"function"!=typeof this.store.getAll){const A=this.cursor(s),U=[];return this.Kt(A,(st,gt)=>{U.push(gt)}).next(()=>U)}{const A=this.store.getAll(s.range);return new ee((U,st)=>{A.onerror=gt=>{st(gt.target.error)},A.onsuccess=gt=>{U(gt.target.result)}})}}Gt(t,e){le("SimpleDb","DELETE ALL",this.store.name);const s=this.options(t,e);s.jt=!1;const A=this.cursor(s);return this.Kt(A,(U,st,gt)=>gt.delete())}Qt(t,e){let s;e?s=t:(s={},e=t);const A=this.cursor(s);return this.Kt(A,e)}Wt(t){const e=this.cursor({});return new ee((s,A)=>{e.onerror=U=>{const st=Gm(U.target.error);A(st)},e.onsuccess=U=>{const st=U.target.result;st?t(st.primaryKey,st.value).next(gt=>{gt?st.continue():s()}):s()}})}Kt(t,e){const s=[];return new ee((A,U)=>{t.onerror=st=>{U(st.target.error)},t.onsuccess=st=>{const gt=st.target.result;if(!gt)return void A();const vt=new bT(gt),Mt=e(gt.primaryKey,gt.value,vt);if(Mt instanceof ee){const Dt=Mt.catch(Ft=>(vt.done(),ee.reject(Ft)));s.push(Dt)}vt.isDone?A():null===vt.Lt?gt.continue():gt.continue(vt.Lt)}}).next(()=>ee.waitFor(s))}options(t,e){let s;return void 0!==t&&("string"==typeof t?s=t:e=t),{index:s,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const s=this.store.index(t.index);return t.jt?s.openKeyCursor(t.range,e):s.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function La(i){return new ee((t,e)=>{i.onsuccess=s=>{t(s.target.result)},i.onerror=s=>{const A=Gm(s.target.error);e(A)}})}let Nb=!1;function Gm(i){const t=_r.vt((0,Se.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){const s=new se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Nb||(Nb=!0,setTimeout(()=>{throw s},0)),s}}return i}class jb extends Rb{constructor(t,e){super(),this.zt=t,this.currentSequenceNumber=e}}function Di(i,t){const e=ue(i);return _r.Nt(e.zt,t)}class Um{constructor(t,e,s,A){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=A}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let A=0;A<this.mutations.length;A++){const U=this.mutations[A];U.key.isEqual(t.key)&&XC(U,t,s[A])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Rm(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Rm(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const s=t.get(e.key),A=s;this.applyToLocalView(A),s.isValidDocument()||A.convertToNoDocument(Ce.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Fe())}isEqual(t){return this.batchId===t.batchId&&nh(this.mutations,t.mutations,(e,s)=>ab(e,s))&&nh(this.baseMutations,t.baseMutations,(e,s)=>ab(e,s))}}class Hm{constructor(t,e,s,A){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=A}static from(t,e,s){Te(t.mutations.length===s.length);let A=QC;const U=t.mutations;for(let st=0;st<U.length;st++)A=A.insert(U[st].key,s[st].version);return new Hm(t,e,s,A)}}class Wm{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Co{constructor(t,e,s,A,U=Ce.min(),st=Ce.min(),gt=vi.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=A,this.snapshotVersion=U,this.lastLimboFreeSnapshotVersion=st,this.resumeToken=gt}withSequenceNumber(t){return new Co(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class Bb{constructor(t){this.Ht=t}}function Fb(i,t){let e;if(t.document)e=Tb(i.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const s=me.fromSegments(t.noDocument.path),A=Na(t.noDocument.readTime);e=Ke.newNoDocument(s,A),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return be();{const s=me.fromSegments(t.unknownDocument.path),A=Na(t.unknownDocument.version);e=Ke.newUnknownDocument(s,A)}}return t.readTime&&e.setReadTime(Ym(t.readTime)),e}function zb(i,t){const e=Vm(t.readTime),s=t.key.path.popLast().toArray();if(t.isFoundDocument()){const A={name:ld(st=i.Ht,(gt=t).key),fields:gt.data.value.mapValue.fields,updateTime:ad(st,gt.version.toTimestamp())};return new ii(null,null,A,t.hasCommittedMutations,e,s)}var st,gt;if(t.isNoDocument()){const A=t.key.path.toArray(),U=Ra(t.version),st=t.hasCommittedMutations;return new ii(null,new yT(A,U),null,st,e,s)}if(t.isUnknownDocument()){const A=t.key.path.toArray(),U=Ra(t.version);return new ii(new vT(A,U),null,null,!0,e,s)}return be()}function Vm(i){const t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function Ym(i){const t=new Ai(i[0],i[1]);return Ce.fromTimestamp(t)}function Ra(i){const t=i.toTimestamp();return new mT(t.seconds,t.nanoseconds)}function Na(i){const t=new Ai(i.seconds,i.nanoseconds);return Ce.fromTimestamp(t)}function vh(i,t){const e=(t.baseMutations||[]).map(U=>zm(i.Ht,U));for(let U=0;U<t.mutations.length-1;++U){const st=t.mutations[U];U+1<t.mutations.length&&void 0!==t.mutations[U+1].transform&&(st.updateTransforms=t.mutations[U+1].transform.fieldTransforms,t.mutations.splice(U+1,1),++U)}const s=t.mutations.map(U=>zm(i.Ht,U)),A=Ai.fromMillis(t.localWriteTimeMs);return new Um(t.batchId,A,e,s)}function ud(i){const t=Na(i.readTime),e=void 0!==i.lastLimboFreeSnapshotVersion?Na(i.lastLimboFreeSnapshotVersion):Ce.min();let s;var A;return void 0!==i.query.documents?(Te(1===(A=i.query).documents.length),s=Jn(hh(wb(A.documents[0])))):s=Jn(Ab(i.query)),new Co(s,i.targetId,0,i.lastListenSequenceNumber,t,e,vi.fromBase64String(i.resumeToken))}function Gb(i,t){const e=Ra(t.snapshotVersion),s=Ra(t.lastLimboFreeSnapshotVersion);let A;A=Ap(t.target)?Mb(i.Ht,t.target):kb(i.Ht,t.target);const U=t.resumeToken.toBase64();return new bn(t.targetId,td(t.target),e,U,t.sequenceNumber,s,A)}function Xm(i){const t=Ab({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?$x(t,t.limit,"L"):t}function Zm(i,t){return new Wm(t.largestBatchId,zm(i.Ht,t.overlayMutation))}function Ub(i,t){const e=t.path.lastSegment();return[i,Ii(t.path.popLast()),e]}class wT{getBundleMetadata(t,e){return Hb(t).get(e).next(s=>{if(s)return{id:(A=s).bundleId,createTime:Na(A.createTime),version:A.version};var A})}saveBundleMetadata(t,e){return Hb(t).put({bundleId:(s=e).id,createTime:Ra(Pi(s.createTime)),version:s.version});var s}getNamedQuery(t,e){return Wb(t).get(e).next(s=>{if(s)return{name:(A=s).name,query:Xm(A.bundledQuery),readTime:Na(A.readTime)};var A})}saveNamedQuery(t,e){return Wb(t).put({name:(s=e).name,readTime:Ra(Pi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Hb(i){return Di(i,mh.store)}function Wb(i){return Di(i,yh.store)}class qm{constructor(t,e){this.O=t,this.userId=e}static Jt(t,e){return new qm(t,e.uid||"")}getOverlay(t,e){return pd(t).get(Ub(this.userId,e)).next(s=>s?Zm(this.O,s):null)}saveOverlays(t,e,s){const A=[];return s.forEach(U=>{const st=new Wm(e,U);A.push(this.Yt(t,st))}),ee.waitFor(A)}removeOverlaysForBatchId(t,e,s){const A=new Set;e.forEach(st=>A.add(Ii(st.getCollectionPath())));const U=[];return A.forEach(st=>{const gt=IDBKeyRange.bound([this.userId,st,s],[this.userId,st,s+1],!1,!0);U.push(pd(t).Gt(Oi.collectionPathOverlayIndex,gt))}),ee.waitFor(U)}getOverlaysForCollection(t,e,s){const A=new Map,U=Ii(e),st=IDBKeyRange.bound([this.userId,U,s],[this.userId,U,Number.POSITIVE_INFINITY],!0);return pd(t).qt(Oi.collectionPathOverlayIndex,st).next(gt=>{for(const vt of gt){const Mt=Zm(this.O,vt);A.set(Mt.getKey(),Mt)}return A})}getOverlaysForCollectionGroup(t,e,s,A){const U=new Map;let st;const gt=IDBKeyRange.bound([this.userId,e,s],[this.userId,e,Number.POSITIVE_INFINITY],!0);return pd(t).Qt({index:Oi.collectionGroupOverlayIndex,range:gt},(vt,Mt,Dt)=>{const Ft=Zm(this.O,Mt);U.size<A||Ft.largestBatchId===st?(U.set(Ft.getKey(),Ft),st=Ft.largestBatchId):Dt.done()}).next(()=>U)}Yt(t,e){return pd(t).put(function(s,A,U){const[st,gt,vt]=Ub(A,U.mutation.key);return new Oi(A,gt,vt,U.mutation.key.getCollectionGroup(),U.largestBatchId,cd(s.Ht,U.mutation))}(this.O,this.userId,e))}}function pd(i){return Di(i,Oi.store)}class Bp{constructor(){}Xt(t,e){this.Zt(t,e),e.te()}Zt(t,e){if("nullValue"in t)this.ee(e,5);else if("booleanValue"in t)this.ee(e,10),e.ne(t.booleanValue?1:0);else if("integerValue"in t)this.ee(e,15),e.ne(ei(t.integerValue));else if("doubleValue"in t){const s=ei(t.doubleValue);isNaN(s)?this.ee(e,13):(this.ee(e,15),$c(s)?e.ne(0):e.ne(s))}else if("timestampValue"in t){const s=t.timestampValue;this.ee(e,20),"string"==typeof s?e.se(s):(e.se(`${s.seconds||""}`),e.ne(s.nanos||0))}else if("stringValue"in t)this.ie(t.stringValue,e),this.re(e);else if("bytesValue"in t)this.ee(e,30),e.oe(Ta(t.bytesValue)),this.re(e);else if("referenceValue"in t)this.ce(t.referenceValue,e);else if("geoPointValue"in t){const s=t.geoPointValue;this.ee(e,45),e.ne(s.latitude||0),e.ne(s.longitude||0)}else"mapValue"in t?br(t,IC)?this.ee(e,Number.MAX_SAFE_INTEGER):(this.ue(t.mapValue,e),this.re(e)):"arrayValue"in t?(this.ae(t.arrayValue,e),this.re(e)):be()}ie(t,e){this.ee(e,25),this.he(t,e)}he(t,e){e.se(t)}ue(t,e){const s=t.fields||{};this.ee(e,55);for(const A of Object.keys(s))this.ie(A,e),this.Zt(s[A],e)}ae(t,e){const s=t.values||[];this.ee(e,50);for(const A of s)this.Zt(A,e)}ce(t,e){this.ee(e,37),me.fromName(t).path.forEach(s=>{this.ee(e,60),this.he(s,e)})}ee(t,e){t.ne(e)}re(t){t.ne(2)}}function ST(i){if(0===i)return 8;let t=0;return i>>4==0&&(t+=4,i<<=4),i>>6==0&&(t+=2,i<<=2),i>>7==0&&(t+=1),t}function Vb(i){const t=64-function(e){let s=0;for(let A=0;A<8;++A){const U=ST(255&e[A]);if(s+=U,8!==U)break}return s}(i);return Math.ceil(t/8)}Bp.le=new Bp;class CT{constructor(){this.buffer=new Uint8Array(1024),this.position=0}fe(t){const e=t[Symbol.iterator]();let s=e.next();for(;!s.done;)this.de(s.value),s=e.next();this._e()}we(t){const e=t[Symbol.iterator]();let s=e.next();for(;!s.done;)this.me(s.value),s=e.next();this.ge()}ye(t){for(const e of t){const s=e.charCodeAt(0);if(s<128)this.de(s);else if(s<2048)this.de(960|s>>>6),this.de(128|63&s);else if(e<"\ud800"||"\udbff"<e)this.de(480|s>>>12),this.de(128|63&s>>>6),this.de(128|63&s);else{const A=e.codePointAt(0);this.de(240|A>>>18),this.de(128|63&A>>>12),this.de(128|63&A>>>6),this.de(128|63&A)}}this._e()}pe(t){for(const e of t){const s=e.charCodeAt(0);if(s<128)this.me(s);else if(s<2048)this.me(960|s>>>6),this.me(128|63&s);else if(e<"\ud800"||"\udbff"<e)this.me(480|s>>>12),this.me(128|63&s>>>6),this.me(128|63&s);else{const A=e.codePointAt(0);this.me(240|A>>>18),this.me(128|63&A>>>12),this.me(128|63&A>>>6),this.me(128|63&A)}}this.ge()}Ie(t){const e=this.Ee(t),s=Vb(e);this.Te(1+s),this.buffer[this.position++]=255&s;for(let A=e.length-s;A<e.length;++A)this.buffer[this.position++]=255&e[A]}Ae(t){const e=this.Ee(t),s=Vb(e);this.Te(1+s),this.buffer[this.position++]=~(255&s);for(let A=e.length-s;A<e.length;++A)this.buffer[this.position++]=~(255&e[A])}Re(){this.Pe(255),this.Pe(255)}be(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Te(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ve(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(A){const U=new DataView(new ArrayBuffer(8));return U.setFloat64(0,A,!1),new Uint8Array(U.buffer)}(t),s=0!=(128&e[0]);e[0]^=s?255:128;for(let A=1;A<e.length;++A)e[A]^=s?255:0;return e}de(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}me(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}_e(){this.Pe(0),this.Pe(1)}ge(){this.ve(0),this.ve(1)}Pe(t){this.Te(1),this.buffer[this.position++]=t}ve(t){this.Te(1),this.buffer[this.position++]=~t}Te(t){const e=t+this.position;if(e<=this.buffer.length)return;let s=2*this.buffer.length;s<e&&(s=e);const A=new Uint8Array(s);A.set(this.buffer),this.buffer=A}}class TT{constructor(t){this.Se=t}oe(t){this.Se.fe(t)}se(t){this.Se.ye(t)}ne(t){this.Se.Ie(t)}te(){this.Se.Re()}}class MT{constructor(t){this.Se=t}oe(t){this.Se.we(t)}se(t){this.Se.pe(t)}ne(t){this.Se.Ae(t)}te(){this.Se.be()}}class Yb{constructor(){this.Se=new CT,this.De=new TT(this.Se),this.Ce=new MT(this.Se)}seed(t){this.Se.seed(t)}Ne(t){return 0===t?this.De:this.Ce}Ve(){return this.Se.Ve()}reset(){this.Se.reset()}}class $m{constructor(t,e,s,A){this.indexId=t,this.documentKey=e,this.arrayValue=s,this.directionalValue=A}}function Km(i,t){let e=i.indexId-t.indexId;return 0!==e?e:(e=me.comparator(i.documentKey,t.documentKey),0!==e?e:(e=Xb(i.arrayValue,t.arrayValue),0!==e?e:Xb(i.directionalValue,t.directionalValue)))}function Xb(i,t){for(let e=0;e<i.length&&e<t.length;++e){const s=i[e]-t[e];if(0!==s)return s}return i.length-t.length}class kT{constructor(){this.xe=new Qm}addToCollectionParentIndex(t,e){return this.xe.add(e),ee.resolve()}getCollectionParents(t,e){return ee.resolve(this.xe.getEntries(e))}addFieldIndex(t,e){return ee.resolve()}deleteFieldIndex(t,e){return ee.resolve()}getDocumentsMatchingTarget(t,e,s){return ee.resolve(Fe())}getFieldIndex(t,e){return ee.resolve(null)}getFieldIndexes(t,e){return ee.resolve([])}getNextCollectionGroupToUpdate(t){return ee.resolve(null)}updateCollectionGroup(t,e,s){return ee.resolve()}updateIndexEntries(t,e){return ee.resolve()}}class Qm{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),A=this.index[e]||new qe(Be.comparator),U=!A.has(s);return this.index[e]=A.add(s),U}has(t){const e=t.lastSegment(),s=t.popLast(),A=this.index[e];return A&&A.has(s)}getEntries(t){return(this.index[t]||new qe(Be.comparator)).toArray()}}class AT{constructor(t){this.user=t,this.ke=new Qm,this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.ke.has(e)){const s=e.lastSegment(),A=e.popLast();t.addOnCommittedListener(()=>{this.ke.add(e)});const U={collectionId:s,parent:Ii(A)};return Zb(t).put(U)}return ee.resolve()}getCollectionParents(t,e){const s=[],A=IDBKeyRange.bound([e,""],[Nx(e),""],!1,!0);return Zb(t).qt(A).next(U=>{for(const st of U){if(st.collectionId!==e)break;s.push(Gr(st.parent))}return s})}addFieldIndex(t,e){const s=zp(t),A=new Rn((U=e).indexId,U.collectionGroup,U.fields.map(st=>[st.fieldPath.canonicalString(),st.kind]));var U;return delete A.indexId,s.add(A).next()}deleteFieldIndex(t,e){const s=zp(t),A=Gp(t),U=Fp(t);return s.delete(e.indexId).next(()=>A.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>U.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e,s){return ee.resolve(Fe())}getFieldIndex(t,e){return ee.resolve(null)}Oe(t,e){const s=new Yb;for(const A of t.fields.filter(st=>2!==st.kind)){const U=e.data.field(A.fieldPath);if(null==U)return null;const st=s.Ne(A.kind);Bp.le.Xt(U,st)}return s.Ve()}Me(t){const e=new Yb;return Bp.le.Xt(t,e.Ne(0)),e.Ve()}getFieldIndexes(t,e){const s=zp(t),A=Gp(t);return(e?s.qt(Rn.collectionGroupIndex,IDBKeyRange.bound(e,e)):s.qt()).next(U=>{const st=[];return ee.forEach(U,gt=>A.get([gt.indexId,this.uid]).next(vt=>{st.push(function(Mt,Dt){const Ft=Dt?new Jc(Dt.sequenceNumber,new Mp(Na(Dt.readTime),new me(Gr(Dt.documentKey)),Dt.largestBatchId)):Jc.empty(),Wt=Mt.fields.map(([Kt,Jt])=>new Tp(Ei.fromServerFormat(Kt),Jt));return new Em(Mt.indexId,Mt.collectionGroup,Wt,Ft)}(gt,vt))})).next(()=>st)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((s,A)=>s.indexState.sequenceNumber-A.indexState.sequenceNumber),e[0].collectionGroup))}updateCollectionGroup(t,e,s){const A=zp(t),U=Gp(t);return this.$e(t).next(st=>A.qt(Rn.collectionGroupIndex,IDBKeyRange.bound(e,e)).next(gt=>ee.forEach(gt,vt=>{return U.put(new er(vt.indexId,this.user.uid||"",st,Ra((Wt=s).readTime),Ii(Wt.documentKey.path),Wt.largestBatchId));var Wt})))}updateIndexEntries(t,e){const s=new Map;return ee.forEach(e,(A,U)=>{const st=s.get(A.collectionGroup);return(st?ee.resolve(st):this.getFieldIndexes(t,A.collectionGroup)).next(gt=>(s.set(A.collectionGroup,gt),ee.forEach(gt,vt=>this.Fe(t,A,vt).next(Mt=>{const Dt=this.Be(U,vt);return Mt.isEqual(Dt)?ee.resolve():this.Le(t,U,Mt,Dt)}))))})}Ue(t,e,s){return Fp(t).put(new ir(s.indexId,this.uid,s.arrayValue,s.directionalValue,Ii(e.key.path)))}qe(t,e,s){return Fp(t).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,Ii(e.key.path)])}Fe(t,e,s){const A=Fp(t);let U=new qe(Km);return A.Qt({index:ir.documentKeyIndex,range:IDBKeyRange.only([s.indexId,this.uid,Ii(e.path)])},(st,gt)=>{U=U.add(new $m(s.indexId,e,gt.arrayValue,gt.directionalValue))}).next(()=>U)}Be(t,e){let s=new qe(Km);const A=this.Oe(e,t);if(null==A)return s;const U=e.fields.find(gt=>2===gt.kind);if(null!=U){const st=t.data.field(U.fieldPath);if(Sp(st))for(const gt of st.arrayValue.values||[])s=s.add(new $m(e.indexId,t.key,this.Me(gt),A))}else s=s.add(new $m(e.indexId,t.key,new Uint8Array,A));return s}Le(t,e,s,A){le("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const U=[];return function(st,gt,vt,Mt,Dt){const Ft=st.getIterator(),Wt=gt.getIterator();let Kt=ph(Ft),Jt=ph(Wt);for(;Kt||Jt;){let he=!1,ce=!1;if(Kt&&Jt){const Ee=vt(Kt,Jt);Ee<0?ce=!0:Ee>0&&(he=!0)}else null!=Kt?ce=!0:he=!0;he?(Mt(Jt),Jt=ph(Wt)):ce?(Dt(Kt),Kt=ph(Ft)):(Kt=ph(Ft),Jt=ph(Wt))}}(s,A,Km,st=>{U.push(this.Ue(t,e,st))},st=>{U.push(this.qe(t,e,st))}),ee.waitFor(U)}$e(t){let e=1;return Gp(t).Qt({index:er.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,A,U)=>{U.done(),e=A.sequenceNumber+1}).next(()=>e)}}function Zb(i){return Di(i,Oa.store)}function Fp(i){return Di(i,ir.store)}function zp(i){return Di(i,Rn.store)}function Gp(i){return Di(i,er.store)}const qb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _n{constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $b(i,t,e){const s=i.store(Ve.store),A=i.store(Ki.store),U=[],st=IDBKeyRange.only(e.batchId);let gt=0;const vt=s.Qt({range:st},(Dt,Ft,Wt)=>(gt++,Wt.delete()));U.push(vt.next(()=>{Te(1===gt)}));const Mt=[];for(const Dt of e.mutations){const Ft=Ki.key(t,Dt.key.path,e.batchId);U.push(A.delete(Ft)),Mt.push(Dt.key)}return ee.waitFor(U).next(()=>Mt)}function Up(i){if(!i)return 0;let t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw be();t=i.noDocument}return JSON.stringify(t).length}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(41943040,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class Jm{constructor(t,e,s,A){this.userId=t,this.O=e,this.indexManager=s,this.referenceDelegate=A,this.Ke={}}static Jt(t,e,s,A){Te(""!==t.uid);const U=t.isAuthenticated()?t.uid:"";return new Jm(U,e,s,A)}checkEmpty(t){let e=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return To(t).Qt({index:Ve.userMutationsIndex,range:s},(A,U,st)=>{e=!1,st.done()}).next(()=>e)}addMutationBatch(t,e,s,A){const U=xh(t),st=To(t);return st.add({}).next(gt=>{Te("number"==typeof gt);const vt=new Um(gt,e,s,A),Mt=function(Wt,Kt,Jt){const he=Jt.baseMutations.map(Ee=>cd(Wt.Ht,Ee)),ce=Jt.mutations.map(Ee=>cd(Wt.Ht,Ee));return new Ve(Kt,Jt.batchId,Jt.localWriteTime.toMillis(),he,ce)}(this.O,this.userId,vt),Dt=[];let Ft=new qe((Wt,Kt)=>Oe(Wt.canonicalString(),Kt.canonicalString()));for(const Wt of A){const Kt=Ki.key(this.userId,Wt.key.path,gt);Ft=Ft.add(Wt.key.path.popLast()),Dt.push(st.put(Mt)),Dt.push(U.put(Kt,Ki.PLACEHOLDER))}return Ft.forEach(Wt=>{Dt.push(this.indexManager.addToCollectionParentIndex(t,Wt))}),t.addOnCommittedListener(()=>{this.Ke[gt]=vt.keys()}),ee.waitFor(Dt).next(()=>vt)})}lookupMutationBatch(t,e){return To(t).get(e).next(s=>s?(Te(s.userId===this.userId),vh(this.O,s)):null)}Ge(t,e){return this.Ke[e]?ee.resolve(this.Ke[e]):this.lookupMutationBatch(t,e).next(s=>{if(s){const A=s.keys();return this.Ke[e]=A,A}return null})}getNextMutationBatchAfterBatchId(t,e){const s=e+1,A=IDBKeyRange.lowerBound([this.userId,s]);let U=null;return To(t).Qt({index:Ve.userMutationsIndex,range:A},(st,gt,vt)=>{gt.userId===this.userId&&(Te(gt.batchId>=s),U=vh(this.O,gt)),vt.done()}).next(()=>U)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return To(t).Qt({index:Ve.userMutationsIndex,range:e,reverse:!0},(A,U,st)=>{s=U.batchId,st.done()}).next(()=>s)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return To(t).qt(Ve.userMutationsIndex,e).next(s=>s.map(A=>vh(this.O,A)))}getAllMutationBatchesAffectingDocumentKey(t,e){const s=Ki.prefixForPath(this.userId,e.path),A=IDBKeyRange.lowerBound(s),U=[];return xh(t).Qt({range:A},(st,gt,vt)=>{const[Mt,Dt,Ft]=st,Wt=Gr(Dt);if(Mt===this.userId&&e.path.isEqual(Wt))return To(t).get(Ft).next(Kt=>{if(!Kt)throw be();Te(Kt.userId===this.userId),U.push(vh(this.O,Kt))});vt.done()}).next(()=>U)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new qe(Oe);const A=[];return e.forEach(U=>{const st=Ki.prefixForPath(this.userId,U.path),gt=IDBKeyRange.lowerBound(st),vt=xh(t).Qt({range:gt},(Mt,Dt,Ft)=>{const[Wt,Kt,Jt]=Mt,he=Gr(Kt);Wt===this.userId&&U.path.isEqual(he)?s=s.add(Jt):Ft.done()});A.push(vt)}),ee.waitFor(A).next(()=>this.je(t,s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,A=s.length+1,U=Ki.prefixForPath(this.userId,s),st=IDBKeyRange.lowerBound(U);let gt=new qe(Oe);return xh(t).Qt({range:st},(vt,Mt,Dt)=>{const[Ft,Wt,Kt]=vt,Jt=Gr(Wt);Ft===this.userId&&s.isPrefixOf(Jt)?Jt.length===A&&(gt=gt.add(Kt)):Dt.done()}).next(()=>this.je(t,gt))}je(t,e){const s=[],A=[];return e.forEach(U=>{A.push(To(t).get(U).next(st=>{if(null===st)throw be();Te(st.userId===this.userId),s.push(vh(this.O,st))}))}),ee.waitFor(A).next(()=>s)}removeMutationBatch(t,e){return $b(t.zt,this.userId,e).next(s=>(t.addOnCommittedListener(()=>{this.Qe(e.batchId)}),ee.forEach(s,A=>this.referenceDelegate.markPotentiallyOrphaned(t,A))))}Qe(t){delete this.Ke[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ee.resolve();const s=IDBKeyRange.lowerBound(Ki.prefixForUser(this.userId)),A=[];return xh(t).Qt({range:s},(U,st,gt)=>{if(U[0]===this.userId){const vt=Gr(U[1]);A.push(vt)}else gt.done()}).next(()=>{Te(0===A.length)})})}containsKey(t,e){return Kb(t,this.userId,e)}We(t){return Qb(t).get(this.userId).next(e=>e||new So(this.userId,-1,""))}}function Kb(i,t,e){const s=Ki.prefixForPath(t,e.path),A=s[1],U=IDBKeyRange.lowerBound(s);let st=!1;return xh(i).Qt({range:U,jt:!0},(gt,vt,Mt)=>{const[Dt,Ft,Wt]=gt;Dt===t&&Ft===A&&(st=!0),Mt.done()}).next(()=>st)}function To(i){return Di(i,Ve.store)}function xh(i){return Di(i,Ki.store)}function Qb(i){return Di(i,So.store)}class ja{constructor(t){this.ze=t}next(){return this.ze+=2,this.ze}static He(){return new ja(0)}static Je(){return new ja(-1)}}class ET{constructor(t,e){this.referenceDelegate=t,this.O=e}allocateTargetId(t){return this.Ye(t).next(e=>{const s=new ja(e.highestTargetId);return e.highestTargetId=s.next(),this.Xe(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Ye(t).next(e=>Ce.fromTimestamp(new Ai(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Ye(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,s){return this.Ye(t).next(A=>(A.highestListenSequenceNumber=e,s&&(A.lastRemoteSnapshotVersion=s.toTimestamp()),e>A.highestListenSequenceNumber&&(A.highestListenSequenceNumber=e),this.Xe(t,A)))}addTargetData(t,e){return this.Ze(t,e).next(()=>this.Ye(t).next(s=>(s.targetCount+=1,this.tn(e,s),this.Xe(t,s))))}updateTargetData(t,e){return this.Ze(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>bh(t).delete(e.targetId)).next(()=>this.Ye(t)).next(s=>(Te(s.targetCount>0),s.targetCount-=1,this.Xe(t,s)))}removeTargets(t,e,s){let A=0;const U=[];return bh(t).Qt((st,gt)=>{const vt=ud(gt);vt.sequenceNumber<=e&&null===s.get(vt.targetId)&&(A++,U.push(this.removeTargetData(t,vt)))}).next(()=>ee.waitFor(U)).next(()=>A)}forEachTarget(t,e){return bh(t).Qt((s,A)=>{const U=ud(A);e(U)})}Ye(t){return Jb(t).get(Ln.key).next(e=>(Te(null!==e),e))}Xe(t,e){return Jb(t).put(Ln.key,e)}Ze(t,e){return bh(t).put(Gb(this.O,e))}tn(t,e){let s=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,s=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,s=!0),s}getTargetCount(t){return this.Ye(t).next(e=>e.targetCount)}getTargetData(t,e){const s=td(e),A=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let U=null;return bh(t).Qt({range:A,index:bn.queryTargetsIndexName},(st,gt,vt)=>{const Mt=ud(gt);kp(e,Mt.target)&&(U=Mt,vt.done())}).next(()=>U)}addMatchingKeys(t,e,s){const A=[],U=Mo(t);return e.forEach(st=>{const gt=Ii(st.path);A.push(U.put(new Xi(s,gt))),A.push(this.referenceDelegate.addReference(t,s,st))}),ee.waitFor(A)}removeMatchingKeys(t,e,s){const A=Mo(t);return ee.forEach(e,U=>{const st=Ii(U.path);return ee.waitFor([A.delete([s,st]),this.referenceDelegate.removeReference(t,s,U)])})}removeMatchingKeysForTargetId(t,e){const s=Mo(t),A=IDBKeyRange.bound([e],[e+1],!1,!0);return s.delete(A)}getMatchingKeysForTargetId(t,e){const s=IDBKeyRange.bound([e],[e+1],!1,!0),A=Mo(t);let U=Fe();return A.Qt({range:s,jt:!0},(st,gt,vt)=>{const Mt=Gr(st[1]),Dt=new me(Mt);U=U.add(Dt)}).next(()=>U)}containsKey(t,e){const s=Ii(e.path),A=IDBKeyRange.bound([s],[Nx(s)],!1,!0);let U=0;return Mo(t).Qt({index:Xi.documentTargetsIndex,jt:!0,range:A},([st,gt],vt,Mt)=>{0!==st&&(U++,Mt.done())}).next(()=>U>0)}Tt(t,e){return bh(t).get(e).next(s=>s?ud(s):null)}}function bh(i){return Di(i,bn.store)}function Jb(i){return Di(i,Ln.store)}function Mo(i){return Di(i,Xi.store)}function Ba(i){return ty.apply(this,arguments)}function ty(){return ty=(0,te.Z)(function*(i){if(i.code!==Qt.FAILED_PRECONDITION||i.message!==Lb)throw i;le("LocalStore","Unexpectedly lost primary lease")}),ty.apply(this,arguments)}function t_([i,t],[e,s]){const A=Oe(i,e);return 0===A?Oe(t,s):A}class PT{constructor(t){this.en=t,this.buffer=new qe(t_),this.nn=0}sn(){return++this.nn}rn(t){const e=[t,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();t_(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class IT{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.on=!1,this.cn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(t)}stop(){this.cn&&(this.cn.cancel(),this.cn=null)}get started(){return null!==this.cn}un(t){var e=this;const s=this.on?3e5:6e4;le("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,te.Z)(function*(){e.cn=null,e.on=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(A){Da(A)?le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",A):yield Ba(A)}yield e.un(t)}))}}class OT{constructor(t,e){this.an=t,this.params=e}calculateTargetCount(t,e){return this.an.hn(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(0===e)return ee.resolve(On.A);const s=new PT(e);return this.an.forEachTarget(t,A=>s.rn(A.sequenceNumber)).next(()=>this.an.ln(t,A=>s.rn(A))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.an.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.an.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(qb)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qb):this.fn(t,e))}getCacheSize(t){return this.an.getCacheSize(t)}fn(t,e){let s,A,U,st,gt,vt,Mt;const Dt=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Ft=>(Ft>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ft}`),A=this.params.maximumSequenceNumbersToCollect):A=Ft,st=Date.now(),this.nthSequenceNumber(t,A))).next(Ft=>(s=Ft,gt=Date.now(),this.removeTargets(t,s,e))).next(Ft=>(U=Ft,vt=Date.now(),this.removeOrphanedDocuments(t,s))).next(Ft=>(Mt=Date.now(),Cm()<=vo.in.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${st-Dt}ms\n\tDetermined least recently used ${A} in `+(gt-st)+`ms\n\tRemoved ${U} targets in `+(vt-gt)+`ms\n\tRemoved ${Ft} documents in `+(Mt-vt)+`ms\nTotal Duration: ${Mt-Dt}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:A,targetsRemoved:U,documentsRemoved:Ft})))}}class DT{constructor(t,e){this.db=t,this.garbageCollector=new OT(this,e)}hn(t){const e=this.dn(t);return this.db.getTargetCache().getTargetCount(t).next(s=>e.next(A=>s+A))}dn(t){let e=0;return this.ln(t,s=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ln(t,e){return this._n(t,(s,A)=>e(A))}addReference(t,e,s){return Hp(t,s)}removeReference(t,e,s){return Hp(t,s)}removeTargets(t,e,s){return this.db.getTargetCache().removeTargets(t,e,s)}markPotentiallyOrphaned(t,e){return Hp(t,e)}wn(t,e){return function(s,A){let U=!1;return Qb(s).Wt(st=>Kb(s,st,A).next(gt=>(gt&&(U=!0),ee.resolve(!gt)))).next(()=>U)}(t,e)}removeOrphanedDocuments(t,e){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),A=[];let U=0;return this._n(t,(st,gt)=>{if(gt<=e){const vt=this.wn(t,st).next(Mt=>{if(!Mt)return U++,s.getEntry(t,st).next(()=>(s.removeEntry(st,Ce.min()),Mo(t).delete([0,Ii(st.path)])))});A.push(vt)}}).next(()=>ee.waitFor(A)).next(()=>s.apply(t)).next(()=>U)}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)}updateLimboDocument(t,e){return Hp(t,e)}_n(t,e){const s=Mo(t);let A,U=On.A;return s.Qt({index:Xi.documentTargetsIndex},([st,gt],{path:vt,sequenceNumber:Mt})=>{0===st?(U!==On.A&&e(new me(Gr(A)),U),U=Mt,A=vt):U=On.A}).next(()=>{U!==On.A&&e(new me(Gr(A)),U)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Hp(i,t){return Mo(i).put((s=i.currentSequenceNumber,new Xi(0,Ii(t.path),s)));var s}class _h{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(void 0!==s)for(const[A,U]of s)if(this.equalsFn(A,t))return U}has(t){return void 0!==this.get(t)}set(t,e){const s=this.mapKeyFn(t),A=this.inner[s];if(void 0!==A){for(let U=0;U<A.length;U++)if(this.equalsFn(A[U][0],t))return void(A[U]=[t,e]);A.push([t,e])}else this.inner[s]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(void 0===s)return!1;for(let A=0;A<s.length;A++)if(this.equalsFn(s[A][0],t))return 1===s.length?delete this.inner[e]:s.splice(A,1),!0;return!1}forEach(t){Ca(this.inner,(e,s)=>{for(const[A,U]of s)t(A,U)})}isEmpty(){return Bx(this.inner)}}class e_{constructor(){this.changes=new _h(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return void 0!==s?ee.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class LT{constructor(t){this.O=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,s){return ko(t).put(Wp(e),s)}removeEntry(t,e){const s=ko(t),A=Wp(e);return s.delete(A)}updateMetadata(t,e){return this.getMetadata(t).next(s=>(s.byteSize+=e,this.mn(t,s)))}getEntry(t,e){return ko(t).get(Wp(e)).next(s=>this.gn(e,s))}yn(t,e){return ko(t).get(Wp(e)).next(s=>({document:this.gn(e,s),size:Up(s)}))}getEntries(t,e){let s=tr();return this.pn(t,e,(A,U)=>{const st=this.gn(A,U);s=s.insert(A,st)}).next(()=>s)}In(t,e){let s=tr(),A=new ai(me.comparator);return this.pn(t,e,(U,st)=>{const gt=this.gn(U,st);s=s.insert(U,gt),A=A.insert(U,Up(st))}).next(()=>({documents:s,En:A}))}pn(t,e,s){if(e.isEmpty())return ee.resolve();const A=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),U=e.getIterator();let st=U.getNext();return ko(t).Qt({range:A},(gt,vt,Mt)=>{const Dt=me.fromSegments(gt);for(;st&&me.comparator(st,Dt)<0;)s(st,null),st=U.getNext();st&&st.isEqual(Dt)&&(s(st,vt),st=U.hasNext()?U.getNext():null),st?Mt.Ut(st.path.toArray()):Mt.done()}).next(()=>{for(;st;)s(st,null),st=U.hasNext()?U.getNext():null})}getAll(t,e,s){let A=tr();const U=e.length+1,st={};if(s.isEqual(Ce.min())){const gt=e.toArray();st.range=IDBKeyRange.lowerBound(gt)}else{const gt=e.toArray(),vt=Vm(s);st.range=IDBKeyRange.lowerBound([gt,vt],!0),st.index=ii.collectionReadTimeIndex}return ko(t).Qt(st,(gt,vt,Mt)=>{if(gt.length!==U)return;const Dt=this.gn(me.fromSegments(gt),vt);e.isPrefixOf(Dt.key.path)?A=A.insert(Dt.key,Dt):Mt.done()}).next(()=>A)}newChangeBuffer(t){return new RT(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return i_(t).get(Ur.key).next(e=>(Te(!!e),e))}mn(t,e){return i_(t).put(Ur.key,e)}gn(t,e){if(e){const s=Fb(this.O,e);if(!s.isNoDocument()||!s.version.isEqual(Ce.min()))return s}return Ke.newInvalidDocument(t)}}class RT extends e_{constructor(t,e){super(),this.Tn=t,this.trackRemovals=e,this.An=new _h(s=>s.toString(),(s,A)=>s.isEqual(A))}applyChanges(t){const e=[];let s=0,A=new qe((U,st)=>Oe(U.canonicalString(),st.canonicalString()));return this.changes.forEach((U,st)=>{const gt=this.An.get(U);if(st.isValidDocument()){const vt=zb(this.Tn.O,st);A=A.add(U.path.popLast()),s+=Up(vt)-gt,e.push(this.Tn.addEntry(t,U,vt))}else if(s-=gt,this.trackRemovals){const vt=zb(this.Tn.O,st.convertToNoDocument(Ce.min()));e.push(this.Tn.addEntry(t,U,vt))}else e.push(this.Tn.removeEntry(t,U))}),A.forEach(U=>{e.push(this.Tn.indexManager.addToCollectionParentIndex(t,U))}),e.push(this.Tn.updateMetadata(t,s)),ee.waitFor(e)}getFromCache(t,e){return this.Tn.yn(t,e).next(s=>(this.An.set(e,s.size),s.document))}getAllFromCache(t,e){return this.Tn.In(t,e).next(({documents:s,En:A})=>(A.forEach((U,st)=>{this.An.set(U,st)}),s))}}function i_(i){return Di(i,Ur.store)}function ko(i){return Di(i,ii.store)}function Wp(i){return i.path.toArray()}class NT{constructor(t){this.O=t}kt(t,e,s,A){const U=new jp("createOrUpgrade",e);var gt;s<1&&A>=1&&(t.createObjectStore(Dn.store),(gt=t).createObjectStore(So.store,{keyPath:So.keyPath}),gt.createObjectStore(Ve.store,{keyPath:Ve.keyPath,autoIncrement:!0}).createIndex(Ve.userMutationsIndex,Ve.userMutationsKeyPath,{unique:!0}),gt.createObjectStore(Ki.store),n_(t),function(gt){gt.createObjectStore(ii.store)}(t));let st=ee.resolve();return s<3&&A>=3&&(0!==s&&(function(gt){gt.deleteObjectStore(Xi.store),gt.deleteObjectStore(bn.store),gt.deleteObjectStore(Ln.store)}(t),n_(t)),st=st.next(()=>function(gt){const vt=gt.store(Ln.store),Mt=new Ln(0,0,Ce.min().toTimestamp(),0);return vt.put(Ln.key,Mt)}(U))),s<4&&A>=4&&(0!==s&&(st=st.next(()=>function(gt,vt){return vt.store(Ve.store).qt().next(Mt=>{gt.deleteObjectStore(Ve.store),gt.createObjectStore(Ve.store,{keyPath:Ve.keyPath,autoIncrement:!0}).createIndex(Ve.userMutationsIndex,Ve.userMutationsKeyPath,{unique:!0});const Dt=vt.store(Ve.store),Ft=Mt.map(Wt=>Dt.put(Wt));return ee.waitFor(Ft)})}(t,U))),st=st.next(()=>{!function(gt){gt.createObjectStore(Ts.store,{keyPath:Ts.keyPath})}(t)})),s<5&&A>=5&&(st=st.next(()=>this.Rn(U))),s<6&&A>=6&&(st=st.next(()=>(function(gt){gt.createObjectStore(Ur.store)}(t),this.Pn(U)))),s<7&&A>=7&&(st=st.next(()=>this.bn(U))),s<8&&A>=8&&(st=st.next(()=>this.vn(t,U))),s<9&&A>=9&&(st=st.next(()=>{(function(gt){gt.objectStoreNames.contains("remoteDocumentChanges")&&gt.deleteObjectStore("remoteDocumentChanges")})(t),function(gt){const vt=gt.objectStore(ii.store);vt.createIndex(ii.readTimeIndex,ii.readTimeIndexPath,{unique:!1}),vt.createIndex(ii.collectionReadTimeIndex,ii.collectionReadTimeIndexPath,{unique:!1})}(e)})),s<10&&A>=10&&(st=st.next(()=>this.Vn(U))),s<11&&A>=11&&(st=st.next(()=>{(function(gt){gt.createObjectStore(mh.store,{keyPath:mh.keyPath})})(t),function(gt){gt.createObjectStore(yh.store,{keyPath:yh.keyPath})}(t)})),s<12&&A>=12&&(st=st.next(()=>{!function(gt){const vt=gt.createObjectStore(Oi.store,{keyPath:Oi.keyPath});vt.createIndex(Oi.collectionPathOverlayIndex,Oi.collectionPathOverlayIndexPath,{unique:!1}),vt.createIndex(Oi.collectionGroupOverlayIndex,Oi.collectionGroupOverlayIndexPath,{unique:!1})}(t)})),s<13&&A>=13&&(st=st.next(()=>{!function(gt){gt.createObjectStore(Rn.store,{keyPath:Rn.keyPath,autoIncrement:!0}).createIndex(Rn.collectionGroupIndex,Rn.collectionGroupIndexPath,{unique:!1}),gt.createObjectStore(er.store,{keyPath:er.keyPath}).createIndex(er.sequenceNumberIndex,er.sequenceNumberIndexPath,{unique:!1}),gt.createObjectStore(ir.store,{keyPath:ir.keyPath}).createIndex(ir.documentKeyIndex,ir.documentKeyIndexPath,{unique:!1})}(t)})),st}Pn(t){let e=0;return t.store(ii.store).Qt((s,A)=>{e+=Up(A)}).next(()=>{const s=new Ur(e);return t.store(Ur.store).put(Ur.key,s)})}Rn(t){const e=t.store(So.store),s=t.store(Ve.store);return e.qt().next(A=>ee.forEach(A,U=>{const st=IDBKeyRange.bound([U.userId,-1],[U.userId,U.lastAcknowledgedBatchId]);return s.qt(Ve.userMutationsIndex,st).next(gt=>ee.forEach(gt,vt=>{Te(vt.userId===U.userId);const Mt=vh(this.O,vt);return $b(t,U.userId,Mt).next(()=>{})}))}))}bn(t){const e=t.store(Xi.store),s=t.store(ii.store);return t.store(Ln.store).get(Ln.key).next(A=>{const U=[];return s.Qt((st,gt)=>{const vt=new Be(st),Mt=[0,Ii(vt)];U.push(e.get(Mt).next(Dt=>Dt?ee.resolve():e.put(new Xi(0,Ii(vt),A.highestListenSequenceNumber))))}).next(()=>ee.waitFor(U))})}vn(t,e){t.createObjectStore(Oa.store,{keyPath:Oa.keyPath});const s=e.store(Oa.store),A=new Qm,U=st=>{if(A.add(st)){const gt=st.lastSegment(),vt=st.popLast();return s.put({collectionId:gt,parent:Ii(vt)})}};return e.store(ii.store).Qt({jt:!0},(st,gt)=>{const vt=new Be(st);return U(vt.popLast())}).next(()=>e.store(Ki.store).Qt({jt:!0},([st,gt,vt],Mt)=>{const Dt=Gr(gt);return U(Dt.popLast())}))}Vn(t){const e=t.store(bn.store);return e.Qt((s,A)=>{const U=ud(A),st=Gb(this.O,U);return e.put(st)})}}function n_(i){i.createObjectStore(Xi.store,{keyPath:Xi.keyPath}).createIndex(Xi.documentTargetsIndex,Xi.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(bn.store,{keyPath:bn.keyPath}).createIndex(bn.queryTargetsIndexName,bn.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Ln.store)}const ey="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class iy{constructor(t,e,s,A,U,st,gt,vt,Mt,Dt,Ft=12){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=s,this.Sn=U,this.window=st,this.document=gt,this.Dn=Mt,this.Cn=Dt,this.schemaVersion=Ft,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=Wt=>Promise.resolve(),!iy.Vt())throw new se(Qt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new DT(this,A),this.Bn=e+"main",this.O=new Bb(vt),this.Ln=new _r(this.Bn,this.schemaVersion,new NT(this.O)),this.Un=new ET(this.referenceDelegate,this.O),this.qn=new LT(this.O),this.Kn=new wT,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===Dt&&ci("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.jn().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new se(Qt.FAILED_PRECONDITION,ey);return this.Qn(),this.Wn(),this.zn(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Un.getHighestSequenceNumber(t))}).then(t=>{this.Nn=new On(t,this.Dn)}).then(()=>{this.xn=!0}).catch(t=>(this.Ln&&this.Ln.close(),Promise.reject(t)))}Hn(t){var e=this;return this.Fn=function(){var s=(0,te.Z)(function*(A){if(e.started)return t(A)});return function(A){return s.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ln.Mt(function(){var e=(0,te.Z)(function*(s){null===s.newVersion&&(yield t())});return function(s){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Sn.enqueueAndForget((0,te.Z)(function*(){e.started&&(yield e.jn())})))}jn(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>Vp(t).put(new Ts(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Jn(t).next(e=>{e||(this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)))})}).next(()=>this.Yn(t)).next(e=>this.isPrimary&&!e?this.Xn(t).next(()=>!1):!!e&&this.Zn(t).next(()=>!0))).catch(t=>{if(Da(t))return le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Sn.enqueueRetryable(()=>this.Fn(t)),this.isPrimary=t})}Jn(t){return fd(t).get(Dn.key).next(e=>ee.resolve(this.ts(e)))}es(t){return Vp(t).delete(this.clientId)}ns(){var t=this;return(0,te.Z)(function*(){if(t.isPrimary&&!t.ss(t.$n,18e5)){t.$n=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const A=Di(s,Ts.store);return A.qt().next(U=>{const st=t.rs(U,18e5),gt=U.filter(vt=>-1===st.indexOf(vt));return ee.forEach(gt,vt=>A.delete(vt.clientId)).next(()=>gt)})}).catch(()=>[]);if(t.Gn)for(const s of e)t.Gn.removeItem(t.os(s.clientId))}})()}zn(){this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.jn().then(()=>this.ns()).then(()=>this.zn()))}ts(t){return!!t&&t.ownerId===this.clientId}Yn(t){return this.Cn?ee.resolve(!0):fd(t).get(Dn.key).next(e=>{if(null!==e&&this.ss(e.leaseTimestampMs,5e3)&&!this.cs(e.ownerId)){if(this.ts(e)&&this.networkEnabled)return!0;if(!this.ts(e)){if(!e.allowTabSynchronization)throw new se(Qt.FAILED_PRECONDITION,ey);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vp(t).qt().next(s=>void 0===this.rs(s,5e3).find(A=>{if(this.clientId!==A.clientId){const st=!this.inForeground&&A.inForeground,gt=this.networkEnabled===A.networkEnabled;if(!this.networkEnabled&&A.networkEnabled||st&&gt)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,te.Z)(function*(){t.xn=!1,t.us(),t.Mn&&(t.Mn.cancel(),t.Mn=null),t.hs(),t.ls(),yield t.Ln.runTransaction("shutdown","readwrite",[Dn.store,Ts.store],e=>{const s=new jb(e,On.A);return t.Xn(s).next(()=>t.es(s))}),t.Ln.close(),t.fs()})()}rs(t,e){return t.filter(s=>this.ss(s.updateTimeMs,e)&&!this.cs(s.clientId))}ds(){return this.runTransaction("getActiveClients","readonly",t=>Vp(t).qt().next(e=>this.rs(e,18e5).map(s=>s.clientId)))}get started(){return this.xn}getMutationQueue(t,e){return Jm.Jt(t,this.O,e,this.referenceDelegate)}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getIndexManager(t){return new AT(t)}getDocumentOverlayCache(t){return qm.Jt(this.O,t)}getBundleCache(){return this.Kn}runTransaction(t,e,s){le("IndexedDbPersistence","Starting transaction:",t);const A="readonly"===e?"readonly":"readwrite",U=13===(st=this.schemaVersion)?xT:12===st?Db:11===st?Ob:void be();var st;let gt;return this.Ln.runTransaction(t,A,U,vt=>(gt=new jb(vt,this.Nn?this.Nn.next():On.A),"readwrite-primary"===e?this.Jn(gt).next(Mt=>!!Mt||this.Yn(gt)).next(Mt=>{if(!Mt)throw ci(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Sn.enqueueRetryable(()=>this.Fn(!1)),new se(Qt.FAILED_PRECONDITION,Lb);return s(gt)}).next(Mt=>this.Zn(gt).next(()=>Mt)):this._s(gt).next(()=>s(gt)))).then(vt=>(gt.raiseOnCommittedEvent(),vt))}_s(t){return fd(t).get(Dn.key).next(e=>{if(null!==e&&this.ss(e.leaseTimestampMs,5e3)&&!this.cs(e.ownerId)&&!this.ts(e)&&!(this.Cn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new se(Qt.FAILED_PRECONDITION,ey)})}Zn(t){const e=new Dn(this.clientId,this.allowTabSynchronization,Date.now());return fd(t).put(Dn.key,e)}static Vt(){return _r.Vt()}Xn(t){const e=fd(t);return e.get(Dn.key).next(s=>this.ts(s)?(le("IndexedDbPersistence","Releasing primary lease."),e.delete(Dn.key)):ee.resolve())}ss(t,e){const s=Date.now();return!(t<s-e||t>s&&(ci(`Detected an update time that is in the future: ${t} > ${s}`),1))}Qn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=()=>{this.Sn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.jn()))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}hs(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}Wn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.kn=()=>{this.us(),(0,Se.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Sn.enterRestrictedMode(!0),this.Sn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.kn))}ls(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}cs(t){var e;try{const s=null!==(null===(e=this.Gn)||void 0===e?void 0:e.getItem(this.os(t)));return le("IndexedDbPersistence",`Client '${t}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return ci("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}us(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(t){ci("Failed to set zombie client id.",t)}}fs(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(t){}}os(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function fd(i){return Di(i,Dn.store)}function Vp(i){return Di(i,Ts.store)}function ny(i,t){let e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+t+"/"+e+"/"}class jT{constructor(t,e){this.progress=t,this.ws=e}}class BT{constructor(t,e,s){this.qn=t,this.gs=e,this.indexManager=s}ys(t,e){return this.gs.getAllMutationBatchesAffectingDocumentKey(t,e).next(s=>this.ps(t,e,s))}ps(t,e,s){return this.qn.getEntry(t,e).next(A=>{for(const U of s)U.applyToLocalView(A);return A})}Is(t,e){t.forEach((s,A)=>{for(const U of e)U.applyToLocalView(A)})}Es(t,e){return this.qn.getEntries(t,e).next(s=>this.Ts(t,s).next(()=>s))}Ts(t,e){return this.gs.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>this.Is(e,s))}As(t,e,s){return me.isDocumentKey((A=e).path)&&null===A.collectionGroup&&0===A.filters.length?this.Rs(t,e.path):Om(e)?this.Ps(t,e,s):this.bs(t,e,s);var A}Rs(t,e){return this.ys(t,new me(e)).next(s=>{let A=jm();return s.isFoundDocument()&&(A=A.insert(s.key,s)),A})}Ps(t,e,s){const A=e.collectionGroup;let U=jm();return this.indexManager.getCollectionParents(t,A).next(st=>ee.forEach(st,gt=>{const vt=(Mt=e,Dt=gt.child(A),new Cs(Dt,null,Mt.explicitOrderBy.slice(),Mt.filters.slice(),Mt.limit,Mt.limitType,Mt.startAt,Mt.endAt));var Mt,Dt;return this.bs(t,vt,s).next(Mt=>{Mt.forEach((Dt,Ft)=>{U=U.insert(Dt,Ft)})})}).next(()=>U))}bs(t,e,s){let A;return this.qn.getAll(t,e.path,s).next(U=>(A=U,this.gs.getAllMutationBatchesAffectingQuery(t,e))).next(U=>{for(const st of U)for(const gt of st.mutations){const vt=gt.key;let Mt=A.get(vt);null==Mt&&(Mt=Ke.newInvalidDocument(vt),A=A.insert(vt,Mt)),Rm(gt,Mt,st.localWriteTime),Mt.isFoundDocument()||(A=A.remove(vt))}}).next(()=>(A.forEach((U,st)=>{Lm(e,st)||(A=A.remove(U))}),A))}}class ry{constructor(t,e,s,A){this.targetId=t,this.fromCache=e,this.vs=s,this.Vs=A}static Ss(t,e){let s=Fe(),A=Fe();for(const U of e.docChanges)switch(U.type){case 0:s=s.add(U.doc.key);break;case 1:A=A.add(U.doc.key)}return new ry(t,e.fromCache,s,A)}}class r_{Ds(t){this.Cs=t}As(t,e,s,A){return 0===(U=e).filters.length&&null===U.limit&&null==U.startAt&&null==U.endAt&&(0===U.explicitOrderBy.length||1===U.explicitOrderBy.length&&U.explicitOrderBy[0].field.isKeyField())||s.isEqual(Ce.min())?this.Ns(t,e):this.Cs.Es(t,A).next(U=>{const st=this.xs(e,U);return(Ep(e)||Pp(e))&&this.ks(e.limitType,st,A,s)?this.Ns(t,e):(Cm()<=vo.in.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Dm(e)),this.Cs.As(t,e,s).next(gt=>(st.forEach(vt=>{gt=gt.insert(vt.key,vt)}),gt)))});var U}xs(t,e){let s=new qe(Qx(t));return e.forEach((A,U)=>{Lm(t,U)&&(s=s.add(U))}),s}ks(t,e,s,A){if(s.size!==e.size)return!0;const U="F"===t?e.last():e.first();return!!U&&(U.hasPendingWrites||U.version.compareTo(A)>0)}Ns(t,e){return Cm()<=vo.in.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Dm(e)),this.Cs.As(t,e,Ce.min())}}class FT{constructor(t,e,s,A){this.persistence=t,this.Os=e,this.O=A,this.Ms=new ai(Oe),this.$s=new _h(U=>td(U),kp),this.Fs=Ce.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(s)}Ls(t){this.indexManager=this.persistence.getIndexManager(t),this.gs=this.persistence.getMutationQueue(t,this.indexManager),this.Us=new BT(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function s_(i,t,e,s){return new FT(i,t,e,s)}function o_(i,t){return sy.apply(this,arguments)}function sy(){return sy=(0,te.Z)(function*(i,t){const e=ue(i);return yield e.persistence.runTransaction("Handle user change","readonly",s=>{let A;return e.gs.getAllMutationBatches(s).next(U=>(A=U,e.Ls(t),e.gs.getAllMutationBatches(s))).next(U=>{const st=[],gt=[];let vt=Fe();for(const Mt of A){st.push(Mt.batchId);for(const Dt of Mt.mutations)vt=vt.add(Dt.key)}for(const Mt of U){gt.push(Mt.batchId);for(const Dt of Mt.mutations)vt=vt.add(Dt.key)}return e.Us.Es(s,vt).next(Mt=>({qs:Mt,removedBatchIds:st,addedBatchIds:gt}))})})}),sy.apply(this,arguments)}function zT(i,t){const e=ue(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const A=t.batch.keys(),U=e.Bs.newChangeBuffer({trackRemovals:!0});return function(st,gt,vt,Mt){const Dt=vt.batch,Ft=Dt.keys();let Wt=ee.resolve();return Ft.forEach(Kt=>{Wt=Wt.next(()=>Mt.getEntry(gt,Kt)).next(Jt=>{const he=vt.docVersions.get(Kt);Te(null!==he),Jt.version.compareTo(he)<0&&(Dt.applyToRemoteDocument(Jt,vt),Jt.isValidDocument()&&(Jt.setReadTime(vt.commitVersion),Mt.addEntry(Jt)))})}),Wt.next(()=>st.gs.removeMutationBatch(gt,Dt))}(e,s,t,U).next(()=>U.apply(s)).next(()=>e.gs.performConsistencyCheck(s)).next(()=>e.Us.Es(s,A))})}function a_(i){const t=ue(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Un.getLastRemoteSnapshotVersion(e))}function GT(i,t){const e=ue(i),s=t.snapshotVersion;let A=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",U=>{const st=e.Bs.newChangeBuffer({trackRemovals:!0});A=e.Ms;const gt=[];t.targetChanges.forEach((Mt,Dt)=>{const Ft=A.get(Dt);if(!Ft)return;gt.push(e.Un.removeMatchingKeys(U,Mt.removedDocuments,Dt).next(()=>e.Un.addMatchingKeys(U,Mt.addedDocuments,Dt)));let Wt=Ft.withSequenceNumber(U.currentSequenceNumber);var Kt,Jt,he;t.targetMismatches.has(Dt)?Wt=Wt.withResumeToken(vi.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):Mt.resumeToken.approximateByteSize()>0&&(Wt=Wt.withResumeToken(Mt.resumeToken,s)),A=A.insert(Dt,Wt),Jt=Wt,he=Mt,(0===(Kt=Ft).resumeToken.approximateByteSize()||Jt.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0)&&gt.push(e.Un.updateTargetData(U,Wt))});let vt=tr();if(t.documentUpdates.forEach(Mt=>{t.resolvedLimboDocuments.has(Mt)&&gt.push(e.persistence.referenceDelegate.updateLimboDocument(U,Mt))}),gt.push(l_(U,st,t.documentUpdates).next(Mt=>{vt=Mt})),!s.isEqual(Ce.min())){const Mt=e.Un.getLastRemoteSnapshotVersion(U).next(Dt=>e.Un.setTargetsMetadata(U,U.currentSequenceNumber,s));gt.push(Mt)}return ee.waitFor(gt).next(()=>st.apply(U)).next(()=>e.Us.Ts(U,vt)).next(()=>vt)}).then(U=>(e.Ms=A,U))}function l_(i,t,e){let s=Fe();return e.forEach(A=>s=s.add(A)),t.getEntries(i,s).next(A=>{let U=tr();return e.forEach((st,gt)=>{const vt=A.get(st);gt.isNoDocument()&&gt.version.isEqual(Ce.min())?(t.removeEntry(st,gt.readTime),U=U.insert(st,gt)):!vt.isValidDocument()||gt.version.compareTo(vt.version)>0||0===gt.version.compareTo(vt.version)&&vt.hasPendingWrites?(t.addEntry(gt),U=U.insert(st,gt)):le("LocalStore","Ignoring outdated watch update for ",st,". Current version:",vt.version," Watch version:",gt.version)}),U})}function UT(i,t){const e=ue(i);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===t&&(t=-1),e.gs.getNextMutationBatchAfterBatchId(s,t)))}function wh(i,t){const e=ue(i);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let A;return e.Un.getTargetData(s,t).next(U=>U?(A=U,ee.resolve(A)):e.Un.allocateTargetId(s).next(st=>(A=new Co(t,st,0,s.currentSequenceNumber),e.Un.addTargetData(s,A).next(()=>A))))}).then(s=>{const A=e.Ms.get(s.targetId);return(null===A||s.snapshotVersion.compareTo(A.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(s.targetId,s),e.$s.set(t,s.targetId)),s})}function Sh(i,t,e){return oy.apply(this,arguments)}function oy(){return oy=(0,te.Z)(function*(i,t,e){const s=ue(i),A=s.Ms.get(t),U=e?"readwrite":"readwrite-primary";try{e||(yield s.persistence.runTransaction("Release target",U,st=>s.persistence.referenceDelegate.removeTarget(st,A)))}catch(st){if(!Da(st))throw st;le("LocalStore",`Failed to update sequence numbers for target ${t}: ${st}`)}s.Ms=s.Ms.remove(t),s.$s.delete(A.target)}),oy.apply(this,arguments)}function Yp(i,t,e){const s=ue(i);let A=Ce.min(),U=Fe();return s.persistence.runTransaction("Execute query","readonly",st=>function(gt,vt,Mt){const Dt=ue(gt),Ft=Dt.$s.get(Mt);return void 0!==Ft?ee.resolve(Dt.Ms.get(Ft)):Dt.Un.getTargetData(vt,Mt)}(s,st,Jn(t)).next(gt=>{if(gt)return A=gt.lastLimboFreeSnapshotVersion,s.Un.getMatchingKeysForTargetId(st,gt.targetId).next(vt=>{U=vt})}).next(()=>s.Os.As(st,t,e?A:Ce.min(),e?U:Fe())).next(gt=>({documents:gt,Ks:U})))}function h_(i,t){const e=ue(i),s=ue(e.Un),A=e.Ms.get(t);return A?Promise.resolve(A.target):e.persistence.runTransaction("Get target data","readonly",U=>s.Tt(U,t).next(st=>st?st.target:null))}function c_(i){const t=ue(i);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(s,A,U){const st=ue(s);let gt=tr(),vt=Vm(U);const Mt=ko(A),Dt=IDBKeyRange.lowerBound(vt,!0);return Mt.Qt({index:ii.readTimeIndex,range:Dt},(Ft,Wt)=>{const Kt=Fb(st.O,Wt);gt=gt.insert(Kt.key,Kt),vt=Wt.readTime}).next(()=>({ws:gt,readTime:Ym(vt)}))}(t.Bs,e,t.Fs)).then(({ws:e,readTime:s})=>(t.Fs=s,e))}function ay(){return ay=(0,te.Z)(function*(i){const t=ue(i);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(s){const A=ko(s);let U=Ce.min();return A.Qt({index:ii.readTimeIndex,reverse:!0},(st,gt,vt)=>{gt.readTime&&(U=Ym(gt.readTime)),vt.done()}).next(()=>U)}(e)).then(e=>{t.Fs=e})}),ay.apply(this,arguments)}function ly(){return ly=(0,te.Z)(function*(i,t,e,s){const A=ue(i);let U=Fe(),st=tr();for(const Mt of e){const Dt=t.Gs(Mt.metadata.name);Mt.document&&(U=U.add(Dt));const Ft=t.js(Mt);Ft.setReadTime(t.Qs(Mt.metadata.readTime)),st=st.insert(Dt,Ft)}const gt=A.Bs.newChangeBuffer({trackRemovals:!0}),vt=yield wh(A,(Mt=s,Jn(hh(Be.fromString(`__bundle__/docs/${Mt}`)))));var Mt;return A.persistence.runTransaction("Apply bundle documents","readwrite",Mt=>l_(Mt,gt,st).next(Dt=>(gt.apply(Mt),Dt)).next(Dt=>A.Un.removeMatchingKeysForTargetId(Mt,vt.targetId).next(()=>A.Un.addMatchingKeys(Mt,U,vt.targetId)).next(()=>A.Us.Ts(Mt,Dt)).next(()=>Dt)))}),ly.apply(this,arguments)}function VT(i,t){return hy.apply(this,arguments)}function hy(){return hy=(0,te.Z)(function*(i,t,e=Fe()){const s=yield wh(i,Jn(Xm(t.bundledQuery))),A=ue(i);return A.persistence.runTransaction("Save named query","readwrite",U=>{const st=Pi(t.readTime);if(s.snapshotVersion.compareTo(st)>=0)return A.Kn.saveNamedQuery(U,t);const gt=s.withResumeToken(vi.EMPTY_BYTE_STRING,st);return A.Ms=A.Ms.insert(gt.targetId,gt),A.Un.updateTargetData(U,gt).next(()=>A.Un.removeMatchingKeysForTargetId(U,s.targetId)).next(()=>A.Un.addMatchingKeys(U,e,s.targetId)).next(()=>A.Kn.saveNamedQuery(U,t))})}),hy.apply(this,arguments)}class YT{constructor(t){this.O=t,this.Ws=new Map,this.zs=new Map}getBundleMetadata(t,e){return ee.resolve(this.Ws.get(e))}saveBundleMetadata(t,e){var s;return this.Ws.set(e.id,{id:(s=e).id,version:s.version,createTime:Pi(s.createTime)}),ee.resolve()}getNamedQuery(t,e){return ee.resolve(this.zs.get(e))}saveNamedQuery(t,e){return this.zs.set(e.name,{name:(s=e).name,query:Xm(s.bundledQuery),readTime:Pi(s.readTime)}),ee.resolve();var s}}class XT{constructor(){this.overlays=new ai(me.comparator),this.Hs=new Map}getOverlay(t,e){return ee.resolve(this.overlays.get(e))}saveOverlays(t,e,s){return s.forEach(A=>{this.Yt(t,e,A)}),ee.resolve()}removeOverlaysForBatchId(t,e,s){const A=this.Hs.get(s);return void 0!==A&&(A.forEach(U=>this.overlays=this.overlays.remove(U)),this.Hs.delete(s)),ee.resolve()}getOverlaysForCollection(t,e,s){const A=new Map,U=e.length+1,st=new me(e.child("")),gt=this.overlays.getIteratorFrom(st);for(;gt.hasNext();){const vt=gt.getNext().value,Mt=vt.getKey();if(!e.isPrefixOf(Mt.path))break;Mt.path.length===U&&vt.largestBatchId>s&&A.set(vt.getKey(),vt)}return ee.resolve(A)}getOverlaysForCollectionGroup(t,e,s,A){let U=new ai((Mt,Dt)=>Mt-Dt);const st=this.overlays.getIterator();for(;st.hasNext();){const Mt=st.getNext().value;if(Mt.getKey().getCollectionGroup()===e&&Mt.largestBatchId>s){let Dt=U.get(Mt.largestBatchId);null===Dt&&(Dt=new Map,U=U.insert(Mt.largestBatchId,Dt)),Dt.set(Mt.getKey(),Mt)}}const gt=new Map,vt=U.getIterator();for(;vt.hasNext()&&(vt.getNext().value.forEach((Mt,Dt)=>gt.set(Dt,Mt)),!(gt.size>=A)););return ee.resolve(gt)}Yt(t,e,s){if(null===s)return;const A=this.overlays.get(s.key);null!==A&&this.Hs.get(A.largestBatchId).delete(s.key),this.overlays=this.overlays.insert(s.key,new Wm(e,s));let U=this.Hs.get(e);void 0===U&&(U=new Set,this.Hs.set(e,U)),U.add(s.key)}}class cy{constructor(){this.Js=new qe(Li.Ys),this.Xs=new qe(Li.Zs)}isEmpty(){return this.Js.isEmpty()}addReference(t,e){const s=new Li(t,e);this.Js=this.Js.add(s),this.Xs=this.Xs.add(s)}ti(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.ei(new Li(t,e))}ni(t,e){t.forEach(s=>this.removeReference(s,e))}si(t){const e=new me(new Be([])),s=new Li(e,t),A=new Li(e,t+1),U=[];return this.Xs.forEachInRange([s,A],st=>{this.ei(st),U.push(st.key)}),U}ii(){this.Js.forEach(t=>this.ei(t))}ei(t){this.Js=this.Js.delete(t),this.Xs=this.Xs.delete(t)}ri(t){const e=new me(new Be([])),s=new Li(e,t),A=new Li(e,t+1);let U=Fe();return this.Xs.forEachInRange([s,A],st=>{U=U.add(st.key)}),U}containsKey(t){const e=new Li(t,0),s=this.Js.firstAfterOrEqual(e);return null!==s&&t.isEqual(s.key)}}class Li{constructor(t,e){this.key=t,this.oi=e}static Ys(t,e){return me.comparator(t.key,e.key)||Oe(t.oi,e.oi)}static Zs(t,e){return Oe(t.oi,e.oi)||me.comparator(t.key,e.key)}}class ZT{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.gs=[],this.ci=1,this.ui=new qe(Li.Ys)}checkEmpty(t){return ee.resolve(0===this.gs.length)}addMutationBatch(t,e,s,A){const U=this.ci;this.ci++;const st=new Um(U,e,s,A);this.gs.push(st);for(const gt of A)this.ui=this.ui.add(new Li(gt.key,U)),this.indexManager.addToCollectionParentIndex(t,gt.key.path.popLast());return ee.resolve(st)}lookupMutationBatch(t,e){return ee.resolve(this.ai(e))}getNextMutationBatchAfterBatchId(t,e){const A=this.hi(e+1),U=A<0?0:A;return ee.resolve(this.gs.length>U?this.gs[U]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(0===this.gs.length?-1:this.ci-1)}getAllMutationBatches(t){return ee.resolve(this.gs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Li(e,0),A=new Li(e,Number.POSITIVE_INFINITY),U=[];return this.ui.forEachInRange([s,A],st=>{const gt=this.ai(st.oi);U.push(gt)}),ee.resolve(U)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new qe(Oe);return e.forEach(A=>{const U=new Li(A,0),st=new Li(A,Number.POSITIVE_INFINITY);this.ui.forEachInRange([U,st],gt=>{s=s.add(gt.oi)})}),ee.resolve(this.li(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,A=s.length+1;let U=s;me.isDocumentKey(U)||(U=U.child(""));const st=new Li(new me(U),0);let gt=new qe(Oe);return this.ui.forEachWhile(vt=>{const Mt=vt.key.path;return!!s.isPrefixOf(Mt)&&(Mt.length===A&&(gt=gt.add(vt.oi)),!0)},st),ee.resolve(this.li(gt))}li(t){const e=[];return t.forEach(s=>{const A=this.ai(s);null!==A&&e.push(A)}),e}removeMutationBatch(t,e){Te(0===this.fi(e.batchId,"removed")),this.gs.shift();let s=this.ui;return ee.forEach(e.mutations,A=>{const U=new Li(A.key,e.batchId);return s=s.delete(U),this.referenceDelegate.markPotentiallyOrphaned(t,A.key)}).next(()=>{this.ui=s})}Qe(t){}containsKey(t,e){const s=new Li(e,0),A=this.ui.firstAfterOrEqual(s);return ee.resolve(e.isEqual(A&&A.key))}performConsistencyCheck(t){return ee.resolve()}fi(t,e){return this.hi(t)}hi(t){return 0===this.gs.length?0:t-this.gs[0].batchId}ai(t){const e=this.hi(t);return e<0||e>=this.gs.length?null:this.gs[e]}}class qT{constructor(t){this.di=t,this.docs=new ai(me.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,A=this.docs.get(s),U=A?A.size:0,st=this.di(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:st}),this.size+=st-U,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return ee.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(e))}getEntries(t,e){let s=tr();return e.forEach(A=>{const U=this.docs.get(A);s=s.insert(A,U?U.document.mutableCopy():Ke.newInvalidDocument(A))}),ee.resolve(s)}getAll(t,e,s){let A=tr();const U=new me(e.child("")),st=this.docs.getIteratorFrom(U);for(;st.hasNext();){const{key:gt,value:{document:vt}}=st.getNext();if(!e.isPrefixOf(gt.path))break;gt.path.length>e.length+1||vt.readTime.compareTo(s)<=0||(A=A.insert(vt.key,vt.mutableCopy()))}return ee.resolve(A)}_i(t,e){return ee.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new $T(this)}getSize(t){return ee.resolve(this.size)}}class $T extends e_{constructor(t){super(),this.Tn=t}applyChanges(t){const e=[];return this.changes.forEach((s,A)=>{A.isValidDocument()?e.push(this.Tn.addEntry(t,A)):this.Tn.removeEntry(s)}),ee.waitFor(e)}getFromCache(t,e){return this.Tn.getEntry(t,e)}getAllFromCache(t,e){return this.Tn.getEntries(t,e)}}class KT{constructor(t){this.persistence=t,this.wi=new _h(e=>td(e),kp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.mi=0,this.gi=new cy,this.targetCount=0,this.yi=ja.He()}forEachTarget(t,e){return this.wi.forEach((s,A)=>e(A)),ee.resolve()}getLastRemoteSnapshotVersion(t){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ee.resolve(this.mi)}allocateTargetId(t){return this.highestTargetId=this.yi.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this.mi&&(this.mi=e),ee.resolve()}Ze(t){this.wi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.yi=new ja(e),this.highestTargetId=e),t.sequenceNumber>this.mi&&(this.mi=t.sequenceNumber)}addTargetData(t,e){return this.Ze(e),this.targetCount+=1,ee.resolve()}updateTargetData(t,e){return this.Ze(e),ee.resolve()}removeTargetData(t,e){return this.wi.delete(e.target),this.gi.si(e.targetId),this.targetCount-=1,ee.resolve()}removeTargets(t,e,s){let A=0;const U=[];return this.wi.forEach((st,gt)=>{gt.sequenceNumber<=e&&null===s.get(gt.targetId)&&(this.wi.delete(st),U.push(this.removeMatchingKeysForTargetId(t,gt.targetId)),A++)}),ee.waitFor(U).next(()=>A)}getTargetCount(t){return ee.resolve(this.targetCount)}getTargetData(t,e){const s=this.wi.get(e)||null;return ee.resolve(s)}addMatchingKeys(t,e,s){return this.gi.ti(e,s),ee.resolve()}removeMatchingKeys(t,e,s){this.gi.ni(e,s);const A=this.persistence.referenceDelegate,U=[];return A&&e.forEach(st=>{U.push(A.markPotentiallyOrphaned(t,st))}),ee.waitFor(U)}removeMatchingKeysForTargetId(t,e){return this.gi.si(e),ee.resolve()}getMatchingKeysForTargetId(t,e){const s=this.gi.ri(e);return ee.resolve(s)}containsKey(t,e){return ee.resolve(this.gi.containsKey(e))}}class QT{constructor(t,e){this.pi={},this.overlays={},this.Nn=new On(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new KT(this),this.indexManager=new kT,this.qn=new qT(s=>this.referenceDelegate.Ii(s)),this.O=new Bb(e),this.Kn=new YT(this.O)}start(){return Promise.resolve()}shutdown(){return this.xn=!1,Promise.resolve()}get started(){return this.xn}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new XT,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.pi[t.toKey()];return s||(s=new ZT(e,this.referenceDelegate),this.pi[t.toKey()]=s),s}getTargetCache(){return this.Un}getRemoteDocumentCache(){return this.qn}getBundleCache(){return this.Kn}runTransaction(t,e,s){le("MemoryPersistence","Starting transaction:",t);const A=new JT(this.Nn.next());return this.referenceDelegate.Ei(),s(A).next(U=>this.referenceDelegate.Ti(A).next(()=>U)).toPromise().then(U=>(A.raiseOnCommittedEvent(),U))}Ai(t,e){return ee.or(Object.values(this.pi).map(s=>()=>s.containsKey(t,e)))}}class JT extends Rb{constructor(t){super(),this.currentSequenceNumber=t}}class dy{constructor(t){this.persistence=t,this.Ri=new cy,this.Pi=null}static bi(t){return new dy(t)}get vi(){if(this.Pi)return this.Pi;throw be()}addReference(t,e,s){return this.Ri.addReference(s,e),this.vi.delete(s.toString()),ee.resolve()}removeReference(t,e,s){return this.Ri.removeReference(s,e),this.vi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(t,e){return this.vi.add(e.toString()),ee.resolve()}removeTarget(t,e){this.Ri.si(e.targetId).forEach(A=>this.vi.add(A.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(A=>{A.forEach(U=>this.vi.add(U.toString()))}).next(()=>s.removeTargetData(t,e))}Ei(){this.Pi=new Set}Ti(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.vi,s=>{const A=me.fromPath(s);return this.Vi(t,A).next(U=>{U||e.removeEntry(A,Ce.min())})}).next(()=>(this.Pi=null,e.apply(t)))}updateLimboDocument(t,e){return this.Vi(t,e).next(s=>{s?this.vi.delete(e.toString()):this.vi.add(e.toString())})}Ii(t){return 0}Vi(t,e){return ee.or([()=>ee.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}function d_(i,t){return`firestore_clients_${i}_${t}`}function u_(i,t,e){let s=`firestore_mutations_${i}_${e}`;return t.isAuthenticated()&&(s+=`_${t.uid}`),s}function uy(i,t){return`firestore_targets_${i}_${t}`}class Xp{constructor(t,e,s,A){this.user=t,this.batchId=e,this.state=s,this.error=A}static Si(t,e,s){const A=JSON.parse(s);let U,st="object"==typeof A&&-1!==["pending","acknowledged","rejected"].indexOf(A.state)&&(void 0===A.error||"object"==typeof A.error);return st&&A.error&&(st="string"==typeof A.error.message&&"string"==typeof A.error.code,st&&(U=new se(A.error.code,A.error.message))),st?new Xp(t,e,A.state,U):(ci("SharedClientState",`Failed to parse mutation state for ID '${e}': ${s}`),null)}Di(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class gd{constructor(t,e,s){this.targetId=t,this.state=e,this.error=s}static Si(t,e){const s=JSON.parse(e);let A,U="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return U&&s.error&&(U="string"==typeof s.error.message&&"string"==typeof s.error.code,U&&(A=new se(s.error.code,s.error.message))),U?new gd(t,s.state,A):(ci("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Di(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Zp{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Si(t,e){const s=JSON.parse(e);let A="object"==typeof s&&s.activeTargetIds instanceof Array,U=Rp();for(let st=0;A&&st<s.activeTargetIds.length;++st)A=zx(s.activeTargetIds[st]),U=U.add(s.activeTargetIds[st]);return A?new Zp(t,U):(ci("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class py{constructor(t,e){this.clientId=t,this.onlineState=e}static Si(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new py(e.clientId,e.onlineState):(ci("SharedClientState",`Failed to parse online state: ${t}`),null)}}class fy{constructor(){this.activeTargetIds=Rp()}Ci(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ni(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Di(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gy{constructor(t,e,s,A,U){this.window=t,this.Sn=e,this.persistenceKey=s,this.xi=A,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new ai(Oe),this.started=!1,this.$i=[];const st=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=U,this.Fi=d_(this.persistenceKey,this.xi),this.Bi=`firestore_sequence_number_${this.persistenceKey}`,this.Mi=this.Mi.insert(this.xi,new fy),this.Li=new RegExp(`^firestore_clients_${st}_([^_]*)$`),this.Ui=new RegExp(`^firestore_mutations_${st}_(\\d+)(?:_(.*))?$`),this.qi=new RegExp(`^firestore_targets_${st}_(\\d+)$`),this.Ki=`firestore_online_state_${this.persistenceKey}`,this.Gi=function(gt){return`firestore_bundle_loaded_${gt}`}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}static Vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,te.Z)(function*(){const e=yield t.syncEngine.ds();for(const A of e){if(A===t.xi)continue;const U=t.getItem(d_(t.persistenceKey,A));if(U){const st=Zp.Si(A,U);st&&(t.Mi=t.Mi.insert(st.clientId,st))}}t.ji();const s=t.storage.getItem(t.Ki);if(s){const A=t.Qi(s);A&&t.Wi(A)}for(const A of t.$i)t.Oi(A);t.$i=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Bi,JSON.stringify(t))}getAllActiveQueryTargets(){return this.zi(this.Mi)}isActiveQueryTarget(t){let e=!1;return this.Mi.forEach((s,A)=>{A.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Hi(t,"pending")}updateMutationState(t,e,s){this.Hi(t,e,s),this.Ji(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const s=this.storage.getItem(uy(this.persistenceKey,t));if(s){const A=gd.Si(t,s);A&&(e=A.state)}}return this.Yi.Ci(t),this.ji(),e}removeLocalQueryTarget(t){this.Yi.Ni(t),this.ji()}isLocalQueryTarget(t){return this.Yi.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(uy(this.persistenceKey,t))}updateQueryState(t,e,s){this.Xi(t,e,s)}handleUserChange(t,e,s){e.forEach(A=>{this.Ji(A)}),this.currentUser=t,s.forEach(A=>{this.addPendingMutation(A)})}setOnlineState(t){this.Zi(t)}notifyBundleLoaded(){this.tr()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return le("SharedClientState","READ",t,e),e}setItem(t,e){le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Oi(t){var e=this;const s=t;if(s.storageArea===this.storage){if(le("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Fi)return void ci("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable((0,te.Z)(function*(){if(e.started){if(null!==s.key)if(e.Li.test(s.key)){if(null==s.newValue){const A=e.er(s.key);return e.nr(A,null)}{const A=e.sr(s.key,s.newValue);if(A)return e.nr(A.clientId,A)}}else if(e.Ui.test(s.key)){if(null!==s.newValue){const A=e.ir(s.key,s.newValue);if(A)return e.rr(A)}}else if(e.qi.test(s.key)){if(null!==s.newValue){const A=e.cr(s.key,s.newValue);if(A)return e.ur(A)}}else if(s.key===e.Ki){if(null!==s.newValue){const A=e.Qi(s.newValue);if(A)return e.Wi(A)}}else if(s.key===e.Bi){const A=function(U){let st=On.A;if(null!=U)try{const gt=JSON.parse(U);Te("number"==typeof gt),st=gt}catch(gt){ci("SharedClientState","Failed to read sequence number from WebStorage",gt)}return st}(s.newValue);A!==On.A&&e.sequenceNumberHandler(A)}else if(s.key===e.Gi)return e.syncEngine.ar()}else e.$i.push(s)}))}}get Yi(){return this.Mi.get(this.xi)}ji(){this.setItem(this.Fi,this.Yi.Di())}Hi(t,e,s){const A=new Xp(this.currentUser,t,e,s),U=u_(this.persistenceKey,this.currentUser,t);this.setItem(U,A.Di())}Ji(t){const e=u_(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Zi(t){this.storage.setItem(this.Ki,JSON.stringify({clientId:this.xi,onlineState:t}))}Xi(t,e,s){const A=uy(this.persistenceKey,t),U=new gd(t,e,s);this.setItem(A,U.Di())}tr(){this.setItem(this.Gi,"value-not-used")}er(t){const e=this.Li.exec(t);return e?e[1]:null}sr(t,e){const s=this.er(t);return Zp.Si(s,e)}ir(t,e){const s=this.Ui.exec(t),A=Number(s[1]);return Xp.Si(new Vi(void 0!==s[2]?s[2]:null),A,e)}cr(t,e){const s=this.qi.exec(t),A=Number(s[1]);return gd.Si(A,e)}Qi(t){return py.Si(t)}rr(t){var e=this;return(0,te.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.hr(t.batchId,t.state,t.error);le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}ur(t){return this.syncEngine.lr(t.targetId,t.state,t.error)}nr(t,e){const s=e?this.Mi.insert(t,e):this.Mi.remove(t),A=this.zi(this.Mi),U=this.zi(s),st=[],gt=[];return U.forEach(vt=>{A.has(vt)||st.push(vt)}),A.forEach(vt=>{U.has(vt)||gt.push(vt)}),this.syncEngine.dr(st,gt).then(()=>{this.Mi=s})}Wi(t){this.Mi.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}zi(t){let e=Rp();return t.forEach((s,A)=>{e=e.unionWith(A.activeTargetIds)}),e}}class p_{constructor(){this._r=new fy,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t){return this._r.Ci(t),this.wr[t]||"not-current"}updateQueryState(t,e,s){this.wr[t]=e}removeLocalQueryTarget(t){this._r.Ni(t)}isLocalQueryTarget(t){return this._r.activeTargetIds.has(t)}clearQueryState(t){delete this.wr[t]}getAllActiveQueryTargets(){return this._r.activeTargetIds}isActiveQueryTarget(t){return this._r.activeTargetIds.has(t)}start(){return this._r=new fy,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class tM{mr(t){}shutdown(){}}class f_{constructor(){this.gr=()=>this.yr(),this.pr=()=>this.Ir(),this.Er=[],this.Tr()}mr(t){this.Er.push(t)}shutdown(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}Tr(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}yr(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Er)t(0)}Ir(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Er)t(1)}static Vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const eM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class iM{constructor(t){this.Ar=t.Ar,this.Rr=t.Rr}Pr(t){this.br=t}vr(t){this.Vr=t}onMessage(t){this.Sr=t}close(){this.Rr()}send(t){this.Ar(t)}Dr(){this.br()}Cr(t){this.Vr(t)}Nr(t){this.Sr(t)}}class nM extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.kr=(t.ssl?"https":"http")+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Mr(t,e,s,A,U){const st=this.$r(t,e);le("RestConnection","Sending: ",st,s);const gt={};return this.Fr(gt,A,U),this.Br(t,st,gt,s).then(vt=>(le("RestConnection","Received: ",vt),vt),vt=>{throw Xc("RestConnection",`${t} failed with error: `,vt,"url: ",st,"request:",s),vt})}Lr(t,e,s,A,U){return this.Mr(t,e,s,A,U)}Fr(t,e,s){t["X-Goog-Api-Client"]="gl-js/ fire/"+ih,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((A,U)=>t[U]=A),s&&s.headers.forEach((A,U)=>t[U]=A)}$r(t,e){return`${this.kr}/v1/${e}:${eM[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Br(t,e,s,A){return new Promise((U,st)=>{const gt=new yC;gt.listenOnce(fC.COMPLETE,()=>{try{switch(gt.getLastErrorCode()){case Sm.NO_ERROR:const Mt=gt.getResponseJson();le("Connection","XHR received:",JSON.stringify(Mt)),U(Mt);break;case Sm.TIMEOUT:le("Connection",'RPC "'+t+'" timed out'),st(new se(Qt.DEADLINE_EXCEEDED,"Request time out"));break;case Sm.HTTP_ERROR:const Dt=gt.getStatus();if(le("Connection",'RPC "'+t+'" failed with status:',Dt,"response text:",gt.getResponseText()),Dt>0){const Ft=gt.getResponseJson().error;if(Ft&&Ft.status&&Ft.message){const Wt=function(Kt){const Jt=Kt.toLowerCase().replace(/_/g,"-");return Object.values(Qt).indexOf(Jt)>=0?Jt:Qt.UNKNOWN}(Ft.status);st(new se(Wt,Ft.message))}else st(new se(Qt.UNKNOWN,"Server responded with status "+gt.getStatus()))}else st(new se(Qt.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{le("Connection",'RPC "'+t+'" completed.')}});const vt=JSON.stringify(A);gt.send(e,"POST",vt,s,15)})}Ur(t,e,s){const A=[this.kr,"/","google.firestore.v1.Firestore","/",t,"/channel"],U=uC(),st=pC(),gt={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(gt.xmlHttpFactory=new mC({})),this.Fr(gt.initMessageHeaders,e,s),(0,Se.uI)()||(0,Se.b$)()||(0,Se.d)()||(0,Se.w1)()||(0,Se.Mn)()||(0,Se.ru)()||(gt.httpHeadersOverwriteParam="$httpHeaders");const vt=A.join("");le("Connection","Creating WebChannel: "+vt,gt);const Mt=U.createWebChannel(vt,gt);let Dt=!1,Ft=!1;const Wt=new iM({Ar:Jt=>{Ft?le("Connection","Not sending because WebChannel is closed:",Jt):(Dt||(le("Connection","Opening WebChannel transport."),Mt.open(),Dt=!0),le("Connection","WebChannel sending:",Jt),Mt.send(Jt))},Rr:()=>Mt.close()}),Kt=(Jt,he,ce)=>{Jt.listen(he,Ee=>{try{ce(Ee)}catch(ze){setTimeout(()=>{throw ze},0)}})};return Kt(Mt,_p.EventType.OPEN,()=>{Ft||le("Connection","WebChannel transport opened.")}),Kt(Mt,_p.EventType.CLOSE,()=>{Ft||(Ft=!0,le("Connection","WebChannel transport closed"),Wt.Cr())}),Kt(Mt,_p.EventType.ERROR,Jt=>{Ft||(Ft=!0,Xc("Connection","WebChannel transport errored:",Jt),Wt.Cr(new se(Qt.UNAVAILABLE,"The operation could not be completed")))}),Kt(Mt,_p.EventType.MESSAGE,Jt=>{var he;if(!Ft){const ce=Jt.data[0];Te(!!ce);const Ee=ce,ze=Ee.error||(null===(he=Ee[0])||void 0===he?void 0:he.error);if(ze){le("Connection","WebChannel received error:",ze);const Ge=ze.status;let Me=function(Ri){const Do=ui[Ri];if(void 0!==Do)return pb(Do)}(Ge),He=ze.message;void 0===Me&&(Me=Qt.INTERNAL,He="Unknown error status: "+Ge+" with message "+ze.message),Ft=!0,Wt.Cr(new se(Me,He)),Mt.close()}else le("Connection","WebChannel received:",ce),Wt.Nr(ce)}}),Kt(st,gC.STAT_EVENT,Jt=>{Jt.stat===Ix.PROXY?le("Connection","Detected buffering proxy"):Jt.stat===Ix.NOPROXY&&le("Connection","Detected no buffering proxy")}),setTimeout(()=>{Wt.Dr()},0),Wt}}function g_(){return"undefined"!=typeof window?window:null}function qp(){return"undefined"!=typeof document?document:null}function md(i){return new rT(i,!0)}class my{constructor(t,e,s=1e3,A=1.5,U=6e4){this.Sn=t,this.timerId=e,this.qr=s,this.Kr=A,this.Gr=U,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}reset(){this.jr=0}zr(){this.jr=this.Gr}Hr(t){this.cancel();const e=Math.floor(this.jr+this.Jr()),s=Math.max(0,Date.now()-this.Wr),A=Math.max(0,e-s);A>0&&le("ExponentialBackoff",`Backing off for ${A} ms (base delay: ${this.jr} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,A,()=>(this.Wr=Date.now(),t())),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}Yr(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}cancel(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}Jr(){return(Math.random()-.5)*this.jr}}class m_{constructor(t,e,s,A,U,st,gt,vt){this.Sn=t,this.Xr=s,this.Zr=A,this.eo=U,this.authCredentialsProvider=st,this.appCheckCredentialsProvider=gt,this.listener=vt,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new my(t,e)}oo(){return 1===this.state||5===this.state||this.co()}co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.uo()}stop(){var t=this;return(0,te.Z)(function*(){t.oo()&&(yield t.close(0))})()}ao(){this.state=0,this.ro.reset()}ho(){this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,()=>this.lo()))}fo(t){this._o(),this.stream.send(t)}lo(){var t=this;return(0,te.Z)(function*(){if(t.co())return t.close(0)})()}_o(){this.so&&(this.so.cancel(),this.so=null)}wo(){this.io&&(this.io.cancel(),this.io=null)}close(t,e){var s=this;return(0,te.Z)(function*(){s._o(),s.wo(),s.ro.cancel(),s.no++,4!==t?s.ro.reset():e&&e.code===Qt.RESOURCE_EXHAUSTED?(ci(e.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),s.ro.zr()):e&&e.code===Qt.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.mo(),s.stream.close(),s.stream=null),s.state=t,yield s.listener.vr(e)})()}mo(){}auth(){this.state=1;const t=this.yo(this.no),e=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,A])=>{this.no===e&&this.po(s,A)},s=>{t(()=>{const A=new se(Qt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Io(A)})})}po(t,e){const s=this.yo(this.no);this.stream=this.Eo(t,e),this.stream.Pr(()=>{s(()=>(this.state=2,this.io=this.Sn.enqueueAfterDelay(this.Zr,1e4,()=>(this.co()&&(this.state=3),Promise.resolve())),this.listener.Pr()))}),this.stream.vr(A=>{s(()=>this.Io(A))}),this.stream.onMessage(A=>{s(()=>this.onMessage(A))})}uo(){var t=this;this.state=5,this.ro.Hr((0,te.Z)(function*(){t.state=0,t.start()}))}Io(t){return le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}yo(t){return e=>{this.Sn.enqueueAndForget(()=>this.no===t?e():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rM extends m_{constructor(t,e,s,A,U,st){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,A,st),this.O=U}Eo(t,e){return this.eo.Ur("Listen",t,e)}onMessage(t){this.ro.reset();const e=function(i,t){let e;if("targetChange"in t){const s="NO_CHANGE"===(vt=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===vt?1:"REMOVE"===vt?2:"CURRENT"===vt?3:"RESET"===vt?4:be(),A=t.targetChange.targetIds||[],U=function(vt,Mt){return vt.N?(Te(void 0===Mt||"string"==typeof Mt),vi.fromBase64String(Mt||"")):(Te(void 0===Mt||Mt instanceof Uint8Array),vi.fromUint8Array(Mt||new Uint8Array))}(i,t.targetChange.resumeToken),st=t.targetChange.cause,gt=st&&function(vt){const Mt=void 0===vt.code?Qt.UNKNOWN:pb(vt.code);return new se(Mt,vt.message||"")}(st);e=new mb(s,A,U,gt||null)}else if("documentChange"in t){const s=t.documentChange,A=zr(i,s.document.name),U=Pi(s.document.updateTime),st=new $i({mapValue:{fields:s.document.fields}}),gt=Ke.newFoundDocument(A,U,st);e=new Np(s.targetIds||[],s.removedTargetIds||[],gt.key,gt)}else if("documentDelete"in t){const s=t.documentDelete,A=zr(i,s.document),U=s.readTime?Pi(s.readTime):Ce.min(),st=Ke.newNoDocument(A,U);e=new Np([],s.removedTargetIds||[],st.key,st)}else if("documentRemove"in t){const s=t.documentRemove,A=zr(i,s.document);e=new Np([],s.removedTargetIds||[],A,null)}else{if(!("filter"in t))return be();{const s=t.filter,U=new qC(s.count||0);e=new gb(s.targetId,U)}}var vt;return e}(this.O,t),s=function(A){if(!("targetChange"in A))return Ce.min();const U=A.targetChange;return U.targetIds&&U.targetIds.length?Ce.min():U.readTime?Pi(U.readTime):Ce.min()}(t);return this.listener.To(e,s)}Ao(t){const e={};e.database=hd(this.O),e.addTarget=function(A,U){let st;const gt=U.target;return st=Ap(gt)?{documents:Mb(A,gt)}:{query:kb(A,gt)},st.targetId=U.targetId,U.resumeToken.approximateByteSize()>0?st.resumeToken=bb(A,U.resumeToken):U.snapshotVersion.compareTo(Ce.min())>0&&(st.readTime=ad(A,U.snapshotVersion.toTimestamp())),st}(this.O,t);const s=function(i,t){const e=function(s,A){switch(A){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return be()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);s&&(e.labels=s),this.fo(e)}Ro(t){const e={};e.database=hd(this.O),e.removeTarget=t,this.fo(e)}}class sM extends m_{constructor(t,e,s,A,U,st){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,A,st),this.O=U,this.Po=!1}get bo(){return this.Po}start(){this.Po=!1,this.lastStreamToken=void 0,super.start()}mo(){this.Po&&this.vo([])}Eo(t,e){return this.eo.Ur("Write",t,e)}onMessage(t){if(Te(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Po){this.ro.reset();const e=function(i,t){return i&&i.length>0?(Te(void 0!==t),i.map(e=>function(s,A){let U=Pi(s.updateTime?s.updateTime:A);return U.isEqual(Ce.min())&&(U=Pi(A)),new YC(U,s.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),s=Pi(t.commitTime);return this.listener.Vo(s,e)}return Te(!t.writeResults||0===t.writeResults.length),this.Po=!0,this.listener.So()}Do(){const t={};t.database=hd(this.O),this.fo(t)}vo(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>cd(this.O,s))};this.fo(e)}}class oM extends class{}{constructor(t,e,s,A){super(),this.authCredentials=t,this.appCheckCredentials=e,this.eo=s,this.O=A,this.Co=!1}No(){if(this.Co)throw new se(Qt.FAILED_PRECONDITION,"The client has already been terminated.")}Mr(t,e,s){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,U])=>this.eo.Mr(t,e,s,A,U)).catch(A=>{throw"FirebaseError"===A.name?(A.code===Qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new se(Qt.UNKNOWN,A.toString())})}Lr(t,e,s){return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([A,U])=>this.eo.Lr(t,e,s,A,U)).catch(A=>{throw"FirebaseError"===A.name?(A.code===Qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),A):new se(Qt.UNKNOWN,A.toString())})}terminate(){this.Co=!0}}class aM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}Mo(){0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ko=null,this.Fo("Backend didn't respond within 10 seconds."),this.$o("Offline"),Promise.resolve())))}Bo(t){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.$o("Offline")))}set(t){this.Lo(),this.xo=0,"Online"===t&&(this.Oo=!1),this.$o(t)}$o(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Fo(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Oo?(ci(e),this.Oo=!1):le("OnlineStateTracker",e)}Lo(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}class lM{constructor(t,e,s,A,U){var st=this;this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=U,this.jo.mr(gt=>{s.enqueueAndForget((0,te.Z)(function*(){var vt;Ao(st)&&(le("RemoteStore","Restarting streams for network reachability change."),yield(vt=(0,te.Z)(function*(Mt){const Dt=ue(Mt);Dt.Ko.add(4),yield Ch(Dt),Dt.Qo.set("Unknown"),Dt.Ko.delete(4),yield yd(Dt)}),function(Mt){return vt.apply(this,arguments)})(st))}))}),this.Qo=new aM(s,A)}}function yd(i){return yy.apply(this,arguments)}function yy(){return yy=(0,te.Z)(function*(i){if(Ao(i))for(const t of i.Go)yield t(!0)}),yy.apply(this,arguments)}function Ch(i){return vy.apply(this,arguments)}function vy(){return vy=(0,te.Z)(function*(i){for(const t of i.Go)yield t(!1)}),vy.apply(this,arguments)}function $p(i,t){const e=ue(i);e.qo.has(t.targetId)||(e.qo.set(t.targetId,t),_y(e)?by(e):Mh(e).co()&&xy(e,t))}function vd(i,t){const e=ue(i),s=Mh(e);e.qo.delete(t),s.co()&&y_(e,t),0===e.qo.size&&(s.co()?s.ho():Ao(e)&&e.Qo.set("Unknown"))}function xy(i,t){i.Wo.Z(t.targetId),Mh(i).Ao(t)}function y_(i,t){i.Wo.Z(t),Mh(i).Ro(t)}function by(i){i.Wo=new eT({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>i.qo.get(t)||null}),Mh(i).start(),i.Qo.Mo()}function _y(i){return Ao(i)&&!Mh(i).oo()&&i.qo.size>0}function Ao(i){return 0===ue(i).Ko.size}function v_(i){i.Wo=void 0}function hM(i){return wy.apply(this,arguments)}function wy(){return wy=(0,te.Z)(function*(i){i.qo.forEach((t,e)=>{xy(i,t)})}),wy.apply(this,arguments)}function cM(i,t){return Sy.apply(this,arguments)}function Sy(){return Sy=(0,te.Z)(function*(i,t){v_(i),_y(i)?(i.Qo.Bo(t),by(i)):i.Qo.set("Unknown")}),Sy.apply(this,arguments)}function dM(i,t,e){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,te.Z)(function*(i,t,e){if(i.Qo.set("Online"),t instanceof mb&&2===t.state&&t.cause)try{yield(s=(0,te.Z)(function*(A,U){const st=U.cause;for(const gt of U.targetIds)A.qo.has(gt)&&(yield A.remoteSyncer.rejectListen(gt,st),A.qo.delete(gt),A.Wo.removeTarget(gt))}),function(A,U){return s.apply(this,arguments)})(i,t)}catch(s){le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),yield Kp(i,s)}else if(t instanceof Np?i.Wo.ct(t):t instanceof gb?i.Wo._t(t):i.Wo.ht(t),!e.isEqual(Ce.min()))try{const s=yield a_(i.localStore);e.compareTo(s)>=0&&(yield function(A,U){const st=A.Wo.yt(U);return st.targetChanges.forEach((gt,vt)=>{if(gt.resumeToken.approximateByteSize()>0){const Mt=A.qo.get(vt);Mt&&A.qo.set(vt,Mt.withResumeToken(gt.resumeToken,U))}}),st.targetMismatches.forEach(gt=>{const vt=A.qo.get(gt);if(!vt)return;A.qo.set(gt,vt.withResumeToken(vi.EMPTY_BYTE_STRING,vt.snapshotVersion)),y_(A,gt);const Mt=new Co(vt.target,gt,1,vt.sequenceNumber);xy(A,Mt)}),A.remoteSyncer.applyRemoteEvent(st)}(i,e))}catch(s){le("RemoteStore","Failed to raise snapshot:",s),yield Kp(i,s)}var s}),Cy.apply(this,arguments)}function Kp(i,t,e){return Ty.apply(this,arguments)}function Ty(){return Ty=(0,te.Z)(function*(i,t,e){if(!Da(t))throw t;i.Ko.add(1),yield Ch(i),i.Qo.set("Offline"),e||(e=()=>a_(i.localStore)),i.asyncQueue.enqueueRetryable((0,te.Z)(function*(){le("RemoteStore","Retrying IndexedDB access"),yield e(),i.Ko.delete(1),yield yd(i)}))}),Ty.apply(this,arguments)}function x_(i,t){return t().catch(e=>Kp(i,e,t))}function Th(i){return My.apply(this,arguments)}function My(){return My=(0,te.Z)(function*(i){const t=ue(i),e=Eo(t);let s=t.Uo.length>0?t.Uo[t.Uo.length-1].batchId:-1;for(;uM(t);)try{const A=yield UT(t.localStore,s);if(null===A){0===t.Uo.length&&e.ho();break}s=A.batchId,pM(t,A)}catch(A){yield Kp(t,A)}b_(t)&&__(t)}),My.apply(this,arguments)}function uM(i){return Ao(i)&&i.Uo.length<10}function pM(i,t){i.Uo.push(t);const e=Eo(i);e.co()&&e.bo&&e.vo(t.mutations)}function b_(i){return Ao(i)&&!Eo(i).oo()&&i.Uo.length>0}function __(i){Eo(i).start()}function fM(i){return ky.apply(this,arguments)}function ky(){return ky=(0,te.Z)(function*(i){Eo(i).Do()}),ky.apply(this,arguments)}function gM(i){return Ay.apply(this,arguments)}function Ay(){return Ay=(0,te.Z)(function*(i){const t=Eo(i);for(const e of i.Uo)t.vo(e.mutations)}),Ay.apply(this,arguments)}function mM(i,t,e){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,te.Z)(function*(i,t,e){const s=i.Uo.shift(),A=Hm.from(s,t,e);yield x_(i,()=>i.remoteSyncer.applySuccessfulWrite(A)),yield Th(i)}),Ey.apply(this,arguments)}function yM(i,t){return Py.apply(this,arguments)}function Py(){return Py=(0,te.Z)(function*(i,t){var e;t&&Eo(i).bo&&(yield(e=(0,te.Z)(function*(s,A){if(ub(U=A.code)&&U!==Qt.ABORTED){const st=s.Uo.shift();Eo(s).ao(),yield x_(s,()=>s.remoteSyncer.rejectFailedWrite(st.batchId,A)),yield Th(s)}var U}),function(s,A){return e.apply(this,arguments)})(i,t)),b_(i)&&__(i)}),Py.apply(this,arguments)}function w_(i,t){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,te.Z)(function*(i,t){const e=ue(i);e.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const s=Ao(e);e.Ko.add(3),yield Ch(e),s&&e.Qo.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Ko.delete(3),yield yd(e)}),Iy.apply(this,arguments)}function Oy(i,t){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,te.Z)(function*(i,t){const e=ue(i);t?(e.Ko.delete(2),yield yd(e)):t||(e.Ko.add(2),yield Ch(e),e.Qo.set("Unknown"))}),Dy.apply(this,arguments)}function Mh(i){return i.zo||(i.zo=function(t,e,s){const A=ue(t);return A.No(),new rM(e,A.eo,A.authCredentials,A.appCheckCredentials,A.O,s)}(i.datastore,i.asyncQueue,{Pr:hM.bind(null,i),vr:cM.bind(null,i),To:dM.bind(null,i)}),i.Go.push(function(){var t=(0,te.Z)(function*(e){e?(i.zo.ao(),_y(i)?by(i):i.Qo.set("Unknown")):(yield i.zo.stop(),v_(i))});return function(e){return t.apply(this,arguments)}}())),i.zo}function Eo(i){return i.Ho||(i.Ho=function(t,e,s){const A=ue(t);return A.No(),new sM(e,A.eo,A.authCredentials,A.appCheckCredentials,A.O,s)}(i.datastore,i.asyncQueue,{Pr:fM.bind(null,i),vr:yM.bind(null,i),So:gM.bind(null,i),Vo:mM.bind(null,i)}),i.Go.push(function(){var t=(0,te.Z)(function*(e){e?(i.Ho.ao(),yield Th(i)):(yield i.Ho.stop(),i.Uo.length>0&&(le("RemoteStore",`Stopping write stream with ${i.Uo.length} pending writes`),i.Uo=[]))});return function(e){return t.apply(this,arguments)}}())),i.Ho}class Ly{constructor(t,e,s,A,U){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=A,this.removalCallback=U,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(st=>{})}static createAndSchedule(t,e,s,A,U){const st=Date.now()+s,gt=new Ly(t,e,st,A,U);return gt.start(s),gt}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new se(Qt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kh(i,t){if(ci("AsyncQueue",`${t}: ${i}`),Da(i))return new se(Qt.UNAVAILABLE,`${t}: ${i}`);throw i}class Ah{constructor(t){this.comparator=t?(e,s)=>t(e,s)||me.comparator(e.key,s.key):(e,s)=>me.comparator(e.key,s.key),this.keyedMap=jm(),this.sortedSet=new ai(this.comparator)}static emptySet(t){return new Ah(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ah)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const A=e.getNext().key,U=s.getNext().key;if(!A.isEqual(U))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const s=new Ah;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}class S_{constructor(){this.Jo=new ai(me.comparator)}track(t){const e=t.doc.key,s=this.Jo.get(e);s?0!==t.type&&3===s.type?this.Jo=this.Jo.insert(e,t):3===t.type&&1!==s.type?this.Jo=this.Jo.insert(e,{type:s.type,doc:t.doc}):2===t.type&&2===s.type?this.Jo=this.Jo.insert(e,{type:2,doc:t.doc}):2===t.type&&0===s.type?this.Jo=this.Jo.insert(e,{type:0,doc:t.doc}):1===t.type&&0===s.type?this.Jo=this.Jo.remove(e):1===t.type&&2===s.type?this.Jo=this.Jo.insert(e,{type:1,doc:s.doc}):0===t.type&&1===s.type?this.Jo=this.Jo.insert(e,{type:2,doc:t.doc}):be():this.Jo=this.Jo.insert(e,t)}Yo(){const t=[];return this.Jo.inorderTraversal((e,s)=>{t.push(s)}),t}}class Eh{constructor(t,e,s,A,U,st,gt,vt){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=A,this.mutatedKeys=U,this.fromCache=st,this.syncStateChanged=gt,this.excludesMetadataChanges=vt}static fromInitialDocuments(t,e,s,A){const U=[];return e.forEach(st=>{U.push({type:0,doc:st})}),new Eh(t,e,Ah.emptySet(e),U,s,A,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ed(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let A=0;A<e.length;A++)if(e[A].type!==s[A].type||!e[A].doc.isEqual(s[A].doc))return!1;return!0}}class vM{constructor(){this.Xo=void 0,this.listeners=[]}}class xM{constructor(){this.queries=new _h(t=>Kx(t),ed),this.onlineState="Unknown",this.Zo=new Set}}function Ry(i,t){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,te.Z)(function*(i,t){const e=ue(i),s=t.query;let A=!1,U=e.queries.get(s);if(U||(A=!0,U=new vM),A)try{U.Xo=yield e.onListen(s)}catch(st){const gt=kh(st,`Initialization of query '${Dm(t.query)}' failed`);return void t.onError(gt)}e.queries.set(s,U),U.listeners.push(t),t.tc(e.onlineState),U.Xo&&t.ec(U.Xo)&&Fy(e)}),Ny.apply(this,arguments)}function jy(i,t){return By.apply(this,arguments)}function By(){return By=(0,te.Z)(function*(i,t){const e=ue(i),s=t.query;let A=!1;const U=e.queries.get(s);if(U){const st=U.listeners.indexOf(t);st>=0&&(U.listeners.splice(st,1),A=0===U.listeners.length)}if(A)return e.queries.delete(s),e.onUnlisten(s)}),By.apply(this,arguments)}function bM(i,t){const e=ue(i);let s=!1;for(const A of t){const st=e.queries.get(A.query);if(st){for(const gt of st.listeners)gt.ec(A)&&(s=!0);st.Xo=A}}s&&Fy(e)}function _M(i,t,e){const s=ue(i),A=s.queries.get(t);if(A)for(const U of A.listeners)U.onError(e);s.queries.delete(t)}function Fy(i){i.Zo.forEach(t=>{t.next()})}class zy{constructor(t,e,s){this.query=t,this.nc=e,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=s||{}}ec(t){if(!this.options.includeMetadataChanges){const s=[];for(const A of t.docChanges)3!==A.type&&s.push(A);t=new Eh(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.sc?this.rc(t)&&(this.nc.next(t),e=!0):this.oc(t,this.onlineState)&&(this.cc(t),e=!0),this.ic=t,e}onError(t){this.nc.error(t)}tc(t){this.onlineState=t;let e=!1;return this.ic&&!this.sc&&this.oc(this.ic,t)&&(this.cc(this.ic),e=!0),e}oc(t,e){return!t.fromCache||!(this.options.uc&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}rc(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ic&&this.ic.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}cc(t){t=Eh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.sc=!0,this.nc.next(t)}}class wM{constructor(t,e){this.payload=t,this.byteLength=e}ac(){return"metadata"in this.payload}}class C_{constructor(t){this.O=t}Gs(t){return zr(this.O,t)}js(t){return t.metadata.exists?Tb(this.O,t.document,!1):Ke.newNoDocument(this.Gs(t.metadata.name),this.Qs(t.metadata.readTime))}Qs(t){return Pi(t)}}class SM{constructor(t,e,s){this.hc=t,this.localStore=e,this.O=s,this.queries=[],this.documents=[],this.progress=T_(t)}lc(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}fc(t){const e=new Map,s=new C_(this.O);for(const A of t)if(A.metadata.queries){const U=s.Gs(A.metadata.name);for(const st of A.metadata.queries){const gt=(e.get(st)||Fe()).add(U);e.set(st,gt)}}return e}complete(){var t=this;return(0,te.Z)(function*(){const e=yield function(i,t,e,s){return ly.apply(this,arguments)}(t.localStore,new C_(t.O),t.documents,t.hc.id),s=t.fc(t.documents);for(const A of t.queries)yield VT(t.localStore,A,s.get(A.name));return t.progress.taskState="Success",new jT(Object.assign({},t.progress),e)})()}}function T_(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class M_{constructor(t){this.key=t}}class k_{constructor(t){this.key=t}}class A_{constructor(t,e){this.query=t,this.dc=e,this._c=null,this.current=!1,this.wc=Fe(),this.mutatedKeys=Fe(),this.mc=Qx(t),this.gc=new Ah(this.mc)}get yc(){return this.dc}Ic(t,e){const s=e?e.Ec:new S_,A=e?e.gc:this.gc;let U=e?e.mutatedKeys:this.mutatedKeys,st=A,gt=!1;const vt=Ep(this.query)&&A.size===this.query.limit?A.last():null,Mt=Pp(this.query)&&A.size===this.query.limit?A.first():null;if(t.inorderTraversal((Dt,Ft)=>{const Wt=A.get(Dt),Kt=Lm(this.query,Ft)?Ft:null,Jt=!!Wt&&this.mutatedKeys.has(Wt.key),he=!!Kt&&(Kt.hasLocalMutations||this.mutatedKeys.has(Kt.key)&&Kt.hasCommittedMutations);let ce=!1;Wt&&Kt?Wt.data.isEqual(Kt.data)?Jt!==he&&(s.track({type:3,doc:Kt}),ce=!0):this.Tc(Wt,Kt)||(s.track({type:2,doc:Kt}),ce=!0,(vt&&this.mc(Kt,vt)>0||Mt&&this.mc(Kt,Mt)<0)&&(gt=!0)):!Wt&&Kt?(s.track({type:0,doc:Kt}),ce=!0):Wt&&!Kt&&(s.track({type:1,doc:Wt}),ce=!0,(vt||Mt)&&(gt=!0)),ce&&(Kt?(st=st.add(Kt),U=he?U.add(Dt):U.delete(Dt)):(st=st.delete(Dt),U=U.delete(Dt)))}),Ep(this.query)||Pp(this.query))for(;st.size>this.query.limit;){const Dt=Ep(this.query)?st.last():st.first();st=st.delete(Dt.key),U=U.delete(Dt.key),s.track({type:1,doc:Dt})}return{gc:st,Ec:s,ks:gt,mutatedKeys:U}}Tc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s){const A=this.gc;this.gc=t.gc,this.mutatedKeys=t.mutatedKeys;const U=t.Ec.Yo();U.sort((Mt,Dt)=>function(Ft,Wt){const Kt=Jt=>{switch(Jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return Kt(Ft)-Kt(Wt)}(Mt.type,Dt.type)||this.mc(Mt.doc,Dt.doc)),this.Ac(s);const st=e?this.Rc():[],gt=0===this.wc.size&&this.current?1:0,vt=gt!==this._c;return this._c=gt,0!==U.length||vt?{snapshot:new Eh(this.query,t.gc,A,U,t.mutatedKeys,0===gt,vt,!1),Pc:st}:{Pc:st}}tc(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new S_,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}bc(t){return!this.dc.has(t)&&!!this.gc.has(t)&&!this.gc.get(t).hasLocalMutations}Ac(t){t&&(t.addedDocuments.forEach(e=>this.dc=this.dc.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.dc=this.dc.delete(e)),this.current=t.current)}Rc(){if(!this.current)return[];const t=this.wc;this.wc=Fe(),this.gc.forEach(s=>{this.bc(s.key)&&(this.wc=this.wc.add(s.key))});const e=[];return t.forEach(s=>{this.wc.has(s)||e.push(new k_(s))}),this.wc.forEach(s=>{t.has(s)||e.push(new M_(s))}),e}vc(t){this.dc=t.Ks,this.wc=Fe();const e=this.Ic(t.documents);return this.applyChanges(e,!0)}Vc(){return Eh.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}class CM{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class TM{constructor(t){this.key=t,this.Sc=!1}}class MM{constructor(t,e,s,A,U,st){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=A,this.currentUser=U,this.maxConcurrentLimboResolutions=st,this.Dc={},this.Cc=new _h(gt=>Kx(gt),ed),this.Nc=new Map,this.xc=new Set,this.kc=new ai(me.comparator),this.Oc=new Map,this.Mc=new cy,this.$c={},this.Fc=new Map,this.Bc=ja.Je(),this.onlineState="Unknown",this.Lc=void 0}get isPrimaryClient(){return!0===this.Lc}}function kM(i,t){return Gy.apply(this,arguments)}function Gy(){return Gy=(0,te.Z)(function*(i,t){const e=cv(i);let s,A;const U=e.Cc.get(t);if(U)s=U.targetId,e.sharedClientState.addLocalQueryTarget(s),A=U.view.Vc();else{const st=yield wh(e.localStore,Jn(t));e.isPrimaryClient&&$p(e.remoteStore,st);const gt=e.sharedClientState.addLocalQueryTarget(st.targetId);s=st.targetId,A=yield Uy(e,t,s,"current"===gt)}return A}),Gy.apply(this,arguments)}function Uy(i,t,e,s){return Hy.apply(this,arguments)}function Hy(){return Hy=(0,te.Z)(function*(i,t,e,s){i.Uc=(Dt,Ft,Wt)=>{return(Kt=(0,te.Z)(function*(Jt,he,ce,Ee){let ze=he.view.Ic(ce);ze.ks&&(ze=yield Yp(Jt.localStore,he.query,!1).then(({documents:He})=>he.view.Ic(He,ze)));const Ge=Ee&&Ee.targetChanges.get(he.targetId),Me=he.view.applyChanges(ze,Jt.isPrimaryClient,Ge);return Jy(Jt,he.targetId,Me.Pc),Me.snapshot}),function(Jt,he,ce,Ee){return Kt.apply(this,arguments)})(i,Dt,Ft,Wt);var Kt};const A=yield Yp(i.localStore,t,!0),U=new A_(t,A.Ks),st=U.Ic(A.documents),gt=od.createSynthesizedTargetChangeForCurrentChange(e,s&&"Offline"!==i.onlineState),vt=U.applyChanges(st,i.isPrimaryClient,gt);Jy(i,e,vt.Pc);const Mt=new CM(t,e,U);return i.Cc.set(t,Mt),i.Nc.has(e)?i.Nc.get(e).push(t):i.Nc.set(e,[t]),vt.snapshot}),Hy.apply(this,arguments)}function AM(i,t){return Wy.apply(this,arguments)}function Wy(){return Wy=(0,te.Z)(function*(i,t){const e=ue(i),s=e.Cc.get(t),A=e.Nc.get(s.targetId);if(A.length>1)return e.Nc.set(s.targetId,A.filter(U=>!ed(U,t))),void e.Cc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(s.targetId),e.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Sh(e.localStore,s.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(s.targetId),vd(e.remoteStore,s.targetId),Ph(e,s.targetId)}).catch(Ba))):(Ph(e,s.targetId),yield Sh(e.localStore,s.targetId,!0))}),Wy.apply(this,arguments)}function Vy(){return Vy=(0,te.Z)(function*(i,t,e){const s=dv(i);try{const A=yield function(U,st){const gt=ue(U),vt=Ai.now(),Mt=st.reduce((Ft,Wt)=>Ft.add(Wt.key),Fe());let Dt;return gt.persistence.runTransaction("Locally write mutations","readwrite",Ft=>gt.Us.Es(Ft,Mt).next(Wt=>{Dt=Wt;const Kt=[];for(const Jt of st){const he=ZC(Jt,Dt.get(Jt.key));null!=he&&Kt.push(new Ia(Jt.key,he,Wx(he.value.mapValue),di.exists(!0)))}return gt.gs.addMutationBatch(Ft,vt,Kt,st)})).then(Ft=>(Ft.applyToLocalDocumentSet(Dt),{batchId:Ft.batchId,changes:Dt}))}(s.localStore,t);s.sharedClientState.addPendingMutation(A.batchId),function(U,st,gt){let vt=U.$c[U.currentUser.toKey()];vt||(vt=new ai(Oe)),vt=vt.insert(st,gt),U.$c[U.currentUser.toKey()]=vt}(s,A.batchId,e),yield Ms(s,A.changes),yield Th(s.remoteStore)}catch(A){const U=kh(A,"Failed to persist write");e.reject(U)}}),Vy.apply(this,arguments)}function E_(i,t){return Yy.apply(this,arguments)}function Yy(){return Yy=(0,te.Z)(function*(i,t){const e=ue(i);try{const s=yield GT(e.localStore,t);t.targetChanges.forEach((A,U)=>{const st=e.Oc.get(U);st&&(Te(A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size<=1),A.addedDocuments.size>0?st.Sc=!0:A.modifiedDocuments.size>0?Te(st.Sc):A.removedDocuments.size>0&&(Te(st.Sc),st.Sc=!1))}),yield Ms(e,s,t)}catch(s){yield Ba(s)}}),Yy.apply(this,arguments)}function P_(i,t,e){const s=ue(i);if(s.isPrimaryClient&&0===e||!s.isPrimaryClient&&1===e){const A=[];s.Cc.forEach((U,st)=>{const gt=st.view.tc(t);gt.snapshot&&A.push(gt.snapshot)}),function(U,st){const gt=ue(U);gt.onlineState=st;let vt=!1;gt.queries.forEach((Mt,Dt)=>{for(const Ft of Dt.listeners)Ft.tc(st)&&(vt=!0)}),vt&&Fy(gt)}(s.eventManager,t),A.length&&s.Dc.To(A),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}function PM(i,t,e){return Xy.apply(this,arguments)}function Xy(){return Xy=(0,te.Z)(function*(i,t,e){const s=ue(i);s.sharedClientState.updateQueryState(t,"rejected",e);const A=s.Oc.get(t),U=A&&A.key;if(U){let st=new ai(me.comparator);st=st.insert(U,Ke.newNoDocument(U,Ce.min()));const gt=Fe().add(U),vt=new sd(Ce.min(),new Map,new qe(Oe),st,gt);yield E_(s,vt),s.kc=s.kc.remove(U),s.Oc.delete(t),tv(s)}else yield Sh(s.localStore,t,!1).then(()=>Ph(s,t,e)).catch(Ba)}),Xy.apply(this,arguments)}function IM(i,t){return Zy.apply(this,arguments)}function Zy(){return Zy=(0,te.Z)(function*(i,t){const e=ue(i),s=t.batch.batchId;try{const A=yield zT(e.localStore,t);Qy(e,s,null),Ky(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),yield Ms(e,A)}catch(A){yield Ba(A)}}),Zy.apply(this,arguments)}function OM(i,t,e){return qy.apply(this,arguments)}function qy(){return qy=(0,te.Z)(function*(i,t,e){const s=ue(i);try{const A=yield function(U,st){const gt=ue(U);return gt.persistence.runTransaction("Reject batch","readwrite-primary",vt=>{let Mt;return gt.gs.lookupMutationBatch(vt,st).next(Dt=>(Te(null!==Dt),Mt=Dt.keys(),gt.gs.removeMutationBatch(vt,Dt))).next(()=>gt.gs.performConsistencyCheck(vt)).next(()=>gt.Us.Es(vt,Mt))})}(s.localStore,t);Qy(s,t,e),Ky(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),yield Ms(s,A)}catch(A){yield Ba(A)}}),qy.apply(this,arguments)}function $y(){return $y=(0,te.Z)(function*(i,t){const e=ue(i);Ao(e.remoteStore)||le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(U){const st=ue(U);return st.persistence.runTransaction("Get highest unacknowledged batch id","readonly",gt=>st.gs.getHighestUnacknowledgedBatchId(gt))}(e.localStore);if(-1===s)return void t.resolve();const A=e.Fc.get(s)||[];A.push(t),e.Fc.set(s,A)}catch(s){const A=kh(s,"Initialization of waitForPendingWrites() operation failed");t.reject(A)}}),$y.apply(this,arguments)}function Ky(i,t){(i.Fc.get(t)||[]).forEach(e=>{e.resolve()}),i.Fc.delete(t)}function Qy(i,t,e){const s=ue(i);let A=s.$c[s.currentUser.toKey()];if(A){const U=A.get(t);U&&(e?U.reject(e):U.resolve(),A=A.remove(t)),s.$c[s.currentUser.toKey()]=A}}function Ph(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Nc.get(t))i.Cc.delete(s),e&&i.Dc.qc(s,e);i.Nc.delete(t),i.isPrimaryClient&&i.Mc.si(t).forEach(s=>{i.Mc.containsKey(s)||I_(i,s)})}function I_(i,t){i.xc.delete(t.path.canonicalString());const e=i.kc.get(t);null!==e&&(vd(i.remoteStore,e),i.kc=i.kc.remove(t),i.Oc.delete(e),tv(i))}function Jy(i,t,e){for(const s of e)s instanceof M_?(i.Mc.addReference(s.key,t),LM(i,s)):s instanceof k_?(le("SyncEngine","Document no longer in limbo: "+s.key),i.Mc.removeReference(s.key,t),i.Mc.containsKey(s.key)||I_(i,s.key)):be()}function LM(i,t){const e=t.key,s=e.path.canonicalString();i.kc.get(e)||i.xc.has(s)||(le("SyncEngine","New document in limbo: "+e),i.xc.add(s),tv(i))}function tv(i){for(;i.xc.size>0&&i.kc.size<i.maxConcurrentLimboResolutions;){const t=i.xc.values().next().value;i.xc.delete(t);const e=new me(Be.fromString(t)),s=i.Bc.next();i.Oc.set(s,new TM(e)),i.kc=i.kc.insert(e,s),$p(i.remoteStore,new Co(Jn(hh(e.path)),s,2,On.A))}}function Ms(i,t,e){return ev.apply(this,arguments)}function ev(){return ev=(0,te.Z)(function*(i,t,e){const s=ue(i),A=[],U=[],st=[];var gt;s.Cc.isEmpty()||(s.Cc.forEach((gt,vt)=>{st.push(s.Uc(vt,t,e).then(Mt=>{if(Mt){s.isPrimaryClient&&s.sharedClientState.updateQueryState(vt.targetId,Mt.fromCache?"not-current":"current"),A.push(Mt);const Dt=ry.Ss(vt.targetId,Mt);U.push(Dt)}}))}),yield Promise.all(st),s.Dc.To(A),yield(gt=(0,te.Z)(function*(vt,Mt){const Dt=ue(vt);try{yield Dt.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ft=>ee.forEach(Mt,Wt=>ee.forEach(Wt.vs,Kt=>Dt.persistence.referenceDelegate.addReference(Ft,Wt.targetId,Kt)).next(()=>ee.forEach(Wt.Vs,Kt=>Dt.persistence.referenceDelegate.removeReference(Ft,Wt.targetId,Kt)))))}catch(Ft){if(!Da(Ft))throw Ft;le("LocalStore","Failed to update sequence numbers: "+Ft)}for(const Ft of Mt){const Wt=Ft.targetId;if(!Ft.fromCache){const Kt=Dt.Ms.get(Wt),he=Kt.withLastLimboFreeSnapshotVersion(Kt.snapshotVersion);Dt.Ms=Dt.Ms.insert(Wt,he)}}}),function(vt,Mt){return gt.apply(this,arguments)})(s.localStore,U))}),ev.apply(this,arguments)}function RM(i,t){return iv.apply(this,arguments)}function iv(){return iv=(0,te.Z)(function*(i,t){const e=ue(i);if(!e.currentUser.isEqual(t)){le("SyncEngine","User change. New user:",t.toKey());const s=yield o_(e.localStore,t);e.currentUser=t,(A=e).Fc.forEach(st=>{st.forEach(gt=>{gt.reject(new se(Qt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),A.Fc.clear(),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),yield Ms(e,s.qs)}var A}),iv.apply(this,arguments)}function NM(i,t){const e=ue(i),s=e.Oc.get(t);if(s&&s.Sc)return Fe().add(s.key);{let A=Fe();const U=e.Nc.get(t);if(!U)return A;for(const st of U){const gt=e.Cc.get(st);A=A.unionWith(gt.view.yc)}return A}}function jM(i,t){return nv.apply(this,arguments)}function nv(){return nv=(0,te.Z)(function*(i,t){const e=ue(i),s=yield Yp(e.localStore,t.query,!0),A=t.view.vc(s);return e.isPrimaryClient&&Jy(e,t.targetId,A.Pc),A}),nv.apply(this,arguments)}function BM(i){return rv.apply(this,arguments)}function rv(){return rv=(0,te.Z)(function*(i){const t=ue(i);return c_(t.localStore).then(e=>Ms(t,e))}),rv.apply(this,arguments)}function FM(i,t,e,s){return sv.apply(this,arguments)}function sv(){return sv=(0,te.Z)(function*(i,t,e,s){const A=ue(i),U=yield function(st,gt){const vt=ue(st),Mt=ue(vt.gs);return vt.persistence.runTransaction("Lookup mutation documents","readonly",Dt=>Mt.Ge(Dt,gt).next(Ft=>Ft?vt.Us.Es(Dt,Ft):ee.resolve(null)))}(A.localStore,t);var gt;null!==U?("pending"===e?yield Th(A.remoteStore):"acknowledged"===e||"rejected"===e?(Qy(A,t,s||null),Ky(A,t),gt=t,ue(ue(A.localStore).gs).Qe(gt)):be(),yield Ms(A,U)):le("SyncEngine","Cannot apply mutation batch with id: "+t)}),sv.apply(this,arguments)}function ov(){return ov=(0,te.Z)(function*(i,t){const e=ue(i);if(cv(e),dv(e),!0===t&&!0!==e.Lc){const s=e.sharedClientState.getAllActiveQueryTargets(),A=yield O_(e,s.toArray());e.Lc=!0,yield Oy(e.remoteStore,!0);for(const U of A)$p(e.remoteStore,U)}else if(!1===t&&!1!==e.Lc){const s=[];let A=Promise.resolve();e.Nc.forEach((U,st)=>{e.sharedClientState.isLocalQueryTarget(st)?s.push(st):A=A.then(()=>(Ph(e,st),Sh(e.localStore,st,!0))),vd(e.remoteStore,st)}),yield A,yield O_(e,s),function(U){const st=ue(U);st.Oc.forEach((gt,vt)=>{vd(st.remoteStore,vt)}),st.Mc.ii(),st.Oc=new Map,st.kc=new ai(me.comparator)}(e),e.Lc=!1,yield Oy(e.remoteStore,!1)}}),ov.apply(this,arguments)}function O_(i,t,e){return av.apply(this,arguments)}function av(){return av=(0,te.Z)(function*(i,t,e){const s=ue(i),A=[],U=[];for(const st of t){let gt;const vt=s.Nc.get(st);if(vt&&0!==vt.length){gt=yield wh(s.localStore,Jn(vt[0]));for(const Mt of vt){const Dt=s.Cc.get(Mt),Ft=yield jM(s,Dt);Ft.snapshot&&U.push(Ft.snapshot)}}else{const Mt=yield h_(s.localStore,st);gt=yield wh(s.localStore,Mt),yield Uy(s,D_(Mt),st,!1)}A.push(gt)}return s.Dc.To(U),A}),av.apply(this,arguments)}function D_(i){return qx(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function GM(i){const t=ue(i);return ue(ue(t.localStore).persistence).ds()}function UM(i,t,e,s){return lv.apply(this,arguments)}function lv(){return lv=(0,te.Z)(function*(i,t,e,s){const A=ue(i);if(A.Lc)le("SyncEngine","Ignoring unexpected query state notification.");else if(A.Nc.has(t))switch(e){case"current":case"not-current":{const U=yield c_(A.localStore),st=sd.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Ms(A,U,st);break}case"rejected":yield Sh(A.localStore,t,!0),Ph(A,t,s);break;default:be()}}),lv.apply(this,arguments)}function HM(i,t,e){return hv.apply(this,arguments)}function hv(){return hv=(0,te.Z)(function*(i,t,e){const s=cv(i);if(s.Lc){for(const A of t){if(s.Nc.has(A)){le("SyncEngine","Adding an already active target "+A);continue}const U=yield h_(s.localStore,A),st=yield wh(s.localStore,U);yield Uy(s,D_(U),st.targetId,!1),$p(s.remoteStore,st)}for(const A of e)s.Nc.has(A)&&(yield Sh(s.localStore,A,!1).then(()=>{vd(s.remoteStore,A),Ph(s,A)}).catch(Ba))}}),hv.apply(this,arguments)}function cv(i){const t=ue(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=E_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PM.bind(null,t),t.Dc.To=bM.bind(null,t.eventManager),t.Dc.qc=_M.bind(null,t.eventManager),t}function dv(i){const t=ue(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=IM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OM.bind(null,t),t}class L_{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,te.Z)(function*(){e.O=md(t.databaseInfo.databaseId),e.sharedClientState=e.Gc(t),e.persistence=e.jc(t),yield e.persistence.start(),e.gcScheduler=e.Qc(t),e.localStore=e.Wc(t)})()}Qc(t){return null}Wc(t){return s_(this.persistence,new r_,t.initialUser,this.O)}jc(t){return new QT(dy.bi,this.O)}Gc(t){return new p_}terminate(){var t=this;return(0,te.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class R_ extends L_{constructor(t,e,s){super(),this.zc=t,this.cacheSizeBytes=e,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,s=this;return(0,te.Z)(function*(){yield e().call(s,t),yield function(i){return ay.apply(this,arguments)}(s.localStore),yield s.zc.initialize(s,t),yield dv(s.zc.syncEngine),yield Th(s.zc.remoteStore),yield s.persistence.Hn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Wc(t){return s_(this.persistence,new r_,t.initialUser,this.O)}Qc(t){return new IT(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}jc(t){const e=ny(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new iy(this.synchronizeTabs,e,t.clientId,s,t.asyncQueue,g_(),qp(),this.O,this.sharedClientState,!!this.forceOwnership)}Gc(t){return new p_}}class VM extends R_{constructor(t,e){super(t,e,!1),this.zc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,s=this;return(0,te.Z)(function*(){yield e().call(s,t);const A=s.zc.syncEngine;s.sharedClientState instanceof gy&&(s.sharedClientState.syncEngine={hr:FM.bind(null,A),lr:UM.bind(null,A),dr:HM.bind(null,A),ds:GM.bind(null,A),ar:BM.bind(null,A)},yield s.sharedClientState.start()),yield s.persistence.Hn(function(){var U=(0,te.Z)(function*(st){yield function(i,t){return ov.apply(this,arguments)}(s.zc.syncEngine,st),s.gcScheduler&&(st&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):st||s.gcScheduler.stop())});return function(st){return U.apply(this,arguments)}}())})()}Gc(t){const e=g_();if(!gy.Vt(e))throw new se(Qt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=ny(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new gy(e,t.asyncQueue,s,t.clientId,t.initialUser)}}class uv{initialize(t,e){var s=this;return(0,te.Z)(function*(){s.localStore||(s.localStore=t.localStore,s.sharedClientState=t.sharedClientState,s.datastore=s.createDatastore(e),s.remoteStore=s.createRemoteStore(e),s.eventManager=s.createEventManager(e),s.syncEngine=s.createSyncEngine(e,!t.synchronizeTabs),s.sharedClientState.onlineStateHandler=A=>P_(s.syncEngine,A,1),s.remoteStore.remoteSyncer.handleCredentialChange=RM.bind(null,s.syncEngine),yield Oy(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(t){return new xM}createDatastore(t){const e=md(t.databaseInfo.databaseId),s=new nM(t.databaseInfo);return new oM(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return e=this.localStore,s=this.datastore,A=t.asyncQueue,U=gt=>P_(this.syncEngine,gt,0),st=f_.Vt()?new f_:new tM,new lM(e,s,A,U,st);var e,s,A,U,st}createSyncEngine(t,e){return function(s,A,U,st,gt,vt,Mt){const Dt=new MM(s,A,U,st,gt,vt);return Mt&&(Dt.Lc=!0),Dt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,te.Z)(function*(e){const s=ue(e);le("RemoteStore","RemoteStore shutting down."),s.Ko.add(5),yield Ch(s),s.jo.shutdown(),s.Qo.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function N_(i,t=10240){let e=0;return{read:()=>(0,te.Z)(function*(){if(e<i.byteLength){const s={value:i.slice(e,e+t),done:!1};return e+=t,s}return{done:!0}})(),cancel:()=>(0,te.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Qp{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Hc(this.observer.next,t)}error(t){this.observer.error?this.Hc(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Jc(){this.muted=!0}Hc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class YM{constructor(t,e){this.Yc=t,this.O=e,this.metadata=new ki,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then(s=>{s&&s.ac()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Yc.cancel()}getMetadata(){var t=this;return(0,te.Z)(function*(){return t.metadata.promise})()}Kc(){var t=this;return(0,te.Z)(function*(){return yield t.getMetadata(),t.Zc()})()}Zc(){var t=this;return(0,te.Z)(function*(){const e=yield t.tu();if(null===e)return null;const s=t.Xc.decode(e),A=Number(s);isNaN(A)&&t.eu(`length string (${s}) is not valid number`);const U=yield t.nu(A);return new wM(JSON.parse(U),e.length+A)})()}su(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}tu(){var t=this;return(0,te.Z)(function*(){for(;t.su()<0&&!(yield t.iu()););if(0===t.buffer.length)return null;const e=t.su();e<0&&t.eu("Reached the end of bundle when a length string is expected.");const s=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),s})()}nu(t){var e=this;return(0,te.Z)(function*(){for(;e.buffer.length<t;)(yield e.iu())&&e.eu("Reached the end of bundle when more is expected.");const s=e.Xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),s})()}eu(t){throw this.Yc.cancel(),new Error(`Invalid bundle format: ${t}`)}iu(){var t=this;return(0,te.Z)(function*(){const e=yield t.Yc.read();if(!e.done){const s=new Uint8Array(t.buffer.length+e.value.length);s.set(t.buffer),s.set(e.value,t.buffer.length),t.buffer=s}return e.done})()}}class XM{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,te.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new se(Qt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(A=(0,te.Z)(function*(U,st){const gt=ue(U),vt=hd(gt.O)+"/documents",Mt={documents:st.map(Kt=>ld(gt.O,Kt))},Dt=yield gt.Lr("BatchGetDocuments",vt,Mt),Ft=new Map;Dt.forEach(Kt=>{const Jt=function(i,t){return"found"in t?function(e,s){Te(!!s.found);const A=zr(e,s.found.name),U=Pi(s.found.updateTime),st=new $i({mapValue:{fields:s.found.fields}});return Ke.newFoundDocument(A,U,st)}(i,t):"missing"in t?function(e,s){Te(!!s.missing),Te(!!s.readTime);const A=zr(e,s.missing),U=Pi(s.readTime);return Ke.newNoDocument(A,U)}(i,t):be()}(gt.O,Kt);Ft.set(Jt.key.toString(),Jt)});const Wt=[];return st.forEach(Kt=>{const Jt=Ft.get(Kt.toString());Te(!!Jt),Wt.push(Jt)}),Wt}),function(U,st){return A.apply(this,arguments)})(e.datastore,t);var A;return s.forEach(A=>e.recordVersion(A)),s})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new rd(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,te.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var s;t.mutations.forEach(s=>{e.delete(s.key.toString())}),e.forEach((s,A)=>{const U=me.fromPath(A);t.mutations.push(new Nm(U,t.precondition(U)))}),yield(s=(0,te.Z)(function*(A,U){const st=ue(A),gt=hd(st.O)+"/documents",vt={writes:U.map(Mt=>cd(st.O,Mt))};yield st.Mr("Commit",gt,vt)}),function(A,U){return s.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw be();e=Ce.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!e.isEqual(s))throw new se(Qt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?di.updateTime(e):di.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ce.min()))throw new se(Qt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return di.updateTime(e)}return di.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class ZM{constructor(t,e,s,A){this.asyncQueue=t,this.datastore=e,this.updateFunction=s,this.deferred=A,this.ru=5,this.ro=new my(this.asyncQueue,"transaction_retry")}run(){this.ru-=1,this.ou()}ou(){var t=this;this.ro.Hr((0,te.Z)(function*(){const e=new XM(t.datastore),s=t.cu(e);s&&s.then(A=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(A)}).catch(U=>{t.uu(U)}))}).catch(A=>{t.uu(A)})}))}cu(t){try{const e=this.updateFunction(t);return!ka(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}uu(t){this.ru>0&&this.au(t)?(this.ru-=1,this.asyncQueue.enqueueAndForget(()=>(this.ou(),Promise.resolve()))):this.deferred.reject(t)}au(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!ub(e)}return!1}}class qM{constructor(t,e,s,A){var U=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=A,this.user=Vi.UNAUTHENTICATED,this.clientId=Rx.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var st=(0,te.Z)(function*(gt){le("FirestoreClient","Received user=",gt.uid),yield U.authCredentialListener(gt),U.user=gt});return function(gt){return st.apply(this,arguments)}}()),this.appCheckCredentials.start(s,st=>(le("FirestoreClient","Received new app check token=",st),this.appCheckCredentialListener(st,this.user)))}getConfiguration(){var t=this;return(0,te.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(Qt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(s){const A=kh(s,"Failed to shutdown persistence");e.reject(A)}})),e.promise}}function j_(i,t){return pv.apply(this,arguments)}function pv(){return pv=(0,te.Z)(function*(i,t){i.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield i.getConfiguration();yield t.initialize(e);let s=e.initialUser;i.setCredentialChangeListener(function(){var A=(0,te.Z)(function*(U){s.isEqual(U)||(yield o_(t.localStore,U),s=U)});return function(U){return A.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=t}),pv.apply(this,arguments)}function B_(i,t){return fv.apply(this,arguments)}function fv(){return fv=(0,te.Z)(function*(i,t){i.asyncQueue.verifyOperationInProgress();const e=yield gv(i);le("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield t.initialize(e,s),i.setCredentialChangeListener(A=>w_(t.remoteStore,A)),i.setAppCheckTokenChangeListener((A,U)=>w_(t.remoteStore,U)),i.onlineComponents=t}),fv.apply(this,arguments)}function gv(i){return mv.apply(this,arguments)}function mv(){return mv=(0,te.Z)(function*(i){return i.offlineComponents||(le("FirestoreClient","Using default OfflineComponentProvider"),yield j_(i,new L_)),i.offlineComponents}),mv.apply(this,arguments)}function Jp(i){return yv.apply(this,arguments)}function yv(){return yv=(0,te.Z)(function*(i){return i.onlineComponents||(le("FirestoreClient","Using default OnlineComponentProvider"),yield B_(i,new uv)),i.onlineComponents}),yv.apply(this,arguments)}function F_(i){return gv(i).then(t=>t.persistence)}function vv(i){return gv(i).then(t=>t.localStore)}function z_(i){return Jp(i).then(t=>t.remoteStore)}function xv(i){return Jp(i).then(t=>t.syncEngine)}function Ih(i){return bv.apply(this,arguments)}function bv(){return bv=(0,te.Z)(function*(i){const t=yield Jp(i),e=t.eventManager;return e.onListen=kM.bind(null,t.syncEngine),e.onUnlisten=AM.bind(null,t.syncEngine),e}),bv.apply(this,arguments)}function G_(i,t,e={}){const s=new ki;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(A,U,st,gt,vt){const Mt=new Qp({next:Ft=>{U.enqueueAndForget(()=>jy(A,Dt));const Wt=Ft.docs.has(st);!Wt&&Ft.fromCache?vt.reject(new se(Qt.UNAVAILABLE,"Failed to get document because the client is offline.")):Wt&&Ft.fromCache&&gt&&"server"===gt.source?vt.reject(new se(Qt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):vt.resolve(Ft)},error:Ft=>vt.reject(Ft)}),Dt=new zy(hh(st.path),Mt,{includeMetadataChanges:!0,uc:!0});return Ry(A,Dt)}(yield Ih(i),i.asyncQueue,t,e,s)})),s.promise}function U_(i,t,e={}){const s=new ki;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(A,U,st,gt,vt){const Mt=new Qp({next:Ft=>{U.enqueueAndForget(()=>jy(A,Dt)),Ft.fromCache&&"server"===gt.source?vt.reject(new se(Qt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):vt.resolve(Ft)},error:Ft=>vt.reject(Ft)}),Dt=new zy(st,Mt,{includeMetadataChanges:!0,uc:!0});return Ry(A,Dt)}(yield Ih(i),i.asyncQueue,t,e,s)})),s.promise}const H_=new Map;function _v(i,t,e){if(!e)throw new se(Qt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function W_(i,t,e,s){if(!0===t&&!0===s)throw new se(Qt.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function V_(i){if(!me.isDocumentKey(i))throw new se(Qt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Y_(i){if(me.isDocumentKey(i))throw new se(Qt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function tf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const t=(e=i).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof i?"a function":be()}function Re(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new se(Qt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=tf(i);throw new se(Qt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function X_(i,t){if(t<=0)throw new se(Qt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${t}.`)}class Z_{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new se(Qt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new se(Qt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,W_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xd{constructor(t,e,s){this._authCredentials=e,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z_({}),this._settingsFrozen=!1,t instanceof Ma?this._databaseId=t:(this._app=t,this._databaseId=function(A){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new se(Qt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ma(A.options.projectId)}(t))}get app(){if(!this._app)throw new se(Qt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new se(Qt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z_(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new bC;switch(e.type){case"gapi":const s=e.client;return Te(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new CC(s,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new se(Qt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=H_.get(t);e&&(le("ComponentProvider","Removing Datastore"),H_.delete(t),e.terminate())}(this),Promise.resolve()}}class Ye{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ye(this.firestore,t,this._key)}}class Qi{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Qi(this.firestore,t,this._query)}}class Hr extends Qi{constructor(t,e,s){super(t,e,hh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ye(this.firestore,null,new me(t))}withConverter(t){return new Hr(this.firestore,t,this._path)}}function q_(i,t,...e){if(i=(0,Se.m9)(i),_v("collection","path",t),i instanceof xd){const s=Be.fromString(t,...e);return Y_(s),new Hr(i,null,s)}{if(!(i instanceof Ye||i instanceof Hr))throw new se(Qt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Be.fromString(t,...e));return Y_(s),new Hr(i.firestore,null,s)}}function ef(i,t,...e){if(i=(0,Se.m9)(i),1===arguments.length&&(t=Rx.R()),_v("doc","path",t),i instanceof xd){const s=Be.fromString(t,...e);return V_(s),new Ye(i,null,new me(s))}{if(!(i instanceof Ye||i instanceof Hr))throw new se(Qt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Be.fromString(t,...e));return V_(s),new Ye(i.firestore,i instanceof Hr?i.converter:null,new me(s))}}function $_(i,t){return i=(0,Se.m9)(i),t=(0,Se.m9)(t),(i instanceof Ye||i instanceof Hr)&&(t instanceof Ye||t instanceof Hr)&&i.firestore===t.firestore&&i.path===t.path&&i.converter===t.converter}function K_(i,t){return i=(0,Se.m9)(i),t=(0,Se.m9)(t),i instanceof Qi&&t instanceof Qi&&i.firestore===t.firestore&&ed(i._query,t._query)&&i.converter===t.converter}class ok{constructor(){this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new my(this,"async_queue_retry"),this.yu=()=>{const e=qp();e&&le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ro.Yr()};const t=qp();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.yu)}get isShuttingDown(){return this.fu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.fu){this.fu=!0,this.mu=t||!1;const e=qp();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.yu)}}enqueue(t){if(this.pu(),this.fu)return new Promise(()=>{});const e=new ki;return this.Iu(()=>this.fu&&this.mu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.lu.push(t),this.Eu()))}Eu(){var t=this;return(0,te.Z)(function*(){if(0!==t.lu.length){try{yield t.lu[0](),t.lu.shift(),t.ro.reset()}catch(e){if(!Da(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}t.lu.length>0&&t.ro.Hr(()=>t.Eu())}})()}Iu(t){const e=this.hu.then(()=>(this.wu=!0,t().catch(s=>{throw this._u=s,this.wu=!1,ci("INTERNAL UNHANDLED ERROR: ",function(U){let st=U.message||"";return U.stack&&(st=U.stack.includes(U.message)?U.stack:U.message+"\n"+U.stack),st}(s)),s}).then(s=>(this.wu=!1,s))));return this.hu=e,e}enqueueAfterDelay(t,e,s){this.pu(),this.gu.indexOf(t)>-1&&(e=0);const A=Ly.createAndSchedule(this,t,e,s,U=>this.Tu(U));return this.du.push(A),A}pu(){this._u&&be()}verifyOperationInProgress(){}Au(){var t=this;return(0,te.Z)(function*(){let e;do{e=t.hu,yield e}while(e!==t.hu)})()}Ru(t){for(const e of this.du)if(e.timerId===t)return!0;return!1}Pu(t){return this.Au().then(()=>{this.du.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.du)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Au()})}bu(t){this.gu.push(t)}Tu(t){const e=this.du.indexOf(t);this.du.splice(e,1)}}function wv(i){return function(t,e){if("object"!=typeof t||null===t)return!1;const s=t;for(const A of["next","error","complete"])if(A in s&&"function"==typeof s[A])return!0;return!1}(i)}class ak{constructor(){this._progressObserver={},this._taskCompletionResolver=new ki,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,s){this._progressObserver={next:t,error:e,complete:s}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class $e extends xd{constructor(t,e,s){super(t,e,s),this.type="firestore",this._queue=new ok,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Q_(this),this._firestoreClient.terminate()}}function pi(i){return i._firestoreClient||Q_(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Q_(i){var t;const e=i._freezeSettings(),s=(U=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new PC(i._databaseId,U,i._persistenceKey,(gt=e).host,gt.ssl,gt.experimentalForceLongPolling,gt.experimentalAutoDetectLongPolling,gt.useFetchStreams));var U,gt;i._firestoreClient=new qM(i._authCredentials,i._appCheckCredentials,i._queue,s)}function J_(i,t,e){const s=new ki;return i.asyncQueue.enqueue((0,te.Z)(function*(){try{yield j_(i,e),yield B_(i,t),s.resolve()}catch(A){if(!("FirebaseError"===(U=A).name?U.code===Qt.FAILED_PRECONDITION||U.code===Qt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&U instanceof DOMException)||22===U.code||20===U.code||11===U.code))throw A;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+A),s.reject(A)}var U})).then(()=>s.promise)}function tw(i){if(i._initialized||i._terminated)throw new se(Qt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ks{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new se(Qt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ei(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wr(vi.fromBase64String(t))}catch(e){throw new se(Qt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Wr(vi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Fa{constructor(t){this._methodName=t}}class nf{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new se(Qt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new se(Qt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Oe(this._lat,t._lat)||Oe(this._long,t._long)}}const yk=/^__.*__$/;class vk{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return null!==this.fieldMask?new Ia(t,this.data,this.fieldMask,e,this.fieldTransforms):new nd(t,this.data,e,this.fieldTransforms)}}class ew{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return new Ia(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function iw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class rf{constructor(t,e,s,A,U,st){this.settings=t,this.databaseId=e,this.O=s,this.ignoreUndefinedProperties=A,void 0===U&&this.vu(),this.fieldTransforms=U||[],this.fieldMask=st||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}Su(t){return new rf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Du(t){var e;const s=null===(e=this.path)||void 0===e?void 0:e.child(t),A=this.Su({path:s,Cu:!1});return A.Nu(t),A}xu(t){var e;const s=null===(e=this.path)||void 0===e?void 0:e.child(t),A=this.Su({path:s,Cu:!1});return A.vu(),A}ku(t){return this.Su({path:void 0,Cu:!0})}Ou(t){return lf(t,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Nu(this.path.get(t))}Nu(t){if(0===t.length)throw this.Ou("Document fields must not be empty");if(iw(this.Vu)&&yk.test(t))throw this.Ou('Document fields cannot begin and end with "__"')}}class xk{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.O=s||md(t)}Fu(t,e,s,A=!1){return new rf({Vu:t,methodName:e,$u:s,path:Ei.emptyPath(),Cu:!1,Mu:A},this.databaseId,this.O,this.ignoreUndefinedProperties)}}function za(i){const t=i._freezeSettings(),e=md(i._databaseId);return new xk(i._databaseId,!!t.ignoreUndefinedProperties,e)}function sf(i,t,e,s,A,U={}){const st=i.Fu(U.merge||U.mergeFields?2:0,t,e,A);Mv("Data must be an object, but it was:",st,s);const gt=sw(s,st);let vt,Mt;if(U.merge)vt=new rh(st.fieldMask),Mt=st.fieldTransforms;else if(U.mergeFields){const Dt=[];for(const Ft of U.mergeFields){const Wt=kv(t,Ft,e);if(!st.contains(Wt))throw new se(Qt.INVALID_ARGUMENT,`Field '${Wt}' is specified in your field mask but missing from your input data.`);aw(Dt,Wt)||Dt.push(Wt)}vt=new rh(Dt),Mt=st.fieldTransforms.filter(Ft=>vt.covers(Ft.field))}else vt=null,Mt=st.fieldTransforms;return new vk(new $i(gt),vt,Mt)}class bd extends Fa{_toFieldTransform(t){if(2!==t.Vu)throw t.Ou(1===t.Vu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bd}}function nw(i,t,e){return new rf({Vu:3,$u:t.settings.$u,methodName:i._methodName,Cu:e},t.databaseId,t.O,t.ignoreUndefinedProperties)}class Sv extends Fa{_toFieldTransform(t){return new id(t.path,new dh)}isEqual(t){return t instanceof Sv}}class bk extends Fa{constructor(t,e){super(t),this.Bu=e}_toFieldTransform(t){const e=nw(this,t,!0),s=this.Bu.map(U=>Ga(U,e)),A=new Ea(s);return new id(t.path,A)}isEqual(t){return this===t}}class _k extends Fa{constructor(t,e){super(t),this.Bu=e}_toFieldTransform(t){const e=nw(this,t,!0),s=this.Bu.map(U=>Ga(U,e)),A=new Pa(s);return new id(t.path,A)}isEqual(t){return this===t}}class wk extends Fa{constructor(t,e){super(t),this.Lu=e}_toFieldTransform(t){const e=new uh(t.O,eb(t.O,this.Lu));return new id(t.path,e)}isEqual(t){return this===t}}function Cv(i,t,e,s){const A=i.Fu(1,t,e);Mv("Data must be an object, but it was:",A,s);const U=[],st=$i.empty();Ca(s,(vt,Mt)=>{const Dt=af(t,vt,e);Mt=(0,Se.m9)(Mt);const Ft=A.xu(Dt);if(Mt instanceof bd)U.push(Dt);else{const Wt=Ga(Mt,Ft);null!=Wt&&(U.push(Dt),st.set(Dt,Wt))}});const gt=new rh(U);return new ew(st,gt,A.fieldTransforms)}function Tv(i,t,e,s,A,U){const st=i.Fu(1,t,e),gt=[kv(t,s,e)],vt=[A];if(U.length%2!=0)throw new se(Qt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Wt=0;Wt<U.length;Wt+=2)gt.push(kv(t,U[Wt])),vt.push(U[Wt+1]);const Mt=[],Dt=$i.empty();for(let Wt=gt.length-1;Wt>=0;--Wt)if(!aw(Mt,gt[Wt])){const Kt=gt[Wt];let Jt=vt[Wt];Jt=(0,Se.m9)(Jt);const he=st.xu(Kt);if(Jt instanceof bd)Mt.push(Kt);else{const ce=Ga(Jt,he);null!=ce&&(Mt.push(Kt),Dt.set(Kt,ce))}}const Ft=new rh(Mt);return new ew(Dt,Ft,st.fieldTransforms)}function rw(i,t,e,s=!1){return Ga(e,i.Fu(s?4:3,t))}function Ga(i,t){if(ow(i=(0,Se.m9)(i)))return Mv("Unsupported field value:",t,i),sw(i,t);if(i instanceof Fa)return function(e,s){if(!iw(s.Vu))throw s.Ou(`${e._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Ou(`${e._methodName}() is not currently supported inside arrays`);const A=e._toFieldTransform(s);A&&s.fieldTransforms.push(A)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,s){const A=[];let U=0;for(const st of e){let gt=Ga(st,s.ku(U));null==gt&&(gt={nullValue:"NULL_VALUE"}),A.push(gt),U++}return{arrayValue:{values:A}}}(i,t)}return function(e,s){if(null===(e=(0,Se.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return eb(s.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const A=Ai.fromDate(e);return{timestampValue:ad(s.O,A)}}if(e instanceof Ai){const A=new Ai(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ad(s.O,A)}}if(e instanceof nf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wr)return{bytesValue:bb(s.O,e._byteString)};if(e instanceof Ye){const A=s.databaseId,U=e.firestore._databaseId;if(!U.isEqual(A))throw s.Ou(`Document reference is for database ${U.projectId}/${U.database} but should be for database ${A.projectId}/${A.database}`);return{referenceValue:Bm(e.firestore._databaseId||s.databaseId,e._key.path)}}throw s.Ou(`Unsupported field value: ${tf(e)}`)}(i,t)}function sw(i,t){const e={};return Bx(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ca(i,(s,A)=>{const U=Ga(A,t.Du(s));null!=U&&(e[s]=U)}),{mapValue:{fields:e}}}function ow(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ai||i instanceof nf||i instanceof Wr||i instanceof Ye||i instanceof Fa)}function Mv(i,t,e){if(!ow(e)||"object"!=typeof(s=e)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=tf(e);throw t.Ou("an object"===s?i+" a custom object":i+" "+s)}var s}function kv(i,t,e){if((t=(0,Se.m9)(t))instanceof ks)return t._internalPath;if("string"==typeof t)return af(i,t);throw lf("Field path arguments must be of type string or ",i,!1,void 0,e)}const Sk=new RegExp("[~\\*/\\[\\]]");function af(i,t,e){if(t.search(Sk)>=0)throw lf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new ks(...t.split("."))._internalPath}catch(s){throw lf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function lf(i,t,e,s,A){const U=s&&!s.isEmpty(),st=void 0!==A;let gt=`Function ${t}() called with invalid data`;e&&(gt+=" (via `toFirestore()`)"),gt+=". ";let vt="";return(U||st)&&(vt+=" (found",U&&(vt+=` in field ${s}`),st&&(vt+=` in document ${A}`),vt+=")"),new se(Qt.INVALID_ARGUMENT,gt+i+vt)}function aw(i,t){return i.some(e=>e.isEqual(t))}class _d{constructor(t,e,s,A,U){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=A,this._converter=U}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Ck(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(hf("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Ck extends _d{data(){return super.data()}}function hf(i,t){return"string"==typeof t?af(i,t):t instanceof ks?t._internalPath:t._delegate._internalPath}class Ua{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class As extends _d{constructor(t,e,s,A,U,st){super(t,e,s,A,st),this._firestore=t,this._firestoreImpl=t,this.metadata=U}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(hf("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class wd extends As{data(t={}){return super.data(t)}}class Po{constructor(t,e,s,A){this._firestore=t,this._userDataWriter=e,this._snapshot=A,this.metadata=new Ua(A.hasPendingWrites,A.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new wd(this._firestore,this._userDataWriter,s.key,s,new Ua(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new se(Qt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,A){if(s._snapshot.oldDocs.isEmpty()){let U=0;return s._snapshot.docChanges.map(st=>({type:"added",doc:new wd(s._firestore,s._userDataWriter,st.doc.key,st.doc,new Ua(s._snapshot.mutatedKeys.has(st.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:U++}))}{let U=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(st=>A||3!==st.type).map(st=>{const gt=new wd(s._firestore,s._userDataWriter,st.doc.key,st.doc,new Ua(s._snapshot.mutatedKeys.has(st.doc.key),s._snapshot.fromCache),s.query.converter);let vt=-1,Mt=-1;return 0!==st.type&&(vt=U.indexOf(st.doc.key),U=U.delete(st.doc.key)),1!==st.type&&(U=U.add(st.doc),Mt=U.indexOf(st.doc.key)),{type:Tk(st.type),doc:gt,oldIndex:vt,newIndex:Mt}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Tk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}function lw(i,t){return i instanceof As&&t instanceof As?i._firestore===t._firestore&&i._key.isEqual(t._key)&&(null===i._document?null===t._document:i._document.isEqual(t._document))&&i._converter===t._converter:i instanceof Po&&t instanceof Po&&i._firestore===t._firestore&&K_(i.query,t.query)&&i.metadata.isEqual(t.metadata)&&i._snapshot.isEqual(t._snapshot)}function hw(i){if(Pp(i)&&0===i.explicitOrderBy.length)throw new se(Qt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sd{}function Io(i,...t){for(const e of t)i=e._apply(i);return i}class Mk extends Sd{constructor(t,e,s){super(),this.Uu=t,this.qu=e,this.Ku=s,this.type="where"}_apply(t){const e=za(t.firestore),s=function(A,U,st,gt,vt,Mt,Dt){let Ft;if(vt.isKeyField()){if("array-contains"===Mt||"array-contains-any"===Mt)throw new se(Qt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Mt}' queries on documentId().`);if("in"===Mt||"not-in"===Mt){gw(Dt,Mt);const Kt=[];for(const Jt of Dt)Kt.push(fw(gt,A,Jt));Ft={arrayValue:{values:Kt}}}else Ft=fw(gt,A,Dt)}else"in"!==Mt&&"not-in"!==Mt&&"array-contains-any"!==Mt||gw(Dt,Mt),Ft=rw(st,"where",Dt,"in"===Mt||"not-in"===Mt);const Wt=hn.create(vt,Mt,Ft);return function(Kt,Jt){if(Jt.S()){const ce=Im(Kt);if(null!==ce&&!ce.isEqual(Jt.field))throw new se(Qt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ce.toString()}' and '${Jt.field.toString()}'`);const Ee=Pm(Kt);null!==Ee&&mw(0,Jt.field,Ee)}const he=function(ce,Ee){for(const ze of ce.filters)if(Ee.indexOf(ze.op)>=0)return ze.op;return null}(Kt,function(ce){switch(ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Jt.op));if(null!==he)throw new se(Qt.INVALID_ARGUMENT,he===Jt.op?`Invalid query. You cannot use more than one '${Jt.op.toString()}' filter.`:`Invalid query. You cannot use '${Jt.op.toString()}' filters with '${he.toString()}' filters.`)}(A,Wt),Wt}(t._query,0,e,t.firestore._databaseId,this.Uu,this.qu,this.Ku);return new Qi(t.firestore,t.converter,function(A,U){const st=A.filters.concat([U]);return new Cs(A.path,A.collectionGroup,A.explicitOrderBy.slice(),st,A.limit,A.limitType,A.startAt,A.endAt)}(t._query,s))}}class Ak extends Sd{constructor(t,e){super(),this.Uu=t,this.Gu=e,this.type="orderBy"}_apply(t){const e=function(s,A,U){if(null!==s.startAt)throw new se(Qt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new se(Qt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const st=new lh(A,U);return function(gt,vt){if(null===Pm(gt)){const Mt=Im(gt);null!==Mt&&mw(0,Mt,vt.field)}}(s,st),st}(t._query,this.Uu,this.Gu);return new Qi(t.firestore,t.converter,function(s,A){const U=s.explicitOrderBy.concat([A]);return new Cs(s.path,s.collectionGroup,U,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,e))}}class cw extends Sd{constructor(t,e,s){super(),this.type=t,this.ju=e,this.Qu=s}_apply(t){return new Qi(t.firestore,t.converter,$x(t._query,this.ju,this.Qu))}}class dw extends Sd{constructor(t,e,s){super(),this.type=t,this.Wu=e,this.zu=s}_apply(t){const e=pw(t,this.type,this.Wu,this.zu);return new Qi(t.firestore,t.converter,(A=e,new Cs((s=t._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,A,s.endAt)));var s,A}}class uw extends Sd{constructor(t,e,s){super(),this.type=t,this.Wu=e,this.zu=s}_apply(t){const e=pw(t,this.type,this.Wu,this.zu);return new Qi(t.firestore,t.converter,(A=e,new Cs((s=t._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,A)));var s,A}}function pw(i,t,e,s){if(e[0]=(0,Se.m9)(e[0]),e[0]instanceof _d)return function(A,U,st,gt,vt){if(!gt)throw new se(Qt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${st}().`);const Mt=[];for(const Dt of ch(A))if(Dt.field.isKeyField())Mt.push(wp(U,gt.key));else{const Ft=gt.data.field(Dt.field);if(Mm(Ft))throw new se(Qt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Dt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ft){const Wt=Dt.field.canonicalString();throw new se(Qt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Wt}' (used as the orderBy) does not exist.`)}Mt.push(Ft)}return new ah(Mt,vt)}(i._query,i.firestore._databaseId,t,e[0]._document,s);{const A=za(i.firestore);return function(U,st,gt,vt,Mt,Dt){const Ft=U.explicitOrderBy;if(Mt.length>Ft.length)throw new se(Qt.INVALID_ARGUMENT,`Too many arguments provided to ${vt}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Wt=[];for(let Kt=0;Kt<Mt.length;Kt++){const Jt=Mt[Kt];if(Ft[Kt].field.isKeyField()){if("string"!=typeof Jt)throw new se(Qt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${vt}(), but got a ${typeof Jt}`);if(!Om(U)&&-1!==Jt.indexOf("/"))throw new se(Qt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${vt}() must be a plain document ID, but '${Jt}' contains a slash.`);const he=U.path.child(Be.fromString(Jt));if(!me.isDocumentKey(he))throw new se(Qt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${vt}() must result in a valid document path, but '${he}' is not because it contains an odd number of segments.`);const ce=new me(he);Wt.push(wp(st,ce))}else{const he=rw(gt,vt,Jt);Wt.push(he)}}return new ah(Wt,Dt)}(i._query,i.firestore._databaseId,A,t,e,s)}}function fw(i,t,e){if("string"==typeof(e=(0,Se.m9)(e))){if(""===e)throw new se(Qt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Om(t)&&-1!==e.indexOf("/"))throw new se(Qt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(Be.fromString(e));if(!me.isDocumentKey(s))throw new se(Qt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return wp(i,new me(s))}if(e instanceof Ye)return wp(i,e._key);throw new se(Qt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(e)}.`)}function gw(i,t){if(!Array.isArray(i)||0===i.length)throw new se(Qt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(i.length>10)throw new se(Qt.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function mw(i,t,e){if(!e.isEqual(t))throw new se(Qt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class Av{convertValue(t,e="none"){switch(Aa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ei(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ta(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw be()}}convertObject(t,e){const s={};return Ca(t.fields,(A,U)=>{s[A]=this.convertValue(U,e)}),s}convertGeoPoint(t){return new nf(ei(t.latitude),ei(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=Fx(t);return null==s?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(qc(t));default:return null}}convertTimestamp(t){const e=wo(t);return new Ai(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=Be.fromString(t);Te(Pb(s));const A=new Ma(s.get(1),s.get(3)),U=new me(s.popFirst(5));return A.isEqual(e)||ci(`Document ${U} contains a document reference within a different database (${A.projectId}/${A.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),U}}function cf(i,t,e){let s;return s=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,s}class Nk extends Av{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wr(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ye(this.firestore,null,e)}}class yw{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=za(t)}set(t,e,s){this._verifyNotCommitted();const A=Oo(t,this._firestore),U=cf(A.converter,e,s),st=sf(this._dataReader,"WriteBatch.set",A._key,U,null!==A.converter,s);return this._mutations.push(st.toMutation(A._key,di.none())),this}update(t,e,s,...A){this._verifyNotCommitted();const U=Oo(t,this._firestore);let st;return st="string"==typeof(e=(0,Se.m9)(e))||e instanceof ks?Tv(this._dataReader,"WriteBatch.update",U._key,e,s,A):Cv(this._dataReader,"WriteBatch.update",U._key,e),this._mutations.push(st.toMutation(U._key,di.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Oo(t,this._firestore);return this._mutations=this._mutations.concat(new rd(e._key,di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new se(Qt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Oo(i,t){if((i=(0,Se.m9)(i)).firestore!==t)throw new se(Qt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Ha extends Av{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wr(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ye(this.firestore,null,e)}}function vw(i,t,e){i=Re(i,Ye);const s=Re(i.firestore,$e),A=cf(i.converter,t,e);return Oh(s,[sf(za(s),"setDoc",i._key,A,null!==i.converter,e).toMutation(i._key,di.none())])}function xw(i,t,e,...s){i=Re(i,Ye);const A=Re(i.firestore,$e),U=za(A);let st;return st="string"==typeof(t=(0,Se.m9)(t))||t instanceof ks?Tv(U,"updateDoc",i._key,t,e,s):Cv(U,"updateDoc",i._key,t),Oh(A,[st.toMutation(i._key,di.exists(!0))])}function bw(i,...t){var e,s,A;i=(0,Se.m9)(i);let U={includeMetadataChanges:!1},st=0;"object"!=typeof t[st]||wv(t[st])||(U=t[st],st++);const gt={includeMetadataChanges:U.includeMetadataChanges};if(wv(t[st])){const Ft=t[st];t[st]=null===(e=Ft.next)||void 0===e?void 0:e.bind(Ft),t[st+1]=null===(s=Ft.error)||void 0===s?void 0:s.bind(Ft),t[st+2]=null===(A=Ft.complete)||void 0===A?void 0:A.bind(Ft)}let vt,Mt,Dt;if(i instanceof Ye)Mt=Re(i.firestore,$e),Dt=hh(i._key.path),vt={next:Ft=>{t[st]&&t[st](Ev(Mt,i,Ft))},error:t[st+1],complete:t[st+2]};else{const Ft=Re(i,Qi);Mt=Re(Ft.firestore,$e),Dt=Ft._query;const Wt=new Ha(Mt);vt={next:Kt=>{t[st]&&t[st](new Po(Mt,Wt,Ft,Kt))},error:t[st+1],complete:t[st+2]},hw(i._query)}return function(Ft,Wt,Kt,Jt){const he=new Qp(Jt),ce=new zy(Wt,he,Kt);return Ft.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return Ry(yield Ih(Ft),ce)})),()=>{he.Jc(),Ft.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return jy(yield Ih(Ft),ce)}))}}(pi(Mt),Dt,gt,vt)}function Oh(i,t){return function(e,s){const A=new ki;return e.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(i,t,e){return Vy.apply(this,arguments)}(yield xv(e),s,A)})),A.promise}(pi(i),t)}function Ev(i,t,e){const s=e.docs.get(t._key),A=new Ha(i);return new As(i,A,t._key,s,new Ua(e.hasPendingWrites,e.fromCache),t.converter)}class Yk extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=za(t)}get(t){const e=Oo(t,this._firestore),s=new Nk(this._firestore);return this._transaction.lookup([e._key]).then(A=>{if(!A||1!==A.length)return be();const U=A[0];if(U.isFoundDocument())return new _d(this._firestore,s,U.key,U,e.converter);if(U.isNoDocument())return new _d(this._firestore,s,e._key,null,e.converter);throw be()})}set(t,e,s){const A=Oo(t,this._firestore),U=cf(A.converter,e,s),st=sf(this._dataReader,"Transaction.set",A._key,U,null!==A.converter,s);return this._transaction.set(A._key,st),this}update(t,e,s,...A){const U=Oo(t,this._firestore);let st;return st="string"==typeof(e=(0,Se.m9)(e))||e instanceof ks?Tv(this._dataReader,"Transaction.update",U._key,e,s,A):Cv(this._dataReader,"Transaction.update",U._key,e),this._transaction.update(U._key,st),this}delete(t){const e=Oo(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Oo(t,this._firestore),s=new Ha(this._firestore);return super.get(t).then(A=>new As(this._firestore,s,e._key,A._document,new Ua(!1,!1),e.converter))}}function Pv(i,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new se("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return t}function ww(){if("undefined"==typeof Uint8Array)throw new se("unimplemented","Uint8Arrays are not available in this environment.")}function Sw(){if("undefined"==typeof atob)throw new se("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,t=!0){ih=xn.SDK_VERSION,(0,xn._registerComponent)(new go.wA("firestore",(e,{options:s})=>{const A=e.getProvider("app").getImmediate(),U=new $e(A,new wC(e.getProvider("auth-internal")),new TC(e.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:t},s),U._setSettings(s),U},"PUBLIC")),(0,xn.registerVersion)(Ox,"3.4.5",i),(0,xn.registerVersion)(Ox,"3.4.5","esm2017")}();class Cd{constructor(t){this._delegate=t}static fromBase64String(t){return Sw(),new Cd(Wr.fromBase64String(t))}static fromUint8Array(t){return ww(),new Cd(Wr.fromUint8Array(t))}toBase64(){return Sw(),this._delegate.toBase64()}toUint8Array(){return ww(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Iv(i){return function(i,t){if("object"!=typeof i||null===i)return!1;const e=i;for(const s of["next","error","complete"])if(s in e&&"function"==typeof e[s])return!0;return!1}(i)}class iA{enableIndexedDbPersistence(t,e){return function(i,t){tw(i=Re(i,$e));const e=pi(i),s=i._freezeSettings(),A=new uv;return J_(e,A,new R_(A,s.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(i){tw(i=Re(i,$e));const t=pi(i),e=i._freezeSettings(),s=new uv;return J_(t,s,new VM(s,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(i){if(i._initialized&&!i._terminated)throw new se(Qt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ki;return i._queue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{yield(e=(0,te.Z)(function*(s){if(!_r.Vt())return Promise.resolve();const A=s+"main";yield _r.delete(A)}),function(s){return e.apply(this,arguments)})(ny(i._databaseId,i._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class Cw{constructor(t,e,s){this._delegate=e,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},t instanceof Ma||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Xc("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,s={}){!function(i,t,e,s={}){var A;const U=(i=Re(i,xd))._getSettings();if("firestore.googleapis.com"!==U.host&&U.host!==t&&Xc("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},U),{host:`${t}:${e}`,ssl:!1})),s.mockUserToken){let st,gt;if("string"==typeof s.mockUserToken)st=s.mockUserToken,gt=Vi.MOCK_USER;else{st=(0,Se.Sg)(s.mockUserToken,null===(A=i._app)||void 0===A?void 0:A.options.projectId);const vt=s.mockUserToken.sub||s.mockUserToken.user_id;if(!vt)throw new se(Qt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");gt=new Vi(vt)}i._authCredentials=new _C(new Dx(st,gt))}}(this._delegate,t,e,s)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,te.Z)(function*(){const t=yield F_(i),e=yield z_(i);return t.setNetworkEnabled(!0),function(s){const A=ue(s);return A.Ko.delete(0),yd(A)}(e)}))}(pi(i=Re(i,$e)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,te.Z)(function*(){const t=yield F_(i),e=yield z_(i);return t.setNetworkEnabled(!1),(s=(0,te.Z)(function*(A){const U=ue(A);U.Ko.add(0),yield Ch(U),U.Qo.set("Offline")}),function(A){return s.apply(this,arguments)})(e);var s}))}(pi(i=Re(i,$e)))}(this._delegate)}enablePersistence(t){let e=!1,s=!1;return t&&(e=!!t.synchronizeTabs,s=!!t.experimentalForceOwningTab,W_("synchronizeTabs",e,"experimentalForceOwningTab",s)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(t){const e=new ki;return t.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(i,t){return $y.apply(this,arguments)}(yield xv(t),e)})),e.promise}(pi(i=Re(i,$e)))}(this._delegate)}onSnapshotsInSync(t){return function(i,t){return function(i,t){const e=new Qp(t);return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return s=yield Ih(i),A=e,ue(s).Zo.add(A),void A.next();var s,A})),()=>{e.Jc(),i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return s=yield Ih(i),A=e,void ue(s).Zo.delete(A);var s,A}))}}(pi(i=Re(i,$e)),wv(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Dh(this,q_(this._delegate,t))}catch(e){throw cn(e,"collection()","Firestore.collection()")}}doc(t){try{return new nr(this,ef(this._delegate,t))}catch(e){throw cn(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new dn(this,function(i,t){if(i=Re(i,xd),_v("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new se(Qt.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qi(i,null,(e=t,new Cs(Be.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw cn(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(i,t){return function(i,t){const e=new ki;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){const s=yield(A=i,Jp(A).then(U=>U.datastore));var A;new ZM(i.asyncQueue,s,t,e).run()})),e.promise}(pi(i=Re(i,$e)),e=>t(new Yk(i,e)))}(this._delegate,e=>t(new Tw(this,e)))}batch(){return pi(this._delegate),new Mw(new yw(this._delegate,t=>Oh(this._delegate,t)))}loadBundle(t){return function(i,t){const e=pi(i=Re(i,$e)),s=new ak;return function(i,t,e,s){const A=function(U,st){let gt;return gt="string"==typeof U?(new TextEncoder).encode(U):U,vt=function(vt,Mt){if(vt instanceof Uint8Array)return N_(vt,void 0);if(vt instanceof ArrayBuffer)return N_(new Uint8Array(vt),void 0);if(vt instanceof ReadableStream)return vt.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(gt),new YM(vt,st);var vt}(e,md(t));i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){!function(i,t,e){const s=ue(i);var A;(A=(0,te.Z)(function*(U,st,gt){try{const vt=yield st.getMetadata();if(yield function(Wt,Kt){const Jt=ue(Wt),he=Pi(Kt.createTime);return Jt.persistence.runTransaction("hasNewerBundle","readonly",ce=>Jt.Kn.getBundleMetadata(ce,Kt.id)).then(ce=>!!ce&&ce.createTime.compareTo(he)>=0)}(U.localStore,vt))return yield st.close(),void gt._completeWith((Wt=vt,{taskState:"Success",documentsLoaded:Wt.totalDocuments,bytesLoaded:Wt.totalBytes,totalDocuments:Wt.totalDocuments,totalBytes:Wt.totalBytes}));gt._updateProgress(T_(vt));const Mt=new SM(vt,U.localStore,st.O);let Dt=yield st.Kc();for(;Dt;){const Wt=yield Mt.lc(Dt);Wt&&gt._updateProgress(Wt),Dt=yield st.Kc()}const Ft=yield Mt.complete();yield Ms(U,Ft.ws,void 0),yield function(Wt,Kt){const Jt=ue(Wt);return Jt.persistence.runTransaction("Save bundle","readwrite",he=>Jt.Kn.saveBundleMetadata(he,Kt))}(U.localStore,vt),gt._completeWith(Ft.progress)}catch(vt){Xc("SyncEngine",`Loading bundle failed with ${vt}`),gt._failWith(vt)}var Wt}),function(U,st,gt){return A.apply(this,arguments)})(s,t,e).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield xv(i),A,s)}))}(e,i._databaseId,t,s),s}(this._delegate,t)}namedQuery(t){return function(i,t){return function(i,t){return i.asyncQueue.enqueue((0,te.Z)(function*(){return function(e,s){const A=ue(e);return A.persistence.runTransaction("Get named query","readonly",U=>A.Kn.getNamedQuery(U,s))}(yield vv(i),t)}))}(pi(i=Re(i,$e)),t).then(e=>e?new Qi(i,null,e.query):null)}(this._delegate,t).then(e=>e?new dn(this,e):null)}}class df extends Av{constructor(t){super(),this.firestore=t}convertBytes(t){return new Cd(new Wr(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return nr.forKey(e,this.firestore,null)}}class Tw{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new df(t)}get(t){const e=Va(t);return this._delegate.get(e).then(s=>new Td(this._firestore,new As(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,e.converter)))}set(t,e,s){const A=Va(t);return s?(Pv("Transaction.set",s),this._delegate.set(A,e,s)):this._delegate.set(A,e),this}update(t,e,s,...A){const U=Va(t);return 2===arguments.length?this._delegate.update(U,e):this._delegate.update(U,e,s,...A),this}delete(t){const e=Va(t);return this._delegate.delete(e),this}}class Mw{constructor(t){this._delegate=t}set(t,e,s){const A=Va(t);return s?(Pv("WriteBatch.set",s),this._delegate.set(A,e,s)):this._delegate.set(A,e),this}update(t,e,s,...A){const U=Va(t);return 2===arguments.length?this._delegate.update(U,e):this._delegate.update(U,e,s,...A),this}delete(t){const e=Va(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Wa{constructor(t,e,s){this._firestore=t,this._userDataWriter=e,this._delegate=s}fromFirestore(t,e){const s=new wd(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Md(this._firestore,s),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const s=Wa.INSTANCES;let A=s.get(t);A||(A=new WeakMap,s.set(t,A));let U=A.get(e);return U||(U=new Wa(t,new df(t),e),A.set(e,U)),U}}Wa.INSTANCES=new WeakMap;class nr{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new df(t)}static forPath(t,e,s){if(t.length%2!=0)throw new se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new nr(e,new Ye(e._delegate,s,new me(t)))}static forKey(t,e,s){return new nr(e,new Ye(e._delegate,s,t))}get id(){return this._delegate.id}get parent(){return new Dh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Dh(this.firestore,q_(this._delegate,t))}catch(e){throw cn(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Se.m9)(t))instanceof Ye&&$_(this._delegate,t)}set(t,e){e=Pv("DocumentReference.set",e);try{return e?vw(this._delegate,t,e):vw(this._delegate,t)}catch(s){throw cn(s,"setDoc()","DocumentReference.set()")}}update(t,e,...s){try{return 1===arguments.length?xw(this._delegate,t):xw(this._delegate,t,e,...s)}catch(A){throw cn(A,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return Oh(Re(i.firestore,$e),[new rd(i._key,di.none())])}(this._delegate)}onSnapshot(...t){const e=kw(t),s=Aw(t,A=>new Td(this.firestore,new As(this.firestore._delegate,this._userDataWriter,A._key,A._document,A.metadata,this._delegate.converter)));return bw(this._delegate,e,s)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(i){i=Re(i,Ye);const t=Re(i.firestore,$e),e=pi(t),s=new Ha(t);return function(i,t){const e=new ki;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(s=(0,te.Z)(function*(A,U,st){try{const gt=yield function(vt,Mt){const Dt=ue(vt);return Dt.persistence.runTransaction("read document","readonly",Ft=>Dt.Us.ys(Ft,Mt))}(A,U);gt.isFoundDocument()?st.resolve(gt):gt.isNoDocument()?st.resolve(null):st.reject(new se(Qt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(gt){const vt=kh(gt,`Failed to get document '${U} from cache`);st.reject(vt)}}),function(A,U,st){return s.apply(this,arguments)})(yield vv(i),t,e);var s})),e.promise}(e,i._key).then(A=>new As(t,s,i._key,A,new Ua(null!==A&&A.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(i){i=Re(i,Ye);const t=Re(i.firestore,$e);return G_(pi(t),i._key,{source:"server"}).then(e=>Ev(t,i,e))}(this._delegate):function(i){i=Re(i,Ye);const t=Re(i.firestore,$e);return G_(pi(t),i._key).then(e=>Ev(t,i,e))}(this._delegate),e.then(s=>new Td(this.firestore,new As(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(t){return new nr(this.firestore,this._delegate.withConverter(t?Wa.getInstance(this.firestore,t):null))}}function cn(i,t,e){return i.message=i.message.replace(t,e),i}function kw(i){for(const t of i)if("object"==typeof t&&!Iv(t))return t;return{}}function Aw(i,t){var e,s;let A;return A=Iv(i[0])?i[0]:Iv(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:U=>{A.next&&A.next(t(U))},error:null===(e=A.error)||void 0===e?void 0:e.bind(A),complete:null===(s=A.complete)||void 0===s?void 0:s.bind(A)}}class Td{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new nr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return lw(this._delegate,t._delegate)}}class Md extends Td{data(t){const e=this._delegate.data(t);return function(i,t){i||be()}(void 0!==e),e}}class dn{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new df(t)}where(t,e,s){try{return new dn(this.firestore,Io(this._delegate,function(i,t,e){const s=t,A=hf("where",i);return new Mk(A,s,e)}(t,e,s)))}catch(A){throw cn(A,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new dn(this.firestore,Io(this._delegate,function(i,t="asc"){const e=t,s=hf("orderBy",i);return new Ak(s,e)}(t,e)))}catch(s){throw cn(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new dn(this.firestore,Io(this._delegate,function(i){return X_("limit",i),new cw("limit",i,"F")}(t)))}catch(e){throw cn(e,"limit()","Query.limit()")}}limitToLast(t){try{return new dn(this.firestore,Io(this._delegate,function(i){return X_("limitToLast",i),new cw("limitToLast",i,"L")}(t)))}catch(e){throw cn(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new dn(this.firestore,Io(this._delegate,function(...i){return new dw("startAt",i,!0)}(...t)))}catch(e){throw cn(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new dn(this.firestore,Io(this._delegate,function(...i){return new dw("startAfter",i,!1)}(...t)))}catch(e){throw cn(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new dn(this.firestore,Io(this._delegate,function(...i){return new uw("endBefore",i,!1)}(...t)))}catch(e){throw cn(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new dn(this.firestore,Io(this._delegate,function(...i){return new uw("endAt",i,!0)}(...t)))}catch(e){throw cn(e,"endAt()","Query.endAt()")}}isEqual(t){return K_(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(i){i=Re(i,Qi);const t=Re(i.firestore,$e),e=pi(t),s=new Ha(t);return function(i,t){const e=new ki;return i.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return(s=(0,te.Z)(function*(A,U,st){try{const gt=yield Yp(A,U,!0),vt=new A_(U,gt.Ks),Mt=vt.Ic(gt.documents),Dt=vt.applyChanges(Mt,!1);st.resolve(Dt.snapshot)}catch(gt){const vt=kh(gt,`Failed to execute query '${U} against cache`);st.reject(vt)}}),function(A,U,st){return s.apply(this,arguments)})(yield vv(i),t,e);var s})),e.promise}(e,i._query).then(A=>new Po(t,s,i,A))}(this._delegate):"server"===(null==t?void 0:t.source)?function(i){i=Re(i,Qi);const t=Re(i.firestore,$e),e=pi(t),s=new Ha(t);return U_(e,i._query,{source:"server"}).then(A=>new Po(t,s,i,A))}(this._delegate):function(i){i=Re(i,Qi);const t=Re(i.firestore,$e),e=pi(t),s=new Ha(t);return hw(i._query),U_(e,i._query).then(A=>new Po(t,s,i,A))}(this._delegate),e.then(s=>new Ov(this.firestore,new Po(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...t){const e=kw(t),s=Aw(t,A=>new Ov(this.firestore,new Po(this.firestore._delegate,this._userDataWriter,this._delegate,A._snapshot)));return bw(this._delegate,e,s)}withConverter(t){return new dn(this.firestore,this._delegate.withConverter(t?Wa.getInstance(this.firestore,t):null))}}class rA{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Md(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ov{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new dn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Md(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new rA(this._firestore,e))}forEach(t,e){this._delegate.forEach(s=>{t.call(e,new Md(this._firestore,s))})}isEqual(t){return lw(this._delegate,t._delegate)}}class Dh extends dn{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new nr(this.firestore,t):null}doc(t){try{return new nr(this.firestore,void 0===t?ef(this._delegate):ef(this._delegate,t))}catch(e){throw cn(e,"doc()","CollectionReference.doc()")}}add(t){return function(i,t){const e=Re(i.firestore,$e),s=ef(i),A=cf(i.converter,t);return Oh(e,[sf(za(i.firestore),"addDoc",s._key,A,null!==i.converter,{}).toMutation(s._key,di.exists(!1))]).then(()=>s)}(this._delegate,t).then(e=>new nr(this.firestore,e))}isEqual(t){return $_(this._delegate,t._delegate)}withConverter(t){return new Dh(this.firestore,this._delegate.withConverter(t?Wa.getInstance(this.firestore,t):null))}}function Va(i){return Re(i,Ye)}class Dv{constructor(...t){this._delegate=new ks(...t)}static documentId(){return new Dv(Ei.keyField().canonicalString())}isEqual(t){return(t=(0,Se.m9)(t))instanceof ks&&this._delegate._internalPath.isEqual(t._internalPath)}}class Ya{constructor(t){this._delegate=t}static serverTimestamp(){const t=new Sv("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new Ya(t)}static delete(){const t=new bd("deleteField");return t._methodName="FieldValue.delete",new Ya(t)}static arrayUnion(...t){const e=function(...i){return new bk("arrayUnion",i)}(...t);return e._methodName="FieldValue.arrayUnion",new Ya(e)}static arrayRemove(...t){const e=function(...i){return new _k("arrayRemove",i)}(...t);return e._methodName="FieldValue.arrayRemove",new Ya(e)}static increment(t){const e=function(i){return new wk("increment",i)}(t);return e._methodName="FieldValue.increment",new Ya(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const sA={Firestore:Cw,GeoPoint:nf,Timestamp:Ai,Blob:Cd,Transaction:Tw,WriteBatch:Mw,DocumentReference:nr,DocumentSnapshot:Td,Query:dn,QueryDocumentSnapshot:Md,QuerySnapshot:Ov,CollectionReference:Dh,FieldPath:Dv,FieldValue:Ya,setLogLevel:function(i){!function(i){_o.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){(function(i,t){i.INTERNAL.registerComponent(new go.wA("firestore-compat",e=>((t,e)=>new Cw(t,e,new iA))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},sA)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.14")}(Bl.Z);var uf=Xt(4763),lA=Xt(1733);class hA extends T.x{constructor(t=1/0,e=1/0,s=lA.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:A,_timestampProvider:U,_windowTime:st}=this;e||(s.push(t),!A&&s.push(U.now()+st)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:A}=this,U=A.slice();for(let st=0;st<U.length&&!t.closed;st+=s?1:2)t.next(U[st]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:A}=this,U=(A?1:2)*t;if(t<1/0&&U<s.length&&s.splice(0,s.length-U),!A){const st=e.now();let gt=0;for(let vt=1;vt<s.length&&s[vt]<=st;vt+=2)gt=vt;gt&&s.splice(0,gt+1)}}}var cA=Xt(3174);function Ew(i,t,e){var s,A;let U,st=!1;return i&&"object"==typeof i?(U=null!==(s=i.bufferSize)&&void 0!==s?s:1/0,t=null!==(A=i.windowTime)&&void 0!==A?A:1/0,st=!!i.refCount,e=i.scheduler):U=null!=i?i:1/0,(0,cA.B)({connector:()=>new hA(U,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:st})}var dA=Xt(6047);function Pw(i,t){return(0,Ro.m)(t)?(0,qn.w)(()=>i,t):(0,qn.w)(()=>i)}var Lv=Xt(5222);const Iw=new o.OlP("angularfire2.auth.use-emulator"),Ow=new o.OlP("angularfire2.auth.settings"),Dw=new o.OlP("angularfire2.auth.tenant-id"),Lw=new o.OlP("angularfire2.auth.langugage-code"),Rw=new o.OlP("angularfire2.auth.use-device-language"),Nw=new o.OlP("angularfire.auth.persistence"),jw=(i,t,e,s,A,U,st,gt)=>(0,li.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const vt=t.runOutsideAngular(()=>i.auth());if(e&&vt.useEmulator(...e),s&&(vt.tenantId=s),vt.languageCode=A,U&&vt.useDeviceLanguage(),st)for(const[Mt,Dt]of Object.entries(st))vt.settings[Mt]=Dt;return gt&&vt.setPersistence(gt),vt},[e,s,A,U,st,gt]);let Rv=(()=>{class i{constructor(e,s,A,U,st,gt,vt,Mt,Dt,Ft,Wt,Kt){const Jt=new T.x,he=(0,ni.of)(void 0).pipe((0,uf.Q)(st.outsideAngular),(0,qn.w)(()=>U.runOutsideAngular(()=>Promise.resolve().then(Xt.bind(Xt,8694)))),(0,D.U)(()=>(0,li.on)(e,U,s)),(0,D.U)(ce=>jw(ce,U,gt,Mt,Dt,Ft,vt,Wt)),Ew({bufferSize:1,refCount:!1}));if((0,Nt.PM)(A))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ni.of)(null);else{he.pipe((0,dA.P)()).subscribe();const Ee=he.pipe((0,qn.w)(Me=>Me.getRedirectResult().then(He=>He,()=>null)),Ue.iC,Ew({bufferSize:1,refCount:!1})),ze=he.pipe((0,qn.w)(Me=>new jn.y(He=>({unsubscribe:U.runOutsideAngular(()=>Me.onAuthStateChanged(Ri=>He.next(Ri),Ri=>He.error(Ri),()=>He.complete()))})))),Ge=he.pipe((0,qn.w)(Me=>new jn.y(He=>({unsubscribe:U.runOutsideAngular(()=>Me.onIdTokenChanged(Ri=>He.next(Ri),Ri=>He.error(Ri),()=>He.complete()))}))));this.authState=Ee.pipe(Pw(ze),(0,Lv.R)(st.outsideAngular),(0,uf.Q)(st.insideAngular)),this.user=Ee.pipe(Pw(Ge),(0,Lv.R)(st.outsideAngular),(0,uf.Q)(st.insideAngular)),this.idToken=this.user.pipe((0,qn.w)(Me=>Me?(0,Ni.D)(Me.getIdToken()):(0,ni.of)(null))),this.idTokenResult=this.user.pipe((0,qn.w)(Me=>Me?(0,Ni.D)(Me.getIdTokenResult()):(0,ni.of)(null))),this.credential=(0,C.T)(Ee,Jt,this.authState.pipe((0,M.h)(Me=>!Me))).pipe((0,D.U)(Me=>(null==Me?void 0:Me.user)?Me:null),(0,Lv.R)(st.outsideAngular),(0,uf.Q)(st.insideAngular))}return(0,li.pX)(this,he,U,{spy:{apply:(ce,Ee,ze)=>{(ce.startsWith("signIn")||ce.startsWith("createUser"))&&ze.then(Ge=>Jt.next(Ge))}}})}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(li.Dh),o.LFG(li.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Ue.HU),o.LFG(Iw,8),o.LFG(Ow,8),o.LFG(Dw,8),o.LFG(Lw,8),o.LFG(Rw,8),o.LFG(Nw,8),o.LFG(Zu,8))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),pA=(()=>{class i{constructor(){Pg.Z.registerVersion("angularfire",Ue.q4.full,"auth-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[Rv]}),i})();function Bw(i,t){return function(i,t=lS.z){return new jn.y(e=>{let s;return null!=t?t.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},e)}):s=i.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=s&&s()}})}(i,t)}function Nv(i,t){return Bw(i,t).pipe((0,D.U)(e=>({payload:e,type:"query"})))}function pf(i,t){return Nv(i,t).pipe((0,p.O)(void 0),Ig(),(0,D.U)(([e,s])=>{const A=s.payload.docChanges(),U=A.map(st=>({type:st.type,payload:st}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((st,gt)=>{const vt=A.find(Dt=>Dt.doc.ref.isEqual(st.ref)),Mt=null==e?void 0:e.payload.docs.find(Dt=>Dt.ref.isEqual(st.ref));vt&&JSON.stringify(vt.doc.metadata)===JSON.stringify(st.metadata)||!vt&&Mt&&JSON.stringify(Mt.metadata)===JSON.stringify(st.metadata)||U.push({type:"modified",payload:{oldIndex:gt,newIndex:gt,type:"modified",doc:st}})}),U}))}function Fw(i,t,e){return pf(i,e).pipe((0,Og.R)((s,A)=>function(i,t,e){return t.forEach(s=>{e.indexOf(s.type)>-1&&(i=function(i,t){switch(t.type){case"added":if(!i[t.newIndex]||!i[t.newIndex].doc.ref.isEqual(t.doc.ref))return jv(i,t.newIndex,0,t);break;case"modified":if(null==i[t.oldIndex]||i[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=i.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return jv(i,t.newIndex,1,t)}break;case"removed":if(i[t.oldIndex]&&i[t.oldIndex].doc.ref.isEqual(t.doc.ref))return jv(i,t.oldIndex,1)}return i}(i,s))}),i}(s,A.map(U=>U.payload),t),[]),(0,m.x)(),(0,D.U)(s=>s.map(A=>({type:A.type,payload:A}))))}function jv(i,t,e,...s){const A=i.slice();return A.splice(t,e,...s),A}function zw(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Gw{constructor(t,e,s){this.ref=t,this.query=e,this.afs=s}stateChanges(t){let e=pf(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,D.U)(s=>s.filter(A=>t.indexOf(A.type)>-1)))),e.pipe((0,p.O)(void 0),Ig(),(0,M.h)(([s,A])=>A.length>0||!s),(0,D.U)(([s,A])=>A),Ue.iC)}auditTrail(t){return this.stateChanges(t).pipe((0,Og.R)((e,s)=>[...e,...s],[]))}snapshotChanges(t){const e=zw(t);return Fw(this.query,e,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(t={}){return Nv(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(e=>e.payload.docs.map(s=>t.idField?Object.assign(Object.assign({},s.data()),{[t.idField]:s.id}):s.data())),Ue.iC)}get(t){return(0,Ni.D)(this.query.get(t)).pipe(Ue.iC)}add(t){return this.ref.add(t)}doc(t){return new Uw(this.ref.doc(t),this.afs)}}class Uw{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const s=this.ref.collection(t),{ref:A,query:U}=Vw(s,e);return new Gw(A,U,this.afs)}snapshotChanges(){return function(i,t){return Bw(i,t).pipe((0,p.O)(void 0),Ig(),(0,D.U)(([e,s])=>s.exists?(null==e?void 0:e.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,D.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Ni.D)(this.ref.get(t)).pipe(Ue.iC)}}class vA{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?pf(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(e=>e.filter(s=>t.indexOf(s.type)>-1)),(0,M.h)(e=>e.length>0),Ue.iC):pf(this.query,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}auditTrail(t){return this.stateChanges(t).pipe((0,Og.R)((e,s)=>[...e,...s],[]))}snapshotChanges(t){const e=zw(t);return Fw(this.query,e,this.afs.schedulers.outsideAngular).pipe(Ue.iC)}valueChanges(t={}){return Nv(this.query,this.afs.schedulers.outsideAngular).pipe((0,D.U)(s=>s.payload.docs.map(A=>t.idField?Object.assign({[t.idField]:A.id},A.data()):A.data())),Ue.iC)}get(t){return(0,Ni.D)(this.query.get(t)).pipe(Ue.iC)}}const Hw=new o.OlP("angularfire2.enableFirestorePersistence"),Ww=new o.OlP("angularfire2.firestore.persistenceSettings"),xA=new o.OlP("angularfire2.firestore.settings"),bA=new o.OlP("angularfire2.firestore.use-emulator");function Vw(i,t=(e=>e)){return{query:t(i),ref:i}}let Yw=(()=>{class i{constructor(e,s,A,U,st,gt,vt,Mt,Dt,Ft,Wt,Kt,Jt,he,ce,Ee,ze){this.schedulers=vt;const Ge=(0,li.on)(e,gt,s),Me=Dt;Ft&&jw(Ge,gt,Wt,Jt,he,ce,Kt,Ee),[this.firestore,this.persistenceEnabled$]=(0,li.cc)(`${Ge.name}.firestore`,"AngularFirestore",Ge.name,()=>{const He=gt.runOutsideAngular(()=>Ge.firestore());if(U&&He.settings(U),Me&&He.useEmulator(...Me),A&&!(0,Nt.PM)(st)){const Ri=()=>{try{return(0,Ni.D)(He.enablePersistence(Mt||void 0).then(()=>!0,()=>!1))}catch(Do){return"undefined"!=typeof console&&console.warn(Do),(0,ni.of)(!1)}};return[He,gt.runOutsideAngular(Ri)]}return[He,(0,ni.of)(!1)]},[U,Me,A])}collection(e,s){let A;A="string"==typeof e?this.firestore.collection(e):e;const{ref:U,query:st}=Vw(A,s),gt=this.schedulers.ngZone.run(()=>U);return new Gw(gt,st,this)}collectionGroup(e,s){const A=s||(st=>st),U=this.firestore.collectionGroup(e);return new vA(A(U),this)}doc(e){let s;s="string"==typeof e?this.firestore.doc(e):e;const A=this.schedulers.ngZone.run(()=>s);return new Uw(A,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(li.Dh),o.LFG(li.xv,8),o.LFG(Hw,8),o.LFG(xA,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Ue.HU),o.LFG(Ww,8),o.LFG(bA,8),o.LFG(Rv,8),o.LFG(Iw,8),o.LFG(Ow,8),o.LFG(Dw,8),o.LFG(Lw,8),o.LFG(Rw,8),o.LFG(Nw,8),o.LFG(Zu,8))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),_A=(()=>{class i{constructor(){Pg.Z.registerVersion("angularfire",Ue.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:i,providers:[{provide:Hw,useValue:!0},{provide:Ww,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[Yw]}),i})();function wA(i,t){if(1&i&&(o.TgZ(0,"div"),o._UZ(1,"progress",1),o._uU(2),o.ALo(3,"number"),o.qZA()),2&i){const e=t.ngIf;o.xp6(1),o.Q6J("value",e),o.xp6(1),o.hij(" ",o.lcZ(3,2,e),"%\n")}}function SA(i,t){if(1&i&&(o.TgZ(0,"div"),o._UZ(1,"img",2),o.qZA()),2&i){const e=t.ngIf;o.xp6(1),o.s9C("src",e,o.LSH)}}function CA(i,t){if(1&i&&(o.TgZ(0,"div"),o._uU(1),o.YNc(2,SA,2,1,"div",0),o.qZA()),2&i){const e=t.ngIf,s=o.oxw();o.xp6(1),o.AsE(" ",e.bytesTransferred," of ",e.totalBytes," "),o.xp6(1),o.Q6J("ngIf",s.downloadURL)}}let TA=(()=>{class i{constructor(e,s){this.storage=e,this.db=s,this.photo=new o.vpe,this.pageUrl="",this.folderWay="",this.animals="assets/animalsPictures",this.vets="assets/vetsPhoto",this.volonteers="assets/volonteersPictures"}ngOnInit(){this.startUpload()}chooseUrl(){"/admin/edit-pet"===this.pageUrl?this.folderWay=this.animals:"/admin/edit-vet"===this.pageUrl?this.folderWay=this.vets:"/admin/edit-volonteer"===this.pageUrl&&(this.folderWay=this.volonteers)}startUpload(){var e=this;this.chooseUrl();const s=`${this.folderWay}/${Date.now()}_${this.file.name}`,A=this.storage.ref(s);this.task=this.storage.upload(s,this.file),this.percentage=this.task.percentageChanges(),this.snapshot=this.task.snapshotChanges().pipe((0,nc.x)((0,te.Z)(function*(){e.downloadURL=yield A.getDownloadURL().toPromise(),e.sentFirstComponent(),e.db.collection("files").add({downloadURL:e.downloadURL,path:s})})))}sentFirstComponent(){this.photo.emit(this.downloadURL)}isActive(e){return"running"===e.state&&e.bytesTransferred<e.totalBytes}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(m0),o.Y36(Yw))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-upload-task"]],inputs:{file:"file"},outputs:{photo:"photo"},decls:4,vars:6,consts:[[4,"ngIf"],["max","100",3,"value"],[1,"image",3,"src"]],template:function(e,s){1&e&&(o.YNc(0,wA,4,4,"div",0),o.ALo(1,"async"),o.YNc(2,CA,3,3,"div",0),o.ALo(3,"async")),2&e&&(o.Q6J("ngIf",o.lcZ(1,2,s.percentage)),o.xp6(2),o.Q6J("ngIf",o.lcZ(3,4,s.snapshot)))},directives:[Nt.O5],pipes:[Nt.Ov,Nt.JJ],styles:[".image[_ngcontent-%COMP%]{width:50px;height:50px}"]}),i})();function MA(i,t){if(1&i){const e=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"app-upload-task",2),o.NdJ("photo",function(A){return o.CHM(e),o.oxw().addImage(A)})("link",function(){return o.CHM(e),o.oxw().link}),o.qZA(),o.qZA()}if(2&i){const e=t.$implicit;o.xp6(1),o.Q6J("file",e)}}let Bv=(()=>{class i{constructor(e){this.router=e,this.link=this.router.url,this.files=[],this.test=new o.vpe}toggleHover(e){this.isHovering=e}sentValue(){this.test.emit("value")}onDrop(e){for(let s=0;s<e.length;s++)this.files.push(e.item(s))}addImage(e){this.test.emit(e)}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(mr.F0))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-uploader"]],outputs:{test:"test"},decls:4,vars:3,consts:[["app-dropzone","",1,"dropzone",3,"hovered","dropped"],[4,"ngFor","ngForOf"],[3,"file","photo","link"]],template:function(e,s){1&e&&(o.TgZ(0,"div",0),o.NdJ("hovered",function(U){return s.toggleHover(U)})("dropped",function(U){return s.onDrop(U)}),o.TgZ(1,"p"),o._uU(2,"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0456\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"),o.qZA(),o.qZA(),o.YNc(3,MA,2,1,"div",1)),2&e&&(o.ekj("hovering",s.isHovering),o.xp6(3),o.Q6J("ngForOf",s.files))},directives:[Af,Nt.sg,TA],styles:[".dropzone[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;font-weight:300;border:2px dashed #f16624;border-radius:5px;background:white;margin:10px 0}.dropzone.hovering[_ngcontent-%COMP%]{border:2px solid #f16624;color:#dadada!important}.dropzone[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{font-size:1.2em}progress[_ngcontent-%COMP%]::-webkit-progress-value{-webkit-transition:width .1s ease;transition:width .1s ease}"]}),i})(),kA=(()=>{class i{constructor(e,s,A,U){this.apiServices=e,this.notifierService=s,this.dialogRef=A,this.data=U}onUpdate(e){this.data={id:e.id,image:e.image,name:e.name,shelter_name:e.shelter_name,curator:e.curator,gender:e.gender,breed:e.breed,age:e.age,short_info:e.short_info,behavioral_features:e.behavioral_features,wishes_for_shelter:e.wishes_for_shelter},this.apiServices.putEditAnimal(this.data).subscribe(s=>{this.dialogRef.close(s),this.notifierService.showSuccessNotification("\u0422\u0432\u0430\u0440\u0438\u043d\u043a\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e","Ok")})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Bi.u),o.Y36(Zn.l),o.Y36(Ne.so),o.Y36(Ne.WI))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-pet-update-dialog"]],decls:58,vars:11,consts:[[1,"example-form",3,"ngSubmit"],["f","ngForm"],[1,"admin-pet-dialog"],[1,"modal-wrapper"],[1,"modal-upload-section"],[1,"modal-left-part"],[1,"example-full-width","id-hide"],["matInput","","name","id","ngModel","","type","text","readonly","",3,"ngModel"],["matInput","","name","image","ngModel","",3,"ngModel"],[1,"example-full-width"],["matInput","","name","name","ngModel","","required","",3,"ngModel"],["matInput","","name","breed","ngModel","","required","",3,"ngModel"],["matInput","","name","gender","ngModel","","required","",3,"ngModel"],["matInput","","name","age","ngModel","","required","",3,"ngModel"],["matInput","","name","shelter_name","ngModel","","required","",3,"ngModel"],["matInput","","name","curator","ngModel","","required","",3,"ngModel"],[1,"modal-right-part"],["matInput","","name","short_info","ngModel","","rows","4",3,"ngModel"],["matInput","","name","behavioral_features","ngModel","","rows","4",3,"ngModel"],["matInput","","name","wishes_for_shelter","ngModel","","rows","4",3,"ngModel"],[1,"demo-button-container"],["mat-raised-button","","color","primary",1,"pet-edit_dialog-button"],["type","button","mat-raised-button","","color","warn",3,"click"]],template:function(e,s){if(1&e){const A=o.EpF();o.TgZ(0,"form",0,1),o.NdJ("ngSubmit",function(){o.CHM(A);const st=o.MAs(1);return s.onUpdate(st.value)}),o.TgZ(2,"div",2),o._uU(3,"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0432\u0456\u0434\u043e\u043c\u043e\u0441\u0442\u0456 \u043f\u0440\u043e \u0442\u0432\u0430\u0440\u0438\u043d\u0443"),o.qZA(),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o._UZ(6,"app-uploader"),o.qZA(),o.TgZ(7,"div",5),o.TgZ(8,"mat-form-field",6),o.TgZ(9,"mat-label"),o._uU(10,"ID"),o.qZA(),o._UZ(11,"input",7),o.qZA(),o.TgZ(12,"mat-form-field",6),o.TgZ(13,"mat-label"),o._uU(14,"\u0424\u043e\u0442\u043e"),o.qZA(),o._UZ(15,"input",8),o.qZA(),o.TgZ(16,"mat-form-field",9),o.TgZ(17,"mat-label"),o._uU(18,"\u041d\u0430\u0437\u0432\u0430(\u043a\u043b\u0438\u0447\u043a\u0430)"),o.qZA(),o._UZ(19,"input",10),o.qZA(),o.TgZ(20,"mat-form-field",9),o.TgZ(21,"mat-label"),o._uU(22,"\u041f\u043e\u0440\u043e\u0434\u0430"),o.qZA(),o._UZ(23,"input",11),o.qZA(),o.TgZ(24,"mat-form-field",9),o.TgZ(25,"mat-label"),o._uU(26,"\u0421\u0442\u0430\u0442\u044c"),o.qZA(),o._UZ(27,"input",12),o.qZA(),o.TgZ(28,"mat-form-field",9),o.TgZ(29,"mat-label"),o._uU(30,"\u0412\u0456\u043a"),o.qZA(),o._UZ(31,"input",13),o.qZA(),o.TgZ(32,"mat-form-field",9),o.TgZ(33,"mat-label"),o._uU(34,"\u041f\u0440\u0438\u0442\u0443\u043b\u043e\u043a"),o.qZA(),o._UZ(35,"input",14),o.qZA(),o.TgZ(36,"mat-form-field",9),o.TgZ(37,"mat-label"),o._uU(38,"\u041a\u0443\u0440\u0430\u0442\u043e\u0440"),o.qZA(),o._UZ(39,"input",15),o.qZA(),o.qZA(),o.TgZ(40,"div",16),o.TgZ(41,"mat-form-field",9),o.TgZ(42,"mat-label"),o._uU(43,"\u0406\u0441\u0442\u043e\u0440\u0456\u044f"),o.qZA(),o._UZ(44,"textarea",17),o.qZA(),o.TgZ(45,"mat-form-field",9),o.TgZ(46,"mat-label"),o._uU(47,"\u041f\u043e\u0432\u0430\u0434\u043a\u0438"),o.qZA(),o._UZ(48,"textarea",18),o.qZA(),o.TgZ(49,"mat-form-field",9),o.TgZ(50,"mat-label"),o._uU(51,"\u041f\u043e\u0431\u0430\u0436\u0430\u043d\u043d\u044f \u043f\u0440\u0438 \u0430\u0434\u043e\u043f\u0446\u0456\u0457"),o.qZA(),o._UZ(52,"textarea",19),o.qZA(),o.qZA(),o.qZA(),o.TgZ(53,"div",20),o.TgZ(54,"button",21),o._uU(55,"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"),o.qZA(),o.TgZ(56,"button",22),o.NdJ("click",function(){return s.dialogRef.close(!1)}),o._uU(57,"\u0412\u0456\u0434\u0445\u0438\u043b\u0438\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(11),o.Q6J("ngModel",s.data.id),o.xp6(4),o.Q6J("ngModel",s.data.image),o.xp6(4),o.Q6J("ngModel",s.data.name),o.xp6(4),o.Q6J("ngModel",s.data.breed),o.xp6(4),o.Q6J("ngModel",s.data.gender),o.xp6(4),o.Q6J("ngModel",s.data.age),o.xp6(4),o.Q6J("ngModel",s.data.shelter_name),o.xp6(4),o.Q6J("ngModel",s.data.curator),o.xp6(5),o.Q6J("ngModel",s.data.short_info),o.xp6(4),o.Q6J("ngModel",s.data.behavioral_features),o.xp6(4),o.Q6J("ngModel",s.data.wishes_for_shelter))},directives:[qt._Y,qt.JL,qt.F,Bv,Xe.KE,Xe.hX,pn.Nt,qt.Fj,qt.JJ,qt.On,qt.Q7,N.lW],styles:[".modal-wrapper[_ngcontent-%COMP%]{display:flex;grid-gap:30px;gap:30px}.admin-pet-dialog[_ngcontent-%COMP%]{text-align:center;color:#4788b6;font-weight:700;font-size:25px;margin-bottom:30px}.modal-right-part[_ngcontent-%COMP%], .modal-left-part[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:250px;align-content:space-between}.example-full-width[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{margin-left:5px}.id-hide[_ngcontent-%COMP%]{display:none}.demo-button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;padding:8px 0}"]}),i})();var AA=Xt(7546);function EA(i,t){if(1&i&&(o.TgZ(0,"mat-option",23),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.Q6J("value",e.gender),o.xp6(1),o.Oqu(e.gender)}}function PA(i,t){if(1&i&&(o.TgZ(0,"mat-option",23),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.Q6J("value",e.curator),o.xp6(1),o.Oqu(e.curator)}}function IA(i,t){if(1&i){const e=o.EpF();o.TgZ(0,"form",1,2),o.TgZ(2,"div",3),o._uU(3,"\u0414\u043e\u0434\u0430\u0442\u0438 \u0442\u0432\u0430\u0440\u0438\u043d\u043a\u0443"),o.qZA(),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o.TgZ(6,"app-uploader",6),o.NdJ("test",function(A){return o.CHM(e),o.oxw().addValue(A)}),o.qZA(),o.qZA(),o.TgZ(7,"div",7),o.TgZ(8,"mat-form-field",8),o.TgZ(9,"mat-label"),o._uU(10,"\u041d\u0430\u0437\u0432\u0430(\u043a\u043b\u0438\u0447\u043a\u0430)"),o.qZA(),o._UZ(11,"input",9),o.qZA(),o.TgZ(12,"mat-form-field",8),o.TgZ(13,"mat-label"),o._uU(14,"\u041f\u043e\u0440\u043e\u0434\u0430"),o.qZA(),o._UZ(15,"input",10),o.qZA(),o.TgZ(16,"mat-form-field",8),o.TgZ(17,"mat-label"),o._uU(18,"\u0421\u0442\u0430\u0442\u044c"),o.qZA(),o.TgZ(19,"mat-select",11),o.YNc(20,EA,2,2,"mat-option",12),o.ALo(21,"uniq"),o.qZA(),o.qZA(),o.TgZ(22,"mat-form-field",8),o.TgZ(23,"mat-label"),o._uU(24,"\u0412\u0456\u043a"),o.qZA(),o._UZ(25,"input",13),o.qZA(),o.TgZ(26,"mat-form-field",8),o.TgZ(27,"mat-label"),o._uU(28,"\u041f\u0440\u0438\u0442\u0443\u043b\u043e\u043a"),o.qZA(),o._UZ(29,"input",14),o.qZA(),o.TgZ(30,"mat-form-field",8),o.TgZ(31,"mat-label"),o._uU(32,"\u041a\u0443\u0440\u0430\u0442\u043e\u0440"),o.qZA(),o.TgZ(33,"mat-select",15),o.YNc(34,PA,2,2,"mat-option",12),o.ALo(35,"uniq"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(36,"div",16),o.TgZ(37,"mat-form-field",8),o.TgZ(38,"mat-label"),o._uU(39,"\u0406\u0441\u0442\u043e\u0440\u0456\u044f"),o.qZA(),o._UZ(40,"textarea",17),o.qZA(),o.TgZ(41,"mat-form-field",8),o.TgZ(42,"mat-label"),o._uU(43,"\u041f\u043e\u0432\u0430\u0434\u043a\u0438"),o.qZA(),o._UZ(44,"textarea",18),o.qZA(),o.TgZ(45,"mat-form-field",8),o.TgZ(46,"mat-label"),o._uU(47,"\u041f\u043e\u0431\u0430\u0436\u0430\u043d\u043d\u044f \u043f\u0440\u0438 \u0430\u0434\u043e\u043f\u0446\u0456\u0457"),o.qZA(),o._UZ(48,"textarea",19),o.qZA(),o.qZA(),o.qZA(),o.TgZ(49,"div",20),o.TgZ(50,"button",21),o.NdJ("click",function(){o.CHM(e);const A=o.MAs(1);return o.oxw().onCreateAnimal(A.value)}),o._uU(51,"\u041f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0438"),o.qZA(),o.TgZ(52,"button",22),o.NdJ("click",function(){return o.CHM(e),o.oxw().dialogRef.close(!1)}),o._uU(53,"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),o.qZA(),o.qZA(),o.qZA()}if(2&i){const e=t.ngIf,s=o.MAs(1);o.xp6(20),o.Q6J("ngForOf",o.xi3(21,3,e,"gender")),o.xp6(14),o.Q6J("ngForOf",o.xi3(35,6,e,"curator")),o.xp6(16),o.Q6J("disabled",!s.valid)}}let OA=(()=>{class i{constructor(e,s,A){this.apiServices=e,this.dialogRef=s,this.notifierService=A,this.testLink=""}ngOnInit(){this.petsInfo$=this.apiServices.getAnimalsInfo()}onCreateAnimal(e){this.item={image:this.testLink,name:e.name,shelter_name:e.shelter_name,curator:e.curator,gender:e.gender,breed:e.breed,age:e.age,short_info:e.short_info,behavioral_features:e.behavioral_features,wishes_for_shelter:e.wishes_for_shelter},console.log(this.item.image),this.apiServices.postNewAnimal(this.item).subscribe(s=>{this.dialogRef.close(s),this.notifierService.showSuccessNotification("\u0422\u0432\u0430\u0440\u0438\u043d\u043a\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0434\u0430\u043d\u043e","Ok")})}addValue(e){this.testLink=e}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Bi.u),o.Y36(Ne.so),o.Y36(Zn.l))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-pet-add-dialog"]],decls:3,vars:3,consts:[["class","example-form",4,"ngIf"],[1,"example-form"],["f","ngForm"],[1,"admin-pets-dialog"],[1,"modal-wrapper"],[1,"modal-upload-section"],[3,"test"],[1,"modal-left-section"],[1,"example-full-width"],["matInput","","name","name","ngModel","","required",""],["matInput","","name","breed","ngModel","","required",""],["ngModel","","required","","name","gender"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","age","ngModel","","required",""],["matInput","","name","shelter_name","ngModel","","required",""],["ngModel","","name","curator"],[1,"modal-right-section"],["matInput","","name","short_info","rows","4","ngModel",""],["matInput","","name","behavioral_features","rows","4","ngModel",""],["matInput","","name","wishes_for_shelter","rows","4","ngModel",""],[1,"demo-button-container"],["mat-raised-button","","type","button","color","primary",3,"disabled","click"],["type","button","mat-raised-button","","color","warn",3,"click"],[3,"value"]],template:function(e,s){1&e&&(o.TgZ(0,"section"),o.YNc(1,IA,54,9,"form",0),o.ALo(2,"async"),o.qZA()),2&e&&(o.xp6(1),o.Q6J("ngIf",o.lcZ(2,1,s.petsInfo$)))},directives:[Nt.O5,qt._Y,qt.JL,qt.F,Bv,Xe.KE,Xe.hX,pn.Nt,qt.Fj,qt.JJ,qt.On,qt.Q7,Sr.gD,Nt.sg,N.lW,Y.ey],pipes:[Nt.Ov,AA.v],styles:[".admin-pets-dialog[_ngcontent-%COMP%]{text-align:center;color:#4788b6;font-weight:700;font-size:30px;margin-bottom:30px}.modal-wrapper[_ngcontent-%COMP%]{display:flex;grid-gap:30px;gap:30px}.modal-right-section[_ngcontent-%COMP%], .modal-left-section[_ngcontent-%COMP%], .modal-upload-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;max-width:250px;align-content:space-between}.example-full-width[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{margin-left:5px}.demo-button-container[_ngcontent-%COMP%]{padding:8px 0;display:flex;justify-content:space-evenly}"]}),i})(),DA=(()=>{class i{constructor(e){this.dialogRef=e}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Ne.so))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-pet-delete-dialog"]],decls:7,vars:0,consts:[["mat-dialog-title",""],["align","center"],["type","button","mat-raised-button","","color","primary",3,"click"],["type","button","mat-raised-button","","color","warn",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"h1",0),o._uU(1,"\u0412\u0438 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0443\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f ?"),o.qZA(),o.TgZ(2,"mat-dialog-actions",1),o.TgZ(3,"button",2),o.NdJ("click",function(){return s.dialogRef.close(!0)}),o._uU(4,"\u0422\u0430\u043a"),o.qZA(),o.TgZ(5,"button",3),o.NdJ("click",function(){return s.dialogRef.close(!1)}),o._uU(6,"\u041d\u0456"),o.qZA(),o.qZA())},directives:[Ne.uh,Ne.H8,N.lW],styles:[".mat-dialog-title[_ngcontent-%COMP%]{color:#4788b6}"]}),i})();function LA(i,t){1&i&&(o.TgZ(0,"th",23),o._uU(1,"ID"),o.qZA())}function RA(i,t){if(1&i&&(o.TgZ(0,"td",24),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.Oqu(e.id)}}function NA(i,t){1&i&&(o.TgZ(0,"th",23),o._uU(1,"\u0424\u043e\u0442\u043e"),o.qZA())}function jA(i,t){if(1&i&&(o.TgZ(0,"td",24),o._UZ(1,"img",25),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.s9C("src",e.image,o.LSH)}}function BA(i,t){1&i&&(o.TgZ(0,"th",23),o._uU(1,"\u0406\u043c'\u044f"),o.qZA())}function FA(i,t){if(1&i&&(o.TgZ(0,"td",24),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.Oqu(e.name)}}function zA(i,t){1&i&&(o.TgZ(0,"th",23),o._uU(1,"\u0421\u0442\u0430\u0442\u044c"),o.qZA())}function GA(i,t){if(1&i&&(o.TgZ(0,"td",24),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.Oqu(e.gender)}}function UA(i,t){1&i&&(o.TgZ(0,"th",23),o._uU(1,"\u041f\u043e\u0440\u043e\u0434\u0430"),o.qZA())}function HA(i,t){if(1&i&&(o.TgZ(0,"td",24),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.Oqu(e.breed)}}function WA(i,t){1&i&&(o.TgZ(0,"th",23),o._uU(1,"\u0412\u0456\u043a"),o.qZA())}function VA(i,t){if(1&i&&(o.TgZ(0,"td",24),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.Oqu(e.age)}}function YA(i,t){1&i&&(o.TgZ(0,"th",23),o._uU(1,"\u041a\u0443\u0440\u0430\u0442\u043e\u0440"),o.qZA())}function XA(i,t){if(1&i&&(o.TgZ(0,"td",24),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.Oqu(e.curator)}}function ZA(i,t){1&i&&(o.TgZ(0,"th",26),o._uU(1," \u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 "),o.qZA())}function qA(i,t){if(1&i){const e=o.EpF();o.TgZ(0,"td",24),o.TgZ(1,"button",27),o.NdJ("click",function(){const U=o.CHM(e).$implicit;return o.oxw().onUpdate(U)}),o.TgZ(2,"mat-icon",28),o._uU(3,"edit"),o.qZA(),o.qZA(),o.qZA()}}function $A(i,t){1&i&&(o.TgZ(0,"th",26),o._uU(1," \u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 "),o.qZA())}function KA(i,t){if(1&i){const e=o.EpF();o.TgZ(0,"td",24),o.TgZ(1,"button",29),o.NdJ("click",function(){const U=o.CHM(e).$implicit;return o.oxw().openDeleteDialog(U.id)}),o.TgZ(2,"mat-icon",28),o._uU(3,"delete"),o.qZA(),o.qZA(),o.qZA()}}function QA(i,t){1&i&&o._UZ(0,"tr",30)}function JA(i,t){1&i&&o._UZ(0,"tr",31)}const tE=function(){return[10,25,50,100]};let eE=(()=>{class i{constructor(e,s,A){this.apiServices=e,this.dialog=s,this.notifierService=A,this.displayedColumns=["id","image","name","gender","breed","age","curator","details","delete"],this.dataSource=new dr}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnInit(){this.fetchPets(),this.dataSource.paginator=this.paginator,this.paginator._intl.itemsPerPageLabel="\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043e\u0431'\u0454\u043a\u0442\u0456\u0432 \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456:",this.paginator._intl.nextPageLabel="\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430",this.paginator._intl.previousPageLabel="\u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430",this.paginator._intl.lastPageLabel="\u041e\u0441\u0442\u0430\u043d\u043d\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430",this.paginator._intl.getRangeLabel=(e,s,A)=>{if(0===A||0===s)return"0 \u0437 "+A;const U=e*s;return U+1+" - "+(U<(A=Math.max(A,0))?Math.min(U+s,A):U+s)+" \u0437 "+A}}fetchPets(){this.apiServices.getAnimalsInfo().subscribe(e=>{this.dataSource.data=e})}onUpdate(e){this.dialogRef=this.dialog.open(kA,{disableClose:!0,data:e}),this.dialogRef.afterClosed().subscribe(s=>{if(s){const A=this.dataSource.data.findIndex(st=>st.id===s.id),U=this.dataSource.data;U[A]=s,this.dataSource.data=U}this.dialogRef=null})}openAddDialog(){this.dialogRef=this.dialog.open(OA,{disableClose:!0}),this.dialogRef.afterClosed().subscribe(e=>{e&&(this.dataSource.data=[...this.dataSource.data,e]),this.dialogRef=null})}openDeleteDialog(e){this.dialogRef=this.dialog.open(DA,{disableClose:!0}),this.dialogRef.afterClosed().subscribe(s=>{s&&this.onDelete(e),this.dialogRef=null})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onDelete(e){this.apiServices.deleteAnimal(e).subscribe(s=>{if(s){const A=this.dataSource.data.filter(U=>U.id!==e);this.dataSource.data=A,this.notifierService.showSuccessNotification("\u0422\u0432\u0430\u0440\u0438\u043d\u043a\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043do","Ok")}})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Bi.u),o.Y36(Ne.uw),o.Y36(Zn.l))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-admin-edit-pet"]],viewQuery:function(e,s){if(1&e&&(o.Gf(cs,7),o.Gf(pr,7)),2&e){let A;o.iGM(A=o.CRH())&&(s.paginator=A.first),o.iGM(A=o.CRH())&&(s.sort=A.first)}},decls:41,vars:5,consts:[[1,"main__pet-edit-page"],[1,"form-header__wrapper"],["appearance","standard"],["matInput","","placeholder","\u041f\u043e\u0447\u043d\u0456\u0442\u044c \u043f\u0438\u0441\u0430\u0442\u0438",3,"keyup"],["input",""],["mat-raised-button","","color","primary",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"mat-elevation-z8","demo-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","image"],["matColumnDef","name"],["matColumnDef","gender"],["matColumnDef","breed"],["matColumnDef","age"],["matColumnDef","curator"],["matColumnDef","details"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["alt","animal-img",1,"animal-img",3,"src"],["mat-header-cell",""],["mat-icon-button","","color","primary",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,s){1&e&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"mat-form-field",2),o.TgZ(3,"mat-label"),o._uU(4,"\u041f\u043e\u0448\u0443\u043a"),o.qZA(),o.TgZ(5,"input",3,4),o.NdJ("keyup",function(U){return s.applyFilter(U)}),o.qZA(),o.qZA(),o.TgZ(7,"button",5),o.NdJ("click",function(){return s.openAddDialog()}),o._uU(8,"\u0414\u043e\u0434\u0430\u0442\u0438 \u0422\u0432\u0430\u0440\u0438\u043d\u0443 "),o.qZA(),o.qZA(),o.TgZ(9,"div",6),o.TgZ(10,"table",7),o.ynx(11,8),o.YNc(12,LA,2,0,"th",9),o.YNc(13,RA,2,1,"td",10),o.BQk(),o.ynx(14,11),o.YNc(15,NA,2,0,"th",9),o.YNc(16,jA,2,1,"td",10),o.BQk(),o.ynx(17,12),o.YNc(18,BA,2,0,"th",9),o.YNc(19,FA,2,1,"td",10),o.BQk(),o.ynx(20,13),o.YNc(21,zA,2,0,"th",9),o.YNc(22,GA,2,1,"td",10),o.BQk(),o.ynx(23,14),o.YNc(24,UA,2,0,"th",9),o.YNc(25,HA,2,1,"td",10),o.BQk(),o.ynx(26,15),o.YNc(27,WA,2,0,"th",9),o.YNc(28,VA,2,1,"td",10),o.BQk(),o.ynx(29,16),o.YNc(30,YA,2,0,"th",9),o.YNc(31,XA,2,1,"td",10),o.BQk(),o.ynx(32,17),o.YNc(33,ZA,2,0,"th",18),o.YNc(34,qA,4,0,"td",10),o.BQk(),o.ynx(35,19),o.YNc(36,$A,2,0,"th",18),o.YNc(37,KA,4,0,"td",10),o.BQk(),o.YNc(38,QA,1,0,"tr",20),o.YNc(39,JA,1,0,"tr",21),o.qZA(),o._UZ(40,"mat-paginator",22),o.qZA(),o.qZA()),2&e&&(o.xp6(10),o.Q6J("dataSource",s.dataSource),o.xp6(28),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(1),o.Q6J("pageSizeOptions",o.DdM(4,tE)))},directives:[Xe.KE,Xe.hX,pn.Nt,N.lW,Tn,pr,lr,Un,ar,Lr,hr,cs,Mn,da,Hn,mt.Hw,ns,rs],styles:[".animal-main[_ngcontent-%COMP%]{margin:15px 50px}.example-form[_ngcontent-%COMP%]{margin:40px auto 15px;min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{margin-left:5px}.demo-table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]{background-color:transparent}.mat-row[_ngcontent-%COMP%]:hover{background-color:#4788b6}.mat-header-cell[_ngcontent-%COMP%]{font-weight:bold;color:#d68427}.form-header__wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mat-raised-button[_ngcontent-%COMP%]{width:160px;height:40px;text-transform:uppercase}.animal-img[_ngcontent-%COMP%]{width:50px;height:50px}"]}),i})(),iE=(()=>{class i{constructor(e,s,A,U){this.apiServices=e,this.dialogRef=s,this.notifierService=A,this.data=U}onUpdateVet(e){this.data={id:e.id,title:e.title,adress:e.adress,phone:e.phone,email:e.email,map_link:e.map_link},console.log(this.data),this.apiServices.putUpdateVet(this.data).subscribe(s=>{this.dialogRef.close(s),this.notifierService.showSuccessNotification("\u041a\u043b\u0456\u043d\u0456\u043a\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u043e","Ok")})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Bi.u),o.Y36(Ne.so),o.Y36(Zn.l),o.Y36(Ne.WI))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-vet-update-dialog"]],decls:33,vars:6,consts:[[1,"form__title"],[1,"example-form",3,"ngSubmit"],["f","ngForm"],[1,"example-full-width","id-hide"],["matInput","","name","id","ngModel","","type","text","readonly","",3,"ngModel"],[1,"example-full-width"],["matInput","","name","title","ngModel","","required","","placeholder","title",3,"ngModel"],["matInput","","name","adress","ngModel","","required","","placeholder","adress",3,"ngModel"],["matInput","","name","phone","ngModel","","required","","placeholder","phone",3,"ngModel"],["matInput","","name","email","ngModel","","required","","placeholder","email",3,"ngModel"],["matInput","","name","map_link","ngModel","","required","","placeholder","email",3,"ngModel"],["align","center"],["type","submit","mat-raised-button","","color","primary"],["type","button","mat-raised-button","","color","warn",3,"click"]],template:function(e,s){if(1&e){const A=o.EpF();o.TgZ(0,"h2",0),o._uU(1," \u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0432\u0456\u0434\u043e\u043c\u043e\u0441\u0442\u0456 \u043f\u0440\u043e \u043a\u043b\u0456\u043d\u0456\u043a\u0443"),o.qZA(),o.TgZ(2,"form",1,2),o.NdJ("ngSubmit",function(){o.CHM(A);const st=o.MAs(3);return s.onUpdateVet(st.value)}),o.TgZ(4,"mat-form-field",3),o.TgZ(5,"mat-label"),o._uU(6,"ID"),o.qZA(),o._UZ(7,"input",4),o.qZA(),o.TgZ(8,"mat-form-field",5),o.TgZ(9,"mat-label"),o._uU(10,"\u041d\u0430\u0437\u0432\u0430 \u043a\u043b\u0456\u043d\u0456\u043a\u0438"),o.qZA(),o._UZ(11,"input",6),o.qZA(),o.TgZ(12,"mat-form-field",5),o.TgZ(13,"mat-label"),o._uU(14,"\u0410\u0434\u0440\u0435\u0441\u0430 \u043a\u043b\u0456\u043d\u0456\u043a\u0438"),o.qZA(),o._UZ(15,"input",7),o.qZA(),o.TgZ(16,"mat-form-field",5),o.TgZ(17,"mat-label"),o._uU(18,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u043a\u043b\u0456\u043d\u0456\u043a\u0438"),o.qZA(),o._UZ(19,"input",8),o.qZA(),o.TgZ(20,"mat-form-field",5),o.TgZ(21,"mat-label"),o._uU(22,"E-mail \u043a\u043b\u0456\u043d\u0456\u043a\u0438"),o.qZA(),o._UZ(23,"input",9),o.qZA(),o.TgZ(24,"mat-form-field",5),o.TgZ(25,"mat-label"),o._uU(26,"I-frame google map"),o.qZA(),o._UZ(27,"input",10),o.qZA(),o.TgZ(28,"mat-dialog-actions",11),o.TgZ(29,"button",12),o._uU(30,"\u0417\u043c\u0456\u043d\u0438\u0442\u0438"),o.qZA(),o.TgZ(31,"button",13),o.NdJ("click",function(){return s.dialogRef.close(!1)}),o._uU(32,"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),o.qZA(),o.qZA(),o.qZA()}2&e&&(o.xp6(7),o.Q6J("ngModel",s.data.id),o.xp6(4),o.Q6J("ngModel",s.data.title),o.xp6(4),o.Q6J("ngModel",s.data.adress),o.xp6(4),o.Q6J("ngModel",s.data.phone),o.xp6(4),o.Q6J("ngModel",s.data.email),o.xp6(4),o.Q6J("ngModel",s.data.map_link))},directives:[qt._Y,qt.JL,qt.F,Xe.KE,Xe.hX,pn.Nt,qt.Fj,qt.JJ,qt.On,qt.Q7,Ne.H8,N.lW],styles:[".form__title[_ngcontent-%COMP%]{text-align:center;color:#4788b6;font-weight:700;font-size:30px;margin-bottom:30px}.example-form[_ngcontent-%COMP%]{margin:40px auto 15px;min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{margin-left:5px}.mat-raised-button[_ngcontent-%COMP%]{width:160px;height:40px;text-transform:uppercase;margin-top:20px;margin-right:20px}.id-hide[_ngcontent-%COMP%]{display:none}"]}),i})(),nE=(()=>{class i{constructor(e,s,A,U){this.apiServices=e,this.notifierService=s,this.dialogRef=A,this.data=U}onCreateClinic(e){this.item={title:e.title,adress:e.adress,phone:e.phone,email:e.email,map_link:e.map_link,animal_type:"test"},this.apiServices.postNewClinic(this.item).subscribe(s=>{this.dialogRef.close(s),this.notifierService.showSuccessNotification("\u041a\u043b\u0456\u043d\u0456\u043a\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0434\u0430\u043d\u043e","Ok")})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Bi.u),o.Y36(Zn.l),o.Y36(Ne.so),o.Y36(Ne.WI))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-vet-add-dialog"]],decls:29,vars:1,consts:[[1,"form__title"],[1,"example-form"],["f","ngForm"],[1,"example-full-width"],["matInput","","value","","name","title","ngModel","","required",""],["matInput","","value","","name","adress","ngModel","","required",""],["matInput","","value","","name","phone","ngModel","","pattern","[- +()0-9]{10,}","required",""],["matInput","","type","email","value","gmail@gmail.com","name","email","ngModel","","email","true","required",""],["matInput","","value","","name","map_link","ngModel",""],["align","center"],["mat-raised-button","","color","primary","type","button",3,"disabled","click"],["mat-raised-button","","color","warn","type","button",3,"click"]],template:function(e,s){if(1&e){const A=o.EpF();o.TgZ(0,"h2",0),o._uU(1," \u0414\u043e\u0434\u0430\u0442\u0438 \u043d\u043e\u0432\u0443 \u043a\u043b\u0456\u043d\u0456\u043a\u0443"),o.qZA(),o.TgZ(2,"form",1,2),o.TgZ(4,"mat-form-field",3),o.TgZ(5,"mat-label"),o._uU(6,"\u041d\u0430\u0437\u0432\u0430 \u043a\u043b\u0456\u043d\u0456\u043a\u0438"),o.qZA(),o._UZ(7,"input",4),o.qZA(),o.TgZ(8,"mat-form-field",3),o.TgZ(9,"mat-label"),o._uU(10,"\u0410\u0434\u0440\u0435\u0441\u0430"),o.qZA(),o._UZ(11,"input",5),o.qZA(),o.TgZ(12,"mat-form-field",3),o.TgZ(13,"mat-label"),o._uU(14,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443"),o.qZA(),o._UZ(15,"input",6),o.qZA(),o.TgZ(16,"mat-form-field",3),o.TgZ(17,"mat-label"),o._uU(18,"\u0415\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430 \u043f\u043e\u0448\u0442\u0430"),o.qZA(),o._UZ(19,"input",7),o.qZA(),o.TgZ(20,"mat-form-field",3),o.TgZ(21,"mat-label"),o._uU(22,"I-frame google-\u043a\u0430\u0440\u0442\u0438 \u043a\u043b\u0456\u043d\u0456\u043a\u0438"),o.qZA(),o._UZ(23,"textarea",8),o.qZA(),o.TgZ(24,"mat-dialog-actions",9),o.TgZ(25,"button",10),o.NdJ("click",function(){o.CHM(A);const st=o.MAs(3);return s.onCreateClinic(st.value)}),o._uU(26,"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043b\u0456\u043d\u0456\u043a\u0443"),o.qZA(),o.TgZ(27,"button",11),o.NdJ("click",function(){return s.dialogRef.close(!1)}),o._uU(28,"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),o.qZA(),o.qZA(),o.qZA()}if(2&e){const A=o.MAs(3);o.xp6(25),o.Q6J("disabled",!A.valid)}},directives:[qt._Y,qt.JL,qt.F,Xe.KE,Xe.hX,pn.Nt,qt.Fj,qt.JJ,qt.On,qt.Q7,qt.c5,qt.on,Ne.H8,N.lW],styles:[".example-form[_ngcontent-%COMP%]{margin:40px auto 15px;min-width:150px;max-width:500px;width:100%}.form__title[_ngcontent-%COMP%]{text-align:center;color:#4788b6;font-weight:700;font-size:30px;margin-bottom:30px}.example-full-width[_ngcontent-%COMP%]{width:100%}.mat-raised-button[_ngcontent-%COMP%]{width:160px;height:40px;text-transform:uppercase;margin-top:20px;margin-right:20px}mat-form-field[_ngcontent-%COMP%]{margin-left:5px}"]}),i})(),rE=(()=>{class i{constructor(e,s,A){this.apiServices=e,this.dialogRef=s,this.data=A}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Bi.u),o.Y36(Ne.so),o.Y36(Ne.WI))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-vet-delete-dialog"]],decls:7,vars:0,consts:[["mat-dialog-title",""],["align","center"],["mat-raised-button","","color","primary",3,"click"],["type","button","mat-raised-button","","color","warn",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"h1",0),o._uU(1,"\u0412\u0438 \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0443\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043d\u044f?"),o.qZA(),o.TgZ(2,"mat-dialog-actions",1),o.TgZ(3,"button",2),o.NdJ("click",function(){return s.dialogRef.close(!0)}),o._uU(4,"\u0422\u0430\u043a"),o.qZA(),o.TgZ(5,"button",3),o.NdJ("click",function(){return s.dialogRef.close(!1)}),o._uU(6,"\u041d\u0456"),o.qZA(),o.qZA())},directives:[Ne.uh,Ne.H8,N.lW],styles:[".mat-dialog-title[_ngcontent-%COMP%]{color:#4788b6}"]}),i})();function sE(i,t){1&i&&(o.TgZ(0,"th",20),o._uU(1,"ID"),o.qZA())}function oE(i,t){if(1&i&&(o.TgZ(0,"td",21),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.Oqu(e.id)}}function aE(i,t){1&i&&(o.TgZ(0,"th",20),o._uU(1,"\u041d\u0430\u0437\u0432\u0430 \u043a\u043b\u0456\u043d\u0456\u043a\u0438"),o.qZA())}function lE(i,t){if(1&i&&(o.TgZ(0,"td",21),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.Oqu(e.title)}}function hE(i,t){1&i&&(o.TgZ(0,"th",20),o._uU(1,"\u0410\u0434\u0440\u0435\u0441\u0430"),o.qZA())}function cE(i,t){if(1&i&&(o.TgZ(0,"td",21),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.Oqu(e.adress)}}function dE(i,t){1&i&&(o.TgZ(0,"th",20),o._uU(1,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),o.qZA())}function uE(i,t){if(1&i&&(o.TgZ(0,"td",21),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.Oqu(e.phone)}}function pE(i,t){1&i&&(o.TgZ(0,"th",22),o._uU(1," \u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 "),o.qZA())}function fE(i,t){if(1&i){const e=o.EpF();o.TgZ(0,"td",21),o.TgZ(1,"button",23),o.NdJ("click",function(){const U=o.CHM(e).$implicit;return o.oxw().openDialog(U)}),o.TgZ(2,"mat-icon",24),o._uU(3,"edit"),o.qZA(),o.qZA(),o.qZA()}}function gE(i,t){1&i&&(o.TgZ(0,"th",22),o._uU(1," \u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 "),o.qZA())}function mE(i,t){if(1&i){const e=o.EpF();o.TgZ(0,"td",21),o.TgZ(1,"button",25),o.NdJ("click",function(){const U=o.CHM(e).$implicit;return o.oxw().onOpenDeleteDialog(U.id)}),o.TgZ(2,"mat-icon",24),o._uU(3,"delete"),o.qZA(),o.qZA(),o.qZA()}}function yE(i,t){1&i&&o._UZ(0,"tr",26)}function vE(i,t){1&i&&o._UZ(0,"tr",27)}function xE(i,t){if(1&i&&(o.TgZ(0,"tr",28),o.TgZ(1,"td",29),o._uU(2),o.qZA(),o.qZA()),2&i){o.oxw();const e=o.MAs(6);o.xp6(2),o.hij('No data matching the filter "',e.value,'"')}}const bE=function(){return[10,25,50,100]};let _E=(()=>{class i{constructor(e,s,A){this.apiServices=e,this.dialog=s,this.notifierService=A,this.selectFormControl=new qt.NI("",qt.kI.required),this.displayedColumns=["id","title","adress","phone","details","delete"],this.dataSource=new dr}ngAfterViewInit(){this.dataSource.sort=this.sort}ngOnInit(){this.getVets(),this.dataSource.paginator=this.paginator,this.paginator._intl.itemsPerPageLabel="\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u043e\u0431'\u0454\u043a\u0442\u0456\u0432 \u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u0446\u0456:",this.paginator._intl.nextPageLabel="\u041d\u0430\u0441\u0442\u0443\u043f\u043d\u0430 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430",this.paginator._intl.previousPageLabel="\u041f\u043e\u043f\u0435\u0440\u0435\u0434\u043d\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430",this.paginator._intl.lastPageLabel="\u041e\u0441\u0442\u0430\u043d\u043d\u044f \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0430",this.paginator._intl.getRangeLabel=(e,s,A)=>{if(0===A||0===s)return"0 \u0437 "+A;const U=e*s;return U+1+" - "+(U<(A=Math.max(A,0))?Math.min(U+s,A):U+s)+" \u0437 "+A}}getVets(){this.apiServices.getVetDetails().subscribe(e=>{this.dataSource.data=e})}openDialog(e){this.dialogRef=this.dialog.open(iE,{width:"550px",disableClose:!0,data:e}),this.dialogRef.afterClosed().subscribe(s=>{if(s){const A=this.dataSource.data.findIndex(st=>st.id===s.id),U=this.dataSource.data;U[A]=s,this.dataSource.data=U}this.dialogRef=null})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}onOpenAddDialog(){this.dialogRef=this.dialog.open(nE,{width:"550px",disableClose:!1}),this.dialogRef.afterClosed().subscribe(e=>{e&&(this.dataSource.data=[...this.dataSource.data,e]),this.dialogRef=null})}onOpenDeleteDialog(e){this.dialogRef=this.dialog.open(rE,{disableClose:!0}),this.dialogRef.afterClosed().subscribe(s=>{s&&this.onDeleteClinic(e),this.dialogRef=null})}onDeleteClinic(e){this.apiServices.deleteClinic(e).subscribe(s=>{if(s){const A=this.dataSource.data.filter(U=>U.id!==e);this.dataSource.data=A,this.notifierService.showSuccessNotification("\u041a\u043b\u0456\u043d\u0456\u043a\u0443 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043do","Ok")}})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Bi.u),o.Y36(Ne.uw),o.Y36(Zn.l))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-admin-edit-vet"]],viewQuery:function(e,s){if(1&e&&(o.Gf(cs,7),o.Gf(pr,7)),2&e){let A;o.iGM(A=o.CRH())&&(s.paginator=A.first),o.iGM(A=o.CRH())&&(s.sort=A.first)}},decls:33,vars:5,consts:[[1,"main__vet-edit-page"],[1,"form-header__wrapper"],["appearance","standard"],["matInput","","placeholder","",3,"keyup"],["input",""],["mat-raised-button","","color","primary",3,"click"],["mat-table","","matSort","",1,"mat-elevation-z8","demo-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","adress"],["matColumnDef","phone"],["matColumnDef","details"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){1&e&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"mat-form-field",2),o.TgZ(3,"mat-label"),o._uU(4,"\u041f\u043e\u0448\u0443\u043a"),o.qZA(),o.TgZ(5,"input",3,4),o.NdJ("keyup",function(U){return s.applyFilter(U)}),o.qZA(),o.qZA(),o.TgZ(7,"button",5),o.NdJ("click",function(){return s.onOpenAddDialog()}),o._uU(8,"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043b\u0456\u043d\u0456\u043a\u0443"),o.qZA(),o.qZA(),o.TgZ(9,"table",6),o.ynx(10,7),o.YNc(11,sE,2,0,"th",8),o.YNc(12,oE,2,1,"td",9),o.BQk(),o.ynx(13,10),o.YNc(14,aE,2,0,"th",8),o.YNc(15,lE,2,1,"td",9),o.BQk(),o.ynx(16,11),o.YNc(17,hE,2,0,"th",8),o.YNc(18,cE,2,1,"td",9),o.BQk(),o.ynx(19,12),o.YNc(20,dE,2,0,"th",8),o.YNc(21,uE,2,1,"td",9),o.BQk(),o.ynx(22,13),o.YNc(23,pE,2,0,"th",14),o.YNc(24,fE,4,0,"td",9),o.BQk(),o.ynx(25,15),o.YNc(26,gE,2,0,"th",14),o.YNc(27,mE,4,0,"td",9),o.BQk(),o.YNc(28,yE,1,0,"tr",16),o.YNc(29,vE,1,0,"tr",17),o.YNc(30,xE,3,1,"tr",18),o.qZA(),o._UZ(31,"mat-paginator",19),o._UZ(32,"app-uploader"),o.qZA()),2&e&&(o.xp6(9),o.Q6J("dataSource",s.dataSource),o.xp6(19),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(4,bE)))},directives:[Xe.KE,Xe.hX,pn.Nt,N.lW,Tn,pr,lr,Un,ar,Lr,hr,cr,cs,Bv,Mn,da,Hn,mt.Hw,ns,rs],styles:[".example-form[_ngcontent-%COMP%]{margin:40px auto 15px;width:100%}.form-header__wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.example-full-width[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{padding-right:8px}.mat-raised-button[_ngcontent-%COMP%]{width:160px;height:40px;text-transform:uppercase}mat-form-field[_ngcontent-%COMP%]{margin-left:5px}.demo-table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]{background-color:transparent}.mat-row[_ngcontent-%COMP%]:hover{background-color:#4788b6}.mat-header-cell[_ngcontent-%COMP%]{font-weight:bold;color:#d68427}.mat-paginator[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;border-color:gray;border-collapse:separate}"]}),i})();var Xw=Xt(2924);let wE=(()=>{class i{constructor(e,s){this.loginService=e,this.router=s}canActivate(e,s){return this.loginService.isAuthenticated()?(0,ni.of)(!0):(this.router.navigate([""]),(0,ni.of)(!1))}canActivateChild(e,s){return this.canActivate(e,s)}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(Xw.r),o.LFG(mr.F0))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function SE(i,t){1&i&&(o.TgZ(0,"mat-error"),o._uU(1,"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0456 \u0441\u0438\u043c\u0432\u043e\u043b\u0438 \u0430-\u042f"),o.qZA())}function CE(i,t){1&i&&(o.TgZ(0,"mat-error"),o._uU(1,"\u0426\u0435 \u043f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435"),o.qZA())}function TE(i,t){1&i&&(o.TgZ(0,"mat-error"),o._uU(1,"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u0456 \u0441\u0438\u043c\u0432\u043e\u043b\u0438 \u0430-\u042f"),o.qZA())}function ME(i,t){1&i&&(o.TgZ(0,"mat-error"),o._uU(1,"\u0426\u0435 \u043f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435"),o.qZA())}function kE(i,t){1&i&&(o.TgZ(0,"mat-error"),o._uU(1,"\u041d\u0435\u0432\u0456\u0440\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442"),o.qZA())}function AE(i,t){1&i&&(o.TgZ(0,"mat-error"),o._uU(1,"\u0426\u0435 \u043f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435"),o.qZA())}let Zw=(()=>{class i{constructor(e,s,A,U){this.service=e,this.apiService=s,this.dialogRef=A,this.notifier=U}onClear(){this.service.form.reset(),this.service.initializeFormGroup(),this.notifier.showInfoNotification("\u0414\u0430\u043d\u0456 \u0437 \u0444\u043e\u0440\u043c\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e!","\u041e\u043a!")}onSubmit(){this.service.form.valid&&(this.service.form.get("id").value?this.service.updateVolunteer(this.service.form.value).subscribe(e=>{this.dialogRef.close(e),this.notifier.showSuccessNotification("\u0414\u0430\u043d\u0456 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0434\u0430\u043d\u0456!","\u0427\u0443\u0434\u043e\u0432\u043e!")}):this.apiService.postNewVolunteer({first_name:this.service.form.value.first_name,last_name:this.service.form.value.last_name,email:this.service.form.value.email,number:this.service.form.value.number}).subscribe(e=>{this.dialogRef.close(e),this.notifier.showSuccessNotification("\u0412\u043e\u043b\u043e\u043d\u0442\u0435\u0440 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0434\u043e\u0434\u0430\u043d\u0438\u0439","OK")}))}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(fo),o.Y36(Bi.u),o.Y36(Ne.so),o.Y36(Zn.l))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-volunteers-add-dialog"]],decls:33,vars:10,consts:[[1,"normal-form",3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"admin-voluntiers-dialog"],["cols","2","rowHeight","300px"],[1,"controles-container"],["type","hidden","formControlName","id"],["formControlName","first_name","matInput","","placeholder","\u0406\u043c'\u044f"],[4,"ngIf"],["formControlName","last_name","matInput","","placeholder","\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435"],["formControlName","email","matInput","","placeholder","Email","type","email"],["formControlName","number","matInput","","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443"],[1,"button-row"],["mat-raised-button","","color","primary","type","submit",1,"addVolunteerBtn",3,"disabled"],["mat-raised-button","","color","warn","type","reset",3,"click"],["mat-raised-button","","color","basic","type","button",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return s.onSubmit()}),o.TgZ(1,"div",1),o.TgZ(2,"span",2),o._uU(3),o.qZA(),o.qZA(),o.TgZ(4,"mat-grid-list",3),o.TgZ(5,"mat-grid-tile"),o.TgZ(6,"div",4),o._UZ(7,"input",5),o.TgZ(8,"mat-form-field"),o._UZ(9,"input",6),o.YNc(10,SE,2,0,"mat-error",7),o.YNc(11,CE,2,0,"mat-error",7),o.qZA(),o.TgZ(12,"mat-form-field"),o._UZ(13,"input",8),o.YNc(14,TE,2,0,"mat-error",7),o.YNc(15,ME,2,0,"mat-error",7),o.qZA(),o.qZA(),o.qZA(),o.TgZ(16,"mat-grid-tile"),o.TgZ(17,"div",4),o.TgZ(18,"mat-form-field"),o._UZ(19,"input",9),o.TgZ(20,"mat-error"),o._uU(21,"\u041d\u0435\u0432\u0456\u0440\u043d\u043e \u0432\u043a\u0430\u0437\u0430\u043d\u0438\u0439 email"),o.qZA(),o.qZA(),o.TgZ(22,"mat-form-field"),o._UZ(23,"input",10),o.YNc(24,kE,2,0,"mat-error",7),o.YNc(25,AE,2,0,"mat-error",7),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(26,"div",11),o.TgZ(27,"button",12),o._uU(28),o.qZA(),o.TgZ(29,"button",13),o.NdJ("click",function(){return s.onClear()}),o._uU(30,"\u041e\u0447\u0438\u0442\u0438\u0442\u0438"),o.qZA(),o.TgZ(31,"button",14),o.NdJ("click",function(){return s.dialogRef.close(!1)}),o._uU(32,"C\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438"),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.Q6J("formGroup",s.service.form),o.xp6(3),o.Oqu(s.service.form.controls.id.value?"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0432\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0430":"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0430"),o.xp6(7),o.Q6J("ngIf",s.service.form.controls.first_name.hasError("pattern")),o.xp6(1),o.Q6J("ngIf",s.service.form.controls.first_name.hasError("required")),o.xp6(3),o.Q6J("ngIf",s.service.form.controls.last_name.hasError("pattern")),o.xp6(1),o.Q6J("ngIf",s.service.form.controls.last_name.hasError("required")),o.xp6(9),o.Q6J("ngIf",s.service.form.controls.number.hasError("pattern")),o.xp6(1),o.Q6J("ngIf",s.service.form.controls.number.hasError("required")),o.xp6(2),o.Q6J("disabled",s.service.form.invalid),o.xp6(1),o.Oqu(s.service.form.controls.id.value?"\u0417\u043c\u0456\u043d\u0438\u0442\u0438 \u0432\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0430":"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0430"))},directives:[qt._Y,qt.JL,qt.sg,Vt,ft,qt.Fj,qt.JJ,qt.u,Xe.KE,pn.Nt,Nt.O5,Xe.TO,N.lW],styles:[".controles-container[_ngcontent-%COMP%]{width:100%;padding:5%}.controles-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:15px}.button-row[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.modal-header[_ngcontent-%COMP%]{text-align:center}.admin-voluntiers-dialog[_ngcontent-%COMP%]{color:#4788b6;font-weight:700;font-size:30px;margin-bottom:30px}mat-form-field[_ngcontent-%COMP%]{margin-bottom:20px}.closeBtn[_ngcontent-%COMP%]{display:flex;justify-content:end;color:#4788b6;margin-bottom:15px;border:none}.mat-stroked-button[_ngcontent-%COMP%]{border:currentColor}"]}),i})(),EE=(()=>{class i{constructor(e){this.dialogRef=e}onCloseDialog(){this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Ne.so))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-volunteers-delete-dialog"]],decls:12,vars:0,consts:[[1,"content-container"],["id","close-icon",3,"click"],[1,"span-wrapper"],[1,"content-span","full-width"],[1,"btn-wrapper"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"div"),o.TgZ(1,"div",0),o.TgZ(2,"mat-icon",1),o.NdJ("click",function(){return s.onCloseDialog()}),o._uU(3,"close"),o.qZA(),o.qZA(),o.TgZ(4,"div",2),o.TgZ(5,"span",3),o._uU(6,"\u0412\u0438 \u0434\u0456\u0439\u0441\u043d\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u0434\u0430\u043d\u043e\u0433\u043e \u0432\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0430?"),o.qZA(),o.qZA(),o.TgZ(7,"div",4),o.TgZ(8,"button",5),o.NdJ("click",function(){return s.dialogRef.close(!0)}),o._uU(9,"\u0422\u0430\u043a"),o.qZA(),o.TgZ(10,"button",6),o.NdJ("click",function(){return s.dialogRef.close(!1)}),o._uU(11,"\u042f \u043f\u0435\u0440\u0435\u0434\u0443\u043c\u0430\u0432"),o.qZA(),o.qZA(),o.qZA())},directives:[mt.Hw,N.lW],styles:[".content-container[_ngcontent-%COMP%]{margin:5px 5px 10px;color:#4788b6;display:flex;justify-content:end}button[_ngcontent-%COMP%]{margin-right:15px}.span-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;color:#4788b6;font-weight:700;font-size:20px;margin-bottom:40px}.btn-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}#close-icon[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),i})(),PE=(()=>{class i{constructor(e,s,A){this.dialog=e,this.service=s,this.apiService=A}openConfirmDialog(){return this.dialog.open(Zw,{width:"500px",disableClose:!0})}openDeleteDialog(e){return this.dialogRef=this.dialog.open(EE,{width:"550px",autoFocus:!0,disableClose:!0})}}return i.\u0275fac=function(e){return new(e||i)(o.LFG(Ne.uw),o.LFG(fo),o.LFG(Bi.u))},i.\u0275prov=o.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function IE(i,t){1&i&&(o.TgZ(0,"th",22),o._uU(1," ID "),o.qZA())}function OE(i,t){if(1&i&&(o.TgZ(0,"td",23),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.hij(" ",e.id," ")}}function DE(i,t){1&i&&(o.TgZ(0,"th",22),o._uU(1," \u0406\u043c'\u044f "),o.qZA())}function LE(i,t){if(1&i&&(o.TgZ(0,"td",23),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.hij(" ",e.first_name," ")}}function RE(i,t){1&i&&(o.TgZ(0,"th",22),o._uU(1," \u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435 "),o.qZA())}function NE(i,t){if(1&i&&(o.TgZ(0,"td",23),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.hij(" ",e.last_name," ")}}function jE(i,t){1&i&&(o.TgZ(0,"th",22),o._uU(1," Email "),o.qZA())}function BE(i,t){if(1&i&&(o.TgZ(0,"td",23),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.hij(" ",e.email," ")}}function FE(i,t){1&i&&(o.TgZ(0,"th",22),o._uU(1," \u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443 "),o.qZA())}function zE(i,t){if(1&i&&(o.TgZ(0,"td",23),o._uU(1),o.qZA()),2&i){const e=t.$implicit;o.xp6(1),o.hij(" ",e.number," ")}}function GE(i,t){1&i&&(o.TgZ(0,"th",24),o._uU(1," \u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 "),o.qZA())}function UE(i,t){if(1&i){const e=o.EpF();o.TgZ(0,"td",23),o.TgZ(1,"button",25),o.NdJ("click",function(){const U=o.CHM(e).$implicit;return o.oxw().onEdit(U)}),o.TgZ(2,"mat-icon",26),o._uU(3,"edit"),o.qZA(),o.qZA(),o.qZA()}}function HE(i,t){1&i&&(o.TgZ(0,"th",24),o._uU(1," \u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 "),o.qZA())}function WE(i,t){if(1&i){const e=o.EpF();o.TgZ(0,"td",23),o.TgZ(1,"button",27),o.NdJ("click",function(){const U=o.CHM(e).$implicit;return o.oxw().openDeleteDialog(U.id)}),o.TgZ(2,"mat-icon",26),o._uU(3,"delete"),o.qZA(),o.qZA(),o.qZA()}}function VE(i,t){1&i&&o._UZ(0,"tr",28)}function YE(i,t){1&i&&o._UZ(0,"tr",29)}function XE(i,t){1&i&&(o.TgZ(0,"tr",30),o.TgZ(1,"td",31),o._uU(2,"\u0417\u0430\u0447\u0435\u043a\u0430\u0439\u0442\u0435, \u043c\u0456\u043d\u044c\u0439\u043e\u043d\u0438 \u0440\u043e\u0431\u043b\u044f\u0442\u044c \u0441\u0432\u043e\u044e \u0440\u043e\u0431\u043e\u0442\u0443 ....."),o.qZA(),o.qZA())}const ZE=function(){return[10,25,100]};let qE=(()=>{class i{constructor(e,s,A,U,st){this.apiServices=e,this.dialog=s,this.service=A,this.matDialog=U,this.notifierService=st,this.displayedColumns=["id","first_name","second_name","email","number","edit","delete"],this.dataSource=new dr}ngOnInit(){this.getVolonteers()}getVolonteers(){this.apiServices.getVolonteersInfo().subscribe(e=>{this.dataSource.data=e})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openConfirmDialog(){this.dialog.openConfirmDialog().afterClosed().subscribe(e=>{e&&(this.dataSource.data=[...this.dataSource.data,e])})}openDeleteDialog(e){this.dialog.openDeleteDialog(e).afterClosed().subscribe(s=>{s&&this.apiServices.deleteVolunteer(e).subscribe(A=>{if(A){const U=this.dataSource.data.filter(st=>st.id!==e);this.dataSource.data=U,this.notifierService.showSuccessNotification("\u0412\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0430 \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0432\u0438\u0434\u0430\u043b\u0435\u043do","Ok")}}),this.dialogRef=null})}onEdit(e){this.service.populateForm(e),this.matDialog.open(Zw,{width:"500px",disableClose:!0}).afterClosed().subscribe(s=>{const A=this.dataSource.data.findIndex(st=>st.id===s.id),U=this.dataSource.data;U[A]=s,this.dataSource.data=U})}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Bi.u),o.Y36(PE),o.Y36(fo),o.Y36(Ne.uw),o.Y36(Zn.l))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-admin-edit-volunteer"]],viewQuery:function(e,s){if(1&e&&(o.Gf(cs,5),o.Gf(pr,5)),2&e){let A;o.iGM(A=o.CRH())&&(s.paginator=A.first),o.iGM(A=o.CRH())&&(s.sort=A.first)}},decls:36,vars:5,consts:[[1,"main__volonteer-edit-page"],[1,"form-header__wrapper"],["appearance","standard"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],["mat-raised-button","","color","primary",1,"volunteers_btn",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","first_name"],["matColumnDef","second_name"],["matColumnDef","email"],["matColumnDef","number"],["matColumnDef","edit"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","delete"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary",3,"click"],[1,"mat-18"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,s){1&e&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"mat-form-field",2),o.TgZ(3,"mat-label"),o._uU(4,"\u041f\u043e\u0448\u0443\u043a"),o.qZA(),o.TgZ(5,"input",3,4),o.NdJ("keyup",function(U){return s.applyFilter(U)}),o.qZA(),o.qZA(),o.TgZ(7,"button",5),o.NdJ("click",function(){return s.openConfirmDialog()}),o._uU(8,"\u0414\u043e\u0434\u0430\u0442\u0438 \u0432\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0430"),o.qZA(),o.qZA(),o.TgZ(9,"div",6),o.TgZ(10,"table",7),o.ynx(11,8),o.YNc(12,IE,2,0,"th",9),o.YNc(13,OE,2,1,"td",10),o.BQk(),o.ynx(14,11),o.YNc(15,DE,2,0,"th",9),o.YNc(16,LE,2,1,"td",10),o.BQk(),o.ynx(17,12),o.YNc(18,RE,2,0,"th",9),o.YNc(19,NE,2,1,"td",10),o.BQk(),o.ynx(20,13),o.YNc(21,jE,2,0,"th",9),o.YNc(22,BE,2,1,"td",10),o.BQk(),o.ynx(23,14),o.YNc(24,FE,2,0,"th",9),o.YNc(25,zE,2,1,"td",10),o.BQk(),o.ynx(26,15),o.YNc(27,GE,2,0,"th",16),o.YNc(28,UE,4,0,"td",10),o.BQk(),o.ynx(29,17),o.YNc(30,HE,2,0,"th",16),o.YNc(31,WE,4,0,"td",10),o.BQk(),o.YNc(32,VE,1,0,"tr",18),o.YNc(33,YE,1,0,"tr",19),o.YNc(34,XE,3,0,"tr",20),o.qZA(),o._UZ(35,"mat-paginator",21),o.qZA(),o.qZA()),2&e&&(o.xp6(10),o.Q6J("dataSource",s.dataSource),o.xp6(22),o.Q6J("matHeaderRowDef",s.displayedColumns),o.xp6(1),o.Q6J("matRowDefColumns",s.displayedColumns),o.xp6(2),o.Q6J("pageSizeOptions",o.DdM(4,ZE)))},directives:[Xe.KE,Xe.hX,pn.Nt,N.lW,Tn,pr,lr,Un,ar,Lr,hr,cr,cs,Mn,da,Hn,mt.Hw,ns,rs],styles:[".main__volonteer-edit-page[_ngcontent-%COMP%]{margin:15px 50px}table[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]{font-size:14px}.form-header__wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.mat-row[_ngcontent-%COMP%]{background-color:transparent}.mat-row[_ngcontent-%COMP%]:hover{background-color:#4788b6;cursor:pointer}.volunteers_btn[_ngcontent-%COMP%]{width:170px;height:40px;text-transform:uppercase}.mat-header-cell[_ngcontent-%COMP%]{color:#d68427}"]}),i})(),$E=(()=>{class i{constructor(e,s){this.loginService=e,this.route=s}logOut(){this.loginService.logout(),this.route.navigate([""])}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Xw.r),o.Y36(mr.F0))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-logout-modal"]],decls:8,vars:0,consts:[["mat-dialog-title","","align","center"],["mat-dialog-actions","","align","center"],["mat-button","","mat-dialog-close","",3,"click"],["mat-button","","mat-dialog-close",""]],template:function(e,s){1&e&&(o.TgZ(0,"mat-dialog-content"),o.TgZ(1,"h1",0),o._uU(2,"\u0412\u0438 \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0439\u0442\u0438?"),o.qZA(),o.TgZ(3,"div",1),o.TgZ(4,"button",2),o.NdJ("click",function(){return s.logOut()}),o._uU(5,"\u0412\u0438\u0439\u0442\u0438"),o.qZA(),o.TgZ(6,"button",3),o._uU(7,"\u041d\u0430\u0437\u0430\u0434"),o.qZA(),o.qZA(),o.qZA())},directives:[Ne.xY,Ne.uh,Ne.H8,N.lW,Ne.ZT],styles:[".mat-button[_ngcontent-%COMP%]{border:1px solid #4788b6;border-radius:3px;color:#4788b6}.mat-button[_ngcontent-%COMP%]:hover{color:#d68427;border-color:#d68427;cursor:pointer;background-color:#60b4f034}mat-dialog-content[_ngcontent-%COMP%]{min-width:200px;min-height:120px}"]}),i})(),KE=(()=>{class i{constructor(e){this.dialog=e}openDialog(){this.dialog.open($E)}}return i.\u0275fac=function(e){return new(e||i)(o.Y36(Ne.uw))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-admin-nav"]],decls:25,vars:0,consts:[[1,"profile-card"],[1,"header"],["src","https://firebasestorage.googleapis.com/v0/b/vetspets.appspot.com/o/assets%2Flogo.svg?alt=media&token=45e70bed-7041-4e8f-8ee4-fe061123a28d","alt","Admin_logo"],["matSubheader",""],["mat-list-item","","routerLink","/admin/statistic"],["mat-list-item","","routerLink","/admin/edit-vet"],["mat-list-item","","routerLink","/admin/edit-pet"],["mat-list-item","","routerLink","/admin/edit-volonteer"],["mat-button","",1,"button-exit",3,"click"]],template:function(e,s){1&e&&(o.TgZ(0,"mat-nav-list"),o.TgZ(1,"div",0),o.TgZ(2,"div",1),o.TgZ(3,"h2"),o._uU(4,"ADMIN"),o.qZA(),o.TgZ(5,"h4"),o._uU(6,"admin@gmail.com"),o.qZA(),o.qZA(),o._UZ(7,"img",2),o.qZA(),o._UZ(8,"mat-divider"),o.TgZ(9,"h2",3),o._uU(10,"\u041d\u0430\u043b\u0430\u0448\u0442\u0443\u0432\u0430\u043d\u043d\u044f \u0441\u0430\u0439\u0442\u0443"),o.qZA(),o.TgZ(11,"a",4),o._uU(12,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),o.qZA(),o.TgZ(13,"a",5),o._uU(14,"\u041a\u043b\u0456\u043d\u0456\u043a\u0438"),o.qZA(),o.TgZ(15,"a",6),o._uU(16,"\u0422\u0432\u0430\u0440\u0438\u043d\u0438"),o.qZA(),o.TgZ(17,"a",7),o._uU(18,"\u0412\u043e\u043b\u043e\u043d\u0442\u0435\u0440\u0438"),o.qZA(),o._UZ(19,"mat-divider"),o._UZ(20,"h2",3),o.TgZ(21,"button",8),o.NdJ("click",function(){return s.openDialog()}),o.TgZ(22,"mat-icon"),o._uU(23,"exit_to_app"),o.qZA(),o._uU(24," \u0412\u0438\u0439\u0442\u0438 "),o.qZA(),o.qZA())},directives:[_t.Hk,eu.d,_t.gs,_t.Tg,mr.yS,N.lW,mt.Hw],styles:["[_nghost-%COMP%]   .profile-card[_ngcontent-%COMP%]{text-align:center;padding:0 20px 20px}[_nghost-%COMP%]   .profile-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px;object-fit:cover;border-radius:50%;background-color:#4788b6}[_nghost-%COMP%]   .button-exit[_ngcontent-%COMP%]{position:absolute;margin-left:auto;margin-right:auto;left:0;right:0}[_nghost-%COMP%]   .button-exit[_ngcontent-%COMP%]:hover{background-color:#92999f}"]}),i})();const QE=[{path:"",canActivate:[wE],component:(()=>{class i{constructor(){this.sideBarOpen=!0}sideBarToggler(){this.sideBarOpen=!this.sideBarOpen}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-admin-layout"]],decls:5,vars:1,consts:[["mode","side",3,"opened"]],template:function(e,s){1&e&&(o.TgZ(0,"mat-drawer-container"),o.TgZ(1,"mat-drawer",0),o._UZ(2,"app-admin-nav"),o.qZA(),o.TgZ(3,"mat-drawer-content"),o._UZ(4,"router-outlet"),o.qZA(),o.qZA()),2&e&&(o.xp6(1),o.Q6J("opened",s.sideBarOpen))},directives:[Z,V,KE,R,mr.lC],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}mat-drawer[_ngcontent-%COMP%]{width:350px}mat-drawer-container[_ngcontent-%COMP%]{margin-top:70px;height:100%}mat-drawer-content[_ngcontent-%COMP%]{padding:20px}"]}),i})(),children:[{path:"statistic",component:kf},{path:"edit-vet",component:_E},{path:"edit-pet",component:eE},{path:"edit-volonteer",component:qE},{path:"",redirectTo:"statistic",pathMatch:"full"}]}];let JE=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[mr.Bz.forChild(QE)],mr.Bz]}),i})();const tP={apiKey:"AIzaSyAUFTnQgrubVLr8znSDf13S6VBdaF7hHs8",authDomain:"vetspets.firebaseapp.com",databaseURL:"gs://vetspets.appspot.com/",projectId:"vetspets",storageBucket:"vetspets.appspot.com",messagingSenderId:"742536551070",appId:"1:742536551070:web:0ecc6c241f4b37deb8b98f",measurementId:"G-PZ8DRF4ECJ"};let eP=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({providers:[{provide:gr,useFactory:()=>[Fr,jl]},Bi.u,fo],imports:[[Nt.ez,JE,wt.xu,F,N.ot,at,mt.Ps,_t.ie,ie,ne.QW,fi,pn.c,Sr.LD,qt.UX,ss,pl,Xe.lN,Ne.Is,qt.u5,ea,aa,Nl,vn,li.hO.initializeApp(tP),_A,pA,aS,xt.m]]}),i})()},6293:(we,_e,Xt)=>{"use strict";Xt.d(_e,{Z:()=>k});var Nt=Xt(4213),qt=Xt(1177),wt=Xt(1572),o=Xt(3855);class Y{constructor(d,v){this._delegate=d,this.firebase=v,(0,wt._addComponent)(d,new qt.wA("app-compat",()=>this,"PUBLIC")),this.container=d.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(d){this._delegate.automaticDataCollectionEnabled=d}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(d=>{this._delegate.checkDestroyed(),d()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,wt.deleteApp)(this._delegate)))}_getService(d,v=wt._DEFAULT_ENTRY_NAME){var _;this._delegate.checkDestroyed();const T=this._delegate.container.getProvider(d);return!T.isInitialized()&&"EXPLICIT"===(null===(_=T.getComponent())||void 0===_?void 0:_.instantiationMode)&&T.initialize(),T.getImmediate({identifier:v})}_removeServiceInstance(d,v=wt._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(d).clearInstance(v)}_addComponent(d){(0,wt._addComponent)(this._delegate,d)}_addOrOverwriteComponent(d){(0,wt._addOrOverwriteComponent)(this._delegate,d)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const q=new Nt.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function J(){const g=function(g){const d={},v={__esModule:!0,initializeApp:function(x,f={}){const m=wt.initializeApp(x,f);if((0,Nt.r3)(d,m.name))return d[m.name];const r=new g(m,v);return d[m.name]=r,r},app:T,registerVersion:wt.registerVersion,setLogLevel:wt.setLogLevel,onLog:wt.onLog,apps:null,SDK_VERSION:wt.SDK_VERSION,INTERNAL:{registerComponent:function(x){const f=x.name,m=f.replace("-compat","");if(wt._registerComponent(x)&&"PUBLIC"===x.type){const r=(p=T())=>{if("function"!=typeof p[m])throw q.create("invalid-app-argument",{appName:f});return p[m]()};void 0!==x.serviceProps&&(0,Nt.ZB)(r,x.serviceProps),v[m]=r,g.prototype[m]=function(...p){return this._getService.bind(this,f).apply(this,x.multipleInstances?p:[])}}return"PUBLIC"===x.type?v[m]:null},removeApp:function(x){delete d[x]},useAsService:function(x,f){return"serverAuth"===f?null:f},modularAPIs:wt}};function T(x){if(!(0,Nt.r3)(d,x=x||wt._DEFAULT_ENTRY_NAME))throw q.create("no-app",{appName:x});return d[x]}return v.default=v,Object.defineProperty(v,"apps",{get:function(){return Object.keys(d).map(x=>d[x])}}),T.App=g,v}(Y);return g.INTERNAL=Object.assign(Object.assign({},g.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function(v){(0,Nt.ZB)(g,v)},createSubscribe:Nt.ne,ErrorFactory:Nt.LL,deepExtend:Nt.ZB}),g}(),X=new o.Yd("@firebase/app-compat");if((0,Nt.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const k=K;(0,wt.registerVersion)("@firebase/app-compat","0.1.18",undefined)},1572:(we,_e,Xt)=>{"use strict";Xt.r(_e),Xt.d(_e,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>R,_DEFAULT_ENTRY_NAME:()=>P,_addComponent:()=>B,_addOrOverwriteComponent:()=>c,_apps:()=>L,_clearComponents:()=>G,_components:()=>S,_getProvider:()=>E,_registerComponent:()=>u,_removeServiceInstance:()=>j,deleteApp:()=>it,getApp:()=>Z,getApps:()=>nt,initializeApp:()=>V,onLog:()=>mt,registerVersion:()=>at,setLogLevel:()=>_t});var Nt=Xt(4553),qt=Xt(1177),wt=Xt(3855),o=Xt(4213);class Y{constructor(ct){this.container=ct}getPlatformInfoString(){return this.container.getProviders().map(H=>{if(function(ut){const ct=ut.getComponent();return"VERSION"===(null==ct?void 0:ct.type)}(H)){const tt=H.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(H=>H).join(" ")}}const q="@firebase/app",J=new wt.Yd("@firebase/app"),P="[DEFAULT]",I={[q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},L=new Map,S=new Map;function B(ut,ct){try{ut.container.addComponent(ct)}catch(H){J.debug(`Component ${ct.name} failed to register with FirebaseApp ${ut.name}`,H)}}function c(ut,ct){ut.container.addOrOverwriteComponent(ct)}function u(ut){const ct=ut.name;if(S.has(ct))return J.debug(`There were multiple attempts to register component ${ct}.`),!1;S.set(ct,ut);for(const H of L.values())B(H,ut);return!0}function E(ut,ct){return ut.container.getProvider(ct)}function j(ut,ct,H=P){E(ut,ct).clearInstance(H)}function G(){S.clear()}const b=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class z{constructor(ct,H,tt){this._isDeleted=!1,this._options=Object.assign({},ct),this._config=Object.assign({},H),this._name=H.name,this._automaticDataCollectionEnabled=H.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new qt.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ct){this._isDeleted=ct}checkDestroyed(){if(this.isDeleted)throw b.create("app-deleted",{appName:this._name})}}const R="9.6.7";function V(ut,ct={}){"object"!=typeof ct&&(ct={name:ct});const H=Object.assign({name:P,automaticDataCollectionEnabled:!1},ct),tt=H.name;if("string"!=typeof tt||!tt)throw b.create("bad-app-name",{appName:String(tt)});const lt=L.get(tt);if(lt){if((0,o.vZ)(ut,lt.options)&&(0,o.vZ)(H,lt.config))return lt;throw b.create("duplicate-app",{appName:tt})}const dt=new qt.H0(tt);for(const bt of S.values())dt.addComponent(bt);const ft=new z(ut,H,dt);return L.set(tt,ft),ft}function Z(ut=P){const ct=L.get(ut);if(!ct)throw b.create("no-app",{appName:ut});return ct}function nt(){return Array.from(L.values())}function it(ut){return ot.apply(this,arguments)}function ot(){return(ot=(0,Nt.Z)(function*(ut){const ct=ut.name;L.has(ct)&&(L.delete(ct),yield Promise.all(ut.container.getProviders().map(H=>H.delete())),ut.isDeleted=!0)})).apply(this,arguments)}function at(ut,ct,H){var tt;let lt=null!==(tt=I[ut])&&void 0!==tt?tt:ut;H&&(lt+=`-${H}`);const dt=lt.match(/\s|\//),ft=ct.match(/\s|\//);if(dt||ft){const bt=[`Unable to register library "${lt}" with version "${ct}":`];return dt&&bt.push(`library name "${lt}" contains illegal characters (whitespace or "/")`),dt&&ft&&bt.push("and"),ft&&bt.push(`version name "${ct}" contains illegal characters (whitespace or "/")`),void J.warn(bt.join(" "))}u(new qt.wA(`${lt}-version`,()=>({library:lt,version:ct}),"VERSION"))}function mt(ut,ct){if(null!==ut&&"function"!=typeof ut)throw b.create("invalid-log-argument");(0,wt.Am)(ut,ct)}function _t(ut){(0,wt.Ub)(ut)}u(new qt.wA("platform-logger",ct=>new Y(ct),"PRIVATE")),at(q,"0.7.17",""),at(q,"0.7.17","esm2017"),at("fire-js","")},1177:(we,_e,Xt)=>{"use strict";Xt.d(_e,{wA:()=>wt,H0:()=>rt});var Nt=Xt(4553),qt=Xt(4213);class wt{constructor(K,X,F){this.name=K,this.instanceFactory=X,this.type=F,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const o="[DEFAULT]";class Y{constructor(K,X){this.name=K,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const X=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(X)){const F=new qt.BH;if(this.instancesDeferred.set(X,F),this.isInitialized(X)||this.shouldAutoInitialize())try{const N=this.getOrInitializeService({instanceIdentifier:X});N&&F.resolve(N)}catch(N){}}return this.instancesDeferred.get(X).promise}getImmediate(K){var X;const F=this.normalizeInstanceIdentifier(null==K?void 0:K.identifier),N=null!==(X=null==K?void 0:K.optional)&&void 0!==X&&X;if(!this.isInitialized(F)&&!this.shouldAutoInitialize()){if(N)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:F})}catch(O){if(N)return null;throw O}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if("EAGER"===K.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:o})}catch(X){}for(const[X,F]of this.instancesDeferred.entries()){const N=this.normalizeInstanceIdentifier(X);try{const O=this.getOrInitializeService({instanceIdentifier:N});F.resolve(O)}catch(O){}}}}clearInstance(K=o){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,Nt.Z)(function*(){const X=Array.from(K.instances.values());yield Promise.all([...X.filter(F=>"INTERNAL"in F).map(F=>F.INTERNAL.delete()),...X.filter(F=>"_delete"in F).map(F=>F._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=o){return this.instances.has(K)}getOptions(K=o){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:X={}}=K,F=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(F))throw Error(`${this.name}(${F}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const N=this.getOrInitializeService({instanceIdentifier:F,options:X});for(const[O,k]of this.instancesDeferred.entries())F===this.normalizeInstanceIdentifier(O)&&k.resolve(N);return N}onInit(K,X){var F;const N=this.normalizeInstanceIdentifier(X),O=null!==(F=this.onInitCallbacks.get(N))&&void 0!==F?F:new Set;O.add(K),this.onInitCallbacks.set(N,O);const k=this.instances.get(N);return k&&K(k,N),()=>{O.delete(K)}}invokeOnInitCallbacks(K,X){const F=this.onInitCallbacks.get(X);if(F)for(const N of F)try{N(K,X)}catch(O){}}getOrInitializeService({instanceIdentifier:K,options:X={}}){let F=this.instances.get(K);if(!F&&this.component&&(F=this.component.instanceFactory(this.container,{instanceIdentifier:(J=K,J===o?void 0:J),options:X}),this.instances.set(K,F),this.instancesOptions.set(K,X),this.invokeOnInitCallbacks(F,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,F)}catch(N){}var J;return F||null}normalizeInstanceIdentifier(K=o){return this.component?this.component.multipleInstances?K:o:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rt{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const X=this.getProvider(K.name);if(X.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);X.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const X=new Y(K,this);return this.providers.set(K,X),X}getProviders(){return Array.from(this.providers.values())}}},3855:(we,_e,Xt)=>{"use strict";Xt.d(_e,{in:()=>qt,Yd:()=>q,Ub:()=>rt,Am:()=>J});const Nt=[];var qt=(()=>{return(K=qt||(qt={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",qt;var K})();const wt={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},o=qt.INFO,Y={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},$=(K,X,...F)=>{if(X<K.logLevel)return;const N=(new Date).toISOString(),O=Y[X];if(!O)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[O](`[${N}]  ${K.name}:`,...F)};class q{constructor(X){this.name=X,this._logLevel=o,this._logHandler=$,this._userLogHandler=null,Nt.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in qt))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?wt[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...X),this._logHandler(this,qt.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...X),this._logHandler(this,qt.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...X),this._logHandler(this,qt.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...X),this._logHandler(this,qt.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...X),this._logHandler(this,qt.ERROR,...X)}}function rt(K){Nt.forEach(X=>{X.setLogLevel(K)})}function J(K,X){for(const F of Nt){let N=null;X&&X.level&&(N=wt[X.level]),F.userLogHandler=null===K?null:(O,k,...g)=>{const d=g.map(v=>{if(null==v)return null;if("string"==typeof v)return v;if("number"==typeof v||"boolean"==typeof v)return v.toString();if(v instanceof Error)return v.message;try{return JSON.stringify(v)}catch(_){return null}}).filter(v=>v).join(" ");k>=(null!=N?N:O.logLevel)&&K({level:qt[k].toLowerCase(),message:d,args:g,type:O.name})}}}},4553:(we,_e,Xt)=>{"use strict";function Nt(wt,o,Y,$,q,rt,J){try{var K=wt[rt](J),X=K.value}catch(F){return void Y(F)}K.done?o(X):Promise.resolve(X).then($,q)}function qt(wt){return function(){var o=this,Y=arguments;return new Promise(function($,q){var rt=wt.apply(o,Y);function J(X){Nt(rt,$,q,J,K,"next",X)}function K(X){Nt(rt,$,q,J,K,"throw",X)}J(void 0)})}}Xt.d(_e,{Z:()=>qt})}}]);